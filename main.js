(()=>{var e={4914:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var s=Object.getOwnPropertyDescriptor(t,r);s&&!("get"in s?!t.__esModule:s.writable||s.configurable)||(s={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,s)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),s=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&n(t,e,r);return s(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.issue=t.issueCommand=void 0;const i=o(r(857)),a=r(302);function c(e,t,r){const n=new l(e,t,r);process.stdout.write(n.toString()+i.EOL)}t.issueCommand=c,t.issue=function(e,t=""){c(e,{},t)};class l{constructor(e,t,r){e||(e="missing.command"),this.command=e,this.properties=t,this.message=r}toString(){let e="::"+this.command;if(this.properties&&Object.keys(this.properties).length>0){e+=" ";let t=!0;for(const r in this.properties)if(this.properties.hasOwnProperty(r)){const n=this.properties[r];n&&(t?t=!1:e+=",",e+=`${r}=${d(n)}`)}}var t;return e+=`::${t=this.message,(0,a.toCommandValue)(t).replace(/%/g,"%25").replace(/\r/g,"%0D").replace(/\n/g,"%0A")}`,e}}function d(e){return(0,a.toCommandValue)(e).replace(/%/g,"%25").replace(/\r/g,"%0D").replace(/\n/g,"%0A").replace(/:/g,"%3A").replace(/,/g,"%2C")}},7484:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var s=Object.getOwnPropertyDescriptor(t,r);s&&!("get"in s?!t.__esModule:s.writable||s.configurable)||(s={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,s)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),s=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&n(t,e,r);return s(t,e),t},i=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))(function(s,o){function i(e){try{c(n.next(e))}catch(e){o(e)}}function a(e){try{c(n.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?s(e.value):(t=e.value,t instanceof r?t:new r(function(e){e(t)})).then(i,a)}c((n=n.apply(e,t||[])).next())})};Object.defineProperty(t,"__esModule",{value:!0}),t.platform=t.toPlatformPath=t.toWin32Path=t.toPosixPath=t.markdownSummary=t.summary=t.getIDToken=t.getState=t.saveState=t.group=t.endGroup=t.startGroup=t.info=t.notice=t.warning=t.error=t.debug=t.isDebug=t.setFailed=t.setCommandEcho=t.setOutput=t.getBooleanInput=t.getMultilineInput=t.getInput=t.addPath=t.setSecret=t.exportVariable=t.ExitCode=void 0;const a=r(4914),c=r(4753),l=r(302),d=o(r(857)),u=o(r(6928)),p=r(5306);var h;function f(e,t){const r=process.env[`INPUT_${e.replace(/ /g,"_").toUpperCase()}`]||"";if(t&&t.required&&!r)throw new Error(`Input required and not supplied: ${e}`);return t&&!1===t.trimWhitespace?r:r.trim()}function m(e,t={}){(0,a.issueCommand)("error",(0,l.toCommandProperties)(t),e instanceof Error?e.toString():e)}function g(e){(0,a.issue)("group",e)}function y(){(0,a.issue)("endgroup")}!function(e){e[e.Success=0]="Success",e[e.Failure=1]="Failure"}(h||(t.ExitCode=h={})),t.exportVariable=function(e,t){const r=(0,l.toCommandValue)(t);if(process.env[e]=r,process.env.GITHUB_ENV||"")return(0,c.issueFileCommand)("ENV",(0,c.prepareKeyValueMessage)(e,t));(0,a.issueCommand)("set-env",{name:e},r)},t.setSecret=function(e){(0,a.issueCommand)("add-mask",{},e)},t.addPath=function(e){process.env.GITHUB_PATH||""?(0,c.issueFileCommand)("PATH",e):(0,a.issueCommand)("add-path",{},e),process.env.PATH=`${e}${u.delimiter}${process.env.PATH}`},t.getInput=f,t.getMultilineInput=function(e,t){const r=f(e,t).split("\n").filter(e=>""!==e);return t&&!1===t.trimWhitespace?r:r.map(e=>e.trim())},t.getBooleanInput=function(e,t){const r=f(e,t);if(["true","True","TRUE"].includes(r))return!0;if(["false","False","FALSE"].includes(r))return!1;throw new TypeError(`Input does not meet YAML 1.2 "Core Schema" specification: ${e}\nSupport boolean input list: \`true | True | TRUE | false | False | FALSE\``)},t.setOutput=function(e,t){if(process.env.GITHUB_OUTPUT||"")return(0,c.issueFileCommand)("OUTPUT",(0,c.prepareKeyValueMessage)(e,t));process.stdout.write(d.EOL),(0,a.issueCommand)("set-output",{name:e},(0,l.toCommandValue)(t))},t.setCommandEcho=function(e){(0,a.issue)("echo",e?"on":"off")},t.setFailed=function(e){process.exitCode=h.Failure,m(e)},t.isDebug=function(){return"1"===process.env.RUNNER_DEBUG},t.debug=function(e){(0,a.issueCommand)("debug",{},e)},t.error=m,t.warning=function(e,t={}){(0,a.issueCommand)("warning",(0,l.toCommandProperties)(t),e instanceof Error?e.toString():e)},t.notice=function(e,t={}){(0,a.issueCommand)("notice",(0,l.toCommandProperties)(t),e instanceof Error?e.toString():e)},t.info=function(e){process.stdout.write(e+d.EOL)},t.startGroup=g,t.endGroup=y,t.group=function(e,t){return i(this,void 0,void 0,function*(){let r;g(e);try{r=yield t()}finally{y()}return r})},t.saveState=function(e,t){if(process.env.GITHUB_STATE||"")return(0,c.issueFileCommand)("STATE",(0,c.prepareKeyValueMessage)(e,t));(0,a.issueCommand)("save-state",{name:e},(0,l.toCommandValue)(t))},t.getState=function(e){return process.env[`STATE_${e}`]||""},t.getIDToken=function(e){return i(this,void 0,void 0,function*(){return yield p.OidcClient.getIDToken(e)})};var b=r(1847);Object.defineProperty(t,"summary",{enumerable:!0,get:function(){return b.summary}});var v=r(1847);Object.defineProperty(t,"markdownSummary",{enumerable:!0,get:function(){return v.markdownSummary}});var _=r(1976);Object.defineProperty(t,"toPosixPath",{enumerable:!0,get:function(){return _.toPosixPath}}),Object.defineProperty(t,"toWin32Path",{enumerable:!0,get:function(){return _.toWin32Path}}),Object.defineProperty(t,"toPlatformPath",{enumerable:!0,get:function(){return _.toPlatformPath}}),t.platform=o(r(8968))},4753:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var s=Object.getOwnPropertyDescriptor(t,r);s&&!("get"in s?!t.__esModule:s.writable||s.configurable)||(s={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,s)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),s=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&n(t,e,r);return s(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.prepareKeyValueMessage=t.issueFileCommand=void 0;const i=o(r(6982)),a=o(r(9896)),c=o(r(857)),l=r(302);t.issueFileCommand=function(e,t){const r=process.env[`GITHUB_${e}`];if(!r)throw new Error(`Unable to find environment variable for file command ${e}`);if(!a.existsSync(r))throw new Error(`Missing file at path: ${r}`);a.appendFileSync(r,`${(0,l.toCommandValue)(t)}${c.EOL}`,{encoding:"utf8"})},t.prepareKeyValueMessage=function(e,t){const r=`ghadelimiter_${i.randomUUID()}`,n=(0,l.toCommandValue)(t);if(e.includes(r))throw new Error(`Unexpected input: name should not contain the delimiter "${r}"`);if(n.includes(r))throw new Error(`Unexpected input: value should not contain the delimiter "${r}"`);return`${e}<<${r}${c.EOL}${n}${c.EOL}${r}`}},5306:function(e,t,r){"use strict";var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))(function(s,o){function i(e){try{c(n.next(e))}catch(e){o(e)}}function a(e){try{c(n.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?s(e.value):(t=e.value,t instanceof r?t:new r(function(e){e(t)})).then(i,a)}c((n=n.apply(e,t||[])).next())})};Object.defineProperty(t,"__esModule",{value:!0}),t.OidcClient=void 0;const s=r(4844),o=r(4552),i=r(7484);class a{static createHttpClient(e=!0,t=10){const r={allowRetries:e,maxRetries:t};return new s.HttpClient("actions/oidc-client",[new o.BearerCredentialHandler(a.getRequestToken())],r)}static getRequestToken(){const e=process.env.ACTIONS_ID_TOKEN_REQUEST_TOKEN;if(!e)throw new Error("Unable to get ACTIONS_ID_TOKEN_REQUEST_TOKEN env variable");return e}static getIDTokenUrl(){const e=process.env.ACTIONS_ID_TOKEN_REQUEST_URL;if(!e)throw new Error("Unable to get ACTIONS_ID_TOKEN_REQUEST_URL env variable");return e}static getCall(e){var t;return n(this,void 0,void 0,function*(){const r=a.createHttpClient(),n=yield r.getJson(e).catch(e=>{throw new Error(`Failed to get ID Token. \n \n        Error Code : ${e.statusCode}\n \n        Error Message: ${e.message}`)}),s=null===(t=n.result)||void 0===t?void 0:t.value;if(!s)throw new Error("Response json body do not have ID Token field");return s})}static getIDToken(e){return n(this,void 0,void 0,function*(){try{let t=a.getIDTokenUrl();if(e){t=`${t}&audience=${encodeURIComponent(e)}`}(0,i.debug)(`ID token url is ${t}`);const r=yield a.getCall(t);return(0,i.setSecret)(r),r}catch(e){throw new Error(`Error message: ${e.message}`)}})}}t.OidcClient=a},1976:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var s=Object.getOwnPropertyDescriptor(t,r);s&&!("get"in s?!t.__esModule:s.writable||s.configurable)||(s={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,s)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),s=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&n(t,e,r);return s(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.toPlatformPath=t.toWin32Path=t.toPosixPath=void 0;const i=o(r(6928));t.toPosixPath=function(e){return e.replace(/[\\]/g,"/")},t.toWin32Path=function(e){return e.replace(/[/]/g,"\\")},t.toPlatformPath=function(e){return e.replace(/[/\\]/g,i.sep)}},8968:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var s=Object.getOwnPropertyDescriptor(t,r);s&&!("get"in s?!t.__esModule:s.writable||s.configurable)||(s={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,s)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),s=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&n(t,e,r);return s(t,e),t},i=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))(function(s,o){function i(e){try{c(n.next(e))}catch(e){o(e)}}function a(e){try{c(n.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?s(e.value):(t=e.value,t instanceof r?t:new r(function(e){e(t)})).then(i,a)}c((n=n.apply(e,t||[])).next())})},a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.getDetails=t.isLinux=t.isMacOS=t.isWindows=t.arch=t.platform=void 0;const c=a(r(857)),l=o(r(5236));t.platform=c.default.platform(),t.arch=c.default.arch(),t.isWindows="win32"===t.platform,t.isMacOS="darwin"===t.platform,t.isLinux="linux"===t.platform,t.getDetails=function(){return i(this,void 0,void 0,function*(){return Object.assign(Object.assign({},yield t.isWindows?i(void 0,void 0,void 0,function*(){const{stdout:e}=yield l.getExecOutput('powershell -command "(Get-CimInstance -ClassName Win32_OperatingSystem).Version"',void 0,{silent:!0}),{stdout:t}=yield l.getExecOutput('powershell -command "(Get-CimInstance -ClassName Win32_OperatingSystem).Caption"',void 0,{silent:!0});return{name:t.trim(),version:e.trim()}}):t.isMacOS?i(void 0,void 0,void 0,function*(){var e,t,r,n;const{stdout:s}=yield l.getExecOutput("sw_vers",void 0,{silent:!0}),o=null!==(t=null===(e=s.match(/ProductVersion:\s*(.+)/))||void 0===e?void 0:e[1])&&void 0!==t?t:"";return{name:null!==(n=null===(r=s.match(/ProductName:\s*(.+)/))||void 0===r?void 0:r[1])&&void 0!==n?n:"",version:o}}):i(void 0,void 0,void 0,function*(){const{stdout:e}=yield l.getExecOutput("lsb_release",["-i","-r","-s"],{silent:!0}),[t,r]=e.trim().split("\n");return{name:t,version:r}})),{platform:t.platform,arch:t.arch,isWindows:t.isWindows,isMacOS:t.isMacOS,isLinux:t.isLinux})})}},1847:function(e,t,r){"use strict";var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))(function(s,o){function i(e){try{c(n.next(e))}catch(e){o(e)}}function a(e){try{c(n.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?s(e.value):(t=e.value,t instanceof r?t:new r(function(e){e(t)})).then(i,a)}c((n=n.apply(e,t||[])).next())})};Object.defineProperty(t,"__esModule",{value:!0}),t.summary=t.markdownSummary=t.SUMMARY_DOCS_URL=t.SUMMARY_ENV_VAR=void 0;const s=r(857),o=r(9896),{access:i,appendFile:a,writeFile:c}=o.promises;t.SUMMARY_ENV_VAR="GITHUB_STEP_SUMMARY",t.SUMMARY_DOCS_URL="https://docs.github.com/actions/using-workflows/workflow-commands-for-github-actions#adding-a-job-summary";const l=new class{constructor(){this._buffer=""}filePath(){return n(this,void 0,void 0,function*(){if(this._filePath)return this._filePath;const e=process.env[t.SUMMARY_ENV_VAR];if(!e)throw new Error(`Unable to find environment variable for $${t.SUMMARY_ENV_VAR}. Check if your runtime environment supports job summaries.`);try{yield i(e,o.constants.R_OK|o.constants.W_OK)}catch(t){throw new Error(`Unable to access summary file: '${e}'. Check if the file has correct read/write permissions.`)}return this._filePath=e,this._filePath})}wrap(e,t,r={}){const n=Object.entries(r).map(([e,t])=>` ${e}="${t}"`).join("");return t?`<${e}${n}>${t}</${e}>`:`<${e}${n}>`}write(e){return n(this,void 0,void 0,function*(){const t=!!(null==e?void 0:e.overwrite),r=yield this.filePath(),n=t?c:a;return yield n(r,this._buffer,{encoding:"utf8"}),this.emptyBuffer()})}clear(){return n(this,void 0,void 0,function*(){return this.emptyBuffer().write({overwrite:!0})})}stringify(){return this._buffer}isEmptyBuffer(){return 0===this._buffer.length}emptyBuffer(){return this._buffer="",this}addRaw(e,t=!1){return this._buffer+=e,t?this.addEOL():this}addEOL(){return this.addRaw(s.EOL)}addCodeBlock(e,t){const r=Object.assign({},t&&{lang:t}),n=this.wrap("pre",this.wrap("code",e),r);return this.addRaw(n).addEOL()}addList(e,t=!1){const r=t?"ol":"ul",n=e.map(e=>this.wrap("li",e)).join(""),s=this.wrap(r,n);return this.addRaw(s).addEOL()}addTable(e){const t=e.map(e=>{const t=e.map(e=>{if("string"==typeof e)return this.wrap("td",e);const{header:t,data:r,colspan:n,rowspan:s}=e,o=t?"th":"td",i=Object.assign(Object.assign({},n&&{colspan:n}),s&&{rowspan:s});return this.wrap(o,r,i)}).join("");return this.wrap("tr",t)}).join(""),r=this.wrap("table",t);return this.addRaw(r).addEOL()}addDetails(e,t){const r=this.wrap("details",this.wrap("summary",e)+t);return this.addRaw(r).addEOL()}addImage(e,t,r){const{width:n,height:s}=r||{},o=Object.assign(Object.assign({},n&&{width:n}),s&&{height:s}),i=this.wrap("img",null,Object.assign({src:e,alt:t},o));return this.addRaw(i).addEOL()}addHeading(e,t){const r=`h${t}`,n=["h1","h2","h3","h4","h5","h6"].includes(r)?r:"h1",s=this.wrap(n,e);return this.addRaw(s).addEOL()}addSeparator(){const e=this.wrap("hr",null);return this.addRaw(e).addEOL()}addBreak(){const e=this.wrap("br",null);return this.addRaw(e).addEOL()}addQuote(e,t){const r=Object.assign({},t&&{cite:t}),n=this.wrap("blockquote",e,r);return this.addRaw(n).addEOL()}addLink(e,t){const r=this.wrap("a",e,{href:t});return this.addRaw(r).addEOL()}};t.markdownSummary=l,t.summary=l},302:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.toCommandProperties=t.toCommandValue=void 0,t.toCommandValue=function(e){return null==e?"":"string"==typeof e||e instanceof String?e:JSON.stringify(e)},t.toCommandProperties=function(e){return Object.keys(e).length?{title:e.title,file:e.file,line:e.startLine,endLine:e.endLine,col:e.startColumn,endColumn:e.endColumn}:{}}},5236:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),s=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.hasOwnProperty.call(e,r)&&n(t,e,r);return s(t,e),t},i=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))(function(s,o){function i(e){try{c(n.next(e))}catch(e){o(e)}}function a(e){try{c(n.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?s(e.value):(t=e.value,t instanceof r?t:new r(function(e){e(t)})).then(i,a)}c((n=n.apply(e,t||[])).next())})};Object.defineProperty(t,"__esModule",{value:!0}),t.getExecOutput=t.exec=void 0;const a=r(3193),c=o(r(6665));function l(e,t,r){return i(this,void 0,void 0,function*(){const n=c.argStringToArray(e);if(0===n.length)throw new Error("Parameter 'commandLine' cannot be null or empty.");const s=n[0];t=n.slice(1).concat(t||[]);return new c.ToolRunner(s,t,r).exec()})}t.exec=l,t.getExecOutput=function(e,t,r){var n,s;return i(this,void 0,void 0,function*(){let o="",i="";const c=new a.StringDecoder("utf8"),d=new a.StringDecoder("utf8"),u=null===(n=null==r?void 0:r.listeners)||void 0===n?void 0:n.stdout,p=null===(s=null==r?void 0:r.listeners)||void 0===s?void 0:s.stderr,h=Object.assign(Object.assign({},null==r?void 0:r.listeners),{stdout:e=>{o+=c.write(e),u&&u(e)},stderr:e=>{i+=d.write(e),p&&p(e)}}),f=yield l(e,t,Object.assign(Object.assign({},r),{listeners:h}));return o+=c.end(),i+=d.end(),{exitCode:f,stdout:o,stderr:i}})}},6665:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),s=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.hasOwnProperty.call(e,r)&&n(t,e,r);return s(t,e),t},i=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))(function(s,o){function i(e){try{c(n.next(e))}catch(e){o(e)}}function a(e){try{c(n.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?s(e.value):(t=e.value,t instanceof r?t:new r(function(e){e(t)})).then(i,a)}c((n=n.apply(e,t||[])).next())})};Object.defineProperty(t,"__esModule",{value:!0}),t.argStringToArray=t.ToolRunner=void 0;const a=o(r(857)),c=o(r(4434)),l=o(r(5317)),d=o(r(6928)),u=o(r(4994)),p=o(r(5207)),h=r(3557),f="win32"===process.platform;class m extends c.EventEmitter{constructor(e,t,r){if(super(),!e)throw new Error("Parameter 'toolPath' cannot be null or empty.");this.toolPath=e,this.args=t||[],this.options=r||{}}_debug(e){this.options.listeners&&this.options.listeners.debug&&this.options.listeners.debug(e)}_getCommandString(e,t){const r=this._getSpawnFileName(),n=this._getSpawnArgs(e);let s=t?"":"[command]";if(f)if(this._isCmdFile()){s+=r;for(const e of n)s+=` ${e}`}else if(e.windowsVerbatimArguments){s+=`"${r}"`;for(const e of n)s+=` ${e}`}else{s+=this._windowsQuoteCmdArg(r);for(const e of n)s+=` ${this._windowsQuoteCmdArg(e)}`}else{s+=r;for(const e of n)s+=` ${e}`}return s}_processLineBuffer(e,t,r){try{let n=t+e.toString(),s=n.indexOf(a.EOL);for(;s>-1;){r(n.substring(0,s)),n=n.substring(s+a.EOL.length),s=n.indexOf(a.EOL)}return n}catch(e){return this._debug(`error processing line. Failed with error ${e}`),""}}_getSpawnFileName(){return f&&this._isCmdFile()?process.env.COMSPEC||"cmd.exe":this.toolPath}_getSpawnArgs(e){if(f&&this._isCmdFile()){let t=`/D /S /C "${this._windowsQuoteCmdArg(this.toolPath)}`;for(const r of this.args)t+=" ",t+=e.windowsVerbatimArguments?r:this._windowsQuoteCmdArg(r);return t+='"',[t]}return this.args}_endsWith(e,t){return e.endsWith(t)}_isCmdFile(){const e=this.toolPath.toUpperCase();return this._endsWith(e,".CMD")||this._endsWith(e,".BAT")}_windowsQuoteCmdArg(e){if(!this._isCmdFile())return this._uvQuoteCmdArg(e);if(!e)return'""';const t=[" ","\t","&","(",")","[","]","{","}","^","=",";","!","'","+",",","`","~","|","<",">",'"'];let r=!1;for(const n of e)if(t.some(e=>e===n)){r=!0;break}if(!r)return e;let n='"',s=!0;for(let t=e.length;t>0;t--)n+=e[t-1],s&&"\\"===e[t-1]?n+="\\":'"'===e[t-1]?(s=!0,n+='"'):s=!1;return n+='"',n.split("").reverse().join("")}_uvQuoteCmdArg(e){if(!e)return'""';if(!e.includes(" ")&&!e.includes("\t")&&!e.includes('"'))return e;if(!e.includes('"')&&!e.includes("\\"))return`"${e}"`;let t='"',r=!0;for(let n=e.length;n>0;n--)t+=e[n-1],r&&"\\"===e[n-1]?t+="\\":'"'===e[n-1]?(r=!0,t+="\\"):r=!1;return t+='"',t.split("").reverse().join("")}_cloneExecOptions(e){const t={cwd:(e=e||{}).cwd||process.cwd(),env:e.env||process.env,silent:e.silent||!1,windowsVerbatimArguments:e.windowsVerbatimArguments||!1,failOnStdErr:e.failOnStdErr||!1,ignoreReturnCode:e.ignoreReturnCode||!1,delay:e.delay||1e4};return t.outStream=e.outStream||process.stdout,t.errStream=e.errStream||process.stderr,t}_getSpawnOptions(e,t){e=e||{};const r={};return r.cwd=e.cwd,r.env=e.env,r.windowsVerbatimArguments=e.windowsVerbatimArguments||this._isCmdFile(),e.windowsVerbatimArguments&&(r.argv0=`"${t}"`),r}exec(){return i(this,void 0,void 0,function*(){return!p.isRooted(this.toolPath)&&(this.toolPath.includes("/")||f&&this.toolPath.includes("\\"))&&(this.toolPath=d.resolve(process.cwd(),this.options.cwd||process.cwd(),this.toolPath)),this.toolPath=yield u.which(this.toolPath,!0),new Promise((e,t)=>i(this,void 0,void 0,function*(){this._debug(`exec tool: ${this.toolPath}`),this._debug("arguments:");for(const e of this.args)this._debug(`   ${e}`);const r=this._cloneExecOptions(this.options);!r.silent&&r.outStream&&r.outStream.write(this._getCommandString(r)+a.EOL);const n=new g(r,this.toolPath);if(n.on("debug",e=>{this._debug(e)}),this.options.cwd&&!(yield p.exists(this.options.cwd)))return t(new Error(`The cwd: ${this.options.cwd} does not exist!`));const s=this._getSpawnFileName(),o=l.spawn(s,this._getSpawnArgs(r),this._getSpawnOptions(this.options,s));let i="";o.stdout&&o.stdout.on("data",e=>{this.options.listeners&&this.options.listeners.stdout&&this.options.listeners.stdout(e),!r.silent&&r.outStream&&r.outStream.write(e),i=this._processLineBuffer(e,i,e=>{this.options.listeners&&this.options.listeners.stdline&&this.options.listeners.stdline(e)})});let c="";if(o.stderr&&o.stderr.on("data",e=>{if(n.processStderr=!0,this.options.listeners&&this.options.listeners.stderr&&this.options.listeners.stderr(e),!r.silent&&r.errStream&&r.outStream){(r.failOnStdErr?r.errStream:r.outStream).write(e)}c=this._processLineBuffer(e,c,e=>{this.options.listeners&&this.options.listeners.errline&&this.options.listeners.errline(e)})}),o.on("error",e=>{n.processError=e.message,n.processExited=!0,n.processClosed=!0,n.CheckComplete()}),o.on("exit",e=>{n.processExitCode=e,n.processExited=!0,this._debug(`Exit code ${e} received from tool '${this.toolPath}'`),n.CheckComplete()}),o.on("close",e=>{n.processExitCode=e,n.processExited=!0,n.processClosed=!0,this._debug(`STDIO streams have closed for tool '${this.toolPath}'`),n.CheckComplete()}),n.on("done",(r,n)=>{i.length>0&&this.emit("stdline",i),c.length>0&&this.emit("errline",c),o.removeAllListeners(),r?t(r):e(n)}),this.options.input){if(!o.stdin)throw new Error("child process missing stdin");o.stdin.end(this.options.input)}}))})}}t.ToolRunner=m,t.argStringToArray=function(e){const t=[];let r=!1,n=!1,s="";function o(e){n&&'"'!==e&&(s+="\\"),s+=e,n=!1}for(let i=0;i<e.length;i++){const a=e.charAt(i);'"'!==a?"\\"===a&&n?o(a):"\\"===a&&r?n=!0:" "!==a||r?o(a):s.length>0&&(t.push(s),s=""):n?o(a):r=!r}return s.length>0&&t.push(s.trim()),t};class g extends c.EventEmitter{constructor(e,t){if(super(),this.processClosed=!1,this.processError="",this.processExitCode=0,this.processExited=!1,this.processStderr=!1,this.delay=1e4,this.done=!1,this.timeout=null,!t)throw new Error("toolPath must not be empty");this.options=e,this.toolPath=t,e.delay&&(this.delay=e.delay)}CheckComplete(){this.done||(this.processClosed?this._setResult():this.processExited&&(this.timeout=h.setTimeout(g.HandleTimeout,this.delay,this)))}_debug(e){this.emit("debug",e)}_setResult(){let e;this.processExited&&(this.processError?e=new Error(`There was an error when attempting to execute the process '${this.toolPath}'. This may indicate the process failed to start. Error: ${this.processError}`):0===this.processExitCode||this.options.ignoreReturnCode?this.processStderr&&this.options.failOnStdErr&&(e=new Error(`The process '${this.toolPath}' failed because one or more lines were written to the STDERR stream`)):e=new Error(`The process '${this.toolPath}' failed with exit code ${this.processExitCode}`)),this.timeout&&(clearTimeout(this.timeout),this.timeout=null),this.done=!0,this.emit("done",e,this.processExitCode)}static HandleTimeout(e){if(!e.done){if(!e.processClosed&&e.processExited){const t=`The STDIO streams did not close within ${e.delay/1e3} seconds of the exit event from process '${e.toolPath}'. This may indicate a child process inherited the STDIO streams and has not yet exited.`;e._debug(t)}e._setResult()}}}},4552:function(e,t){"use strict";var r=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))(function(s,o){function i(e){try{c(n.next(e))}catch(e){o(e)}}function a(e){try{c(n.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?s(e.value):(t=e.value,t instanceof r?t:new r(function(e){e(t)})).then(i,a)}c((n=n.apply(e,t||[])).next())})};Object.defineProperty(t,"__esModule",{value:!0}),t.PersonalAccessTokenCredentialHandler=t.BearerCredentialHandler=t.BasicCredentialHandler=void 0;t.BasicCredentialHandler=class{constructor(e,t){this.username=e,this.password=t}prepareRequest(e){if(!e.headers)throw Error("The request has no headers");e.headers.Authorization=`Basic ${Buffer.from(`${this.username}:${this.password}`).toString("base64")}`}canHandleAuthentication(){return!1}handleAuthentication(){return r(this,void 0,void 0,function*(){throw new Error("not implemented")})}};t.BearerCredentialHandler=class{constructor(e){this.token=e}prepareRequest(e){if(!e.headers)throw Error("The request has no headers");e.headers.Authorization=`Bearer ${this.token}`}canHandleAuthentication(){return!1}handleAuthentication(){return r(this,void 0,void 0,function*(){throw new Error("not implemented")})}};t.PersonalAccessTokenCredentialHandler=class{constructor(e){this.token=e}prepareRequest(e){if(!e.headers)throw Error("The request has no headers");e.headers.Authorization=`Basic ${Buffer.from(`PAT:${this.token}`).toString("base64")}`}canHandleAuthentication(){return!1}handleAuthentication(){return r(this,void 0,void 0,function*(){throw new Error("not implemented")})}}},4844:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),s=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.hasOwnProperty.call(e,r)&&n(t,e,r);return s(t,e),t},i=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))(function(s,o){function i(e){try{c(n.next(e))}catch(e){o(e)}}function a(e){try{c(n.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?s(e.value):(t=e.value,t instanceof r?t:new r(function(e){e(t)})).then(i,a)}c((n=n.apply(e,t||[])).next())})};Object.defineProperty(t,"__esModule",{value:!0}),t.HttpClient=t.isHttps=t.HttpClientResponse=t.HttpClientError=t.getProxyUrl=t.MediaTypes=t.Headers=t.HttpCodes=void 0;const a=o(r(8611)),c=o(r(5692)),l=o(r(4988)),d=o(r(770));var u,p,h;!function(e){e[e.OK=200]="OK",e[e.MultipleChoices=300]="MultipleChoices",e[e.MovedPermanently=301]="MovedPermanently",e[e.ResourceMoved=302]="ResourceMoved",e[e.SeeOther=303]="SeeOther",e[e.NotModified=304]="NotModified",e[e.UseProxy=305]="UseProxy",e[e.SwitchProxy=306]="SwitchProxy",e[e.TemporaryRedirect=307]="TemporaryRedirect",e[e.PermanentRedirect=308]="PermanentRedirect",e[e.BadRequest=400]="BadRequest",e[e.Unauthorized=401]="Unauthorized",e[e.PaymentRequired=402]="PaymentRequired",e[e.Forbidden=403]="Forbidden",e[e.NotFound=404]="NotFound",e[e.MethodNotAllowed=405]="MethodNotAllowed",e[e.NotAcceptable=406]="NotAcceptable",e[e.ProxyAuthenticationRequired=407]="ProxyAuthenticationRequired",e[e.RequestTimeout=408]="RequestTimeout",e[e.Conflict=409]="Conflict",e[e.Gone=410]="Gone",e[e.TooManyRequests=429]="TooManyRequests",e[e.InternalServerError=500]="InternalServerError",e[e.NotImplemented=501]="NotImplemented",e[e.BadGateway=502]="BadGateway",e[e.ServiceUnavailable=503]="ServiceUnavailable",e[e.GatewayTimeout=504]="GatewayTimeout"}(u=t.HttpCodes||(t.HttpCodes={})),function(e){e.Accept="accept",e.ContentType="content-type"}(p=t.Headers||(t.Headers={})),function(e){e.ApplicationJson="application/json"}(h=t.MediaTypes||(t.MediaTypes={})),t.getProxyUrl=function(e){const t=l.getProxyUrl(new URL(e));return t?t.href:""};const f=[u.MovedPermanently,u.ResourceMoved,u.SeeOther,u.TemporaryRedirect,u.PermanentRedirect],m=[u.BadGateway,u.ServiceUnavailable,u.GatewayTimeout],g=["OPTIONS","GET","DELETE","HEAD"];class y extends Error{constructor(e,t){super(e),this.name="HttpClientError",this.statusCode=t,Object.setPrototypeOf(this,y.prototype)}}t.HttpClientError=y;class b{constructor(e){this.message=e}readBody(){return i(this,void 0,void 0,function*(){return new Promise(e=>i(this,void 0,void 0,function*(){let t=Buffer.alloc(0);this.message.on("data",e=>{t=Buffer.concat([t,e])}),this.message.on("end",()=>{e(t.toString())})}))})}readBodyBuffer(){return i(this,void 0,void 0,function*(){return new Promise(e=>i(this,void 0,void 0,function*(){const t=[];this.message.on("data",e=>{t.push(e)}),this.message.on("end",()=>{e(Buffer.concat(t))})}))})}}t.HttpClientResponse=b,t.isHttps=function(e){return"https:"===new URL(e).protocol};t.HttpClient=class{constructor(e,t,r){this._ignoreSslError=!1,this._allowRedirects=!0,this._allowRedirectDowngrade=!1,this._maxRedirects=50,this._allowRetries=!1,this._maxRetries=1,this._keepAlive=!1,this._disposed=!1,this.userAgent=e,this.handlers=t||[],this.requestOptions=r,r&&(null!=r.ignoreSslError&&(this._ignoreSslError=r.ignoreSslError),this._socketTimeout=r.socketTimeout,null!=r.allowRedirects&&(this._allowRedirects=r.allowRedirects),null!=r.allowRedirectDowngrade&&(this._allowRedirectDowngrade=r.allowRedirectDowngrade),null!=r.maxRedirects&&(this._maxRedirects=Math.max(r.maxRedirects,0)),null!=r.keepAlive&&(this._keepAlive=r.keepAlive),null!=r.allowRetries&&(this._allowRetries=r.allowRetries),null!=r.maxRetries&&(this._maxRetries=r.maxRetries))}options(e,t){return i(this,void 0,void 0,function*(){return this.request("OPTIONS",e,null,t||{})})}get(e,t){return i(this,void 0,void 0,function*(){return this.request("GET",e,null,t||{})})}del(e,t){return i(this,void 0,void 0,function*(){return this.request("DELETE",e,null,t||{})})}post(e,t,r){return i(this,void 0,void 0,function*(){return this.request("POST",e,t,r||{})})}patch(e,t,r){return i(this,void 0,void 0,function*(){return this.request("PATCH",e,t,r||{})})}put(e,t,r){return i(this,void 0,void 0,function*(){return this.request("PUT",e,t,r||{})})}head(e,t){return i(this,void 0,void 0,function*(){return this.request("HEAD",e,null,t||{})})}sendStream(e,t,r,n){return i(this,void 0,void 0,function*(){return this.request(e,t,r,n)})}getJson(e,t={}){return i(this,void 0,void 0,function*(){t[p.Accept]=this._getExistingOrDefaultHeader(t,p.Accept,h.ApplicationJson);const r=yield this.get(e,t);return this._processResponse(r,this.requestOptions)})}postJson(e,t,r={}){return i(this,void 0,void 0,function*(){const n=JSON.stringify(t,null,2);r[p.Accept]=this._getExistingOrDefaultHeader(r,p.Accept,h.ApplicationJson),r[p.ContentType]=this._getExistingOrDefaultHeader(r,p.ContentType,h.ApplicationJson);const s=yield this.post(e,n,r);return this._processResponse(s,this.requestOptions)})}putJson(e,t,r={}){return i(this,void 0,void 0,function*(){const n=JSON.stringify(t,null,2);r[p.Accept]=this._getExistingOrDefaultHeader(r,p.Accept,h.ApplicationJson),r[p.ContentType]=this._getExistingOrDefaultHeader(r,p.ContentType,h.ApplicationJson);const s=yield this.put(e,n,r);return this._processResponse(s,this.requestOptions)})}patchJson(e,t,r={}){return i(this,void 0,void 0,function*(){const n=JSON.stringify(t,null,2);r[p.Accept]=this._getExistingOrDefaultHeader(r,p.Accept,h.ApplicationJson),r[p.ContentType]=this._getExistingOrDefaultHeader(r,p.ContentType,h.ApplicationJson);const s=yield this.patch(e,n,r);return this._processResponse(s,this.requestOptions)})}request(e,t,r,n){return i(this,void 0,void 0,function*(){if(this._disposed)throw new Error("Client has already been disposed.");const s=new URL(t);let o=this._prepareRequest(e,s,n);const i=this._allowRetries&&g.includes(e)?this._maxRetries+1:1;let a,c=0;do{if(a=yield this.requestRaw(o,r),a&&a.message&&a.message.statusCode===u.Unauthorized){let e;for(const t of this.handlers)if(t.canHandleAuthentication(a)){e=t;break}return e?e.handleAuthentication(this,o,r):a}let t=this._maxRedirects;for(;a.message.statusCode&&f.includes(a.message.statusCode)&&this._allowRedirects&&t>0;){const i=a.message.headers.location;if(!i)break;const c=new URL(i);if("https:"===s.protocol&&s.protocol!==c.protocol&&!this._allowRedirectDowngrade)throw new Error("Redirect from HTTPS to HTTP protocol. This downgrade is not allowed for security reasons. If you want to allow this behavior, set the allowRedirectDowngrade option to true.");if(yield a.readBody(),c.hostname!==s.hostname)for(const e in n)"authorization"===e.toLowerCase()&&delete n[e];o=this._prepareRequest(e,c,n),a=yield this.requestRaw(o,r),t--}if(!a.message.statusCode||!m.includes(a.message.statusCode))return a;c+=1,c<i&&(yield a.readBody(),yield this._performExponentialBackoff(c))}while(c<i);return a})}dispose(){this._agent&&this._agent.destroy(),this._disposed=!0}requestRaw(e,t){return i(this,void 0,void 0,function*(){return new Promise((r,n)=>{this.requestRawWithCallback(e,t,function(e,t){e?n(e):t?r(t):n(new Error("Unknown error"))})})})}requestRawWithCallback(e,t,r){"string"==typeof t&&(e.options.headers||(e.options.headers={}),e.options.headers["Content-Length"]=Buffer.byteLength(t,"utf8"));let n=!1;function s(e,t){n||(n=!0,r(e,t))}const o=e.httpModule.request(e.options,e=>{s(void 0,new b(e))});let i;o.on("socket",e=>{i=e}),o.setTimeout(this._socketTimeout||18e4,()=>{i&&i.end(),s(new Error(`Request timeout: ${e.options.path}`))}),o.on("error",function(e){s(e)}),t&&"string"==typeof t&&o.write(t,"utf8"),t&&"string"!=typeof t?(t.on("close",function(){o.end()}),t.pipe(o)):o.end()}getAgent(e){const t=new URL(e);return this._getAgent(t)}_prepareRequest(e,t,r){const n={};n.parsedUrl=t;const s="https:"===n.parsedUrl.protocol;n.httpModule=s?c:a;const o=s?443:80;if(n.options={},n.options.host=n.parsedUrl.hostname,n.options.port=n.parsedUrl.port?parseInt(n.parsedUrl.port):o,n.options.path=(n.parsedUrl.pathname||"")+(n.parsedUrl.search||""),n.options.method=e,n.options.headers=this._mergeHeaders(r),null!=this.userAgent&&(n.options.headers["user-agent"]=this.userAgent),n.options.agent=this._getAgent(n.parsedUrl),this.handlers)for(const e of this.handlers)e.prepareRequest(n.options);return n}_mergeHeaders(e){return this.requestOptions&&this.requestOptions.headers?Object.assign({},v(this.requestOptions.headers),v(e||{})):v(e||{})}_getExistingOrDefaultHeader(e,t,r){let n;return this.requestOptions&&this.requestOptions.headers&&(n=v(this.requestOptions.headers)[t]),e[t]||n||r}_getAgent(e){let t;const r=l.getProxyUrl(e),n=r&&r.hostname;if(this._keepAlive&&n&&(t=this._proxyAgent),this._keepAlive&&!n&&(t=this._agent),t)return t;const s="https:"===e.protocol;let o=100;if(this.requestOptions&&(o=this.requestOptions.maxSockets||a.globalAgent.maxSockets),r&&r.hostname){const e={maxSockets:o,keepAlive:this._keepAlive,proxy:Object.assign(Object.assign({},(r.username||r.password)&&{proxyAuth:`${r.username}:${r.password}`}),{host:r.hostname,port:r.port})};let n;const i="https:"===r.protocol;n=s?i?d.httpsOverHttps:d.httpsOverHttp:i?d.httpOverHttps:d.httpOverHttp,t=n(e),this._proxyAgent=t}if(this._keepAlive&&!t){const e={keepAlive:this._keepAlive,maxSockets:o};t=s?new c.Agent(e):new a.Agent(e),this._agent=t}return t||(t=s?c.globalAgent:a.globalAgent),s&&this._ignoreSslError&&(t.options=Object.assign(t.options||{},{rejectUnauthorized:!1})),t}_performExponentialBackoff(e){return i(this,void 0,void 0,function*(){e=Math.min(10,e);const t=5*Math.pow(2,e);return new Promise(e=>setTimeout(()=>e(),t))})}_processResponse(e,t){return i(this,void 0,void 0,function*(){return new Promise((r,n)=>i(this,void 0,void 0,function*(){const s=e.message.statusCode||0,o={statusCode:s,result:null,headers:{}};let i,a;s===u.NotFound&&r(o);try{a=yield e.readBody(),a&&a.length>0&&(i=t&&t.deserializeDates?JSON.parse(a,function(e,t){if("string"==typeof t){const e=new Date(t);if(!isNaN(e.valueOf()))return e}return t}):JSON.parse(a),o.result=i),o.headers=e.message.headers}catch(e){}if(s>299){let e;e=i&&i.message?i.message:a&&a.length>0?a:`Failed request: (${s})`;const t=new y(e,s);t.result=o.result,n(t)}else r(o)}))})}};const v=e=>Object.keys(e).reduce((t,r)=>(t[r.toLowerCase()]=e[r],t),{})},4988:(e,t)=>{"use strict";function r(e){if(!e.hostname)return!1;if(function(e){const t=e.toLowerCase();return"localhost"===t||t.startsWith("127.")||t.startsWith("[::1]")||t.startsWith("[0:0:0:0:0:0:0:1]")}(e.hostname))return!0;const t=process.env.no_proxy||process.env.NO_PROXY||"";if(!t)return!1;let r;e.port?r=Number(e.port):"http:"===e.protocol?r=80:"https:"===e.protocol&&(r=443);const n=[e.hostname.toUpperCase()];"number"==typeof r&&n.push(`${n[0]}:${r}`);for(const e of t.split(",").map(e=>e.trim().toUpperCase()).filter(e=>e))if("*"===e||n.some(t=>t===e||t.endsWith(`.${e}`)||e.startsWith(".")&&t.endsWith(`${e}`)))return!0;return!1}Object.defineProperty(t,"__esModule",{value:!0}),t.checkBypass=t.getProxyUrl=void 0,t.getProxyUrl=function(e){const t="https:"===e.protocol;if(r(e))return;const n=t?process.env.https_proxy||process.env.HTTPS_PROXY:process.env.http_proxy||process.env.HTTP_PROXY;if(n)try{return new URL(n)}catch(e){if(!n.startsWith("http://")&&!n.startsWith("https://"))return new URL(`http://${n}`)}},t.checkBypass=r},5207:function(e,t,r){"use strict";var n,s=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.hasOwnProperty.call(e,r)&&s(t,e,r);return o(t,e),t},a=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))(function(s,o){function i(e){try{c(n.next(e))}catch(e){o(e)}}function a(e){try{c(n.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?s(e.value):(t=e.value,t instanceof r?t:new r(function(e){e(t)})).then(i,a)}c((n=n.apply(e,t||[])).next())})};Object.defineProperty(t,"__esModule",{value:!0}),t.getCmdPath=t.tryGetExecutablePath=t.isRooted=t.isDirectory=t.exists=t.READONLY=t.UV_FS_O_EXLOCK=t.IS_WINDOWS=t.unlink=t.symlink=t.stat=t.rmdir=t.rm=t.rename=t.readlink=t.readdir=t.open=t.mkdir=t.lstat=t.copyFile=t.chmod=void 0;const c=i(r(9896)),l=i(r(6928));function d(e){return(1&e.mode)>0||(8&e.mode)>0&&e.gid===process.getgid()||(64&e.mode)>0&&e.uid===process.getuid()}n=c.promises,t.chmod=n.chmod,t.copyFile=n.copyFile,t.lstat=n.lstat,t.mkdir=n.mkdir,t.open=n.open,t.readdir=n.readdir,t.readlink=n.readlink,t.rename=n.rename,t.rm=n.rm,t.rmdir=n.rmdir,t.stat=n.stat,t.symlink=n.symlink,t.unlink=n.unlink,t.IS_WINDOWS="win32"===process.platform,t.UV_FS_O_EXLOCK=268435456,t.READONLY=c.constants.O_RDONLY,t.exists=function(e){return a(this,void 0,void 0,function*(){try{yield t.stat(e)}catch(e){if("ENOENT"===e.code)return!1;throw e}return!0})},t.isDirectory=function(e,r=!1){return a(this,void 0,void 0,function*(){return(r?yield t.stat(e):yield t.lstat(e)).isDirectory()})},t.isRooted=function(e){if(!(e=function(e){if(e=e||"",t.IS_WINDOWS)return(e=e.replace(/\//g,"\\")).replace(/\\\\+/g,"\\");return e.replace(/\/\/+/g,"/")}(e)))throw new Error('isRooted() parameter "p" cannot be empty');return t.IS_WINDOWS?e.startsWith("\\")||/^[A-Z]:/i.test(e):e.startsWith("/")},t.tryGetExecutablePath=function(e,r){return a(this,void 0,void 0,function*(){let n;try{n=yield t.stat(e)}catch(t){"ENOENT"!==t.code&&console.log(`Unexpected error attempting to determine if executable file exists '${e}': ${t}`)}if(n&&n.isFile())if(t.IS_WINDOWS){const t=l.extname(e).toUpperCase();if(r.some(e=>e.toUpperCase()===t))return e}else if(d(n))return e;const s=e;for(const o of r){e=s+o,n=void 0;try{n=yield t.stat(e)}catch(t){"ENOENT"!==t.code&&console.log(`Unexpected error attempting to determine if executable file exists '${e}': ${t}`)}if(n&&n.isFile()){if(t.IS_WINDOWS){try{const r=l.dirname(e),n=l.basename(e).toUpperCase();for(const s of yield t.readdir(r))if(n===s.toUpperCase()){e=l.join(r,s);break}}catch(t){console.log(`Unexpected error attempting to determine the actual case of the file '${e}': ${t}`)}return e}if(d(n))return e}}return""})},t.getCmdPath=function(){var e;return null!==(e=process.env.COMSPEC)&&void 0!==e?e:"cmd.exe"}},4994:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),s=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.hasOwnProperty.call(e,r)&&n(t,e,r);return s(t,e),t},i=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))(function(s,o){function i(e){try{c(n.next(e))}catch(e){o(e)}}function a(e){try{c(n.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?s(e.value):(t=e.value,t instanceof r?t:new r(function(e){e(t)})).then(i,a)}c((n=n.apply(e,t||[])).next())})};Object.defineProperty(t,"__esModule",{value:!0}),t.findInPath=t.which=t.mkdirP=t.rmRF=t.mv=t.cp=void 0;const a=r(2613),c=o(r(6928)),l=o(r(5207));function d(e){return i(this,void 0,void 0,function*(){if(l.IS_WINDOWS&&/[*"<>|]/.test(e))throw new Error('File path must not contain `*`, `"`, `<`, `>` or `|` on Windows');try{yield l.rm(e,{force:!0,maxRetries:3,recursive:!0,retryDelay:300})}catch(e){throw new Error(`File was unable to be removed ${e}`)}})}function u(e){return i(this,void 0,void 0,function*(){a.ok(e,"a path argument must be provided"),yield l.mkdir(e,{recursive:!0})})}function p(e){return i(this,void 0,void 0,function*(){if(!e)throw new Error("parameter 'tool' is required");const t=[];if(l.IS_WINDOWS&&process.env.PATHEXT)for(const e of process.env.PATHEXT.split(c.delimiter))e&&t.push(e);if(l.isRooted(e)){const r=yield l.tryGetExecutablePath(e,t);return r?[r]:[]}if(e.includes(c.sep))return[];const r=[];if(process.env.PATH)for(const e of process.env.PATH.split(c.delimiter))e&&r.push(e);const n=[];for(const s of r){const r=yield l.tryGetExecutablePath(c.join(s,e),t);r&&n.push(r)}return n})}function h(e,t,r,n){return i(this,void 0,void 0,function*(){if(r>=255)return;r++,yield u(t);const s=yield l.readdir(e);for(const o of s){const s=`${e}/${o}`,i=`${t}/${o}`;(yield l.lstat(s)).isDirectory()?yield h(s,i,r,n):yield f(s,i,n)}yield l.chmod(t,(yield l.stat(e)).mode)})}function f(e,t,r){return i(this,void 0,void 0,function*(){if((yield l.lstat(e)).isSymbolicLink()){try{yield l.lstat(t),yield l.unlink(t)}catch(e){"EPERM"===e.code&&(yield l.chmod(t,"0666"),yield l.unlink(t))}const r=yield l.readlink(e);yield l.symlink(r,t,l.IS_WINDOWS?"junction":null)}else(yield l.exists(t))&&!r||(yield l.copyFile(e,t))})}t.cp=function(e,t,r={}){return i(this,void 0,void 0,function*(){const{force:n,recursive:s,copySourceDirectory:o}=function(e){const t=null==e.force||e.force,r=Boolean(e.recursive),n=null==e.copySourceDirectory||Boolean(e.copySourceDirectory);return{force:t,recursive:r,copySourceDirectory:n}}(r),i=(yield l.exists(t))?yield l.stat(t):null;if(i&&i.isFile()&&!n)return;const a=i&&i.isDirectory()&&o?c.join(t,c.basename(e)):t;if(!(yield l.exists(e)))throw new Error(`no such file or directory: ${e}`);if((yield l.stat(e)).isDirectory()){if(!s)throw new Error(`Failed to copy. ${e} is a directory, but tried to copy without recursive flag.`);yield h(e,a,0,n)}else{if(""===c.relative(e,a))throw new Error(`'${a}' and '${e}' are the same file`);yield f(e,a,n)}})},t.mv=function(e,t,r={}){return i(this,void 0,void 0,function*(){if(yield l.exists(t)){let n=!0;if((yield l.isDirectory(t))&&(t=c.join(t,c.basename(e)),n=yield l.exists(t)),n){if(null!=r.force&&!r.force)throw new Error("Destination already exists");yield d(t)}}yield u(c.dirname(t)),yield l.rename(e,t)})},t.rmRF=d,t.mkdirP=u,t.which=function e(t,r){return i(this,void 0,void 0,function*(){if(!t)throw new Error("parameter 'tool' is required");if(r){const r=yield e(t,!1);if(!r)throw l.IS_WINDOWS?new Error(`Unable to locate executable file: ${t}. Please verify either the file path exists or the file can be found within a directory specified by the PATH environment variable. Also verify the file has a valid extension for an executable file.`):new Error(`Unable to locate executable file: ${t}. Please verify either the file path exists or the file can be found within a directory specified by the PATH environment variable. Also check the file mode to verify the file is executable.`);return r}const n=yield p(t);return n&&n.length>0?n[0]:""})},t.findInPath=p},6863:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AwsCrc32=void 0;var n=r(1860),s=r(5667),o=r(2110),i=function(){function e(){this.crc32=new o.Crc32}return e.prototype.update=function(e){(0,s.isEmptyData)(e)||this.crc32.update((0,s.convertToBuffer)(e))},e.prototype.digest=function(){return n.__awaiter(this,void 0,void 0,function(){return n.__generator(this,function(e){return[2,(0,s.numToUint8)(this.crc32.digest())]})})},e.prototype.reset=function(){this.crc32=new o.Crc32},e}();t.AwsCrc32=i},2110:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AwsCrc32=t.Crc32=t.crc32=void 0;var n=r(1860),s=r(5667);t.crc32=function(e){return(new o).update(e).digest()};var o=function(){function e(){this.checksum=4294967295}return e.prototype.update=function(e){var t,r;try{for(var s=n.__values(e),o=s.next();!o.done;o=s.next()){var a=o.value;this.checksum=this.checksum>>>8^i[255&(this.checksum^a)]}}catch(e){t={error:e}}finally{try{o&&!o.done&&(r=s.return)&&r.call(s)}finally{if(t)throw t.error}}return this},e.prototype.digest=function(){return(4294967295^this.checksum)>>>0},e}();t.Crc32=o;var i=(0,s.uint32ArrayFrom)([0,1996959894,3993919788,2567524794,124634137,1886057615,3915621685,2657392035,249268274,2044508324,3772115230,2547177864,162941995,2125561021,3887607047,2428444049,498536548,1789927666,4089016648,2227061214,450548861,1843258603,4107580753,2211677639,325883990,1684777152,4251122042,2321926636,335633487,1661365465,4195302755,2366115317,997073096,1281953886,3579855332,2724688242,1006888145,1258607687,3524101629,2768942443,901097722,1119000684,3686517206,2898065728,853044451,1172266101,3705015759,2882616665,651767980,1373503546,3369554304,3218104598,565507253,1454621731,3485111705,3099436303,671266974,1594198024,3322730930,2970347812,795835527,1483230225,3244367275,3060149565,1994146192,31158534,2563907772,4023717930,1907459465,112637215,2680153253,3904427059,2013776290,251722036,2517215374,3775830040,2137656763,141376813,2439277719,3865271297,1802195444,476864866,2238001368,4066508878,1812370925,453092731,2181625025,4111451223,1706088902,314042704,2344532202,4240017532,1658658271,366619977,2362670323,4224994405,1303535960,984961486,2747007092,3569037538,1256170817,1037604311,2765210733,3554079995,1131014506,879679996,2909243462,3663771856,1141124467,855842277,2852801631,3708648649,1342533948,654459306,3188396048,3373015174,1466479909,544179635,3110523913,3462522015,1591671054,702138776,2966460450,3352799412,1504918807,783551873,3082640443,3233442989,3988292384,2596254646,62317068,1957810842,3939845945,2647816111,81470997,1943803523,3814918930,2489596804,225274430,2053790376,3826175755,2466906013,167816743,2097651377,4027552580,2265490386,503444072,1762050814,4150417245,2154129355,426522225,1852507879,4275313526,2312317920,282753626,1742555852,4189708143,2394877945,397917763,1622183637,3604390888,2714866558,953729732,1340076626,3518719985,2797360999,1068828381,1219638859,3624741850,2936675148,906185462,1090812512,3747672003,2825379669,829329135,1181335161,3412177804,3160834842,628085408,1382605366,3423369109,3138078467,570562233,1426400815,3317316542,2998733608,733239954,1555261956,3268935591,3050360625,752459403,1541320221,2607071920,3965973030,1969922972,40735498,2617837225,3943577151,1913087877,83908371,2512341634,3803740692,2075208622,213261112,2463272603,3855990285,2094854071,198958881,2262029012,4057260610,1759359992,534414190,2176718541,4139329115,1873836001,414664567,2282248934,4279200368,1711684554,285281116,2405801727,4167216745,1634467795,376229701,2685067896,3608007406,1308918612,956543938,2808555105,3495958263,1231636301,1047427035,2932959818,3654703836,1088359270,936918e3,2847714899,3736837829,1202900863,817233897,3183342108,3401237130,1404277552,615818150,3134207493,3453421203,1423857449,601450431,3009837614,3294710456,1567103746,711928724,3020668471,3272380065,1510334235,755167117]),a=r(6863);Object.defineProperty(t,"AwsCrc32",{enumerable:!0,get:function(){return a.AwsCrc32}})},8056:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.convertToBuffer=void 0;var n=r(7515),s="undefined"!=typeof Buffer&&Buffer.from?function(e){return Buffer.from(e,"utf8")}:n.fromUtf8;t.convertToBuffer=function(e){return e instanceof Uint8Array?e:"string"==typeof e?s(e):ArrayBuffer.isView(e)?new Uint8Array(e.buffer,e.byteOffset,e.byteLength/Uint8Array.BYTES_PER_ELEMENT):new Uint8Array(e)}},5667:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.uint32ArrayFrom=t.numToUint8=t.isEmptyData=t.convertToBuffer=void 0;var n=r(8056);Object.defineProperty(t,"convertToBuffer",{enumerable:!0,get:function(){return n.convertToBuffer}});var s=r(4658);Object.defineProperty(t,"isEmptyData",{enumerable:!0,get:function(){return s.isEmptyData}});var o=r(5436);Object.defineProperty(t,"numToUint8",{enumerable:!0,get:function(){return o.numToUint8}});var i=r(673);Object.defineProperty(t,"uint32ArrayFrom",{enumerable:!0,get:function(){return i.uint32ArrayFrom}})},4658:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isEmptyData=void 0,t.isEmptyData=function(e){return"string"==typeof e?0===e.length:0===e.byteLength}},5436:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.numToUint8=void 0,t.numToUint8=function(e){return new Uint8Array([(4278190080&e)>>24,(16711680&e)>>16,(65280&e)>>8,255&e])}},673:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.uint32ArrayFrom=void 0,t.uint32ArrayFrom=function(e){if(!Uint32Array.from){for(var t=new Uint32Array(e.length),r=0;r<e.length;)t[r]=e[r],r+=1;return t}return Uint32Array.from(e)}},8756:e=>{var t,r=Object.defineProperty,n=Object.getOwnPropertyDescriptor,s=Object.getOwnPropertyNames,o=Object.prototype.hasOwnProperty,i=(e,t)=>r(e,"name",{value:t,configurable:!0}),a={};((e,t)=>{for(var n in t)r(e,n,{get:t[n],enumerable:!0})})(a,{isArrayBuffer:()=>c}),e.exports=(t=a,((e,t,i,a)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let c of s(t))o.call(e,c)||c===i||r(e,c,{get:()=>t[c],enumerable:!(a=n(t,c))||a.enumerable});return e})(r({},"__esModule",{value:!0}),t));var c=i(e=>"function"==typeof ArrayBuffer&&e instanceof ArrayBuffer||"[object ArrayBuffer]"===Object.prototype.toString.call(e),"isArrayBuffer")},9077:(e,t,r)=>{var n,s=Object.defineProperty,o=Object.getOwnPropertyDescriptor,i=Object.getOwnPropertyNames,a=Object.prototype.hasOwnProperty,c=(e,t)=>s(e,"name",{value:t,configurable:!0}),l={};((e,t)=>{for(var r in t)s(e,r,{get:t[r],enumerable:!0})})(l,{fromArrayBuffer:()=>p,fromString:()=>h}),e.exports=(n=l,((e,t,r,n)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let c of i(t))a.call(e,c)||c===r||s(e,c,{get:()=>t[c],enumerable:!(n=o(t,c))||n.enumerable});return e})(s({},"__esModule",{value:!0}),n));var d=r(8756),u=r(181),p=c((e,t=0,r=e.byteLength-t)=>{if(!(0,d.isArrayBuffer)(e))throw new TypeError(`The "input" argument must be ArrayBuffer. Received type ${typeof e} (${e})`);return u.Buffer.from(e,t,r)},"fromArrayBuffer"),h=c((e,t)=>{if("string"!=typeof e)throw new TypeError(`The "input" argument must be of type string. Received type ${typeof e} (${e})`);return t?u.Buffer.from(e,t):u.Buffer.from(e)},"fromString")},7515:(e,t,r)=>{var n,s=Object.defineProperty,o=Object.getOwnPropertyDescriptor,i=Object.getOwnPropertyNames,a=Object.prototype.hasOwnProperty,c=(e,t)=>s(e,"name",{value:t,configurable:!0}),l={};((e,t)=>{for(var r in t)s(e,r,{get:t[r],enumerable:!0})})(l,{fromUtf8:()=>u,toUint8Array:()=>p,toUtf8:()=>h}),e.exports=(n=l,((e,t,r,n)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let c of i(t))a.call(e,c)||c===r||s(e,c,{get:()=>t[c],enumerable:!(n=o(t,c))||n.enumerable});return e})(s({},"__esModule",{value:!0}),n));var d=r(9077),u=c(e=>{const t=(0,d.fromString)(e,"utf8");return new Uint8Array(t.buffer,t.byteOffset,t.byteLength/Uint8Array.BYTES_PER_ELEMENT)},"fromUtf8"),p=c(e=>"string"==typeof e?u(e):ArrayBuffer.isView(e)?new Uint8Array(e.buffer,e.byteOffset,e.byteLength/Uint8Array.BYTES_PER_ELEMENT):new Uint8Array(e),"toUint8Array"),h=c(e=>{if("string"==typeof e)return e;if("object"!=typeof e||"number"!=typeof e.byteOffset||"number"!=typeof e.byteLength)throw new Error("@smithy/util-utf8: toUtf8 encoder function only accepts string | Uint8Array.");return(0,d.fromArrayBuffer)(e.buffer,e.byteOffset,e.byteLength).toString("utf8")},"toUtf8")},9136:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.resolveHttpAuthSchemeConfig=t.defaultCloudWatchLogsHttpAuthSchemeProvider=t.defaultCloudWatchLogsHttpAuthSchemeParametersProvider=void 0;const n=r(8704),s=r(6324);t.defaultCloudWatchLogsHttpAuthSchemeParametersProvider=async(e,t,r)=>({operation:(0,s.getSmithyContext)(t).operation,region:await(0,s.normalizeProvider)(e.region)()||(()=>{throw new Error("expected `region` to be configured for `aws.auth#sigv4`")})()});t.defaultCloudWatchLogsHttpAuthSchemeProvider=e=>{const t=[];return e.operation,t.push(function(e){return{schemeId:"aws.auth#sigv4",signingProperties:{name:"logs",region:e.region},propertiesExtractor:(e,t)=>({signingProperties:{config:e,context:t}})}}(e)),t};t.resolveHttpAuthSchemeConfig=e=>{const t=(0,n.resolveAwsSdkSigV4Config)(e);return Object.assign(t,{authSchemePreference:(0,s.normalizeProvider)(e.authSchemePreference??[])})}},4262:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.defaultEndpointResolver=void 0;const n=r(3068),s=r(9674),o=r(3655),i=new s.EndpointCache({size:50,params:["Endpoint","Region","UseDualStack","UseFIPS"]});t.defaultEndpointResolver=(e,t={})=>i.get(e,()=>(0,s.resolveEndpoint)(o.ruleSet,{endpointParams:e,logger:t.logger})),s.customEndpointFunctions.aws=n.awsEndpointFunctions},3655:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ruleSet=void 0;const r="required",n="fn",s="argv",o="ref",i=!0,a="isSet",c="booleanEquals",l="error",d="endpoint",u="tree",p="PartitionResult",h="stringEquals",f={[r]:!1,type:"String"},m={[r]:!0,default:!1,type:"Boolean"},g={[o]:"Endpoint"},y={[n]:c,[s]:[{[o]:"UseFIPS"},!0]},b={[n]:c,[s]:[{[o]:"UseDualStack"},!0]},v={},_={[o]:"Region"},S={[n]:"getAttr",[s]:[{[o]:p},"supportsFIPS"]},w={[n]:c,[s]:[!0,{[n]:"getAttr",[s]:[{[o]:p},"supportsDualStack"]}]},E=[y],P=[b],C=[_],O={version:"1.0",parameters:{Region:f,UseDualStack:m,UseFIPS:m,Endpoint:f},rules:[{conditions:[{[n]:a,[s]:[g]}],rules:[{conditions:E,error:"Invalid Configuration: FIPS and custom endpoint are not supported",type:l},{conditions:P,error:"Invalid Configuration: Dualstack and custom endpoint are not supported",type:l},{endpoint:{url:g,properties:v,headers:v},type:d}],type:u},{conditions:[{[n]:a,[s]:C}],rules:[{conditions:[{[n]:"aws.partition",[s]:C,assign:p}],rules:[{conditions:[y,b],rules:[{conditions:[{[n]:c,[s]:[i,S]},w],rules:[{endpoint:{url:"https://logs-fips.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:v,headers:v},type:d}],type:u},{error:"FIPS and DualStack are enabled, but this partition does not support one or both",type:l}],type:u},{conditions:E,rules:[{conditions:[{[n]:c,[s]:[S,i]}],rules:[{conditions:[{[n]:h,[s]:[_,"us-gov-east-1"]}],endpoint:{url:"https://logs.us-gov-east-1.amazonaws.com",properties:v,headers:v},type:d},{conditions:[{[n]:h,[s]:[_,"us-gov-west-1"]}],endpoint:{url:"https://logs.us-gov-west-1.amazonaws.com",properties:v,headers:v},type:d},{endpoint:{url:"https://logs-fips.{Region}.{PartitionResult#dnsSuffix}",properties:v,headers:v},type:d}],type:u},{error:"FIPS is enabled but this partition does not support FIPS",type:l}],type:u},{conditions:P,rules:[{conditions:[w],rules:[{endpoint:{url:"https://logs.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:v,headers:v},type:d}],type:u},{error:"DualStack is enabled but this partition does not support DualStack",type:l}],type:u},{endpoint:{url:"https://logs.{Region}.{PartitionResult#dnsSuffix}",properties:v,headers:v},type:d}],type:u}],type:u},{error:"Invalid Configuration: Missing Region",type:l}]};t.ruleSet=O},303:(e,t,r)=>{"use strict";var n,s=Object.defineProperty,o=Object.getOwnPropertyDescriptor,i=Object.getOwnPropertyNames,a=Object.prototype.hasOwnProperty,c=(e,t)=>s(e,"name",{value:t,configurable:!0}),l={};((e,t)=>{for(var r in t)s(e,r,{get:t[r],enumerable:!0})})(l,{AccessDeniedException:()=>M,AnomalyDetectorStatus:()=>U,AssociateKmsKeyCommand:()=>Xs,CancelExportTaskCommand:()=>Qs,CloudWatchLogs:()=>ki,CloudWatchLogsClient:()=>T,CloudWatchLogsServiceException:()=>k,ConflictException:()=>K,CreateDeliveryCommand:()=>Ys,CreateExportTaskCommand:()=>Zs,CreateLogAnomalyDetectorCommand:()=>eo,CreateLogGroupCommand:()=>to,CreateLogStreamCommand:()=>ro,DataAlreadyAcceptedException:()=>re,DataProtectionStatus:()=>ne,DeleteAccountPolicyCommand:()=>no,DeleteDataProtectionPolicyCommand:()=>so,DeleteDeliveryCommand:()=>oo,DeleteDeliveryDestinationCommand:()=>io,DeleteDeliveryDestinationPolicyCommand:()=>ao,DeleteDeliverySourceCommand:()=>co,DeleteDestinationCommand:()=>lo,DeleteIndexPolicyCommand:()=>uo,DeleteIntegrationCommand:()=>po,DeleteLogAnomalyDetectorCommand:()=>ho,DeleteLogGroupCommand:()=>fo,DeleteLogStreamCommand:()=>mo,DeleteMetricFilterCommand:()=>go,DeleteQueryDefinitionCommand:()=>yo,DeleteResourcePolicyCommand:()=>bo,DeleteRetentionPolicyCommand:()=>vo,DeleteSubscriptionFilterCommand:()=>_o,DeleteTransformerCommand:()=>So,DeliveryDestinationType:()=>J,DescribeAccountPoliciesCommand:()=>wo,DescribeConfigurationTemplatesCommand:()=>Eo,DescribeDeliveriesCommand:()=>Po,DescribeDeliveryDestinationsCommand:()=>Co,DescribeDeliverySourcesCommand:()=>Oo,DescribeDestinationsCommand:()=>Ao,DescribeExportTasksCommand:()=>xo,DescribeFieldIndexesCommand:()=>Io,DescribeIndexPoliciesCommand:()=>Ro,DescribeLogGroupsCommand:()=>To,DescribeLogStreamsCommand:()=>Do,DescribeMetricFiltersCommand:()=>No,DescribeQueriesCommand:()=>jo,DescribeQueryDefinitionsCommand:()=>ko,DescribeResourcePoliciesCommand:()=>Mo,DescribeSubscriptionFiltersCommand:()=>Lo,DisassociateKmsKeyCommand:()=>Fo,Distribution:()=>pe,EntityRejectionErrorType:()=>he,EvaluationFrequency:()=>B,EventSource:()=>fe,ExportTaskStatusCode:()=>se,FilterLogEventsCommand:()=>$o,FlattenedElement:()=>me,GetDataProtectionPolicyCommand:()=>Uo,GetDeliveryCommand:()=>Bo,GetDeliveryDestinationCommand:()=>Ho,GetDeliveryDestinationPolicyCommand:()=>Go,GetDeliverySourceCommand:()=>zo,GetIntegrationCommand:()=>qo,GetLogAnomalyDetectorCommand:()=>Wo,GetLogEventsCommand:()=>Vo,GetLogGroupFieldsCommand:()=>Jo,GetLogObjectCommand:()=>Ko,GetLogObjectResponseFilterSensitiveLog:()=>ke,GetLogObjectResponseStream:()=>ye,GetLogObjectResponseStreamFilterSensitiveLog:()=>je,GetLogRecordCommand:()=>Xo,GetQueryResultsCommand:()=>Qo,GetTransformerCommand:()=>Yo,IndexSource:()=>oe,InheritedProperty:()=>ie,IntegrationDetails:()=>d,IntegrationStatus:()=>be,IntegrationType:()=>ve,InternalStreamingException:()=>_e,InvalidOperationException:()=>W,InvalidParameterException:()=>H,InvalidSequenceTokenException:()=>Pe,LimitExceededException:()=>Z,ListAnomaliesCommand:()=>Zo,ListIntegrationsCommand:()=>ei,ListLogAnomalyDetectorsCommand:()=>ti,ListLogGroupsCommand:()=>ri,ListLogGroupsForQueryCommand:()=>ni,ListTagsForResourceCommand:()=>si,ListTagsLogGroupCommand:()=>oi,LogGroupClass:()=>te,MalformedQueryException:()=>Re,OCSFVersion:()=>we,OpenSearchResourceStatusType:()=>ge,OperationAbortedException:()=>G,OrderBy:()=>ae,OutputFormat:()=>V,PolicyScope:()=>ue,PolicyType:()=>L,PutAccountPolicyCommand:()=>ii,PutDataProtectionPolicyCommand:()=>ai,PutDeliveryDestinationCommand:()=>ci,PutDeliveryDestinationPolicyCommand:()=>li,PutDeliverySourceCommand:()=>di,PutDestinationCommand:()=>ui,PutDestinationPolicyCommand:()=>pi,PutIndexPolicyCommand:()=>hi,PutIntegrationCommand:()=>fi,PutLogEventsCommand:()=>mi,PutMetricFilterCommand:()=>gi,PutQueryDefinitionCommand:()=>yi,PutResourcePolicyCommand:()=>bi,PutRetentionPolicyCommand:()=>vi,PutSubscriptionFilterCommand:()=>_i,PutTransformerCommand:()=>Si,QueryLanguage:()=>le,QueryStatus:()=>de,ResourceAlreadyExistsException:()=>ee,ResourceConfig:()=>Se,ResourceNotFoundException:()=>z,Scope:()=>F,ServiceQuotaExceededException:()=>X,ServiceUnavailableException:()=>q,SessionStreamingException:()=>xe,SessionTimeoutException:()=>Ie,StandardUnit:()=>ce,StartLiveTailCommand:()=>wi,StartLiveTailResponseFilterSensitiveLog:()=>Le,StartLiveTailResponseStream:()=>Oe,StartLiveTailResponseStreamFilterSensitiveLog:()=>Me,StartQueryCommand:()=>Ei,State:()=>$,StopQueryCommand:()=>Pi,SuppressionState:()=>Ce,SuppressionType:()=>Ne,SuppressionUnit:()=>De,TagLogGroupCommand:()=>Ci,TagResourceCommand:()=>Oi,TestMetricFilterCommand:()=>Ai,TestTransformerCommand:()=>xi,ThrottlingException:()=>Q,TooManyTagsException:()=>Te,Type:()=>Ee,UnrecognizedClientException:()=>Ae,UntagLogGroupCommand:()=>Ii,UntagResourceCommand:()=>Ri,UpdateAnomalyCommand:()=>Ti,UpdateDeliveryConfigurationCommand:()=>Di,UpdateLogAnomalyDetectorCommand:()=>Ni,ValidationException:()=>Y,__Client:()=>A.Client,paginateDescribeConfigurationTemplates:()=>Mi,paginateDescribeDeliveries:()=>Li,paginateDescribeDeliveryDestinations:()=>Fi,paginateDescribeDeliverySources:()=>$i,paginateDescribeDestinations:()=>Ui,paginateDescribeLogGroups:()=>Bi,paginateDescribeLogStreams:()=>Hi,paginateDescribeMetricFilters:()=>Gi,paginateDescribeSubscriptionFilters:()=>zi,paginateFilterLogEvents:()=>qi,paginateGetLogEvents:()=>Wi,paginateListAnomalies:()=>Vi,paginateListLogAnomalyDetectors:()=>Ji,paginateListLogGroupsForQuery:()=>Ki}),e.exports=(n=l,((e,t,r,n)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let c of i(t))a.call(e,c)||c===r||s(e,c,{get:()=>t[c],enumerable:!(n=o(t,c))||n.enumerable});return e})(s({},"__esModule",{value:!0}),n));var d,u=r(2590),p=r(5242),h=r(1568),f=r(2959),m=r(9316),g=r(402),y=r(6895),b=r(7212),v=r(99),_=r(9618),S=r(9136),w=c(e=>Object.assign(e,{useDualstackEndpoint:e.useDualstackEndpoint??!1,useFipsEndpoint:e.useFipsEndpoint??!1,defaultSigningName:"logs"}),"resolveClientEndpointParameters"),E={UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}},P=r(129),C=r(6463),O=r(2356),A=r(1411),x=c(e=>{const t=e.httpAuthSchemes;let r=e.httpAuthSchemeProvider,n=e.credentials;return{setHttpAuthScheme(e){const r=t.findIndex(t=>t.schemeId===e.schemeId);-1===r?t.push(e):t.splice(r,1,e)},httpAuthSchemes:()=>t,setHttpAuthSchemeProvider(e){r=e},httpAuthSchemeProvider:()=>r,setCredentials(e){n=e},credentials:()=>n}},"getHttpAuthExtensionConfiguration"),I=c(e=>({httpAuthSchemes:e.httpAuthSchemes(),httpAuthSchemeProvider:e.httpAuthSchemeProvider(),credentials:e.credentials()}),"resolveHttpAuthRuntimeConfig"),R=c((e,t)=>{const r=Object.assign((0,C.getAwsRegionExtensionConfiguration)(e),(0,A.getDefaultExtensionConfiguration)(e),(0,O.getHttpHandlerExtensionConfiguration)(e),x(e));return t.forEach(e=>e.configure(r)),Object.assign(e,(0,C.resolveAwsRegionExtensionConfiguration)(r),(0,A.resolveDefaultRuntimeConfig)(r),(0,O.resolveHttpHandlerRuntimeConfig)(r),I(r))},"resolveRuntimeExtensions"),T=class extends A.Client{static{c(this,"CloudWatchLogsClient")}config;constructor(...[e]){const t=(0,P.getRuntimeConfig)(e||{});super(t),this.initConfig=t;const r=w(t),n=(0,f.resolveUserAgentConfig)(r),s=(0,_.resolveRetryConfig)(n),o=(0,m.resolveRegionConfig)(s),i=(0,u.resolveHostHeaderConfig)(o),a=(0,v.resolveEndpointConfig)(i),l=(0,y.resolveEventStreamSerdeConfig)(a),d=(0,S.resolveHttpAuthSchemeConfig)(l),E=R(d,e?.extensions||[]);this.config=E,this.middlewareStack.use((0,f.getUserAgentPlugin)(this.config)),this.middlewareStack.use((0,_.getRetryPlugin)(this.config)),this.middlewareStack.use((0,b.getContentLengthPlugin)(this.config)),this.middlewareStack.use((0,u.getHostHeaderPlugin)(this.config)),this.middlewareStack.use((0,p.getLoggerPlugin)(this.config)),this.middlewareStack.use((0,h.getRecursionDetectionPlugin)(this.config)),this.middlewareStack.use((0,g.getHttpAuthSchemeEndpointRuleSetPlugin)(this.config,{httpAuthSchemeParametersProvider:S.defaultCloudWatchLogsHttpAuthSchemeParametersProvider,identityProviderConfigProvider:c(async e=>new g.DefaultIdentityProviderConfig({"aws.auth#sigv4":e.credentials}),"identityProviderConfigProvider")})),this.middlewareStack.use((0,g.getHttpSigningPlugin)(this.config))}destroy(){super.destroy()}},D=r(3255),N=r(8704),j=r(2048),k=class e extends A.ServiceException{static{c(this,"CloudWatchLogsServiceException")}constructor(t){super(t),Object.setPrototypeOf(this,e.prototype)}},M=class e extends k{static{c(this,"AccessDeniedException")}name="AccessDeniedException";$fault="client";constructor(t){super({name:"AccessDeniedException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}},L={DATA_PROTECTION_POLICY:"DATA_PROTECTION_POLICY",FIELD_INDEX_POLICY:"FIELD_INDEX_POLICY",METRIC_EXTRACTION_POLICY:"METRIC_EXTRACTION_POLICY",SUBSCRIPTION_FILTER_POLICY:"SUBSCRIPTION_FILTER_POLICY",TRANSFORMER_POLICY:"TRANSFORMER_POLICY"},F={ALL:"ALL"},$={Active:"Active",Baseline:"Baseline",Suppressed:"Suppressed"},U={ANALYZING:"ANALYZING",DELETED:"DELETED",FAILED:"FAILED",INITIALIZING:"INITIALIZING",PAUSED:"PAUSED",TRAINING:"TRAINING"},B={FIFTEEN_MIN:"FIFTEEN_MIN",FIVE_MIN:"FIVE_MIN",ONE_HOUR:"ONE_HOUR",ONE_MIN:"ONE_MIN",TEN_MIN:"TEN_MIN",THIRTY_MIN:"THIRTY_MIN"},H=class e extends k{static{c(this,"InvalidParameterException")}name="InvalidParameterException";$fault="client";constructor(t){super({name:"InvalidParameterException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}},G=class e extends k{static{c(this,"OperationAbortedException")}name="OperationAbortedException";$fault="client";constructor(t){super({name:"OperationAbortedException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}},z=class e extends k{static{c(this,"ResourceNotFoundException")}name="ResourceNotFoundException";$fault="client";constructor(t){super({name:"ResourceNotFoundException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}},q=class e extends k{static{c(this,"ServiceUnavailableException")}name="ServiceUnavailableException";$fault="server";constructor(t){super({name:"ServiceUnavailableException",$fault:"server",...t}),Object.setPrototypeOf(this,e.prototype)}},W=class e extends k{static{c(this,"InvalidOperationException")}name="InvalidOperationException";$fault="client";constructor(t){super({name:"InvalidOperationException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}},V={JSON:"json",PARQUET:"parquet",PLAIN:"plain",RAW:"raw",W3C:"w3c"},J={CWL:"CWL",FH:"FH",S3:"S3",XRAY:"XRAY"},K=class e extends k{static{c(this,"ConflictException")}name="ConflictException";$fault="client";constructor(t){super({name:"ConflictException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}},X=class e extends k{static{c(this,"ServiceQuotaExceededException")}name="ServiceQuotaExceededException";$fault="client";constructor(t){super({name:"ServiceQuotaExceededException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}},Q=class e extends k{static{c(this,"ThrottlingException")}name="ThrottlingException";$fault="client";constructor(t){super({name:"ThrottlingException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}},Y=class e extends k{static{c(this,"ValidationException")}name="ValidationException";$fault="client";constructor(t){super({name:"ValidationException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}},Z=class e extends k{static{c(this,"LimitExceededException")}name="LimitExceededException";$fault="client";constructor(t){super({name:"LimitExceededException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}},ee=class e extends k{static{c(this,"ResourceAlreadyExistsException")}name="ResourceAlreadyExistsException";$fault="client";constructor(t){super({name:"ResourceAlreadyExistsException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}},te={DELIVERY:"DELIVERY",INFREQUENT_ACCESS:"INFREQUENT_ACCESS",STANDARD:"STANDARD"},re=class e extends k{static{c(this,"DataAlreadyAcceptedException")}name="DataAlreadyAcceptedException";$fault="client";expectedSequenceToken;constructor(t){super({name:"DataAlreadyAcceptedException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype),this.expectedSequenceToken=t.expectedSequenceToken}},ne={ACTIVATED:"ACTIVATED",ARCHIVED:"ARCHIVED",DELETED:"DELETED",DISABLED:"DISABLED"},se={CANCELLED:"CANCELLED",COMPLETED:"COMPLETED",FAILED:"FAILED",PENDING:"PENDING",PENDING_CANCEL:"PENDING_CANCEL",RUNNING:"RUNNING"},oe={ACCOUNT:"ACCOUNT",LOG_GROUP:"LOG_GROUP"},ie={ACCOUNT_DATA_PROTECTION:"ACCOUNT_DATA_PROTECTION"},ae={LastEventTime:"LastEventTime",LogStreamName:"LogStreamName"},ce={Bits:"Bits",BitsSecond:"Bits/Second",Bytes:"Bytes",BytesSecond:"Bytes/Second",Count:"Count",CountSecond:"Count/Second",Gigabits:"Gigabits",GigabitsSecond:"Gigabits/Second",Gigabytes:"Gigabytes",GigabytesSecond:"Gigabytes/Second",Kilobits:"Kilobits",KilobitsSecond:"Kilobits/Second",Kilobytes:"Kilobytes",KilobytesSecond:"Kilobytes/Second",Megabits:"Megabits",MegabitsSecond:"Megabits/Second",Megabytes:"Megabytes",MegabytesSecond:"Megabytes/Second",Microseconds:"Microseconds",Milliseconds:"Milliseconds",None:"None",Percent:"Percent",Seconds:"Seconds",Terabits:"Terabits",TerabitsSecond:"Terabits/Second",Terabytes:"Terabytes",TerabytesSecond:"Terabytes/Second"},le={CWLI:"CWLI",PPL:"PPL",SQL:"SQL"},de={Cancelled:"Cancelled",Complete:"Complete",Failed:"Failed",Running:"Running",Scheduled:"Scheduled",Timeout:"Timeout",Unknown:"Unknown"},ue={ACCOUNT:"ACCOUNT",RESOURCE:"RESOURCE"},pe={ByLogStream:"ByLogStream",Random:"Random"},he={ENTITY_SIZE_TOO_LARGE:"EntitySizeTooLarge",INVALID_ATTRIBUTES:"InvalidAttributes",INVALID_ENTITY:"InvalidEntity",INVALID_KEY_ATTRIBUTE:"InvalidKeyAttributes",INVALID_TYPE_VALUE:"InvalidTypeValue",MISSING_REQUIRED_FIELDS:"MissingRequiredFields",UNSUPPORTED_LOG_GROUP_TYPE:"UnsupportedLogGroupType"},fe={AWSWAF:"AWSWAF",CLOUD_TRAIL:"CloudTrail",EKS_AUDIT:"EKSAudit",ROUTE53_RESOLVER:"Route53Resolver",VPC_FLOW:"VPCFlow"},me={FIRST:"first",LAST:"last"},ge={ACTIVE:"ACTIVE",ERROR:"ERROR",NOT_FOUND:"NOT_FOUND"};(d||(d={})).visit=c((e,t)=>void 0!==e.openSearchIntegrationDetails?t.openSearchIntegrationDetails(e.openSearchIntegrationDetails):t._(e.$unknown[0],e.$unknown[1]),"visit");var ye,be={ACTIVE:"ACTIVE",FAILED:"FAILED",PROVISIONING:"PROVISIONING"},ve={OPENSEARCH:"OPENSEARCH"},_e=class e extends k{static{c(this,"InternalStreamingException")}name="InternalStreamingException";$fault="client";constructor(t){super({name:"InternalStreamingException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}};(ye||(ye={})).visit=c((e,t)=>void 0!==e.fields?t.fields(e.fields):void 0!==e.InternalStreamingException?t.InternalStreamingException(e.InternalStreamingException):t._(e.$unknown[0],e.$unknown[1]),"visit");var Se,we={V1_1:"V1.1"},Ee={BOOLEAN:"boolean",DOUBLE:"double",INTEGER:"integer",STRING:"string"},Pe=class e extends k{static{c(this,"InvalidSequenceTokenException")}name="InvalidSequenceTokenException";$fault="client";expectedSequenceToken;constructor(t){super({name:"InvalidSequenceTokenException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype),this.expectedSequenceToken=t.expectedSequenceToken}},Ce={SUPPRESSED:"SUPPRESSED",UNSUPPRESSED:"UNSUPPRESSED"};(Se||(Se={})).visit=c((e,t)=>void 0!==e.openSearchResourceConfig?t.openSearchResourceConfig(e.openSearchResourceConfig):t._(e.$unknown[0],e.$unknown[1]),"visit");var Oe,Ae=class e extends k{static{c(this,"UnrecognizedClientException")}name="UnrecognizedClientException";$fault="client";constructor(t){super({name:"UnrecognizedClientException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}},xe=class e extends k{static{c(this,"SessionStreamingException")}name="SessionStreamingException";$fault="client";constructor(t){super({name:"SessionStreamingException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}},Ie=class e extends k{static{c(this,"SessionTimeoutException")}name="SessionTimeoutException";$fault="client";constructor(t){super({name:"SessionTimeoutException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}};(Oe||(Oe={})).visit=c((e,t)=>void 0!==e.sessionStart?t.sessionStart(e.sessionStart):void 0!==e.sessionUpdate?t.sessionUpdate(e.sessionUpdate):void 0!==e.SessionTimeoutException?t.SessionTimeoutException(e.SessionTimeoutException):void 0!==e.SessionStreamingException?t.SessionStreamingException(e.SessionStreamingException):t._(e.$unknown[0],e.$unknown[1]),"visit");var Re=class e extends k{static{c(this,"MalformedQueryException")}name="MalformedQueryException";$fault="client";queryCompileError;constructor(t){super({name:"MalformedQueryException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype),this.queryCompileError=t.queryCompileError}},Te=class e extends k{static{c(this,"TooManyTagsException")}name="TooManyTagsException";$fault="client";resourceName;constructor(t){super({name:"TooManyTagsException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype),this.resourceName=t.resourceName}},De={HOURS:"HOURS",MINUTES:"MINUTES",SECONDS:"SECONDS"},Ne={INFINITE:"INFINITE",LIMITED:"LIMITED"},je=c(e=>void 0!==e.fields?{fields:e.fields}:void 0!==e.InternalStreamingException?{InternalStreamingException:e.InternalStreamingException}:void 0!==e.$unknown?{[e.$unknown[0]]:"UNKNOWN"}:void 0,"GetLogObjectResponseStreamFilterSensitiveLog"),ke=c(e=>({...e,...e.fieldStream&&{fieldStream:"STREAMING_CONTENT"}}),"GetLogObjectResponseFilterSensitiveLog"),Me=c(e=>void 0!==e.sessionStart?{sessionStart:e.sessionStart}:void 0!==e.sessionUpdate?{sessionUpdate:e.sessionUpdate}:void 0!==e.SessionTimeoutException?{SessionTimeoutException:e.SessionTimeoutException}:void 0!==e.SessionStreamingException?{SessionStreamingException:e.SessionStreamingException}:void 0!==e.$unknown?{[e.$unknown[0]]:"UNKNOWN"}:void 0,"StartLiveTailResponseStreamFilterSensitiveLog"),Le=c(e=>({...e,...e.responseStream&&{responseStream:"STREAMING_CONTENT"}}),"StartLiveTailResponseFilterSensitiveLog"),Fe=c(async(e,t)=>{const r=Ks("AssociateKmsKey");let n;return n=JSON.stringify((0,A._json)(e)),Js(t,r,"/",void 0,n)},"se_AssociateKmsKeyCommand"),$e=c(async(e,t)=>{const r=Ks("CancelExportTask");let n;return n=JSON.stringify((0,A._json)(e)),Js(t,r,"/",void 0,n)},"se_CancelExportTaskCommand"),Ue=c(async(e,t)=>{const r=Ks("CreateDelivery");let n;return n=JSON.stringify((0,A._json)(e)),Js(t,r,"/",void 0,n)},"se_CreateDeliveryCommand"),Be=c(async(e,t)=>{const r=Ks("CreateExportTask");let n;return n=JSON.stringify((0,A._json)(e)),Js(t,r,"/",void 0,n)},"se_CreateExportTaskCommand"),He=c(async(e,t)=>{const r=Ks("CreateLogAnomalyDetector");let n;return n=JSON.stringify((0,A._json)(e)),Js(t,r,"/",void 0,n)},"se_CreateLogAnomalyDetectorCommand"),Ge=c(async(e,t)=>{const r=Ks("CreateLogGroup");let n;return n=JSON.stringify((0,A._json)(e)),Js(t,r,"/",void 0,n)},"se_CreateLogGroupCommand"),ze=c(async(e,t)=>{const r=Ks("CreateLogStream");let n;return n=JSON.stringify((0,A._json)(e)),Js(t,r,"/",void 0,n)},"se_CreateLogStreamCommand"),qe=c(async(e,t)=>{const r=Ks("DeleteAccountPolicy");let n;return n=JSON.stringify((0,A._json)(e)),Js(t,r,"/",void 0,n)},"se_DeleteAccountPolicyCommand"),We=c(async(e,t)=>{const r=Ks("DeleteDataProtectionPolicy");let n;return n=JSON.stringify((0,A._json)(e)),Js(t,r,"/",void 0,n)},"se_DeleteDataProtectionPolicyCommand"),Ve=c(async(e,t)=>{const r=Ks("DeleteDelivery");let n;return n=JSON.stringify((0,A._json)(e)),Js(t,r,"/",void 0,n)},"se_DeleteDeliveryCommand"),Je=c(async(e,t)=>{const r=Ks("DeleteDeliveryDestination");let n;return n=JSON.stringify((0,A._json)(e)),Js(t,r,"/",void 0,n)},"se_DeleteDeliveryDestinationCommand"),Ke=c(async(e,t)=>{const r=Ks("DeleteDeliveryDestinationPolicy");let n;return n=JSON.stringify((0,A._json)(e)),Js(t,r,"/",void 0,n)},"se_DeleteDeliveryDestinationPolicyCommand"),Xe=c(async(e,t)=>{const r=Ks("DeleteDeliverySource");let n;return n=JSON.stringify((0,A._json)(e)),Js(t,r,"/",void 0,n)},"se_DeleteDeliverySourceCommand"),Qe=c(async(e,t)=>{const r=Ks("DeleteDestination");let n;return n=JSON.stringify((0,A._json)(e)),Js(t,r,"/",void 0,n)},"se_DeleteDestinationCommand"),Ye=c(async(e,t)=>{const r=Ks("DeleteIndexPolicy");let n;return n=JSON.stringify((0,A._json)(e)),Js(t,r,"/",void 0,n)},"se_DeleteIndexPolicyCommand"),Ze=c(async(e,t)=>{const r=Ks("DeleteIntegration");let n;return n=JSON.stringify((0,A._json)(e)),Js(t,r,"/",void 0,n)},"se_DeleteIntegrationCommand"),et=c(async(e,t)=>{const r=Ks("DeleteLogAnomalyDetector");let n;return n=JSON.stringify((0,A._json)(e)),Js(t,r,"/",void 0,n)},"se_DeleteLogAnomalyDetectorCommand"),tt=c(async(e,t)=>{const r=Ks("DeleteLogGroup");let n;return n=JSON.stringify((0,A._json)(e)),Js(t,r,"/",void 0,n)},"se_DeleteLogGroupCommand"),rt=c(async(e,t)=>{const r=Ks("DeleteLogStream");let n;return n=JSON.stringify((0,A._json)(e)),Js(t,r,"/",void 0,n)},"se_DeleteLogStreamCommand"),nt=c(async(e,t)=>{const r=Ks("DeleteMetricFilter");let n;return n=JSON.stringify((0,A._json)(e)),Js(t,r,"/",void 0,n)},"se_DeleteMetricFilterCommand"),st=c(async(e,t)=>{const r=Ks("DeleteQueryDefinition");let n;return n=JSON.stringify((0,A._json)(e)),Js(t,r,"/",void 0,n)},"se_DeleteQueryDefinitionCommand"),ot=c(async(e,t)=>{const r=Ks("DeleteResourcePolicy");let n;return n=JSON.stringify((0,A._json)(e)),Js(t,r,"/",void 0,n)},"se_DeleteResourcePolicyCommand"),it=c(async(e,t)=>{const r=Ks("DeleteRetentionPolicy");let n;return n=JSON.stringify((0,A._json)(e)),Js(t,r,"/",void 0,n)},"se_DeleteRetentionPolicyCommand"),at=c(async(e,t)=>{const r=Ks("DeleteSubscriptionFilter");let n;return n=JSON.stringify((0,A._json)(e)),Js(t,r,"/",void 0,n)},"se_DeleteSubscriptionFilterCommand"),ct=c(async(e,t)=>{const r=Ks("DeleteTransformer");let n;return n=JSON.stringify((0,A._json)(e)),Js(t,r,"/",void 0,n)},"se_DeleteTransformerCommand"),lt=c(async(e,t)=>{const r=Ks("DescribeAccountPolicies");let n;return n=JSON.stringify((0,A._json)(e)),Js(t,r,"/",void 0,n)},"se_DescribeAccountPoliciesCommand"),dt=c(async(e,t)=>{const r=Ks("DescribeConfigurationTemplates");let n;return n=JSON.stringify((0,A._json)(e)),Js(t,r,"/",void 0,n)},"se_DescribeConfigurationTemplatesCommand"),ut=c(async(e,t)=>{const r=Ks("DescribeDeliveries");let n;return n=JSON.stringify((0,A._json)(e)),Js(t,r,"/",void 0,n)},"se_DescribeDeliveriesCommand"),pt=c(async(e,t)=>{const r=Ks("DescribeDeliveryDestinations");let n;return n=JSON.stringify((0,A._json)(e)),Js(t,r,"/",void 0,n)},"se_DescribeDeliveryDestinationsCommand"),ht=c(async(e,t)=>{const r=Ks("DescribeDeliverySources");let n;return n=JSON.stringify((0,A._json)(e)),Js(t,r,"/",void 0,n)},"se_DescribeDeliverySourcesCommand"),ft=c(async(e,t)=>{const r=Ks("DescribeDestinations");let n;return n=JSON.stringify((0,A._json)(e)),Js(t,r,"/",void 0,n)},"se_DescribeDestinationsCommand"),mt=c(async(e,t)=>{const r=Ks("DescribeExportTasks");let n;return n=JSON.stringify((0,A._json)(e)),Js(t,r,"/",void 0,n)},"se_DescribeExportTasksCommand"),gt=c(async(e,t)=>{const r=Ks("DescribeFieldIndexes");let n;return n=JSON.stringify((0,A._json)(e)),Js(t,r,"/",void 0,n)},"se_DescribeFieldIndexesCommand"),yt=c(async(e,t)=>{const r=Ks("DescribeIndexPolicies");let n;return n=JSON.stringify((0,A._json)(e)),Js(t,r,"/",void 0,n)},"se_DescribeIndexPoliciesCommand"),bt=c(async(e,t)=>{const r=Ks("DescribeLogGroups");let n;return n=JSON.stringify((0,A._json)(e)),Js(t,r,"/",void 0,n)},"se_DescribeLogGroupsCommand"),vt=c(async(e,t)=>{const r=Ks("DescribeLogStreams");let n;return n=JSON.stringify((0,A._json)(e)),Js(t,r,"/",void 0,n)},"se_DescribeLogStreamsCommand"),_t=c(async(e,t)=>{const r=Ks("DescribeMetricFilters");let n;return n=JSON.stringify((0,A._json)(e)),Js(t,r,"/",void 0,n)},"se_DescribeMetricFiltersCommand"),St=c(async(e,t)=>{const r=Ks("DescribeQueries");let n;return n=JSON.stringify((0,A._json)(e)),Js(t,r,"/",void 0,n)},"se_DescribeQueriesCommand"),wt=c(async(e,t)=>{const r=Ks("DescribeQueryDefinitions");let n;return n=JSON.stringify((0,A._json)(e)),Js(t,r,"/",void 0,n)},"se_DescribeQueryDefinitionsCommand"),Et=c(async(e,t)=>{const r=Ks("DescribeResourcePolicies");let n;return n=JSON.stringify((0,A._json)(e)),Js(t,r,"/",void 0,n)},"se_DescribeResourcePoliciesCommand"),Pt=c(async(e,t)=>{const r=Ks("DescribeSubscriptionFilters");let n;return n=JSON.stringify((0,A._json)(e)),Js(t,r,"/",void 0,n)},"se_DescribeSubscriptionFiltersCommand"),Ct=c(async(e,t)=>{const r=Ks("DisassociateKmsKey");let n;return n=JSON.stringify((0,A._json)(e)),Js(t,r,"/",void 0,n)},"se_DisassociateKmsKeyCommand"),Ot=c(async(e,t)=>{const r=Ks("FilterLogEvents");let n;return n=JSON.stringify((0,A._json)(e)),Js(t,r,"/",void 0,n)},"se_FilterLogEventsCommand"),At=c(async(e,t)=>{const r=Ks("GetDataProtectionPolicy");let n;return n=JSON.stringify((0,A._json)(e)),Js(t,r,"/",void 0,n)},"se_GetDataProtectionPolicyCommand"),xt=c(async(e,t)=>{const r=Ks("GetDelivery");let n;return n=JSON.stringify((0,A._json)(e)),Js(t,r,"/",void 0,n)},"se_GetDeliveryCommand"),It=c(async(e,t)=>{const r=Ks("GetDeliveryDestination");let n;return n=JSON.stringify((0,A._json)(e)),Js(t,r,"/",void 0,n)},"se_GetDeliveryDestinationCommand"),Rt=c(async(e,t)=>{const r=Ks("GetDeliveryDestinationPolicy");let n;return n=JSON.stringify((0,A._json)(e)),Js(t,r,"/",void 0,n)},"se_GetDeliveryDestinationPolicyCommand"),Tt=c(async(e,t)=>{const r=Ks("GetDeliverySource");let n;return n=JSON.stringify((0,A._json)(e)),Js(t,r,"/",void 0,n)},"se_GetDeliverySourceCommand"),Dt=c(async(e,t)=>{const r=Ks("GetIntegration");let n;return n=JSON.stringify((0,A._json)(e)),Js(t,r,"/",void 0,n)},"se_GetIntegrationCommand"),Nt=c(async(e,t)=>{const r=Ks("GetLogAnomalyDetector");let n;return n=JSON.stringify((0,A._json)(e)),Js(t,r,"/",void 0,n)},"se_GetLogAnomalyDetectorCommand"),jt=c(async(e,t)=>{const r=Ks("GetLogEvents");let n;return n=JSON.stringify((0,A._json)(e)),Js(t,r,"/",void 0,n)},"se_GetLogEventsCommand"),kt=c(async(e,t)=>{const r=Ks("GetLogGroupFields");let n;return n=JSON.stringify((0,A._json)(e)),Js(t,r,"/",void 0,n)},"se_GetLogGroupFieldsCommand"),Mt=c(async(e,t)=>{const r=Ks("GetLogObject");let n;n=JSON.stringify((0,A._json)(e));let{hostname:s}=await t.endpoint();if(!0!==t.disableHostPrefix&&(s="streaming-"+s,!(0,O.isValidHostname)(s)))throw new Error("ValidationError: prefixed hostname must be hostname compatible.");return Js(t,r,"/",s,n)},"se_GetLogObjectCommand"),Lt=c(async(e,t)=>{const r=Ks("GetLogRecord");let n;return n=JSON.stringify((0,A._json)(e)),Js(t,r,"/",void 0,n)},"se_GetLogRecordCommand"),Ft=c(async(e,t)=>{const r=Ks("GetQueryResults");let n;return n=JSON.stringify((0,A._json)(e)),Js(t,r,"/",void 0,n)},"se_GetQueryResultsCommand"),$t=c(async(e,t)=>{const r=Ks("GetTransformer");let n;return n=JSON.stringify((0,A._json)(e)),Js(t,r,"/",void 0,n)},"se_GetTransformerCommand"),Ut=c(async(e,t)=>{const r=Ks("ListAnomalies");let n;return n=JSON.stringify((0,A._json)(e)),Js(t,r,"/",void 0,n)},"se_ListAnomaliesCommand"),Bt=c(async(e,t)=>{const r=Ks("ListIntegrations");let n;return n=JSON.stringify((0,A._json)(e)),Js(t,r,"/",void 0,n)},"se_ListIntegrationsCommand"),Ht=c(async(e,t)=>{const r=Ks("ListLogAnomalyDetectors");let n;return n=JSON.stringify((0,A._json)(e)),Js(t,r,"/",void 0,n)},"se_ListLogAnomalyDetectorsCommand"),Gt=c(async(e,t)=>{const r=Ks("ListLogGroups");let n;return n=JSON.stringify((0,A._json)(e)),Js(t,r,"/",void 0,n)},"se_ListLogGroupsCommand"),zt=c(async(e,t)=>{const r=Ks("ListLogGroupsForQuery");let n;return n=JSON.stringify((0,A._json)(e)),Js(t,r,"/",void 0,n)},"se_ListLogGroupsForQueryCommand"),qt=c(async(e,t)=>{const r=Ks("ListTagsForResource");let n;return n=JSON.stringify((0,A._json)(e)),Js(t,r,"/",void 0,n)},"se_ListTagsForResourceCommand"),Wt=c(async(e,t)=>{const r=Ks("ListTagsLogGroup");let n;return n=JSON.stringify((0,A._json)(e)),Js(t,r,"/",void 0,n)},"se_ListTagsLogGroupCommand"),Vt=c(async(e,t)=>{const r=Ks("PutAccountPolicy");let n;return n=JSON.stringify((0,A._json)(e)),Js(t,r,"/",void 0,n)},"se_PutAccountPolicyCommand"),Jt=c(async(e,t)=>{const r=Ks("PutDataProtectionPolicy");let n;return n=JSON.stringify((0,A._json)(e)),Js(t,r,"/",void 0,n)},"se_PutDataProtectionPolicyCommand"),Kt=c(async(e,t)=>{const r=Ks("PutDeliveryDestination");let n;return n=JSON.stringify((0,A._json)(e)),Js(t,r,"/",void 0,n)},"se_PutDeliveryDestinationCommand"),Xt=c(async(e,t)=>{const r=Ks("PutDeliveryDestinationPolicy");let n;return n=JSON.stringify((0,A._json)(e)),Js(t,r,"/",void 0,n)},"se_PutDeliveryDestinationPolicyCommand"),Qt=c(async(e,t)=>{const r=Ks("PutDeliverySource");let n;return n=JSON.stringify((0,A._json)(e)),Js(t,r,"/",void 0,n)},"se_PutDeliverySourceCommand"),Yt=c(async(e,t)=>{const r=Ks("PutDestination");let n;return n=JSON.stringify((0,A._json)(e)),Js(t,r,"/",void 0,n)},"se_PutDestinationCommand"),Zt=c(async(e,t)=>{const r=Ks("PutDestinationPolicy");let n;return n=JSON.stringify((0,A._json)(e)),Js(t,r,"/",void 0,n)},"se_PutDestinationPolicyCommand"),er=c(async(e,t)=>{const r=Ks("PutIndexPolicy");let n;return n=JSON.stringify((0,A._json)(e)),Js(t,r,"/",void 0,n)},"se_PutIndexPolicyCommand"),tr=c(async(e,t)=>{const r=Ks("PutIntegration");let n;return n=JSON.stringify((0,A._json)(e)),Js(t,r,"/",void 0,n)},"se_PutIntegrationCommand"),rr=c(async(e,t)=>{const r=Ks("PutLogEvents");let n;return n=JSON.stringify((0,A._json)(e)),Js(t,r,"/",void 0,n)},"se_PutLogEventsCommand"),nr=c(async(e,t)=>{const r=Ks("PutMetricFilter");let n;return n=JSON.stringify(Ms(e,t)),Js(t,r,"/",void 0,n)},"se_PutMetricFilterCommand"),sr=c(async(e,t)=>{const r=Ks("PutQueryDefinition");let n;return n=JSON.stringify(Ls(e,t)),Js(t,r,"/",void 0,n)},"se_PutQueryDefinitionCommand"),or=c(async(e,t)=>{const r=Ks("PutResourcePolicy");let n;return n=JSON.stringify((0,A._json)(e)),Js(t,r,"/",void 0,n)},"se_PutResourcePolicyCommand"),ir=c(async(e,t)=>{const r=Ks("PutRetentionPolicy");let n;return n=JSON.stringify((0,A._json)(e)),Js(t,r,"/",void 0,n)},"se_PutRetentionPolicyCommand"),ar=c(async(e,t)=>{const r=Ks("PutSubscriptionFilter");let n;return n=JSON.stringify((0,A._json)(e)),Js(t,r,"/",void 0,n)},"se_PutSubscriptionFilterCommand"),cr=c(async(e,t)=>{const r=Ks("PutTransformer");let n;return n=JSON.stringify((0,A._json)(e)),Js(t,r,"/",void 0,n)},"se_PutTransformerCommand"),lr=c(async(e,t)=>{const r=Ks("StartLiveTail");let n;n=JSON.stringify((0,A._json)(e));let{hostname:s}=await t.endpoint();if(!0!==t.disableHostPrefix&&(s="streaming-"+s,!(0,O.isValidHostname)(s)))throw new Error("ValidationError: prefixed hostname must be hostname compatible.");return Js(t,r,"/",s,n)},"se_StartLiveTailCommand"),dr=c(async(e,t)=>{const r=Ks("StartQuery");let n;return n=JSON.stringify((0,A._json)(e)),Js(t,r,"/",void 0,n)},"se_StartQueryCommand"),ur=c(async(e,t)=>{const r=Ks("StopQuery");let n;return n=JSON.stringify((0,A._json)(e)),Js(t,r,"/",void 0,n)},"se_StopQueryCommand"),pr=c(async(e,t)=>{const r=Ks("TagLogGroup");let n;return n=JSON.stringify((0,A._json)(e)),Js(t,r,"/",void 0,n)},"se_TagLogGroupCommand"),hr=c(async(e,t)=>{const r=Ks("TagResource");let n;return n=JSON.stringify((0,A._json)(e)),Js(t,r,"/",void 0,n)},"se_TagResourceCommand"),fr=c(async(e,t)=>{const r=Ks("TestMetricFilter");let n;return n=JSON.stringify((0,A._json)(e)),Js(t,r,"/",void 0,n)},"se_TestMetricFilterCommand"),mr=c(async(e,t)=>{const r=Ks("TestTransformer");let n;return n=JSON.stringify((0,A._json)(e)),Js(t,r,"/",void 0,n)},"se_TestTransformerCommand"),gr=c(async(e,t)=>{const r=Ks("UntagLogGroup");let n;return n=JSON.stringify((0,A._json)(e)),Js(t,r,"/",void 0,n)},"se_UntagLogGroupCommand"),yr=c(async(e,t)=>{const r=Ks("UntagResource");let n;return n=JSON.stringify((0,A._json)(e)),Js(t,r,"/",void 0,n)},"se_UntagResourceCommand"),br=c(async(e,t)=>{const r=Ks("UpdateAnomaly");let n;return n=JSON.stringify((0,A._json)(e)),Js(t,r,"/",void 0,n)},"se_UpdateAnomalyCommand"),vr=c(async(e,t)=>{const r=Ks("UpdateDeliveryConfiguration");let n;return n=JSON.stringify((0,A._json)(e)),Js(t,r,"/",void 0,n)},"se_UpdateDeliveryConfigurationCommand"),_r=c(async(e,t)=>{const r=Ks("UpdateLogAnomalyDetector");let n;return n=JSON.stringify((0,A._json)(e)),Js(t,r,"/",void 0,n)},"se_UpdateLogAnomalyDetectorCommand"),Sr=c(async(e,t)=>{if(e.statusCode>=300)return os(e,t);await(0,A.collectBody)(e.body,t);return{$metadata:Ws(e)}},"de_AssociateKmsKeyCommand"),wr=c(async(e,t)=>{if(e.statusCode>=300)return os(e,t);await(0,A.collectBody)(e.body,t);return{$metadata:Ws(e)}},"de_CancelExportTaskCommand"),Er=c(async(e,t)=>{if(e.statusCode>=300)return os(e,t);const r=await(0,N.parseJsonBody)(e.body,t);let n={};n=(0,A._json)(r);return{$metadata:Ws(e),...n}},"de_CreateDeliveryCommand"),Pr=c(async(e,t)=>{if(e.statusCode>=300)return os(e,t);const r=await(0,N.parseJsonBody)(e.body,t);let n={};n=(0,A._json)(r);return{$metadata:Ws(e),...n}},"de_CreateExportTaskCommand"),Cr=c(async(e,t)=>{if(e.statusCode>=300)return os(e,t);const r=await(0,N.parseJsonBody)(e.body,t);let n={};n=(0,A._json)(r);return{$metadata:Ws(e),...n}},"de_CreateLogAnomalyDetectorCommand"),Or=c(async(e,t)=>{if(e.statusCode>=300)return os(e,t);await(0,A.collectBody)(e.body,t);return{$metadata:Ws(e)}},"de_CreateLogGroupCommand"),Ar=c(async(e,t)=>{if(e.statusCode>=300)return os(e,t);await(0,A.collectBody)(e.body,t);return{$metadata:Ws(e)}},"de_CreateLogStreamCommand"),xr=c(async(e,t)=>{if(e.statusCode>=300)return os(e,t);await(0,A.collectBody)(e.body,t);return{$metadata:Ws(e)}},"de_DeleteAccountPolicyCommand"),Ir=c(async(e,t)=>{if(e.statusCode>=300)return os(e,t);await(0,A.collectBody)(e.body,t);return{$metadata:Ws(e)}},"de_DeleteDataProtectionPolicyCommand"),Rr=c(async(e,t)=>{if(e.statusCode>=300)return os(e,t);await(0,A.collectBody)(e.body,t);return{$metadata:Ws(e)}},"de_DeleteDeliveryCommand"),Tr=c(async(e,t)=>{if(e.statusCode>=300)return os(e,t);await(0,A.collectBody)(e.body,t);return{$metadata:Ws(e)}},"de_DeleteDeliveryDestinationCommand"),Dr=c(async(e,t)=>{if(e.statusCode>=300)return os(e,t);await(0,A.collectBody)(e.body,t);return{$metadata:Ws(e)}},"de_DeleteDeliveryDestinationPolicyCommand"),Nr=c(async(e,t)=>{if(e.statusCode>=300)return os(e,t);await(0,A.collectBody)(e.body,t);return{$metadata:Ws(e)}},"de_DeleteDeliverySourceCommand"),jr=c(async(e,t)=>{if(e.statusCode>=300)return os(e,t);await(0,A.collectBody)(e.body,t);return{$metadata:Ws(e)}},"de_DeleteDestinationCommand"),kr=c(async(e,t)=>{if(e.statusCode>=300)return os(e,t);const r=await(0,N.parseJsonBody)(e.body,t);let n={};n=(0,A._json)(r);return{$metadata:Ws(e),...n}},"de_DeleteIndexPolicyCommand"),Mr=c(async(e,t)=>{if(e.statusCode>=300)return os(e,t);const r=await(0,N.parseJsonBody)(e.body,t);let n={};n=(0,A._json)(r);return{$metadata:Ws(e),...n}},"de_DeleteIntegrationCommand"),Lr=c(async(e,t)=>{if(e.statusCode>=300)return os(e,t);await(0,A.collectBody)(e.body,t);return{$metadata:Ws(e)}},"de_DeleteLogAnomalyDetectorCommand"),Fr=c(async(e,t)=>{if(e.statusCode>=300)return os(e,t);await(0,A.collectBody)(e.body,t);return{$metadata:Ws(e)}},"de_DeleteLogGroupCommand"),$r=c(async(e,t)=>{if(e.statusCode>=300)return os(e,t);await(0,A.collectBody)(e.body,t);return{$metadata:Ws(e)}},"de_DeleteLogStreamCommand"),Ur=c(async(e,t)=>{if(e.statusCode>=300)return os(e,t);await(0,A.collectBody)(e.body,t);return{$metadata:Ws(e)}},"de_DeleteMetricFilterCommand"),Br=c(async(e,t)=>{if(e.statusCode>=300)return os(e,t);const r=await(0,N.parseJsonBody)(e.body,t);let n={};n=(0,A._json)(r);return{$metadata:Ws(e),...n}},"de_DeleteQueryDefinitionCommand"),Hr=c(async(e,t)=>{if(e.statusCode>=300)return os(e,t);await(0,A.collectBody)(e.body,t);return{$metadata:Ws(e)}},"de_DeleteResourcePolicyCommand"),Gr=c(async(e,t)=>{if(e.statusCode>=300)return os(e,t);await(0,A.collectBody)(e.body,t);return{$metadata:Ws(e)}},"de_DeleteRetentionPolicyCommand"),zr=c(async(e,t)=>{if(e.statusCode>=300)return os(e,t);await(0,A.collectBody)(e.body,t);return{$metadata:Ws(e)}},"de_DeleteSubscriptionFilterCommand"),qr=c(async(e,t)=>{if(e.statusCode>=300)return os(e,t);await(0,A.collectBody)(e.body,t);return{$metadata:Ws(e)}},"de_DeleteTransformerCommand"),Wr=c(async(e,t)=>{if(e.statusCode>=300)return os(e,t);const r=await(0,N.parseJsonBody)(e.body,t);let n={};n=(0,A._json)(r);return{$metadata:Ws(e),...n}},"de_DescribeAccountPoliciesCommand"),Vr=c(async(e,t)=>{if(e.statusCode>=300)return os(e,t);const r=await(0,N.parseJsonBody)(e.body,t);let n={};n=(0,A._json)(r);return{$metadata:Ws(e),...n}},"de_DescribeConfigurationTemplatesCommand"),Jr=c(async(e,t)=>{if(e.statusCode>=300)return os(e,t);const r=await(0,N.parseJsonBody)(e.body,t);let n={};n=(0,A._json)(r);return{$metadata:Ws(e),...n}},"de_DescribeDeliveriesCommand"),Kr=c(async(e,t)=>{if(e.statusCode>=300)return os(e,t);const r=await(0,N.parseJsonBody)(e.body,t);let n={};n=(0,A._json)(r);return{$metadata:Ws(e),...n}},"de_DescribeDeliveryDestinationsCommand"),Xr=c(async(e,t)=>{if(e.statusCode>=300)return os(e,t);const r=await(0,N.parseJsonBody)(e.body,t);let n={};n=(0,A._json)(r);return{$metadata:Ws(e),...n}},"de_DescribeDeliverySourcesCommand"),Qr=c(async(e,t)=>{if(e.statusCode>=300)return os(e,t);const r=await(0,N.parseJsonBody)(e.body,t);let n={};n=(0,A._json)(r);return{$metadata:Ws(e),...n}},"de_DescribeDestinationsCommand"),Yr=c(async(e,t)=>{if(e.statusCode>=300)return os(e,t);const r=await(0,N.parseJsonBody)(e.body,t);let n={};n=(0,A._json)(r);return{$metadata:Ws(e),...n}},"de_DescribeExportTasksCommand"),Zr=c(async(e,t)=>{if(e.statusCode>=300)return os(e,t);const r=await(0,N.parseJsonBody)(e.body,t);let n={};n=(0,A._json)(r);return{$metadata:Ws(e),...n}},"de_DescribeFieldIndexesCommand"),en=c(async(e,t)=>{if(e.statusCode>=300)return os(e,t);const r=await(0,N.parseJsonBody)(e.body,t);let n={};n=(0,A._json)(r);return{$metadata:Ws(e),...n}},"de_DescribeIndexPoliciesCommand"),tn=c(async(e,t)=>{if(e.statusCode>=300)return os(e,t);const r=await(0,N.parseJsonBody)(e.body,t);let n={};n=(0,A._json)(r);return{$metadata:Ws(e),...n}},"de_DescribeLogGroupsCommand"),rn=c(async(e,t)=>{if(e.statusCode>=300)return os(e,t);const r=await(0,N.parseJsonBody)(e.body,t);let n={};n=(0,A._json)(r);return{$metadata:Ws(e),...n}},"de_DescribeLogStreamsCommand"),nn=c(async(e,t)=>{if(e.statusCode>=300)return os(e,t);const r=await(0,N.parseJsonBody)(e.body,t);let n={};n=Fs(r,t);return{$metadata:Ws(e),...n}},"de_DescribeMetricFiltersCommand"),sn=c(async(e,t)=>{if(e.statusCode>=300)return os(e,t);const r=await(0,N.parseJsonBody)(e.body,t);let n={};n=(0,A._json)(r);return{$metadata:Ws(e),...n}},"de_DescribeQueriesCommand"),on=c(async(e,t)=>{if(e.statusCode>=300)return os(e,t);const r=await(0,N.parseJsonBody)(e.body,t);let n={};n=(0,A._json)(r);return{$metadata:Ws(e),...n}},"de_DescribeQueryDefinitionsCommand"),an=c(async(e,t)=>{if(e.statusCode>=300)return os(e,t);const r=await(0,N.parseJsonBody)(e.body,t);let n={};n=(0,A._json)(r);return{$metadata:Ws(e),...n}},"de_DescribeResourcePoliciesCommand"),cn=c(async(e,t)=>{if(e.statusCode>=300)return os(e,t);const r=await(0,N.parseJsonBody)(e.body,t);let n={};n=(0,A._json)(r);return{$metadata:Ws(e),...n}},"de_DescribeSubscriptionFiltersCommand"),ln=c(async(e,t)=>{if(e.statusCode>=300)return os(e,t);await(0,A.collectBody)(e.body,t);return{$metadata:Ws(e)}},"de_DisassociateKmsKeyCommand"),dn=c(async(e,t)=>{if(e.statusCode>=300)return os(e,t);const r=await(0,N.parseJsonBody)(e.body,t);let n={};n=(0,A._json)(r);return{$metadata:Ws(e),...n}},"de_FilterLogEventsCommand"),un=c(async(e,t)=>{if(e.statusCode>=300)return os(e,t);const r=await(0,N.parseJsonBody)(e.body,t);let n={};n=(0,A._json)(r);return{$metadata:Ws(e),...n}},"de_GetDataProtectionPolicyCommand"),pn=c(async(e,t)=>{if(e.statusCode>=300)return os(e,t);const r=await(0,N.parseJsonBody)(e.body,t);let n={};n=(0,A._json)(r);return{$metadata:Ws(e),...n}},"de_GetDeliveryCommand"),hn=c(async(e,t)=>{if(e.statusCode>=300)return os(e,t);const r=await(0,N.parseJsonBody)(e.body,t);let n={};n=(0,A._json)(r);return{$metadata:Ws(e),...n}},"de_GetDeliveryDestinationCommand"),fn=c(async(e,t)=>{if(e.statusCode>=300)return os(e,t);const r=await(0,N.parseJsonBody)(e.body,t);let n={};n=(0,A._json)(r);return{$metadata:Ws(e),...n}},"de_GetDeliveryDestinationPolicyCommand"),mn=c(async(e,t)=>{if(e.statusCode>=300)return os(e,t);const r=await(0,N.parseJsonBody)(e.body,t);let n={};n=(0,A._json)(r);return{$metadata:Ws(e),...n}},"de_GetDeliverySourceCommand"),gn=c(async(e,t)=>{if(e.statusCode>=300)return os(e,t);const r=await(0,N.parseJsonBody)(e.body,t);let n={};n=(0,A._json)(r);return{$metadata:Ws(e),...n}},"de_GetIntegrationCommand"),yn=c(async(e,t)=>{if(e.statusCode>=300)return os(e,t);const r=await(0,N.parseJsonBody)(e.body,t);let n={};n=(0,A._json)(r);return{$metadata:Ws(e),...n}},"de_GetLogAnomalyDetectorCommand"),bn=c(async(e,t)=>{if(e.statusCode>=300)return os(e,t);const r=await(0,N.parseJsonBody)(e.body,t);let n={};n=(0,A._json)(r);return{$metadata:Ws(e),...n}},"de_GetLogEventsCommand"),vn=c(async(e,t)=>{if(e.statusCode>=300)return os(e,t);const r=await(0,N.parseJsonBody)(e.body,t);let n={};n=(0,A._json)(r);return{$metadata:Ws(e),...n}},"de_GetLogGroupFieldsCommand"),_n=c(async(e,t)=>{if(e.statusCode>=300)return os(e,t);const r={fieldStream:Es(e.body,t)};return{$metadata:Ws(e),...r}},"de_GetLogObjectCommand"),Sn=c(async(e,t)=>{if(e.statusCode>=300)return os(e,t);const r=await(0,N.parseJsonBody)(e.body,t);let n={};n=(0,A._json)(r);return{$metadata:Ws(e),...n}},"de_GetLogRecordCommand"),wn=c(async(e,t)=>{if(e.statusCode>=300)return os(e,t);const r=await(0,N.parseJsonBody)(e.body,t);let n={};n=Us(r,t);return{$metadata:Ws(e),...n}},"de_GetQueryResultsCommand"),En=c(async(e,t)=>{if(e.statusCode>=300)return os(e,t);const r=await(0,N.parseJsonBody)(e.body,t);let n={};n=(0,A._json)(r);return{$metadata:Ws(e),...n}},"de_GetTransformerCommand"),Pn=c(async(e,t)=>{if(e.statusCode>=300)return os(e,t);const r=await(0,N.parseJsonBody)(e.body,t);let n={};n=(0,A._json)(r);return{$metadata:Ws(e),...n}},"de_ListAnomaliesCommand"),Cn=c(async(e,t)=>{if(e.statusCode>=300)return os(e,t);const r=await(0,N.parseJsonBody)(e.body,t);let n={};n=(0,A._json)(r);return{$metadata:Ws(e),...n}},"de_ListIntegrationsCommand"),On=c(async(e,t)=>{if(e.statusCode>=300)return os(e,t);const r=await(0,N.parseJsonBody)(e.body,t);let n={};n=(0,A._json)(r);return{$metadata:Ws(e),...n}},"de_ListLogAnomalyDetectorsCommand"),An=c(async(e,t)=>{if(e.statusCode>=300)return os(e,t);const r=await(0,N.parseJsonBody)(e.body,t);let n={};n=(0,A._json)(r);return{$metadata:Ws(e),...n}},"de_ListLogGroupsCommand"),xn=c(async(e,t)=>{if(e.statusCode>=300)return os(e,t);const r=await(0,N.parseJsonBody)(e.body,t);let n={};n=(0,A._json)(r);return{$metadata:Ws(e),...n}},"de_ListLogGroupsForQueryCommand"),In=c(async(e,t)=>{if(e.statusCode>=300)return os(e,t);const r=await(0,N.parseJsonBody)(e.body,t);let n={};n=(0,A._json)(r);return{$metadata:Ws(e),...n}},"de_ListTagsForResourceCommand"),Rn=c(async(e,t)=>{if(e.statusCode>=300)return os(e,t);const r=await(0,N.parseJsonBody)(e.body,t);let n={};n=(0,A._json)(r);return{$metadata:Ws(e),...n}},"de_ListTagsLogGroupCommand"),Tn=c(async(e,t)=>{if(e.statusCode>=300)return os(e,t);const r=await(0,N.parseJsonBody)(e.body,t);let n={};n=(0,A._json)(r);return{$metadata:Ws(e),...n}},"de_PutAccountPolicyCommand"),Dn=c(async(e,t)=>{if(e.statusCode>=300)return os(e,t);const r=await(0,N.parseJsonBody)(e.body,t);let n={};n=(0,A._json)(r);return{$metadata:Ws(e),...n}},"de_PutDataProtectionPolicyCommand"),Nn=c(async(e,t)=>{if(e.statusCode>=300)return os(e,t);const r=await(0,N.parseJsonBody)(e.body,t);let n={};n=(0,A._json)(r);return{$metadata:Ws(e),...n}},"de_PutDeliveryDestinationCommand"),jn=c(async(e,t)=>{if(e.statusCode>=300)return os(e,t);const r=await(0,N.parseJsonBody)(e.body,t);let n={};n=(0,A._json)(r);return{$metadata:Ws(e),...n}},"de_PutDeliveryDestinationPolicyCommand"),kn=c(async(e,t)=>{if(e.statusCode>=300)return os(e,t);const r=await(0,N.parseJsonBody)(e.body,t);let n={};n=(0,A._json)(r);return{$metadata:Ws(e),...n}},"de_PutDeliverySourceCommand"),Mn=c(async(e,t)=>{if(e.statusCode>=300)return os(e,t);const r=await(0,N.parseJsonBody)(e.body,t);let n={};n=(0,A._json)(r);return{$metadata:Ws(e),...n}},"de_PutDestinationCommand"),Ln=c(async(e,t)=>{if(e.statusCode>=300)return os(e,t);await(0,A.collectBody)(e.body,t);return{$metadata:Ws(e)}},"de_PutDestinationPolicyCommand"),Fn=c(async(e,t)=>{if(e.statusCode>=300)return os(e,t);const r=await(0,N.parseJsonBody)(e.body,t);let n={};n=(0,A._json)(r);return{$metadata:Ws(e),...n}},"de_PutIndexPolicyCommand"),$n=c(async(e,t)=>{if(e.statusCode>=300)return os(e,t);const r=await(0,N.parseJsonBody)(e.body,t);let n={};n=(0,A._json)(r);return{$metadata:Ws(e),...n}},"de_PutIntegrationCommand"),Un=c(async(e,t)=>{if(e.statusCode>=300)return os(e,t);const r=await(0,N.parseJsonBody)(e.body,t);let n={};n=(0,A._json)(r);return{$metadata:Ws(e),...n}},"de_PutLogEventsCommand"),Bn=c(async(e,t)=>{if(e.statusCode>=300)return os(e,t);await(0,A.collectBody)(e.body,t);return{$metadata:Ws(e)}},"de_PutMetricFilterCommand"),Hn=c(async(e,t)=>{if(e.statusCode>=300)return os(e,t);const r=await(0,N.parseJsonBody)(e.body,t);let n={};n=(0,A._json)(r);return{$metadata:Ws(e),...n}},"de_PutQueryDefinitionCommand"),Gn=c(async(e,t)=>{if(e.statusCode>=300)return os(e,t);const r=await(0,N.parseJsonBody)(e.body,t);let n={};n=(0,A._json)(r);return{$metadata:Ws(e),...n}},"de_PutResourcePolicyCommand"),zn=c(async(e,t)=>{if(e.statusCode>=300)return os(e,t);await(0,A.collectBody)(e.body,t);return{$metadata:Ws(e)}},"de_PutRetentionPolicyCommand"),qn=c(async(e,t)=>{if(e.statusCode>=300)return os(e,t);await(0,A.collectBody)(e.body,t);return{$metadata:Ws(e)}},"de_PutSubscriptionFilterCommand"),Wn=c(async(e,t)=>{if(e.statusCode>=300)return os(e,t);await(0,A.collectBody)(e.body,t);return{$metadata:Ws(e)}},"de_PutTransformerCommand"),Vn=c(async(e,t)=>{if(e.statusCode>=300)return os(e,t);const r={responseStream:Ps(e.body,t)};return{$metadata:Ws(e),...r}},"de_StartLiveTailCommand"),Jn=c(async(e,t)=>{if(e.statusCode>=300)return os(e,t);const r=await(0,N.parseJsonBody)(e.body,t);let n={};n=(0,A._json)(r);return{$metadata:Ws(e),...n}},"de_StartQueryCommand"),Kn=c(async(e,t)=>{if(e.statusCode>=300)return os(e,t);const r=await(0,N.parseJsonBody)(e.body,t);let n={};n=(0,A._json)(r);return{$metadata:Ws(e),...n}},"de_StopQueryCommand"),Xn=c(async(e,t)=>{if(e.statusCode>=300)return os(e,t);await(0,A.collectBody)(e.body,t);return{$metadata:Ws(e)}},"de_TagLogGroupCommand"),Qn=c(async(e,t)=>{if(e.statusCode>=300)return os(e,t);await(0,A.collectBody)(e.body,t);return{$metadata:Ws(e)}},"de_TagResourceCommand"),Yn=c(async(e,t)=>{if(e.statusCode>=300)return os(e,t);const r=await(0,N.parseJsonBody)(e.body,t);let n={};n=(0,A._json)(r);return{$metadata:Ws(e),...n}},"de_TestMetricFilterCommand"),Zn=c(async(e,t)=>{if(e.statusCode>=300)return os(e,t);const r=await(0,N.parseJsonBody)(e.body,t);let n={};n=(0,A._json)(r);return{$metadata:Ws(e),...n}},"de_TestTransformerCommand"),es=c(async(e,t)=>{if(e.statusCode>=300)return os(e,t);await(0,A.collectBody)(e.body,t);return{$metadata:Ws(e)}},"de_UntagLogGroupCommand"),ts=c(async(e,t)=>{if(e.statusCode>=300)return os(e,t);await(0,A.collectBody)(e.body,t);return{$metadata:Ws(e)}},"de_UntagResourceCommand"),rs=c(async(e,t)=>{if(e.statusCode>=300)return os(e,t);await(0,A.collectBody)(e.body,t);return{$metadata:Ws(e)}},"de_UpdateAnomalyCommand"),ns=c(async(e,t)=>{if(e.statusCode>=300)return os(e,t);const r=await(0,N.parseJsonBody)(e.body,t);let n={};n=(0,A._json)(r);return{$metadata:Ws(e),...n}},"de_UpdateDeliveryConfigurationCommand"),ss=c(async(e,t)=>{if(e.statusCode>=300)return os(e,t);await(0,A.collectBody)(e.body,t);return{$metadata:Ws(e)}},"de_UpdateLogAnomalyDetectorCommand"),os=c(async(e,t)=>{const r={...e,body:await(0,N.parseJsonErrorBody)(e.body,t)},n=(0,N.loadRestJsonErrorCode)(e,r.body);switch(n){case"InvalidParameterException":case"com.amazonaws.cloudwatchlogs#InvalidParameterException":throw await ds(r,t);case"OperationAbortedException":case"com.amazonaws.cloudwatchlogs#OperationAbortedException":throw await fs(r,t);case"ResourceNotFoundException":case"com.amazonaws.cloudwatchlogs#ResourceNotFoundException":throw await gs(r,t);case"ServiceUnavailableException":case"com.amazonaws.cloudwatchlogs#ServiceUnavailableException":throw await bs(r,t);case"InvalidOperationException":case"com.amazonaws.cloudwatchlogs#InvalidOperationException":throw await ls(r,t);case"AccessDeniedException":case"com.amazonaws.cloudwatchlogs#AccessDeniedException":throw await is(r,t);case"ConflictException":case"com.amazonaws.cloudwatchlogs#ConflictException":throw await as(r,t);case"ServiceQuotaExceededException":case"com.amazonaws.cloudwatchlogs#ServiceQuotaExceededException":throw await ys(r,t);case"ThrottlingException":case"com.amazonaws.cloudwatchlogs#ThrottlingException":throw await vs(r,t);case"ValidationException":case"com.amazonaws.cloudwatchlogs#ValidationException":throw await ws(r,t);case"LimitExceededException":case"com.amazonaws.cloudwatchlogs#LimitExceededException":throw await ps(r,t);case"ResourceAlreadyExistsException":case"com.amazonaws.cloudwatchlogs#ResourceAlreadyExistsException":throw await ms(r,t);case"DataAlreadyAcceptedException":case"com.amazonaws.cloudwatchlogs#DataAlreadyAcceptedException":throw await cs(r,t);case"InvalidSequenceTokenException":case"com.amazonaws.cloudwatchlogs#InvalidSequenceTokenException":throw await us(r,t);case"UnrecognizedClientException":case"com.amazonaws.cloudwatchlogs#UnrecognizedClientException":throw await Ss(r,t);case"MalformedQueryException":case"com.amazonaws.cloudwatchlogs#MalformedQueryException":throw await hs(r,t);case"TooManyTagsException":case"com.amazonaws.cloudwatchlogs#TooManyTagsException":throw await _s(r,t);default:const s=r.body;return Vs({output:e,parsedBody:s,errorCode:n})}},"de_CommandError"),is=c(async(e,t)=>{const r=e.body,n=(0,A._json)(r),s=new M({$metadata:Ws(e),...n});return(0,A.decorateServiceException)(s,r)},"de_AccessDeniedExceptionRes"),as=c(async(e,t)=>{const r=e.body,n=(0,A._json)(r),s=new K({$metadata:Ws(e),...n});return(0,A.decorateServiceException)(s,r)},"de_ConflictExceptionRes"),cs=c(async(e,t)=>{const r=e.body,n=(0,A._json)(r),s=new re({$metadata:Ws(e),...n});return(0,A.decorateServiceException)(s,r)},"de_DataAlreadyAcceptedExceptionRes"),ls=c(async(e,t)=>{const r=e.body,n=(0,A._json)(r),s=new W({$metadata:Ws(e),...n});return(0,A.decorateServiceException)(s,r)},"de_InvalidOperationExceptionRes"),ds=c(async(e,t)=>{const r=e.body,n=(0,A._json)(r),s=new H({$metadata:Ws(e),...n});return(0,A.decorateServiceException)(s,r)},"de_InvalidParameterExceptionRes"),us=c(async(e,t)=>{const r=e.body,n=(0,A._json)(r),s=new Pe({$metadata:Ws(e),...n});return(0,A.decorateServiceException)(s,r)},"de_InvalidSequenceTokenExceptionRes"),ps=c(async(e,t)=>{const r=e.body,n=(0,A._json)(r),s=new Z({$metadata:Ws(e),...n});return(0,A.decorateServiceException)(s,r)},"de_LimitExceededExceptionRes"),hs=c(async(e,t)=>{const r=e.body,n=(0,A._json)(r),s=new Re({$metadata:Ws(e),...n});return(0,A.decorateServiceException)(s,r)},"de_MalformedQueryExceptionRes"),fs=c(async(e,t)=>{const r=e.body,n=(0,A._json)(r),s=new G({$metadata:Ws(e),...n});return(0,A.decorateServiceException)(s,r)},"de_OperationAbortedExceptionRes"),ms=c(async(e,t)=>{const r=e.body,n=(0,A._json)(r),s=new ee({$metadata:Ws(e),...n});return(0,A.decorateServiceException)(s,r)},"de_ResourceAlreadyExistsExceptionRes"),gs=c(async(e,t)=>{const r=e.body,n=(0,A._json)(r),s=new z({$metadata:Ws(e),...n});return(0,A.decorateServiceException)(s,r)},"de_ResourceNotFoundExceptionRes"),ys=c(async(e,t)=>{const r=e.body,n=(0,A._json)(r),s=new X({$metadata:Ws(e),...n});return(0,A.decorateServiceException)(s,r)},"de_ServiceQuotaExceededExceptionRes"),bs=c(async(e,t)=>{const r=e.body,n=(0,A._json)(r),s=new q({$metadata:Ws(e),...n});return(0,A.decorateServiceException)(s,r)},"de_ServiceUnavailableExceptionRes"),vs=c(async(e,t)=>{const r=e.body,n=(0,A._json)(r),s=new Q({$metadata:Ws(e),...n});return(0,A.decorateServiceException)(s,r)},"de_ThrottlingExceptionRes"),_s=c(async(e,t)=>{const r=e.body,n=(0,A._json)(r),s=new Te({$metadata:Ws(e),...n});return(0,A.decorateServiceException)(s,r)},"de_TooManyTagsExceptionRes"),Ss=c(async(e,t)=>{const r=e.body,n=(0,A._json)(r),s=new Ae({$metadata:Ws(e),...n});return(0,A.decorateServiceException)(s,r)},"de_UnrecognizedClientExceptionRes"),ws=c(async(e,t)=>{const r=e.body,n=(0,A._json)(r),s=new Y({$metadata:Ws(e),...n});return(0,A.decorateServiceException)(s,r)},"de_ValidationExceptionRes"),Es=c((e,t)=>t.eventStreamMarshaller.deserialize(e,async e=>null!=e.fields?{fields:await Cs(e.fields,t)}:null!=e.InternalStreamingException?{InternalStreamingException:await Os(e.InternalStreamingException,t)}:{$unknown:e}),"de_GetLogObjectResponseStream"),Ps=c((e,t)=>t.eventStreamMarshaller.deserialize(e,async e=>null!=e.sessionStart?{sessionStart:await As(e.sessionStart,t)}:null!=e.sessionUpdate?{sessionUpdate:await xs(e.sessionUpdate,t)}:null!=e.SessionTimeoutException?{SessionTimeoutException:await Rs(e.SessionTimeoutException,t)}:null!=e.SessionStreamingException?{SessionStreamingException:await Is(e.SessionStreamingException,t)}:{$unknown:e}),"de_StartLiveTailResponseStream"),Cs=c(async(e,t)=>{const r={},n=await(0,N.parseJsonBody)(e.body,t);return Object.assign(r,$s(n,t)),r},"de_FieldsData_event"),Os=c(async(e,t)=>{const r={...e,body:await(0,N.parseJsonBody)(e.body,t)};return Ts(r,t)},"de_InternalStreamingException_event"),As=c(async(e,t)=>{const r={},n=await(0,N.parseJsonBody)(e.body,t);return Object.assign(r,(0,A._json)(n)),r},"de_LiveTailSessionStart_event"),xs=c(async(e,t)=>{const r={},n=await(0,N.parseJsonBody)(e.body,t);return Object.assign(r,(0,A._json)(n)),r},"de_LiveTailSessionUpdate_event"),Is=c(async(e,t)=>{const r={...e,body:await(0,N.parseJsonBody)(e.body,t)};return Ds(r,t)},"de_SessionStreamingException_event"),Rs=c(async(e,t)=>{const r={...e,body:await(0,N.parseJsonBody)(e.body,t)};return Ns(r,t)},"de_SessionTimeoutException_event"),Ts=c(async(e,t)=>{const r=e.body,n=(0,A._json)(r),s=new _e({$metadata:Ws(e),...n});return(0,A.decorateServiceException)(s,r)},"de_InternalStreamingExceptionRes"),Ds=c(async(e,t)=>{const r=e.body,n=(0,A._json)(r),s=new xe({$metadata:Ws(e),...n});return(0,A.decorateServiceException)(s,r)},"de_SessionStreamingExceptionRes"),Ns=c(async(e,t)=>{const r=e.body,n=(0,A._json)(r),s=new Ie({$metadata:Ws(e),...n});return(0,A.decorateServiceException)(s,r)},"de_SessionTimeoutExceptionRes"),js=c((e,t)=>(0,A.take)(e,{defaultValue:A.serializeFloat,dimensions:A._json,metricName:[],metricNamespace:[],metricValue:[],unit:[]}),"se_MetricTransformation"),ks=c((e,t)=>e.filter(e=>null!=e).map(e=>js(e,t)),"se_MetricTransformations"),Ms=c((e,t)=>(0,A.take)(e,{applyOnTransformedLogs:[],filterName:[],filterPattern:[],logGroupName:[],metricTransformations:c(e=>ks(e,t),"metricTransformations")}),"se_PutMetricFilterRequest"),Ls=c((e,t)=>(0,A.take)(e,{clientToken:[!0,e=>e??(0,j.v4)()],logGroupNames:A._json,name:[],queryDefinitionId:[],queryLanguage:[],queryString:[]}),"se_PutQueryDefinitionRequest"),Fs=c((e,t)=>(0,A.take)(e,{metricFilters:c(e=>Hs(e,t),"metricFilters"),nextToken:A.expectString}),"de_DescribeMetricFiltersResponse"),$s=c((e,t)=>(0,A.take)(e,{data:t.base64Decoder}),"de_FieldsData"),Us=c((e,t)=>(0,A.take)(e,{encryptionKey:A.expectString,queryLanguage:A.expectString,results:A._json,statistics:c(e=>qs(e,t),"statistics"),status:A.expectString}),"de_GetQueryResultsResponse"),Bs=c((e,t)=>(0,A.take)(e,{applyOnTransformedLogs:A.expectBoolean,creationTime:A.expectLong,filterName:A.expectString,filterPattern:A.expectString,logGroupName:A.expectString,metricTransformations:c(e=>zs(e,t),"metricTransformations")}),"de_MetricFilter"),Hs=c((e,t)=>(e||[]).filter(e=>null!=e).map(e=>Bs(e,t)),"de_MetricFilters"),Gs=c((e,t)=>(0,A.take)(e,{defaultValue:A.limitedParseDouble,dimensions:A._json,metricName:A.expectString,metricNamespace:A.expectString,metricValue:A.expectString,unit:A.expectString}),"de_MetricTransformation"),zs=c((e,t)=>(e||[]).filter(e=>null!=e).map(e=>Gs(e,t)),"de_MetricTransformations"),qs=c((e,t)=>(0,A.take)(e,{bytesScanned:A.limitedParseDouble,estimatedBytesSkipped:A.limitedParseDouble,estimatedRecordsSkipped:A.limitedParseDouble,logGroupsScanned:A.limitedParseDouble,recordsMatched:A.limitedParseDouble,recordsScanned:A.limitedParseDouble}),"de_QueryStatistics"),Ws=c(e=>({httpStatusCode:e.statusCode,requestId:e.headers["x-amzn-requestid"]??e.headers["x-amzn-request-id"]??e.headers["x-amz-request-id"],extendedRequestId:e.headers["x-amz-id-2"],cfId:e.headers["x-amz-cf-id"]}),"deserializeMetadata"),Vs=(0,A.withBaseException)(k),Js=c(async(e,t,r,n,s)=>{const{hostname:o,protocol:i="https",port:a,path:c}=await e.endpoint(),l={protocol:i,hostname:o,port:a,method:"POST",path:c.endsWith("/")?c.slice(0,-1)+r:c+r,headers:t};return void 0!==n&&(l.hostname=n),void 0!==s&&(l.body=s),new O.HttpRequest(l)},"buildHttpRpcRequest");function Ks(e){return{"content-type":"application/x-amz-json-1.1","x-amz-target":`Logs_20140328.${e}`}}c(Ks,"sharedHeaders");var Xs=class extends(A.Command.classBuilder().ep(E).m(function(e,t,r,n){return[(0,D.getSerdePlugin)(r,this.serialize,this.deserialize),(0,v.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("Logs_20140328","AssociateKmsKey",{}).n("CloudWatchLogsClient","AssociateKmsKeyCommand").f(void 0,void 0).ser(Fe).de(Sr).build()){static{c(this,"AssociateKmsKeyCommand")}},Qs=class extends(A.Command.classBuilder().ep(E).m(function(e,t,r,n){return[(0,D.getSerdePlugin)(r,this.serialize,this.deserialize),(0,v.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("Logs_20140328","CancelExportTask",{}).n("CloudWatchLogsClient","CancelExportTaskCommand").f(void 0,void 0).ser($e).de(wr).build()){static{c(this,"CancelExportTaskCommand")}},Ys=class extends(A.Command.classBuilder().ep(E).m(function(e,t,r,n){return[(0,D.getSerdePlugin)(r,this.serialize,this.deserialize),(0,v.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("Logs_20140328","CreateDelivery",{}).n("CloudWatchLogsClient","CreateDeliveryCommand").f(void 0,void 0).ser(Ue).de(Er).build()){static{c(this,"CreateDeliveryCommand")}},Zs=class extends(A.Command.classBuilder().ep(E).m(function(e,t,r,n){return[(0,D.getSerdePlugin)(r,this.serialize,this.deserialize),(0,v.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("Logs_20140328","CreateExportTask",{}).n("CloudWatchLogsClient","CreateExportTaskCommand").f(void 0,void 0).ser(Be).de(Pr).build()){static{c(this,"CreateExportTaskCommand")}},eo=class extends(A.Command.classBuilder().ep(E).m(function(e,t,r,n){return[(0,D.getSerdePlugin)(r,this.serialize,this.deserialize),(0,v.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("Logs_20140328","CreateLogAnomalyDetector",{}).n("CloudWatchLogsClient","CreateLogAnomalyDetectorCommand").f(void 0,void 0).ser(He).de(Cr).build()){static{c(this,"CreateLogAnomalyDetectorCommand")}},to=class extends(A.Command.classBuilder().ep(E).m(function(e,t,r,n){return[(0,D.getSerdePlugin)(r,this.serialize,this.deserialize),(0,v.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("Logs_20140328","CreateLogGroup",{}).n("CloudWatchLogsClient","CreateLogGroupCommand").f(void 0,void 0).ser(Ge).de(Or).build()){static{c(this,"CreateLogGroupCommand")}},ro=class extends(A.Command.classBuilder().ep(E).m(function(e,t,r,n){return[(0,D.getSerdePlugin)(r,this.serialize,this.deserialize),(0,v.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("Logs_20140328","CreateLogStream",{}).n("CloudWatchLogsClient","CreateLogStreamCommand").f(void 0,void 0).ser(ze).de(Ar).build()){static{c(this,"CreateLogStreamCommand")}},no=class extends(A.Command.classBuilder().ep(E).m(function(e,t,r,n){return[(0,D.getSerdePlugin)(r,this.serialize,this.deserialize),(0,v.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("Logs_20140328","DeleteAccountPolicy",{}).n("CloudWatchLogsClient","DeleteAccountPolicyCommand").f(void 0,void 0).ser(qe).de(xr).build()){static{c(this,"DeleteAccountPolicyCommand")}},so=class extends(A.Command.classBuilder().ep(E).m(function(e,t,r,n){return[(0,D.getSerdePlugin)(r,this.serialize,this.deserialize),(0,v.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("Logs_20140328","DeleteDataProtectionPolicy",{}).n("CloudWatchLogsClient","DeleteDataProtectionPolicyCommand").f(void 0,void 0).ser(We).de(Ir).build()){static{c(this,"DeleteDataProtectionPolicyCommand")}},oo=class extends(A.Command.classBuilder().ep(E).m(function(e,t,r,n){return[(0,D.getSerdePlugin)(r,this.serialize,this.deserialize),(0,v.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("Logs_20140328","DeleteDelivery",{}).n("CloudWatchLogsClient","DeleteDeliveryCommand").f(void 0,void 0).ser(Ve).de(Rr).build()){static{c(this,"DeleteDeliveryCommand")}},io=class extends(A.Command.classBuilder().ep(E).m(function(e,t,r,n){return[(0,D.getSerdePlugin)(r,this.serialize,this.deserialize),(0,v.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("Logs_20140328","DeleteDeliveryDestination",{}).n("CloudWatchLogsClient","DeleteDeliveryDestinationCommand").f(void 0,void 0).ser(Je).de(Tr).build()){static{c(this,"DeleteDeliveryDestinationCommand")}},ao=class extends(A.Command.classBuilder().ep(E).m(function(e,t,r,n){return[(0,D.getSerdePlugin)(r,this.serialize,this.deserialize),(0,v.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("Logs_20140328","DeleteDeliveryDestinationPolicy",{}).n("CloudWatchLogsClient","DeleteDeliveryDestinationPolicyCommand").f(void 0,void 0).ser(Ke).de(Dr).build()){static{c(this,"DeleteDeliveryDestinationPolicyCommand")}},co=class extends(A.Command.classBuilder().ep(E).m(function(e,t,r,n){return[(0,D.getSerdePlugin)(r,this.serialize,this.deserialize),(0,v.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("Logs_20140328","DeleteDeliverySource",{}).n("CloudWatchLogsClient","DeleteDeliverySourceCommand").f(void 0,void 0).ser(Xe).de(Nr).build()){static{c(this,"DeleteDeliverySourceCommand")}},lo=class extends(A.Command.classBuilder().ep(E).m(function(e,t,r,n){return[(0,D.getSerdePlugin)(r,this.serialize,this.deserialize),(0,v.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("Logs_20140328","DeleteDestination",{}).n("CloudWatchLogsClient","DeleteDestinationCommand").f(void 0,void 0).ser(Qe).de(jr).build()){static{c(this,"DeleteDestinationCommand")}},uo=class extends(A.Command.classBuilder().ep(E).m(function(e,t,r,n){return[(0,D.getSerdePlugin)(r,this.serialize,this.deserialize),(0,v.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("Logs_20140328","DeleteIndexPolicy",{}).n("CloudWatchLogsClient","DeleteIndexPolicyCommand").f(void 0,void 0).ser(Ye).de(kr).build()){static{c(this,"DeleteIndexPolicyCommand")}},po=class extends(A.Command.classBuilder().ep(E).m(function(e,t,r,n){return[(0,D.getSerdePlugin)(r,this.serialize,this.deserialize),(0,v.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("Logs_20140328","DeleteIntegration",{}).n("CloudWatchLogsClient","DeleteIntegrationCommand").f(void 0,void 0).ser(Ze).de(Mr).build()){static{c(this,"DeleteIntegrationCommand")}},ho=class extends(A.Command.classBuilder().ep(E).m(function(e,t,r,n){return[(0,D.getSerdePlugin)(r,this.serialize,this.deserialize),(0,v.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("Logs_20140328","DeleteLogAnomalyDetector",{}).n("CloudWatchLogsClient","DeleteLogAnomalyDetectorCommand").f(void 0,void 0).ser(et).de(Lr).build()){static{c(this,"DeleteLogAnomalyDetectorCommand")}},fo=class extends(A.Command.classBuilder().ep(E).m(function(e,t,r,n){return[(0,D.getSerdePlugin)(r,this.serialize,this.deserialize),(0,v.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("Logs_20140328","DeleteLogGroup",{}).n("CloudWatchLogsClient","DeleteLogGroupCommand").f(void 0,void 0).ser(tt).de(Fr).build()){static{c(this,"DeleteLogGroupCommand")}},mo=class extends(A.Command.classBuilder().ep(E).m(function(e,t,r,n){return[(0,D.getSerdePlugin)(r,this.serialize,this.deserialize),(0,v.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("Logs_20140328","DeleteLogStream",{}).n("CloudWatchLogsClient","DeleteLogStreamCommand").f(void 0,void 0).ser(rt).de($r).build()){static{c(this,"DeleteLogStreamCommand")}},go=class extends(A.Command.classBuilder().ep(E).m(function(e,t,r,n){return[(0,D.getSerdePlugin)(r,this.serialize,this.deserialize),(0,v.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("Logs_20140328","DeleteMetricFilter",{}).n("CloudWatchLogsClient","DeleteMetricFilterCommand").f(void 0,void 0).ser(nt).de(Ur).build()){static{c(this,"DeleteMetricFilterCommand")}},yo=class extends(A.Command.classBuilder().ep(E).m(function(e,t,r,n){return[(0,D.getSerdePlugin)(r,this.serialize,this.deserialize),(0,v.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("Logs_20140328","DeleteQueryDefinition",{}).n("CloudWatchLogsClient","DeleteQueryDefinitionCommand").f(void 0,void 0).ser(st).de(Br).build()){static{c(this,"DeleteQueryDefinitionCommand")}},bo=class extends(A.Command.classBuilder().ep(E).m(function(e,t,r,n){return[(0,D.getSerdePlugin)(r,this.serialize,this.deserialize),(0,v.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("Logs_20140328","DeleteResourcePolicy",{}).n("CloudWatchLogsClient","DeleteResourcePolicyCommand").f(void 0,void 0).ser(ot).de(Hr).build()){static{c(this,"DeleteResourcePolicyCommand")}},vo=class extends(A.Command.classBuilder().ep(E).m(function(e,t,r,n){return[(0,D.getSerdePlugin)(r,this.serialize,this.deserialize),(0,v.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("Logs_20140328","DeleteRetentionPolicy",{}).n("CloudWatchLogsClient","DeleteRetentionPolicyCommand").f(void 0,void 0).ser(it).de(Gr).build()){static{c(this,"DeleteRetentionPolicyCommand")}},_o=class extends(A.Command.classBuilder().ep(E).m(function(e,t,r,n){return[(0,D.getSerdePlugin)(r,this.serialize,this.deserialize),(0,v.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("Logs_20140328","DeleteSubscriptionFilter",{}).n("CloudWatchLogsClient","DeleteSubscriptionFilterCommand").f(void 0,void 0).ser(at).de(zr).build()){static{c(this,"DeleteSubscriptionFilterCommand")}},So=class extends(A.Command.classBuilder().ep(E).m(function(e,t,r,n){return[(0,D.getSerdePlugin)(r,this.serialize,this.deserialize),(0,v.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("Logs_20140328","DeleteTransformer",{}).n("CloudWatchLogsClient","DeleteTransformerCommand").f(void 0,void 0).ser(ct).de(qr).build()){static{c(this,"DeleteTransformerCommand")}},wo=class extends(A.Command.classBuilder().ep(E).m(function(e,t,r,n){return[(0,D.getSerdePlugin)(r,this.serialize,this.deserialize),(0,v.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("Logs_20140328","DescribeAccountPolicies",{}).n("CloudWatchLogsClient","DescribeAccountPoliciesCommand").f(void 0,void 0).ser(lt).de(Wr).build()){static{c(this,"DescribeAccountPoliciesCommand")}},Eo=class extends(A.Command.classBuilder().ep(E).m(function(e,t,r,n){return[(0,D.getSerdePlugin)(r,this.serialize,this.deserialize),(0,v.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("Logs_20140328","DescribeConfigurationTemplates",{}).n("CloudWatchLogsClient","DescribeConfigurationTemplatesCommand").f(void 0,void 0).ser(dt).de(Vr).build()){static{c(this,"DescribeConfigurationTemplatesCommand")}},Po=class extends(A.Command.classBuilder().ep(E).m(function(e,t,r,n){return[(0,D.getSerdePlugin)(r,this.serialize,this.deserialize),(0,v.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("Logs_20140328","DescribeDeliveries",{}).n("CloudWatchLogsClient","DescribeDeliveriesCommand").f(void 0,void 0).ser(ut).de(Jr).build()){static{c(this,"DescribeDeliveriesCommand")}},Co=class extends(A.Command.classBuilder().ep(E).m(function(e,t,r,n){return[(0,D.getSerdePlugin)(r,this.serialize,this.deserialize),(0,v.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("Logs_20140328","DescribeDeliveryDestinations",{}).n("CloudWatchLogsClient","DescribeDeliveryDestinationsCommand").f(void 0,void 0).ser(pt).de(Kr).build()){static{c(this,"DescribeDeliveryDestinationsCommand")}},Oo=class extends(A.Command.classBuilder().ep(E).m(function(e,t,r,n){return[(0,D.getSerdePlugin)(r,this.serialize,this.deserialize),(0,v.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("Logs_20140328","DescribeDeliverySources",{}).n("CloudWatchLogsClient","DescribeDeliverySourcesCommand").f(void 0,void 0).ser(ht).de(Xr).build()){static{c(this,"DescribeDeliverySourcesCommand")}},Ao=class extends(A.Command.classBuilder().ep(E).m(function(e,t,r,n){return[(0,D.getSerdePlugin)(r,this.serialize,this.deserialize),(0,v.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("Logs_20140328","DescribeDestinations",{}).n("CloudWatchLogsClient","DescribeDestinationsCommand").f(void 0,void 0).ser(ft).de(Qr).build()){static{c(this,"DescribeDestinationsCommand")}},xo=class extends(A.Command.classBuilder().ep(E).m(function(e,t,r,n){return[(0,D.getSerdePlugin)(r,this.serialize,this.deserialize),(0,v.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("Logs_20140328","DescribeExportTasks",{}).n("CloudWatchLogsClient","DescribeExportTasksCommand").f(void 0,void 0).ser(mt).de(Yr).build()){static{c(this,"DescribeExportTasksCommand")}},Io=class extends(A.Command.classBuilder().ep(E).m(function(e,t,r,n){return[(0,D.getSerdePlugin)(r,this.serialize,this.deserialize),(0,v.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("Logs_20140328","DescribeFieldIndexes",{}).n("CloudWatchLogsClient","DescribeFieldIndexesCommand").f(void 0,void 0).ser(gt).de(Zr).build()){static{c(this,"DescribeFieldIndexesCommand")}},Ro=class extends(A.Command.classBuilder().ep(E).m(function(e,t,r,n){return[(0,D.getSerdePlugin)(r,this.serialize,this.deserialize),(0,v.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("Logs_20140328","DescribeIndexPolicies",{}).n("CloudWatchLogsClient","DescribeIndexPoliciesCommand").f(void 0,void 0).ser(yt).de(en).build()){static{c(this,"DescribeIndexPoliciesCommand")}},To=class extends(A.Command.classBuilder().ep(E).m(function(e,t,r,n){return[(0,D.getSerdePlugin)(r,this.serialize,this.deserialize),(0,v.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("Logs_20140328","DescribeLogGroups",{}).n("CloudWatchLogsClient","DescribeLogGroupsCommand").f(void 0,void 0).ser(bt).de(tn).build()){static{c(this,"DescribeLogGroupsCommand")}},Do=class extends(A.Command.classBuilder().ep(E).m(function(e,t,r,n){return[(0,D.getSerdePlugin)(r,this.serialize,this.deserialize),(0,v.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("Logs_20140328","DescribeLogStreams",{}).n("CloudWatchLogsClient","DescribeLogStreamsCommand").f(void 0,void 0).ser(vt).de(rn).build()){static{c(this,"DescribeLogStreamsCommand")}},No=class extends(A.Command.classBuilder().ep(E).m(function(e,t,r,n){return[(0,D.getSerdePlugin)(r,this.serialize,this.deserialize),(0,v.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("Logs_20140328","DescribeMetricFilters",{}).n("CloudWatchLogsClient","DescribeMetricFiltersCommand").f(void 0,void 0).ser(_t).de(nn).build()){static{c(this,"DescribeMetricFiltersCommand")}},jo=class extends(A.Command.classBuilder().ep(E).m(function(e,t,r,n){return[(0,D.getSerdePlugin)(r,this.serialize,this.deserialize),(0,v.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("Logs_20140328","DescribeQueries",{}).n("CloudWatchLogsClient","DescribeQueriesCommand").f(void 0,void 0).ser(St).de(sn).build()){static{c(this,"DescribeQueriesCommand")}},ko=class extends(A.Command.classBuilder().ep(E).m(function(e,t,r,n){return[(0,D.getSerdePlugin)(r,this.serialize,this.deserialize),(0,v.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("Logs_20140328","DescribeQueryDefinitions",{}).n("CloudWatchLogsClient","DescribeQueryDefinitionsCommand").f(void 0,void 0).ser(wt).de(on).build()){static{c(this,"DescribeQueryDefinitionsCommand")}},Mo=class extends(A.Command.classBuilder().ep(E).m(function(e,t,r,n){return[(0,D.getSerdePlugin)(r,this.serialize,this.deserialize),(0,v.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("Logs_20140328","DescribeResourcePolicies",{}).n("CloudWatchLogsClient","DescribeResourcePoliciesCommand").f(void 0,void 0).ser(Et).de(an).build()){static{c(this,"DescribeResourcePoliciesCommand")}},Lo=class extends(A.Command.classBuilder().ep(E).m(function(e,t,r,n){return[(0,D.getSerdePlugin)(r,this.serialize,this.deserialize),(0,v.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("Logs_20140328","DescribeSubscriptionFilters",{}).n("CloudWatchLogsClient","DescribeSubscriptionFiltersCommand").f(void 0,void 0).ser(Pt).de(cn).build()){static{c(this,"DescribeSubscriptionFiltersCommand")}},Fo=class extends(A.Command.classBuilder().ep(E).m(function(e,t,r,n){return[(0,D.getSerdePlugin)(r,this.serialize,this.deserialize),(0,v.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("Logs_20140328","DisassociateKmsKey",{}).n("CloudWatchLogsClient","DisassociateKmsKeyCommand").f(void 0,void 0).ser(Ct).de(ln).build()){static{c(this,"DisassociateKmsKeyCommand")}},$o=class extends(A.Command.classBuilder().ep(E).m(function(e,t,r,n){return[(0,D.getSerdePlugin)(r,this.serialize,this.deserialize),(0,v.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("Logs_20140328","FilterLogEvents",{}).n("CloudWatchLogsClient","FilterLogEventsCommand").f(void 0,void 0).ser(Ot).de(dn).build()){static{c(this,"FilterLogEventsCommand")}},Uo=class extends(A.Command.classBuilder().ep(E).m(function(e,t,r,n){return[(0,D.getSerdePlugin)(r,this.serialize,this.deserialize),(0,v.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("Logs_20140328","GetDataProtectionPolicy",{}).n("CloudWatchLogsClient","GetDataProtectionPolicyCommand").f(void 0,void 0).ser(At).de(un).build()){static{c(this,"GetDataProtectionPolicyCommand")}},Bo=class extends(A.Command.classBuilder().ep(E).m(function(e,t,r,n){return[(0,D.getSerdePlugin)(r,this.serialize,this.deserialize),(0,v.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("Logs_20140328","GetDelivery",{}).n("CloudWatchLogsClient","GetDeliveryCommand").f(void 0,void 0).ser(xt).de(pn).build()){static{c(this,"GetDeliveryCommand")}},Ho=class extends(A.Command.classBuilder().ep(E).m(function(e,t,r,n){return[(0,D.getSerdePlugin)(r,this.serialize,this.deserialize),(0,v.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("Logs_20140328","GetDeliveryDestination",{}).n("CloudWatchLogsClient","GetDeliveryDestinationCommand").f(void 0,void 0).ser(It).de(hn).build()){static{c(this,"GetDeliveryDestinationCommand")}},Go=class extends(A.Command.classBuilder().ep(E).m(function(e,t,r,n){return[(0,D.getSerdePlugin)(r,this.serialize,this.deserialize),(0,v.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("Logs_20140328","GetDeliveryDestinationPolicy",{}).n("CloudWatchLogsClient","GetDeliveryDestinationPolicyCommand").f(void 0,void 0).ser(Rt).de(fn).build()){static{c(this,"GetDeliveryDestinationPolicyCommand")}},zo=class extends(A.Command.classBuilder().ep(E).m(function(e,t,r,n){return[(0,D.getSerdePlugin)(r,this.serialize,this.deserialize),(0,v.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("Logs_20140328","GetDeliverySource",{}).n("CloudWatchLogsClient","GetDeliverySourceCommand").f(void 0,void 0).ser(Tt).de(mn).build()){static{c(this,"GetDeliverySourceCommand")}},qo=class extends(A.Command.classBuilder().ep(E).m(function(e,t,r,n){return[(0,D.getSerdePlugin)(r,this.serialize,this.deserialize),(0,v.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("Logs_20140328","GetIntegration",{}).n("CloudWatchLogsClient","GetIntegrationCommand").f(void 0,void 0).ser(Dt).de(gn).build()){static{c(this,"GetIntegrationCommand")}},Wo=class extends(A.Command.classBuilder().ep(E).m(function(e,t,r,n){return[(0,D.getSerdePlugin)(r,this.serialize,this.deserialize),(0,v.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("Logs_20140328","GetLogAnomalyDetector",{}).n("CloudWatchLogsClient","GetLogAnomalyDetectorCommand").f(void 0,void 0).ser(Nt).de(yn).build()){static{c(this,"GetLogAnomalyDetectorCommand")}},Vo=class extends(A.Command.classBuilder().ep(E).m(function(e,t,r,n){return[(0,D.getSerdePlugin)(r,this.serialize,this.deserialize),(0,v.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("Logs_20140328","GetLogEvents",{}).n("CloudWatchLogsClient","GetLogEventsCommand").f(void 0,void 0).ser(jt).de(bn).build()){static{c(this,"GetLogEventsCommand")}},Jo=class extends(A.Command.classBuilder().ep(E).m(function(e,t,r,n){return[(0,D.getSerdePlugin)(r,this.serialize,this.deserialize),(0,v.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("Logs_20140328","GetLogGroupFields",{}).n("CloudWatchLogsClient","GetLogGroupFieldsCommand").f(void 0,void 0).ser(kt).de(vn).build()){static{c(this,"GetLogGroupFieldsCommand")}},Ko=class extends(A.Command.classBuilder().ep(E).m(function(e,t,r,n){return[(0,D.getSerdePlugin)(r,this.serialize,this.deserialize),(0,v.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("Logs_20140328","GetLogObject",{eventStream:{output:!0}}).n("CloudWatchLogsClient","GetLogObjectCommand").f(void 0,ke).ser(Mt).de(_n).build()){static{c(this,"GetLogObjectCommand")}},Xo=class extends(A.Command.classBuilder().ep(E).m(function(e,t,r,n){return[(0,D.getSerdePlugin)(r,this.serialize,this.deserialize),(0,v.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("Logs_20140328","GetLogRecord",{}).n("CloudWatchLogsClient","GetLogRecordCommand").f(void 0,void 0).ser(Lt).de(Sn).build()){static{c(this,"GetLogRecordCommand")}},Qo=class extends(A.Command.classBuilder().ep(E).m(function(e,t,r,n){return[(0,D.getSerdePlugin)(r,this.serialize,this.deserialize),(0,v.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("Logs_20140328","GetQueryResults",{}).n("CloudWatchLogsClient","GetQueryResultsCommand").f(void 0,void 0).ser(Ft).de(wn).build()){static{c(this,"GetQueryResultsCommand")}},Yo=class extends(A.Command.classBuilder().ep(E).m(function(e,t,r,n){return[(0,D.getSerdePlugin)(r,this.serialize,this.deserialize),(0,v.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("Logs_20140328","GetTransformer",{}).n("CloudWatchLogsClient","GetTransformerCommand").f(void 0,void 0).ser($t).de(En).build()){static{c(this,"GetTransformerCommand")}},Zo=class extends(A.Command.classBuilder().ep(E).m(function(e,t,r,n){return[(0,D.getSerdePlugin)(r,this.serialize,this.deserialize),(0,v.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("Logs_20140328","ListAnomalies",{}).n("CloudWatchLogsClient","ListAnomaliesCommand").f(void 0,void 0).ser(Ut).de(Pn).build()){static{c(this,"ListAnomaliesCommand")}},ei=class extends(A.Command.classBuilder().ep(E).m(function(e,t,r,n){return[(0,D.getSerdePlugin)(r,this.serialize,this.deserialize),(0,v.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("Logs_20140328","ListIntegrations",{}).n("CloudWatchLogsClient","ListIntegrationsCommand").f(void 0,void 0).ser(Bt).de(Cn).build()){static{c(this,"ListIntegrationsCommand")}},ti=class extends(A.Command.classBuilder().ep(E).m(function(e,t,r,n){return[(0,D.getSerdePlugin)(r,this.serialize,this.deserialize),(0,v.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("Logs_20140328","ListLogAnomalyDetectors",{}).n("CloudWatchLogsClient","ListLogAnomalyDetectorsCommand").f(void 0,void 0).ser(Ht).de(On).build()){static{c(this,"ListLogAnomalyDetectorsCommand")}},ri=class extends(A.Command.classBuilder().ep(E).m(function(e,t,r,n){return[(0,D.getSerdePlugin)(r,this.serialize,this.deserialize),(0,v.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("Logs_20140328","ListLogGroups",{}).n("CloudWatchLogsClient","ListLogGroupsCommand").f(void 0,void 0).ser(Gt).de(An).build()){static{c(this,"ListLogGroupsCommand")}},ni=class extends(A.Command.classBuilder().ep(E).m(function(e,t,r,n){return[(0,D.getSerdePlugin)(r,this.serialize,this.deserialize),(0,v.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("Logs_20140328","ListLogGroupsForQuery",{}).n("CloudWatchLogsClient","ListLogGroupsForQueryCommand").f(void 0,void 0).ser(zt).de(xn).build()){static{c(this,"ListLogGroupsForQueryCommand")}},si=class extends(A.Command.classBuilder().ep(E).m(function(e,t,r,n){return[(0,D.getSerdePlugin)(r,this.serialize,this.deserialize),(0,v.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("Logs_20140328","ListTagsForResource",{}).n("CloudWatchLogsClient","ListTagsForResourceCommand").f(void 0,void 0).ser(qt).de(In).build()){static{c(this,"ListTagsForResourceCommand")}},oi=class extends(A.Command.classBuilder().ep(E).m(function(e,t,r,n){return[(0,D.getSerdePlugin)(r,this.serialize,this.deserialize),(0,v.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("Logs_20140328","ListTagsLogGroup",{}).n("CloudWatchLogsClient","ListTagsLogGroupCommand").f(void 0,void 0).ser(Wt).de(Rn).build()){static{c(this,"ListTagsLogGroupCommand")}},ii=class extends(A.Command.classBuilder().ep(E).m(function(e,t,r,n){return[(0,D.getSerdePlugin)(r,this.serialize,this.deserialize),(0,v.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("Logs_20140328","PutAccountPolicy",{}).n("CloudWatchLogsClient","PutAccountPolicyCommand").f(void 0,void 0).ser(Vt).de(Tn).build()){static{c(this,"PutAccountPolicyCommand")}},ai=class extends(A.Command.classBuilder().ep(E).m(function(e,t,r,n){return[(0,D.getSerdePlugin)(r,this.serialize,this.deserialize),(0,v.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("Logs_20140328","PutDataProtectionPolicy",{}).n("CloudWatchLogsClient","PutDataProtectionPolicyCommand").f(void 0,void 0).ser(Jt).de(Dn).build()){static{c(this,"PutDataProtectionPolicyCommand")}},ci=class extends(A.Command.classBuilder().ep(E).m(function(e,t,r,n){return[(0,D.getSerdePlugin)(r,this.serialize,this.deserialize),(0,v.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("Logs_20140328","PutDeliveryDestination",{}).n("CloudWatchLogsClient","PutDeliveryDestinationCommand").f(void 0,void 0).ser(Kt).de(Nn).build()){static{c(this,"PutDeliveryDestinationCommand")}},li=class extends(A.Command.classBuilder().ep(E).m(function(e,t,r,n){return[(0,D.getSerdePlugin)(r,this.serialize,this.deserialize),(0,v.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("Logs_20140328","PutDeliveryDestinationPolicy",{}).n("CloudWatchLogsClient","PutDeliveryDestinationPolicyCommand").f(void 0,void 0).ser(Xt).de(jn).build()){static{c(this,"PutDeliveryDestinationPolicyCommand")}},di=class extends(A.Command.classBuilder().ep(E).m(function(e,t,r,n){return[(0,D.getSerdePlugin)(r,this.serialize,this.deserialize),(0,v.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("Logs_20140328","PutDeliverySource",{}).n("CloudWatchLogsClient","PutDeliverySourceCommand").f(void 0,void 0).ser(Qt).de(kn).build()){static{c(this,"PutDeliverySourceCommand")}},ui=class extends(A.Command.classBuilder().ep(E).m(function(e,t,r,n){return[(0,D.getSerdePlugin)(r,this.serialize,this.deserialize),(0,v.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("Logs_20140328","PutDestination",{}).n("CloudWatchLogsClient","PutDestinationCommand").f(void 0,void 0).ser(Yt).de(Mn).build()){static{c(this,"PutDestinationCommand")}},pi=class extends(A.Command.classBuilder().ep(E).m(function(e,t,r,n){return[(0,D.getSerdePlugin)(r,this.serialize,this.deserialize),(0,v.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("Logs_20140328","PutDestinationPolicy",{}).n("CloudWatchLogsClient","PutDestinationPolicyCommand").f(void 0,void 0).ser(Zt).de(Ln).build()){static{c(this,"PutDestinationPolicyCommand")}},hi=class extends(A.Command.classBuilder().ep(E).m(function(e,t,r,n){return[(0,D.getSerdePlugin)(r,this.serialize,this.deserialize),(0,v.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("Logs_20140328","PutIndexPolicy",{}).n("CloudWatchLogsClient","PutIndexPolicyCommand").f(void 0,void 0).ser(er).de(Fn).build()){static{c(this,"PutIndexPolicyCommand")}},fi=class extends(A.Command.classBuilder().ep(E).m(function(e,t,r,n){return[(0,D.getSerdePlugin)(r,this.serialize,this.deserialize),(0,v.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("Logs_20140328","PutIntegration",{}).n("CloudWatchLogsClient","PutIntegrationCommand").f(void 0,void 0).ser(tr).de($n).build()){static{c(this,"PutIntegrationCommand")}},mi=class extends(A.Command.classBuilder().ep(E).m(function(e,t,r,n){return[(0,D.getSerdePlugin)(r,this.serialize,this.deserialize),(0,v.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("Logs_20140328","PutLogEvents",{}).n("CloudWatchLogsClient","PutLogEventsCommand").f(void 0,void 0).ser(rr).de(Un).build()){static{c(this,"PutLogEventsCommand")}},gi=class extends(A.Command.classBuilder().ep(E).m(function(e,t,r,n){return[(0,D.getSerdePlugin)(r,this.serialize,this.deserialize),(0,v.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("Logs_20140328","PutMetricFilter",{}).n("CloudWatchLogsClient","PutMetricFilterCommand").f(void 0,void 0).ser(nr).de(Bn).build()){static{c(this,"PutMetricFilterCommand")}},yi=class extends(A.Command.classBuilder().ep(E).m(function(e,t,r,n){return[(0,D.getSerdePlugin)(r,this.serialize,this.deserialize),(0,v.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("Logs_20140328","PutQueryDefinition",{}).n("CloudWatchLogsClient","PutQueryDefinitionCommand").f(void 0,void 0).ser(sr).de(Hn).build()){static{c(this,"PutQueryDefinitionCommand")}},bi=class extends(A.Command.classBuilder().ep(E).m(function(e,t,r,n){return[(0,D.getSerdePlugin)(r,this.serialize,this.deserialize),(0,v.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("Logs_20140328","PutResourcePolicy",{}).n("CloudWatchLogsClient","PutResourcePolicyCommand").f(void 0,void 0).ser(or).de(Gn).build()){static{c(this,"PutResourcePolicyCommand")}},vi=class extends(A.Command.classBuilder().ep(E).m(function(e,t,r,n){return[(0,D.getSerdePlugin)(r,this.serialize,this.deserialize),(0,v.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("Logs_20140328","PutRetentionPolicy",{}).n("CloudWatchLogsClient","PutRetentionPolicyCommand").f(void 0,void 0).ser(ir).de(zn).build()){static{c(this,"PutRetentionPolicyCommand")}},_i=class extends(A.Command.classBuilder().ep(E).m(function(e,t,r,n){return[(0,D.getSerdePlugin)(r,this.serialize,this.deserialize),(0,v.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("Logs_20140328","PutSubscriptionFilter",{}).n("CloudWatchLogsClient","PutSubscriptionFilterCommand").f(void 0,void 0).ser(ar).de(qn).build()){static{c(this,"PutSubscriptionFilterCommand")}},Si=class extends(A.Command.classBuilder().ep(E).m(function(e,t,r,n){return[(0,D.getSerdePlugin)(r,this.serialize,this.deserialize),(0,v.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("Logs_20140328","PutTransformer",{}).n("CloudWatchLogsClient","PutTransformerCommand").f(void 0,void 0).ser(cr).de(Wn).build()){static{c(this,"PutTransformerCommand")}},wi=class extends(A.Command.classBuilder().ep(E).m(function(e,t,r,n){return[(0,D.getSerdePlugin)(r,this.serialize,this.deserialize),(0,v.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("Logs_20140328","StartLiveTail",{eventStream:{output:!0}}).n("CloudWatchLogsClient","StartLiveTailCommand").f(void 0,Le).ser(lr).de(Vn).build()){static{c(this,"StartLiveTailCommand")}},Ei=class extends(A.Command.classBuilder().ep(E).m(function(e,t,r,n){return[(0,D.getSerdePlugin)(r,this.serialize,this.deserialize),(0,v.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("Logs_20140328","StartQuery",{}).n("CloudWatchLogsClient","StartQueryCommand").f(void 0,void 0).ser(dr).de(Jn).build()){static{c(this,"StartQueryCommand")}},Pi=class extends(A.Command.classBuilder().ep(E).m(function(e,t,r,n){return[(0,D.getSerdePlugin)(r,this.serialize,this.deserialize),(0,v.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("Logs_20140328","StopQuery",{}).n("CloudWatchLogsClient","StopQueryCommand").f(void 0,void 0).ser(ur).de(Kn).build()){static{c(this,"StopQueryCommand")}},Ci=class extends(A.Command.classBuilder().ep(E).m(function(e,t,r,n){return[(0,D.getSerdePlugin)(r,this.serialize,this.deserialize),(0,v.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("Logs_20140328","TagLogGroup",{}).n("CloudWatchLogsClient","TagLogGroupCommand").f(void 0,void 0).ser(pr).de(Xn).build()){static{c(this,"TagLogGroupCommand")}},Oi=class extends(A.Command.classBuilder().ep(E).m(function(e,t,r,n){return[(0,D.getSerdePlugin)(r,this.serialize,this.deserialize),(0,v.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("Logs_20140328","TagResource",{}).n("CloudWatchLogsClient","TagResourceCommand").f(void 0,void 0).ser(hr).de(Qn).build()){static{c(this,"TagResourceCommand")}},Ai=class extends(A.Command.classBuilder().ep(E).m(function(e,t,r,n){return[(0,D.getSerdePlugin)(r,this.serialize,this.deserialize),(0,v.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("Logs_20140328","TestMetricFilter",{}).n("CloudWatchLogsClient","TestMetricFilterCommand").f(void 0,void 0).ser(fr).de(Yn).build()){static{c(this,"TestMetricFilterCommand")}},xi=class extends(A.Command.classBuilder().ep(E).m(function(e,t,r,n){return[(0,D.getSerdePlugin)(r,this.serialize,this.deserialize),(0,v.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("Logs_20140328","TestTransformer",{}).n("CloudWatchLogsClient","TestTransformerCommand").f(void 0,void 0).ser(mr).de(Zn).build()){static{c(this,"TestTransformerCommand")}},Ii=class extends(A.Command.classBuilder().ep(E).m(function(e,t,r,n){return[(0,D.getSerdePlugin)(r,this.serialize,this.deserialize),(0,v.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("Logs_20140328","UntagLogGroup",{}).n("CloudWatchLogsClient","UntagLogGroupCommand").f(void 0,void 0).ser(gr).de(es).build()){static{c(this,"UntagLogGroupCommand")}},Ri=class extends(A.Command.classBuilder().ep(E).m(function(e,t,r,n){return[(0,D.getSerdePlugin)(r,this.serialize,this.deserialize),(0,v.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("Logs_20140328","UntagResource",{}).n("CloudWatchLogsClient","UntagResourceCommand").f(void 0,void 0).ser(yr).de(ts).build()){static{c(this,"UntagResourceCommand")}},Ti=class extends(A.Command.classBuilder().ep(E).m(function(e,t,r,n){return[(0,D.getSerdePlugin)(r,this.serialize,this.deserialize),(0,v.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("Logs_20140328","UpdateAnomaly",{}).n("CloudWatchLogsClient","UpdateAnomalyCommand").f(void 0,void 0).ser(br).de(rs).build()){static{c(this,"UpdateAnomalyCommand")}},Di=class extends(A.Command.classBuilder().ep(E).m(function(e,t,r,n){return[(0,D.getSerdePlugin)(r,this.serialize,this.deserialize),(0,v.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("Logs_20140328","UpdateDeliveryConfiguration",{}).n("CloudWatchLogsClient","UpdateDeliveryConfigurationCommand").f(void 0,void 0).ser(vr).de(ns).build()){static{c(this,"UpdateDeliveryConfigurationCommand")}},Ni=class extends(A.Command.classBuilder().ep(E).m(function(e,t,r,n){return[(0,D.getSerdePlugin)(r,this.serialize,this.deserialize),(0,v.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("Logs_20140328","UpdateLogAnomalyDetector",{}).n("CloudWatchLogsClient","UpdateLogAnomalyDetectorCommand").f(void 0,void 0).ser(_r).de(ss).build()){static{c(this,"UpdateLogAnomalyDetectorCommand")}},ji={AssociateKmsKeyCommand:Xs,CancelExportTaskCommand:Qs,CreateDeliveryCommand:Ys,CreateExportTaskCommand:Zs,CreateLogAnomalyDetectorCommand:eo,CreateLogGroupCommand:to,CreateLogStreamCommand:ro,DeleteAccountPolicyCommand:no,DeleteDataProtectionPolicyCommand:so,DeleteDeliveryCommand:oo,DeleteDeliveryDestinationCommand:io,DeleteDeliveryDestinationPolicyCommand:ao,DeleteDeliverySourceCommand:co,DeleteDestinationCommand:lo,DeleteIndexPolicyCommand:uo,DeleteIntegrationCommand:po,DeleteLogAnomalyDetectorCommand:ho,DeleteLogGroupCommand:fo,DeleteLogStreamCommand:mo,DeleteMetricFilterCommand:go,DeleteQueryDefinitionCommand:yo,DeleteResourcePolicyCommand:bo,DeleteRetentionPolicyCommand:vo,DeleteSubscriptionFilterCommand:_o,DeleteTransformerCommand:So,DescribeAccountPoliciesCommand:wo,DescribeConfigurationTemplatesCommand:Eo,DescribeDeliveriesCommand:Po,DescribeDeliveryDestinationsCommand:Co,DescribeDeliverySourcesCommand:Oo,DescribeDestinationsCommand:Ao,DescribeExportTasksCommand:xo,DescribeFieldIndexesCommand:Io,DescribeIndexPoliciesCommand:Ro,DescribeLogGroupsCommand:To,DescribeLogStreamsCommand:Do,DescribeMetricFiltersCommand:No,DescribeQueriesCommand:jo,DescribeQueryDefinitionsCommand:ko,DescribeResourcePoliciesCommand:Mo,DescribeSubscriptionFiltersCommand:Lo,DisassociateKmsKeyCommand:Fo,FilterLogEventsCommand:$o,GetDataProtectionPolicyCommand:Uo,GetDeliveryCommand:Bo,GetDeliveryDestinationCommand:Ho,GetDeliveryDestinationPolicyCommand:Go,GetDeliverySourceCommand:zo,GetIntegrationCommand:qo,GetLogAnomalyDetectorCommand:Wo,GetLogEventsCommand:Vo,GetLogGroupFieldsCommand:Jo,GetLogObjectCommand:Ko,GetLogRecordCommand:Xo,GetQueryResultsCommand:Qo,GetTransformerCommand:Yo,ListAnomaliesCommand:Zo,ListIntegrationsCommand:ei,ListLogAnomalyDetectorsCommand:ti,ListLogGroupsCommand:ri,ListLogGroupsForQueryCommand:ni,ListTagsForResourceCommand:si,ListTagsLogGroupCommand:oi,PutAccountPolicyCommand:ii,PutDataProtectionPolicyCommand:ai,PutDeliveryDestinationCommand:ci,PutDeliveryDestinationPolicyCommand:li,PutDeliverySourceCommand:di,PutDestinationCommand:ui,PutDestinationPolicyCommand:pi,PutIndexPolicyCommand:hi,PutIntegrationCommand:fi,PutLogEventsCommand:mi,PutMetricFilterCommand:gi,PutQueryDefinitionCommand:yi,PutResourcePolicyCommand:bi,PutRetentionPolicyCommand:vi,PutSubscriptionFilterCommand:_i,PutTransformerCommand:Si,StartLiveTailCommand:wi,StartQueryCommand:Ei,StopQueryCommand:Pi,TagLogGroupCommand:Ci,TagResourceCommand:Oi,TestMetricFilterCommand:Ai,TestTransformerCommand:xi,UntagLogGroupCommand:Ii,UntagResourceCommand:Ri,UpdateAnomalyCommand:Ti,UpdateDeliveryConfigurationCommand:Di,UpdateLogAnomalyDetectorCommand:Ni},ki=class extends T{static{c(this,"CloudWatchLogs")}};(0,A.createAggregatedClient)(ji,ki);var Mi=(0,g.createPaginator)(T,Eo,"nextToken","nextToken","limit"),Li=(0,g.createPaginator)(T,Po,"nextToken","nextToken","limit"),Fi=(0,g.createPaginator)(T,Co,"nextToken","nextToken","limit"),$i=(0,g.createPaginator)(T,Oo,"nextToken","nextToken","limit"),Ui=(0,g.createPaginator)(T,Ao,"nextToken","nextToken","limit"),Bi=(0,g.createPaginator)(T,To,"nextToken","nextToken","limit"),Hi=(0,g.createPaginator)(T,Do,"nextToken","nextToken","limit"),Gi=(0,g.createPaginator)(T,No,"nextToken","nextToken","limit"),zi=(0,g.createPaginator)(T,Lo,"nextToken","nextToken","limit"),qi=(0,g.createPaginator)(T,$o,"nextToken","nextToken","limit"),Wi=(0,g.createPaginator)(T,Vo,"nextToken","nextForwardToken","limit"),Vi=(0,g.createPaginator)(T,Zo,"nextToken","nextToken","limit"),Ji=(0,g.createPaginator)(T,ti,"nextToken","nextToken","limit"),Ki=(0,g.createPaginator)(T,ni,"nextToken","nextToken","maxResults")},129:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getRuntimeConfig=void 0;const n=r(1860).__importDefault(r(7611)),s=r(8704),o=r(5861),i=r(1656),a=r(9316),c=r(9770),l=r(5092),d=r(9618),u=r(5704),p=r(1279),h=r(3638),f=r(5518),m=r(70),g=r(1411),y=r(5435),b=r(1411);t.getRuntimeConfig=e=>{(0,b.emitWarningIfUnsupportedVersion)(process.version);const t=(0,y.resolveDefaultsModeConfig)(e),r=()=>t().then(g.loadConfigsForDefaultMode),v=(0,m.getRuntimeConfig)(e);(0,s.emitWarningIfUnsupportedVersion)(process.version);const _={profile:e?.profile,logger:v.logger};return{...v,...e,runtime:"node",defaultsMode:t,authSchemePreference:e?.authSchemePreference??(0,u.loadConfig)(s.NODE_AUTH_SCHEME_PREFERENCE_OPTIONS,_),bodyLengthChecker:e?.bodyLengthChecker??h.calculateBodyLength,credentialDefaultProvider:e?.credentialDefaultProvider??o.defaultProvider,defaultUserAgentProvider:e?.defaultUserAgentProvider??(0,i.createDefaultUserAgentProvider)({serviceId:v.serviceId,clientVersion:n.default.version}),eventStreamSerdeProvider:e?.eventStreamSerdeProvider??c.eventStreamSerdeProvider,maxAttempts:e?.maxAttempts??(0,u.loadConfig)(d.NODE_MAX_ATTEMPT_CONFIG_OPTIONS,e),region:e?.region??(0,u.loadConfig)(a.NODE_REGION_CONFIG_OPTIONS,{...a.NODE_REGION_CONFIG_FILE_OPTIONS,..._}),requestHandler:p.NodeHttpHandler.create(e?.requestHandler??r),retryMode:e?.retryMode??(0,u.loadConfig)({...d.NODE_RETRY_MODE_CONFIG_OPTIONS,default:async()=>(await r()).retryMode||f.DEFAULT_RETRY_MODE},e),sha256:e?.sha256??l.Hash.bind(null,"sha256"),streamCollector:e?.streamCollector??p.streamCollector,useDualstackEndpoint:e?.useDualstackEndpoint??(0,u.loadConfig)(a.NODE_USE_DUALSTACK_ENDPOINT_CONFIG_OPTIONS,_),useFipsEndpoint:e?.useFipsEndpoint??(0,u.loadConfig)(a.NODE_USE_FIPS_ENDPOINT_CONFIG_OPTIONS,_),userAgentAppId:e?.userAgentAppId??(0,u.loadConfig)(i.NODE_APP_ID_CONFIG_OPTIONS,_)}}},70:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getRuntimeConfig=void 0;const n=r(8704),s=r(1411),o=r(4494),i=r(8385),a=r(1577),c=r(9136),l=r(4262);t.getRuntimeConfig=e=>({apiVersion:"2014-03-28",base64Decoder:e?.base64Decoder??i.fromBase64,base64Encoder:e?.base64Encoder??i.toBase64,disableHostPrefix:e?.disableHostPrefix??!1,endpointProvider:e?.endpointProvider??l.defaultEndpointResolver,extensions:e?.extensions??[],httpAuthSchemeProvider:e?.httpAuthSchemeProvider??c.defaultCloudWatchLogsHttpAuthSchemeProvider,httpAuthSchemes:e?.httpAuthSchemes??[{schemeId:"aws.auth#sigv4",identityProvider:e=>e.getIdentityProvider("aws.auth#sigv4"),signer:new n.AwsSdkSigV4Signer}],logger:e?.logger??new s.NoOpLogger,serviceId:e?.serviceId??"CloudWatch Logs",urlParser:e?.urlParser??o.parseUrl,utf8Decoder:e?.utf8Decoder??a.fromUtf8,utf8Encoder:e?.utf8Encoder??a.toUtf8})},2041:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.resolveHttpAuthSchemeConfig=t.defaultSSOHttpAuthSchemeProvider=t.defaultSSOHttpAuthSchemeParametersProvider=void 0;const n=r(8704),s=r(6324);t.defaultSSOHttpAuthSchemeParametersProvider=async(e,t,r)=>({operation:(0,s.getSmithyContext)(t).operation,region:await(0,s.normalizeProvider)(e.region)()||(()=>{throw new Error("expected `region` to be configured for `aws.auth#sigv4`")})()});t.defaultSSOHttpAuthSchemeProvider=e=>{const t=[];switch(e.operation){case"GetRoleCredentials":case"ListAccountRoles":case"ListAccounts":case"Logout":t.push({schemeId:"smithy.api#noAuth"});break;default:t.push(function(e){return{schemeId:"aws.auth#sigv4",signingProperties:{name:"awsssoportal",region:e.region},propertiesExtractor:(e,t)=>({signingProperties:{config:e,context:t}})}}(e))}return t};t.resolveHttpAuthSchemeConfig=e=>{const t=(0,n.resolveAwsSdkSigV4Config)(e);return Object.assign(t,{authSchemePreference:(0,s.normalizeProvider)(e.authSchemePreference??[])})}},3903:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.defaultEndpointResolver=void 0;const n=r(3068),s=r(9674),o=r(1308),i=new s.EndpointCache({size:50,params:["Endpoint","Region","UseDualStack","UseFIPS"]});t.defaultEndpointResolver=(e,t={})=>i.get(e,()=>(0,s.resolveEndpoint)(o.ruleSet,{endpointParams:e,logger:t.logger})),s.customEndpointFunctions.aws=n.awsEndpointFunctions},1308:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ruleSet=void 0;const r="required",n="fn",s="argv",o="ref",i=!0,a="isSet",c="booleanEquals",l="error",d="endpoint",u="tree",p="PartitionResult",h="getAttr",f={[r]:!1,type:"String"},m={[r]:!0,default:!1,type:"Boolean"},g={[o]:"Endpoint"},y={[n]:c,[s]:[{[o]:"UseFIPS"},!0]},b={[n]:c,[s]:[{[o]:"UseDualStack"},!0]},v={},_={[n]:h,[s]:[{[o]:p},"supportsFIPS"]},S={[o]:p},w={[n]:c,[s]:[!0,{[n]:h,[s]:[S,"supportsDualStack"]}]},E=[y],P=[b],C=[{[o]:"Region"}],O={version:"1.0",parameters:{Region:f,UseDualStack:m,UseFIPS:m,Endpoint:f},rules:[{conditions:[{[n]:a,[s]:[g]}],rules:[{conditions:E,error:"Invalid Configuration: FIPS and custom endpoint are not supported",type:l},{conditions:P,error:"Invalid Configuration: Dualstack and custom endpoint are not supported",type:l},{endpoint:{url:g,properties:v,headers:v},type:d}],type:u},{conditions:[{[n]:a,[s]:C}],rules:[{conditions:[{[n]:"aws.partition",[s]:C,assign:p}],rules:[{conditions:[y,b],rules:[{conditions:[{[n]:c,[s]:[i,_]},w],rules:[{endpoint:{url:"https://portal.sso-fips.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:v,headers:v},type:d}],type:u},{error:"FIPS and DualStack are enabled, but this partition does not support one or both",type:l}],type:u},{conditions:E,rules:[{conditions:[{[n]:c,[s]:[_,i]}],rules:[{conditions:[{[n]:"stringEquals",[s]:[{[n]:h,[s]:[S,"name"]},"aws-us-gov"]}],endpoint:{url:"https://portal.sso.{Region}.amazonaws.com",properties:v,headers:v},type:d},{endpoint:{url:"https://portal.sso-fips.{Region}.{PartitionResult#dnsSuffix}",properties:v,headers:v},type:d}],type:u},{error:"FIPS is enabled but this partition does not support FIPS",type:l}],type:u},{conditions:P,rules:[{conditions:[w],rules:[{endpoint:{url:"https://portal.sso.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:v,headers:v},type:d}],type:u},{error:"DualStack is enabled but this partition does not support DualStack",type:l}],type:u},{endpoint:{url:"https://portal.sso.{Region}.{PartitionResult#dnsSuffix}",properties:v,headers:v},type:d}],type:u}],type:u},{error:"Invalid Configuration: Missing Region",type:l}]};t.ruleSet=O},2054:(e,t,r)=>{"use strict";var n,s=Object.defineProperty,o=Object.getOwnPropertyDescriptor,i=Object.getOwnPropertyNames,a=Object.prototype.hasOwnProperty,c=(e,t)=>s(e,"name",{value:t,configurable:!0}),l={};((e,t)=>{for(var r in t)s(e,r,{get:t[r],enumerable:!0})})(l,{GetRoleCredentialsCommand:()=>fe,GetRoleCredentialsRequestFilterSensitiveLog:()=>M,GetRoleCredentialsResponseFilterSensitiveLog:()=>F,InvalidRequestException:()=>D,ListAccountRolesCommand:()=>me,ListAccountRolesRequestFilterSensitiveLog:()=>$,ListAccountsCommand:()=>ge,ListAccountsRequestFilterSensitiveLog:()=>U,LogoutCommand:()=>ye,LogoutRequestFilterSensitiveLog:()=>B,ResourceNotFoundException:()=>N,RoleCredentialsFilterSensitiveLog:()=>L,SSO:()=>ve,SSOClient:()=>I,SSOServiceException:()=>T,TooManyRequestsException:()=>j,UnauthorizedException:()=>k,__Client:()=>C.Client,paginateListAccountRoles:()=>_e,paginateListAccounts:()=>Se}),e.exports=(n=l,((e,t,r,n)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let c of i(t))a.call(e,c)||c===r||s(e,c,{get:()=>t[c],enumerable:!(n=o(t,c))||n.enumerable});return e})(s({},"__esModule",{value:!0}),n));var d=r(2590),u=r(5242),p=r(1568),h=r(2959),f=r(9316),m=r(402),g=r(7212),y=r(99),b=r(9618),v=r(2041),_=c(e=>Object.assign(e,{useDualstackEndpoint:e.useDualstackEndpoint??!1,useFipsEndpoint:e.useFipsEndpoint??!1,defaultSigningName:"awsssoportal"}),"resolveClientEndpointParameters"),S={UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}},w=r(2696),E=r(6463),P=r(2356),C=r(1411),O=c(e=>{const t=e.httpAuthSchemes;let r=e.httpAuthSchemeProvider,n=e.credentials;return{setHttpAuthScheme(e){const r=t.findIndex(t=>t.schemeId===e.schemeId);-1===r?t.push(e):t.splice(r,1,e)},httpAuthSchemes:()=>t,setHttpAuthSchemeProvider(e){r=e},httpAuthSchemeProvider:()=>r,setCredentials(e){n=e},credentials:()=>n}},"getHttpAuthExtensionConfiguration"),A=c(e=>({httpAuthSchemes:e.httpAuthSchemes(),httpAuthSchemeProvider:e.httpAuthSchemeProvider(),credentials:e.credentials()}),"resolveHttpAuthRuntimeConfig"),x=c((e,t)=>{const r=Object.assign((0,E.getAwsRegionExtensionConfiguration)(e),(0,C.getDefaultExtensionConfiguration)(e),(0,P.getHttpHandlerExtensionConfiguration)(e),O(e));return t.forEach(e=>e.configure(r)),Object.assign(e,(0,E.resolveAwsRegionExtensionConfiguration)(r),(0,C.resolveDefaultRuntimeConfig)(r),(0,P.resolveHttpHandlerRuntimeConfig)(r),A(r))},"resolveRuntimeExtensions"),I=class extends C.Client{static{c(this,"SSOClient")}config;constructor(...[e]){const t=(0,w.getRuntimeConfig)(e||{});super(t),this.initConfig=t;const r=_(t),n=(0,h.resolveUserAgentConfig)(r),s=(0,b.resolveRetryConfig)(n),o=(0,f.resolveRegionConfig)(s),i=(0,d.resolveHostHeaderConfig)(o),a=(0,y.resolveEndpointConfig)(i),l=(0,v.resolveHttpAuthSchemeConfig)(a),S=x(l,e?.extensions||[]);this.config=S,this.middlewareStack.use((0,h.getUserAgentPlugin)(this.config)),this.middlewareStack.use((0,b.getRetryPlugin)(this.config)),this.middlewareStack.use((0,g.getContentLengthPlugin)(this.config)),this.middlewareStack.use((0,d.getHostHeaderPlugin)(this.config)),this.middlewareStack.use((0,u.getLoggerPlugin)(this.config)),this.middlewareStack.use((0,p.getRecursionDetectionPlugin)(this.config)),this.middlewareStack.use((0,m.getHttpAuthSchemeEndpointRuleSetPlugin)(this.config,{httpAuthSchemeParametersProvider:v.defaultSSOHttpAuthSchemeParametersProvider,identityProviderConfigProvider:c(async e=>new m.DefaultIdentityProviderConfig({"aws.auth#sigv4":e.credentials}),"identityProviderConfigProvider")})),this.middlewareStack.use((0,m.getHttpSigningPlugin)(this.config))}destroy(){super.destroy()}},R=r(3255),T=class e extends C.ServiceException{static{c(this,"SSOServiceException")}constructor(t){super(t),Object.setPrototypeOf(this,e.prototype)}},D=class e extends T{static{c(this,"InvalidRequestException")}name="InvalidRequestException";$fault="client";constructor(t){super({name:"InvalidRequestException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}},N=class e extends T{static{c(this,"ResourceNotFoundException")}name="ResourceNotFoundException";$fault="client";constructor(t){super({name:"ResourceNotFoundException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}},j=class e extends T{static{c(this,"TooManyRequestsException")}name="TooManyRequestsException";$fault="client";constructor(t){super({name:"TooManyRequestsException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}},k=class e extends T{static{c(this,"UnauthorizedException")}name="UnauthorizedException";$fault="client";constructor(t){super({name:"UnauthorizedException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}},M=c(e=>({...e,...e.accessToken&&{accessToken:C.SENSITIVE_STRING}}),"GetRoleCredentialsRequestFilterSensitiveLog"),L=c(e=>({...e,...e.secretAccessKey&&{secretAccessKey:C.SENSITIVE_STRING},...e.sessionToken&&{sessionToken:C.SENSITIVE_STRING}}),"RoleCredentialsFilterSensitiveLog"),F=c(e=>({...e,...e.roleCredentials&&{roleCredentials:L(e.roleCredentials)}}),"GetRoleCredentialsResponseFilterSensitiveLog"),$=c(e=>({...e,...e.accessToken&&{accessToken:C.SENSITIVE_STRING}}),"ListAccountRolesRequestFilterSensitiveLog"),U=c(e=>({...e,...e.accessToken&&{accessToken:C.SENSITIVE_STRING}}),"ListAccountsRequestFilterSensitiveLog"),B=c(e=>({...e,...e.accessToken&&{accessToken:C.SENSITIVE_STRING}}),"LogoutRequestFilterSensitiveLog"),H=r(8704),G=c(async(e,t)=>{const r=(0,m.requestBuilder)(e,t),n=(0,C.map)({},C.isSerializableHeaderValue,{[he]:e[oe]});r.bp("/federation/credentials");const s=(0,C.map)({[pe]:[,(0,C.expectNonNull)(e[ue],"roleName")],[ie]:[,(0,C.expectNonNull)(e[se],"accountId")]});return r.m("GET").h(n).q(s).b(undefined),r.build()},"se_GetRoleCredentialsCommand"),z=c(async(e,t)=>{const r=(0,m.requestBuilder)(e,t),n=(0,C.map)({},C.isSerializableHeaderValue,{[he]:e[oe]});r.bp("/assignment/roles");const s=(0,C.map)({[de]:[,e[le]],[ce]:[()=>void 0!==e.maxResults,()=>e[ae].toString()],[ie]:[,(0,C.expectNonNull)(e[se],"accountId")]});return r.m("GET").h(n).q(s).b(undefined),r.build()},"se_ListAccountRolesCommand"),q=c(async(e,t)=>{const r=(0,m.requestBuilder)(e,t),n=(0,C.map)({},C.isSerializableHeaderValue,{[he]:e[oe]});r.bp("/assignment/accounts");const s=(0,C.map)({[de]:[,e[le]],[ce]:[()=>void 0!==e.maxResults,()=>e[ae].toString()]});return r.m("GET").h(n).q(s).b(undefined),r.build()},"se_ListAccountsCommand"),W=c(async(e,t)=>{const r=(0,m.requestBuilder)(e,t),n=(0,C.map)({},C.isSerializableHeaderValue,{[he]:e[oe]});return r.bp("/logout"),r.m("POST").h(n).b(undefined),r.build()},"se_LogoutCommand"),V=c(async(e,t)=>{if(200!==e.statusCode&&e.statusCode>=300)return Q(e,t);const r=(0,C.map)({$metadata:ne(e)}),n=(0,C.expectNonNull)((0,C.expectObject)(await(0,H.parseJsonBody)(e.body,t)),"body"),s=(0,C.take)(n,{roleCredentials:C._json});return Object.assign(r,s),r},"de_GetRoleCredentialsCommand"),J=c(async(e,t)=>{if(200!==e.statusCode&&e.statusCode>=300)return Q(e,t);const r=(0,C.map)({$metadata:ne(e)}),n=(0,C.expectNonNull)((0,C.expectObject)(await(0,H.parseJsonBody)(e.body,t)),"body"),s=(0,C.take)(n,{nextToken:C.expectString,roleList:C._json});return Object.assign(r,s),r},"de_ListAccountRolesCommand"),K=c(async(e,t)=>{if(200!==e.statusCode&&e.statusCode>=300)return Q(e,t);const r=(0,C.map)({$metadata:ne(e)}),n=(0,C.expectNonNull)((0,C.expectObject)(await(0,H.parseJsonBody)(e.body,t)),"body"),s=(0,C.take)(n,{accountList:C._json,nextToken:C.expectString});return Object.assign(r,s),r},"de_ListAccountsCommand"),X=c(async(e,t)=>{if(200!==e.statusCode&&e.statusCode>=300)return Q(e,t);const r=(0,C.map)({$metadata:ne(e)});return await(0,C.collectBody)(e.body,t),r},"de_LogoutCommand"),Q=c(async(e,t)=>{const r={...e,body:await(0,H.parseJsonErrorBody)(e.body,t)},n=(0,H.loadRestJsonErrorCode)(e,r.body);switch(n){case"InvalidRequestException":case"com.amazonaws.sso#InvalidRequestException":throw await Z(r,t);case"ResourceNotFoundException":case"com.amazonaws.sso#ResourceNotFoundException":throw await ee(r,t);case"TooManyRequestsException":case"com.amazonaws.sso#TooManyRequestsException":throw await te(r,t);case"UnauthorizedException":case"com.amazonaws.sso#UnauthorizedException":throw await re(r,t);default:const s=r.body;return Y({output:e,parsedBody:s,errorCode:n})}},"de_CommandError"),Y=(0,C.withBaseException)(T),Z=c(async(e,t)=>{const r=(0,C.map)({}),n=e.body,s=(0,C.take)(n,{message:C.expectString});Object.assign(r,s);const o=new D({$metadata:ne(e),...r});return(0,C.decorateServiceException)(o,e.body)},"de_InvalidRequestExceptionRes"),ee=c(async(e,t)=>{const r=(0,C.map)({}),n=e.body,s=(0,C.take)(n,{message:C.expectString});Object.assign(r,s);const o=new N({$metadata:ne(e),...r});return(0,C.decorateServiceException)(o,e.body)},"de_ResourceNotFoundExceptionRes"),te=c(async(e,t)=>{const r=(0,C.map)({}),n=e.body,s=(0,C.take)(n,{message:C.expectString});Object.assign(r,s);const o=new j({$metadata:ne(e),...r});return(0,C.decorateServiceException)(o,e.body)},"de_TooManyRequestsExceptionRes"),re=c(async(e,t)=>{const r=(0,C.map)({}),n=e.body,s=(0,C.take)(n,{message:C.expectString});Object.assign(r,s);const o=new k({$metadata:ne(e),...r});return(0,C.decorateServiceException)(o,e.body)},"de_UnauthorizedExceptionRes"),ne=c(e=>({httpStatusCode:e.statusCode,requestId:e.headers["x-amzn-requestid"]??e.headers["x-amzn-request-id"]??e.headers["x-amz-request-id"],extendedRequestId:e.headers["x-amz-id-2"],cfId:e.headers["x-amz-cf-id"]}),"deserializeMetadata"),se="accountId",oe="accessToken",ie="account_id",ae="maxResults",ce="max_result",le="nextToken",de="next_token",ue="roleName",pe="role_name",he="x-amz-sso_bearer_token",fe=class extends(C.Command.classBuilder().ep(S).m(function(e,t,r,n){return[(0,R.getSerdePlugin)(r,this.serialize,this.deserialize),(0,y.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("SWBPortalService","GetRoleCredentials",{}).n("SSOClient","GetRoleCredentialsCommand").f(M,F).ser(G).de(V).build()){static{c(this,"GetRoleCredentialsCommand")}},me=class extends(C.Command.classBuilder().ep(S).m(function(e,t,r,n){return[(0,R.getSerdePlugin)(r,this.serialize,this.deserialize),(0,y.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("SWBPortalService","ListAccountRoles",{}).n("SSOClient","ListAccountRolesCommand").f($,void 0).ser(z).de(J).build()){static{c(this,"ListAccountRolesCommand")}},ge=class extends(C.Command.classBuilder().ep(S).m(function(e,t,r,n){return[(0,R.getSerdePlugin)(r,this.serialize,this.deserialize),(0,y.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("SWBPortalService","ListAccounts",{}).n("SSOClient","ListAccountsCommand").f(U,void 0).ser(q).de(K).build()){static{c(this,"ListAccountsCommand")}},ye=class extends(C.Command.classBuilder().ep(S).m(function(e,t,r,n){return[(0,R.getSerdePlugin)(r,this.serialize,this.deserialize),(0,y.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("SWBPortalService","Logout",{}).n("SSOClient","LogoutCommand").f(B,void 0).ser(W).de(X).build()){static{c(this,"LogoutCommand")}},be={GetRoleCredentialsCommand:fe,ListAccountRolesCommand:me,ListAccountsCommand:ge,LogoutCommand:ye},ve=class extends I{static{c(this,"SSO")}};(0,C.createAggregatedClient)(be,ve);var _e=(0,m.createPaginator)(I,me,"nextToken","nextToken","maxResults"),Se=(0,m.createPaginator)(I,ge,"nextToken","nextToken","maxResults")},2696:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getRuntimeConfig=void 0;const n=r(1860).__importDefault(r(5188)),s=r(8704),o=r(1656),i=r(9316),a=r(5092),c=r(9618),l=r(5704),d=r(1279),u=r(3638),p=r(5518),h=r(8073),f=r(1411),m=r(5435),g=r(1411);t.getRuntimeConfig=e=>{(0,g.emitWarningIfUnsupportedVersion)(process.version);const t=(0,m.resolveDefaultsModeConfig)(e),r=()=>t().then(f.loadConfigsForDefaultMode),y=(0,h.getRuntimeConfig)(e);(0,s.emitWarningIfUnsupportedVersion)(process.version);const b={profile:e?.profile,logger:y.logger};return{...y,...e,runtime:"node",defaultsMode:t,authSchemePreference:e?.authSchemePreference??(0,l.loadConfig)(s.NODE_AUTH_SCHEME_PREFERENCE_OPTIONS,b),bodyLengthChecker:e?.bodyLengthChecker??u.calculateBodyLength,defaultUserAgentProvider:e?.defaultUserAgentProvider??(0,o.createDefaultUserAgentProvider)({serviceId:y.serviceId,clientVersion:n.default.version}),maxAttempts:e?.maxAttempts??(0,l.loadConfig)(c.NODE_MAX_ATTEMPT_CONFIG_OPTIONS,e),region:e?.region??(0,l.loadConfig)(i.NODE_REGION_CONFIG_OPTIONS,{...i.NODE_REGION_CONFIG_FILE_OPTIONS,...b}),requestHandler:d.NodeHttpHandler.create(e?.requestHandler??r),retryMode:e?.retryMode??(0,l.loadConfig)({...c.NODE_RETRY_MODE_CONFIG_OPTIONS,default:async()=>(await r()).retryMode||p.DEFAULT_RETRY_MODE},e),sha256:e?.sha256??a.Hash.bind(null,"sha256"),streamCollector:e?.streamCollector??d.streamCollector,useDualstackEndpoint:e?.useDualstackEndpoint??(0,l.loadConfig)(i.NODE_USE_DUALSTACK_ENDPOINT_CONFIG_OPTIONS,b),useFipsEndpoint:e?.useFipsEndpoint??(0,l.loadConfig)(i.NODE_USE_FIPS_ENDPOINT_CONFIG_OPTIONS,b),userAgentAppId:e?.userAgentAppId??(0,l.loadConfig)(o.NODE_APP_ID_CONFIG_OPTIONS,b)}}},8073:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getRuntimeConfig=void 0;const n=r(8704),s=r(402),o=r(1411),i=r(4494),a=r(8385),c=r(1577),l=r(2041),d=r(3903);t.getRuntimeConfig=e=>({apiVersion:"2019-06-10",base64Decoder:e?.base64Decoder??a.fromBase64,base64Encoder:e?.base64Encoder??a.toBase64,disableHostPrefix:e?.disableHostPrefix??!1,endpointProvider:e?.endpointProvider??d.defaultEndpointResolver,extensions:e?.extensions??[],httpAuthSchemeProvider:e?.httpAuthSchemeProvider??l.defaultSSOHttpAuthSchemeProvider,httpAuthSchemes:e?.httpAuthSchemes??[{schemeId:"aws.auth#sigv4",identityProvider:e=>e.getIdentityProvider("aws.auth#sigv4"),signer:new n.AwsSdkSigV4Signer},{schemeId:"smithy.api#noAuth",identityProvider:e=>e.getIdentityProvider("smithy.api#noAuth")||(async()=>({})),signer:new s.NoAuthSigner}],logger:e?.logger??new o.NoOpLogger,serviceId:e?.serviceId??"SSO",urlParser:e?.urlParser??i.parseUrl,utf8Decoder:e?.utf8Decoder??c.fromUtf8,utf8Encoder:e?.utf8Encoder??c.toUtf8})},1548:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.STSClient=t.__Client=void 0;const n=r(2590),s=r(5242),o=r(1568),i=r(2959),a=r(9316),c=r(402),l=r(7212),d=r(99),u=r(9618),p=r(1411);Object.defineProperty(t,"__Client",{enumerable:!0,get:function(){return p.Client}});const h=r(9232),f=r(2912),m=r(2769),g=r(309);class y extends p.Client{config;constructor(...[e]){const t=(0,m.getRuntimeConfig)(e||{});super(t),this.initConfig=t;const r=(0,f.resolveClientEndpointParameters)(t),p=(0,i.resolveUserAgentConfig)(r),y=(0,u.resolveRetryConfig)(p),b=(0,a.resolveRegionConfig)(y),v=(0,n.resolveHostHeaderConfig)(b),_=(0,d.resolveEndpointConfig)(v),S=(0,h.resolveHttpAuthSchemeConfig)(_),w=(0,g.resolveRuntimeExtensions)(S,e?.extensions||[]);this.config=w,this.middlewareStack.use((0,i.getUserAgentPlugin)(this.config)),this.middlewareStack.use((0,u.getRetryPlugin)(this.config)),this.middlewareStack.use((0,l.getContentLengthPlugin)(this.config)),this.middlewareStack.use((0,n.getHostHeaderPlugin)(this.config)),this.middlewareStack.use((0,s.getLoggerPlugin)(this.config)),this.middlewareStack.use((0,o.getRecursionDetectionPlugin)(this.config)),this.middlewareStack.use((0,c.getHttpAuthSchemeEndpointRuleSetPlugin)(this.config,{httpAuthSchemeParametersProvider:h.defaultSTSHttpAuthSchemeParametersProvider,identityProviderConfigProvider:async e=>new c.DefaultIdentityProviderConfig({"aws.auth#sigv4":e.credentials})})),this.middlewareStack.use((0,c.getHttpSigningPlugin)(this.config))}destroy(){super.destroy()}}t.STSClient=y},9915:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.resolveHttpAuthRuntimeConfig=t.getHttpAuthExtensionConfiguration=void 0;t.getHttpAuthExtensionConfiguration=e=>{const t=e.httpAuthSchemes;let r=e.httpAuthSchemeProvider,n=e.credentials;return{setHttpAuthScheme(e){const r=t.findIndex(t=>t.schemeId===e.schemeId);-1===r?t.push(e):t.splice(r,1,e)},httpAuthSchemes:()=>t,setHttpAuthSchemeProvider(e){r=e},httpAuthSchemeProvider:()=>r,setCredentials(e){n=e},credentials:()=>n}};t.resolveHttpAuthRuntimeConfig=e=>({httpAuthSchemes:e.httpAuthSchemes(),httpAuthSchemeProvider:e.httpAuthSchemeProvider(),credentials:e.credentials()})},9232:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.resolveHttpAuthSchemeConfig=t.resolveStsAuthConfig=t.defaultSTSHttpAuthSchemeProvider=t.defaultSTSHttpAuthSchemeParametersProvider=void 0;const n=r(8704),s=r(6324),o=r(1548);t.defaultSTSHttpAuthSchemeParametersProvider=async(e,t,r)=>({operation:(0,s.getSmithyContext)(t).operation,region:await(0,s.normalizeProvider)(e.region)()||(()=>{throw new Error("expected `region` to be configured for `aws.auth#sigv4`")})()});t.defaultSTSHttpAuthSchemeProvider=e=>{const t=[];switch(e.operation){case"AssumeRoleWithSAML":case"AssumeRoleWithWebIdentity":t.push({schemeId:"smithy.api#noAuth"});break;default:t.push(function(e){return{schemeId:"aws.auth#sigv4",signingProperties:{name:"sts",region:e.region},propertiesExtractor:(e,t)=>({signingProperties:{config:e,context:t}})}}(e))}return t};t.resolveStsAuthConfig=e=>Object.assign(e,{stsClientCtor:o.STSClient});t.resolveHttpAuthSchemeConfig=e=>{const r=(0,t.resolveStsAuthConfig)(e),o=(0,n.resolveAwsSdkSigV4Config)(r);return Object.assign(o,{authSchemePreference:(0,s.normalizeProvider)(e.authSchemePreference??[])})}},2912:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.commonParams=t.resolveClientEndpointParameters=void 0;t.resolveClientEndpointParameters=e=>Object.assign(e,{useDualstackEndpoint:e.useDualstackEndpoint??!1,useFipsEndpoint:e.useFipsEndpoint??!1,useGlobalEndpoint:e.useGlobalEndpoint??!1,defaultSigningName:"sts"}),t.commonParams={UseGlobalEndpoint:{type:"builtInParams",name:"useGlobalEndpoint"},UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}},1030:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.defaultEndpointResolver=void 0;const n=r(3068),s=r(9674),o=r(6199),i=new s.EndpointCache({size:50,params:["Endpoint","Region","UseDualStack","UseFIPS","UseGlobalEndpoint"]});t.defaultEndpointResolver=(e,t={})=>i.get(e,()=>(0,s.resolveEndpoint)(o.ruleSet,{endpointParams:e,logger:t.logger})),s.customEndpointFunctions.aws=n.awsEndpointFunctions},6199:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ruleSet=void 0;const r="required",n="type",s="fn",o="argv",i="ref",a=!1,c=!0,l="booleanEquals",d="stringEquals",u="sigv4",p="us-east-1",h="endpoint",f="https://sts.{Region}.{PartitionResult#dnsSuffix}",m="tree",g="error",y="getAttr",b={[r]:!1,[n]:"String"},v={[r]:!0,default:!1,[n]:"Boolean"},_={[i]:"Endpoint"},S={[s]:"isSet",[o]:[{[i]:"Region"}]},w={[i]:"Region"},E={[s]:"aws.partition",[o]:[w],assign:"PartitionResult"},P={[i]:"UseFIPS"},C={[i]:"UseDualStack"},O={url:"https://sts.amazonaws.com",properties:{authSchemes:[{name:u,signingName:"sts",signingRegion:p}]},headers:{}},A={},x={conditions:[{[s]:d,[o]:[w,"aws-global"]}],[h]:O,[n]:h},I={[s]:l,[o]:[P,!0]},R={[s]:l,[o]:[C,!0]},T={[s]:y,[o]:[{[i]:"PartitionResult"},"supportsFIPS"]},D={[i]:"PartitionResult"},N={[s]:l,[o]:[!0,{[s]:y,[o]:[D,"supportsDualStack"]}]},j=[{[s]:"isSet",[o]:[_]}],k=[I],M=[R],L={version:"1.0",parameters:{Region:b,UseDualStack:v,UseFIPS:v,Endpoint:b,UseGlobalEndpoint:v},rules:[{conditions:[{[s]:l,[o]:[{[i]:"UseGlobalEndpoint"},c]},{[s]:"not",[o]:j},S,E,{[s]:l,[o]:[P,a]},{[s]:l,[o]:[C,a]}],rules:[{conditions:[{[s]:d,[o]:[w,"ap-northeast-1"]}],endpoint:O,[n]:h},{conditions:[{[s]:d,[o]:[w,"ap-south-1"]}],endpoint:O,[n]:h},{conditions:[{[s]:d,[o]:[w,"ap-southeast-1"]}],endpoint:O,[n]:h},{conditions:[{[s]:d,[o]:[w,"ap-southeast-2"]}],endpoint:O,[n]:h},x,{conditions:[{[s]:d,[o]:[w,"ca-central-1"]}],endpoint:O,[n]:h},{conditions:[{[s]:d,[o]:[w,"eu-central-1"]}],endpoint:O,[n]:h},{conditions:[{[s]:d,[o]:[w,"eu-north-1"]}],endpoint:O,[n]:h},{conditions:[{[s]:d,[o]:[w,"eu-west-1"]}],endpoint:O,[n]:h},{conditions:[{[s]:d,[o]:[w,"eu-west-2"]}],endpoint:O,[n]:h},{conditions:[{[s]:d,[o]:[w,"eu-west-3"]}],endpoint:O,[n]:h},{conditions:[{[s]:d,[o]:[w,"sa-east-1"]}],endpoint:O,[n]:h},{conditions:[{[s]:d,[o]:[w,p]}],endpoint:O,[n]:h},{conditions:[{[s]:d,[o]:[w,"us-east-2"]}],endpoint:O,[n]:h},{conditions:[{[s]:d,[o]:[w,"us-west-1"]}],endpoint:O,[n]:h},{conditions:[{[s]:d,[o]:[w,"us-west-2"]}],endpoint:O,[n]:h},{endpoint:{url:f,properties:{authSchemes:[{name:u,signingName:"sts",signingRegion:"{Region}"}]},headers:A},[n]:h}],[n]:m},{conditions:j,rules:[{conditions:k,error:"Invalid Configuration: FIPS and custom endpoint are not supported",[n]:g},{conditions:M,error:"Invalid Configuration: Dualstack and custom endpoint are not supported",[n]:g},{endpoint:{url:_,properties:A,headers:A},[n]:h}],[n]:m},{conditions:[S],rules:[{conditions:[E],rules:[{conditions:[I,R],rules:[{conditions:[{[s]:l,[o]:[c,T]},N],rules:[{endpoint:{url:"https://sts-fips.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:A,headers:A},[n]:h}],[n]:m},{error:"FIPS and DualStack are enabled, but this partition does not support one or both",[n]:g}],[n]:m},{conditions:k,rules:[{conditions:[{[s]:l,[o]:[T,c]}],rules:[{conditions:[{[s]:d,[o]:[{[s]:y,[o]:[D,"name"]},"aws-us-gov"]}],endpoint:{url:"https://sts.{Region}.amazonaws.com",properties:A,headers:A},[n]:h},{endpoint:{url:"https://sts-fips.{Region}.{PartitionResult#dnsSuffix}",properties:A,headers:A},[n]:h}],[n]:m},{error:"FIPS is enabled but this partition does not support FIPS",[n]:g}],[n]:m},{conditions:M,rules:[{conditions:[N],rules:[{endpoint:{url:"https://sts.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:A,headers:A},[n]:h}],[n]:m},{error:"DualStack is enabled but this partition does not support DualStack",[n]:g}],[n]:m},x,{endpoint:{url:f,properties:A,headers:A},[n]:h}],[n]:m}],[n]:m},{error:"Invalid Configuration: Missing Region",[n]:g}]};t.ruleSet=L},1695:(e,t,r)=>{"use strict";var n,s=Object.defineProperty,o=Object.getOwnPropertyDescriptor,i=Object.getOwnPropertyNames,a=Object.prototype.hasOwnProperty,c=(e,t)=>s(e,"name",{value:t,configurable:!0}),l=(e,t,r,n)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let c of i(t))a.call(e,c)||c===r||s(e,c,{get:()=>t[c],enumerable:!(n=o(t,c))||n.enumerable});return e},d={};((e,t)=>{for(var r in t)s(e,r,{get:t[r],enumerable:!0})})(d,{AssumeRoleCommand:()=>tr,AssumeRoleResponseFilterSensitiveLog:()=>C,AssumeRoleWithSAMLCommand:()=>nr,AssumeRoleWithSAMLRequestFilterSensitiveLog:()=>O,AssumeRoleWithSAMLResponseFilterSensitiveLog:()=>A,AssumeRoleWithWebIdentityCommand:()=>or,AssumeRoleWithWebIdentityRequestFilterSensitiveLog:()=>x,AssumeRoleWithWebIdentityResponseFilterSensitiveLog:()=>I,AssumeRootCommand:()=>ar,AssumeRootResponseFilterSensitiveLog:()=>R,ClientInputEndpointParameters:()=>Sr.ClientInputEndpointParameters,CredentialsFilterSensitiveLog:()=>P,DecodeAuthorizationMessageCommand:()=>lr,ExpiredTokenException:()=>g,GetAccessKeyInfoCommand:()=>ur,GetCallerIdentityCommand:()=>hr,GetFederationTokenCommand:()=>mr,GetFederationTokenResponseFilterSensitiveLog:()=>T,GetSessionTokenCommand:()=>yr,GetSessionTokenResponseFilterSensitiveLog:()=>D,IDPCommunicationErrorException:()=>w,IDPRejectedClaimException:()=>_,InvalidAuthorizationMessageException:()=>E,InvalidIdentityTokenException:()=>S,MalformedPolicyDocumentException:()=>y,PackedPolicyTooLargeException:()=>b,RegionDisabledException:()=>v,STS:()=>_r,STSServiceException:()=>m,decorateDefaultCredentialProvider:()=>Nr,getDefaultRoleAssumer:()=>Tr,getDefaultRoleAssumerWithWebIdentity:()=>Dr}),e.exports=(n=d,l(s({},"__esModule",{value:!0}),n)),((e,t,r)=>{l(e,t,"default"),r&&l(r,t,"default")})(d,r(1548),e.exports);var u=r(99),p=r(3255),h=r(2912),f=r(1411),m=class e extends f.ServiceException{static{c(this,"STSServiceException")}constructor(t){super(t),Object.setPrototypeOf(this,e.prototype)}},g=class e extends m{static{c(this,"ExpiredTokenException")}name="ExpiredTokenException";$fault="client";constructor(t){super({name:"ExpiredTokenException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}},y=class e extends m{static{c(this,"MalformedPolicyDocumentException")}name="MalformedPolicyDocumentException";$fault="client";constructor(t){super({name:"MalformedPolicyDocumentException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}},b=class e extends m{static{c(this,"PackedPolicyTooLargeException")}name="PackedPolicyTooLargeException";$fault="client";constructor(t){super({name:"PackedPolicyTooLargeException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}},v=class e extends m{static{c(this,"RegionDisabledException")}name="RegionDisabledException";$fault="client";constructor(t){super({name:"RegionDisabledException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}},_=class e extends m{static{c(this,"IDPRejectedClaimException")}name="IDPRejectedClaimException";$fault="client";constructor(t){super({name:"IDPRejectedClaimException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}},S=class e extends m{static{c(this,"InvalidIdentityTokenException")}name="InvalidIdentityTokenException";$fault="client";constructor(t){super({name:"InvalidIdentityTokenException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}},w=class e extends m{static{c(this,"IDPCommunicationErrorException")}name="IDPCommunicationErrorException";$fault="client";constructor(t){super({name:"IDPCommunicationErrorException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}},E=class e extends m{static{c(this,"InvalidAuthorizationMessageException")}name="InvalidAuthorizationMessageException";$fault="client";constructor(t){super({name:"InvalidAuthorizationMessageException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}},P=c(e=>({...e,...e.SecretAccessKey&&{SecretAccessKey:f.SENSITIVE_STRING}}),"CredentialsFilterSensitiveLog"),C=c(e=>({...e,...e.Credentials&&{Credentials:P(e.Credentials)}}),"AssumeRoleResponseFilterSensitiveLog"),O=c(e=>({...e,...e.SAMLAssertion&&{SAMLAssertion:f.SENSITIVE_STRING}}),"AssumeRoleWithSAMLRequestFilterSensitiveLog"),A=c(e=>({...e,...e.Credentials&&{Credentials:P(e.Credentials)}}),"AssumeRoleWithSAMLResponseFilterSensitiveLog"),x=c(e=>({...e,...e.WebIdentityToken&&{WebIdentityToken:f.SENSITIVE_STRING}}),"AssumeRoleWithWebIdentityRequestFilterSensitiveLog"),I=c(e=>({...e,...e.Credentials&&{Credentials:P(e.Credentials)}}),"AssumeRoleWithWebIdentityResponseFilterSensitiveLog"),R=c(e=>({...e,...e.Credentials&&{Credentials:P(e.Credentials)}}),"AssumeRootResponseFilterSensitiveLog"),T=c(e=>({...e,...e.Credentials&&{Credentials:P(e.Credentials)}}),"GetFederationTokenResponseFilterSensitiveLog"),D=c(e=>({...e,...e.Credentials&&{Credentials:P(e.Credentials)}}),"GetSessionTokenResponseFilterSensitiveLog"),N=r(8704),j=r(2356),k=c(async(e,t)=>{const r=Ve;let n;return n=Zt({...ce(e,t),[Ke]:Qe,[Jt]:Je}),We(t,r,"/",void 0,n)},"se_AssumeRoleCommand"),M=c(async(e,t)=>{const r=Ve;let n;return n=Zt({...le(e,t),[Ke]:et,[Jt]:Je}),We(t,r,"/",void 0,n)},"se_AssumeRoleWithSAMLCommand"),L=c(async(e,t)=>{const r=Ve;let n;return n=Zt({...de(e,t),[Ke]:tt,[Jt]:Je}),We(t,r,"/",void 0,n)},"se_AssumeRoleWithWebIdentityCommand"),F=c(async(e,t)=>{const r=Ve;let n;return n=Zt({...ue(e,t),[Ke]:rt,[Jt]:Je}),We(t,r,"/",void 0,n)},"se_AssumeRootCommand"),$=c(async(e,t)=>{const r=Ve;let n;return n=Zt({...pe(e,t),[Ke]:ct,[Jt]:Je}),We(t,r,"/",void 0,n)},"se_DecodeAuthorizationMessageCommand"),U=c(async(e,t)=>{const r=Ve;let n;return n=Zt({...he(e,t),[Ke]:gt,[Jt]:Je}),We(t,r,"/",void 0,n)},"se_GetAccessKeyInfoCommand"),B=c(async(e,t)=>{const r=Ve;let n;return n=Zt({...fe(e,t),[Ke]:yt,[Jt]:Je}),We(t,r,"/",void 0,n)},"se_GetCallerIdentityCommand"),H=c(async(e,t)=>{const r=Ve;let n;return n=Zt({...me(e,t),[Ke]:bt,[Jt]:Je}),We(t,r,"/",void 0,n)},"se_GetFederationTokenCommand"),G=c(async(e,t)=>{const r=Ve;let n;return n=Zt({...ge(e,t),[Ke]:vt,[Jt]:Je}),We(t,r,"/",void 0,n)},"se_GetSessionTokenCommand"),z=c(async(e,t)=>{if(e.statusCode>=300)return Z(e,t);const r=await(0,N.parseXmlBody)(e.body,t);let n={};n=Ce(r.AssumeRoleResult,t);return{$metadata:ze(e),...n}},"de_AssumeRoleCommand"),q=c(async(e,t)=>{if(e.statusCode>=300)return Z(e,t);const r=await(0,N.parseXmlBody)(e.body,t);let n={};n=Oe(r.AssumeRoleWithSAMLResult,t);return{$metadata:ze(e),...n}},"de_AssumeRoleWithSAMLCommand"),W=c(async(e,t)=>{if(e.statusCode>=300)return Z(e,t);const r=await(0,N.parseXmlBody)(e.body,t);let n={};n=Ae(r.AssumeRoleWithWebIdentityResult,t);return{$metadata:ze(e),...n}},"de_AssumeRoleWithWebIdentityCommand"),V=c(async(e,t)=>{if(e.statusCode>=300)return Z(e,t);const r=await(0,N.parseXmlBody)(e.body,t);let n={};n=xe(r.AssumeRootResult,t);return{$metadata:ze(e),...n}},"de_AssumeRootCommand"),J=c(async(e,t)=>{if(e.statusCode>=300)return Z(e,t);const r=await(0,N.parseXmlBody)(e.body,t);let n={};n=Re(r.DecodeAuthorizationMessageResult,t);return{$metadata:ze(e),...n}},"de_DecodeAuthorizationMessageCommand"),K=c(async(e,t)=>{if(e.statusCode>=300)return Z(e,t);const r=await(0,N.parseXmlBody)(e.body,t);let n={};n=Ne(r.GetAccessKeyInfoResult,t);return{$metadata:ze(e),...n}},"de_GetAccessKeyInfoCommand"),X=c(async(e,t)=>{if(e.statusCode>=300)return Z(e,t);const r=await(0,N.parseXmlBody)(e.body,t);let n={};n=je(r.GetCallerIdentityResult,t);return{$metadata:ze(e),...n}},"de_GetCallerIdentityCommand"),Q=c(async(e,t)=>{if(e.statusCode>=300)return Z(e,t);const r=await(0,N.parseXmlBody)(e.body,t);let n={};n=ke(r.GetFederationTokenResult,t);return{$metadata:ze(e),...n}},"de_GetFederationTokenCommand"),Y=c(async(e,t)=>{if(e.statusCode>=300)return Z(e,t);const r=await(0,N.parseXmlBody)(e.body,t);let n={};n=Me(r.GetSessionTokenResult,t);return{$metadata:ze(e),...n}},"de_GetSessionTokenCommand"),Z=c(async(e,t)=>{const r={...e,body:await(0,N.parseXmlErrorBody)(e.body,t)},n=er(e,r.body);switch(n){case"ExpiredTokenException":case"com.amazonaws.sts#ExpiredTokenException":throw await ee(r,t);case"MalformedPolicyDocument":case"com.amazonaws.sts#MalformedPolicyDocumentException":throw await oe(r,t);case"PackedPolicyTooLarge":case"com.amazonaws.sts#PackedPolicyTooLargeException":throw await ie(r,t);case"RegionDisabledException":case"com.amazonaws.sts#RegionDisabledException":throw await ae(r,t);case"IDPRejectedClaim":case"com.amazonaws.sts#IDPRejectedClaimException":throw await re(r,t);case"InvalidIdentityToken":case"com.amazonaws.sts#InvalidIdentityTokenException":throw await se(r,t);case"IDPCommunicationError":case"com.amazonaws.sts#IDPCommunicationErrorException":throw await te(r,t);case"InvalidAuthorizationMessageException":case"com.amazonaws.sts#InvalidAuthorizationMessageException":throw await ne(r,t);default:const s=r.body;return qe({output:e,parsedBody:s.Error,errorCode:n})}},"de_CommandError"),ee=c(async(e,t)=>{const r=e.body,n=Te(r.Error,t),s=new g({$metadata:ze(e),...n});return(0,f.decorateServiceException)(s,r)},"de_ExpiredTokenExceptionRes"),te=c(async(e,t)=>{const r=e.body,n=Le(r.Error,t),s=new w({$metadata:ze(e),...n});return(0,f.decorateServiceException)(s,r)},"de_IDPCommunicationErrorExceptionRes"),re=c(async(e,t)=>{const r=e.body,n=Fe(r.Error,t),s=new _({$metadata:ze(e),...n});return(0,f.decorateServiceException)(s,r)},"de_IDPRejectedClaimExceptionRes"),ne=c(async(e,t)=>{const r=e.body,n=$e(r.Error,t),s=new E({$metadata:ze(e),...n});return(0,f.decorateServiceException)(s,r)},"de_InvalidAuthorizationMessageExceptionRes"),se=c(async(e,t)=>{const r=e.body,n=Ue(r.Error,t),s=new S({$metadata:ze(e),...n});return(0,f.decorateServiceException)(s,r)},"de_InvalidIdentityTokenExceptionRes"),oe=c(async(e,t)=>{const r=e.body,n=Be(r.Error,t),s=new y({$metadata:ze(e),...n});return(0,f.decorateServiceException)(s,r)},"de_MalformedPolicyDocumentExceptionRes"),ie=c(async(e,t)=>{const r=e.body,n=He(r.Error,t),s=new b({$metadata:ze(e),...n});return(0,f.decorateServiceException)(s,r)},"de_PackedPolicyTooLargeExceptionRes"),ae=c(async(e,t)=>{const r=e.body,n=Ge(r.Error,t),s=new v({$metadata:ze(e),...n});return(0,f.decorateServiceException)(s,r)},"de_RegionDisabledExceptionRes"),ce=c((e,t)=>{const r={};if(null!=e[Dt]&&(r[Dt]=e[Dt]),null!=e[Nt]&&(r[Nt]=e[Nt]),null!=e[Ct]){const n=ye(e[Ct],t);0===e[Ct]?.length&&(r.PolicyArns=[]),Object.entries(n).forEach(([e,t])=>{r[`PolicyArns.${e}`]=t})}if(null!=e[Pt]&&(r[Pt]=e[Pt]),null!=e[dt]&&(r[dt]=e[dt]),null!=e[Ht]){const n=Ee(e[Ht],t);0===e[Ht]?.length&&(r.Tags=[]),Object.entries(n).forEach(([e,t])=>{r[`Tags.${e}`]=t})}if(null!=e[Wt]){const n=we(e[Wt],t);0===e[Wt]?.length&&(r.TransitiveTagKeys=[]),Object.entries(n).forEach(([e,t])=>{r[`TransitiveTagKeys.${e}`]=t})}if(null!=e[pt]&&(r[pt]=e[pt]),null!=e[$t]&&(r[$t]=e[$t]),null!=e[Gt]&&(r[Gt]=e[Gt]),null!=e[Ft]&&(r[Ft]=e[Ft]),null!=e[xt]){const n=_e(e[xt],t);0===e[xt]?.length&&(r.ProvidedContexts=[]),Object.entries(n).forEach(([e,t])=>{r[`ProvidedContexts.${e}`]=t})}return r},"se_AssumeRoleRequest"),le=c((e,t)=>{const r={};if(null!=e[Dt]&&(r[Dt]=e[Dt]),null!=e[Ot]&&(r[Ot]=e[Ot]),null!=e[Mt]&&(r[Mt]=e[Mt]),null!=e[Ct]){const n=ye(e[Ct],t);0===e[Ct]?.length&&(r.PolicyArns=[]),Object.entries(n).forEach(([e,t])=>{r[`PolicyArns.${e}`]=t})}return null!=e[Pt]&&(r[Pt]=e[Pt]),null!=e[dt]&&(r[dt]=e[dt]),r},"se_AssumeRoleWithSAMLRequest"),de=c((e,t)=>{const r={};if(null!=e[Dt]&&(r[Dt]=e[Dt]),null!=e[Nt]&&(r[Nt]=e[Nt]),null!=e[Xt]&&(r[Xt]=e[Xt]),null!=e[It]&&(r[It]=e[It]),null!=e[Ct]){const n=ye(e[Ct],t);0===e[Ct]?.length&&(r.PolicyArns=[]),Object.entries(n).forEach(([e,t])=>{r[`PolicyArns.${e}`]=t})}return null!=e[Pt]&&(r[Pt]=e[Pt]),null!=e[dt]&&(r[dt]=e[dt]),r},"se_AssumeRoleWithWebIdentityRequest"),ue=c((e,t)=>{const r={};if(null!=e[zt]&&(r[zt]=e[zt]),null!=e[qt]){const n=be(e[qt],t);Object.entries(n).forEach(([e,t])=>{r[`TaskPolicyArn.${e}`]=t})}return null!=e[dt]&&(r[dt]=e[dt]),r},"se_AssumeRootRequest"),pe=c((e,t)=>{const r={};return null!=e[ht]&&(r[ht]=e[ht]),r},"se_DecodeAuthorizationMessageRequest"),he=c((e,t)=>{const r={};return null!=e[Xe]&&(r[Xe]=e[Xe]),r},"se_GetAccessKeyInfoRequest"),fe=c((e,t)=>({}),"se_GetCallerIdentityRequest"),me=c((e,t)=>{const r={};if(null!=e[wt]&&(r[wt]=e[wt]),null!=e[Pt]&&(r[Pt]=e[Pt]),null!=e[Ct]){const n=ye(e[Ct],t);0===e[Ct]?.length&&(r.PolicyArns=[]),Object.entries(n).forEach(([e,t])=>{r[`PolicyArns.${e}`]=t})}if(null!=e[dt]&&(r[dt]=e[dt]),null!=e[Ht]){const n=Ee(e[Ht],t);0===e[Ht]?.length&&(r.Tags=[]),Object.entries(n).forEach(([e,t])=>{r[`Tags.${e}`]=t})}return r},"se_GetFederationTokenRequest"),ge=c((e,t)=>{const r={};return null!=e[dt]&&(r[dt]=e[dt]),null!=e[$t]&&(r[$t]=e[$t]),null!=e[Gt]&&(r[Gt]=e[Gt]),r},"se_GetSessionTokenRequest"),ye=c((e,t)=>{const r={};let n=1;for(const s of e){if(null===s)continue;const e=be(s,t);Object.entries(e).forEach(([e,t])=>{r[`member.${n}.${e}`]=t}),n++}return r},"se_policyDescriptorListType"),be=c((e,t)=>{const r={};return null!=e[Qt]&&(r[Qt]=e[Qt]),r},"se_PolicyDescriptorType"),ve=c((e,t)=>{const r={};return null!=e[At]&&(r[At]=e[At]),null!=e[at]&&(r[at]=e[at]),r},"se_ProvidedContext"),_e=c((e,t)=>{const r={};let n=1;for(const s of e){if(null===s)continue;const e=ve(s,t);Object.entries(e).forEach(([e,t])=>{r[`member.${n}.${e}`]=t}),n++}return r},"se_ProvidedContextsListType"),Se=c((e,t)=>{const r={};return null!=e[St]&&(r[St]=e[St]),null!=e[Kt]&&(r[Kt]=e[Kt]),r},"se_Tag"),we=c((e,t)=>{const r={};let n=1;for(const t of e)null!==t&&(r[`member.${n}`]=t,n++);return r},"se_tagKeyListType"),Ee=c((e,t)=>{const r={};let n=1;for(const s of e){if(null===s)continue;const e=Se(s,t);Object.entries(e).forEach(([e,t])=>{r[`member.${n}.${e}`]=t}),n++}return r},"se_tagListType"),Pe=c((e,t)=>{const r={};return null!=e[Ye]&&(r[Ye]=(0,f.expectString)(e[Ye])),null!=e[st]&&(r[st]=(0,f.expectString)(e[st])),r},"de_AssumedRoleUser"),Ce=c((e,t)=>{const r={};return null!=e[it]&&(r[it]=Ie(e[it],t)),null!=e[Ze]&&(r[Ze]=Pe(e[Ze],t)),null!=e[Rt]&&(r[Rt]=(0,f.strictParseInt32)(e[Rt])),null!=e[Ft]&&(r[Ft]=(0,f.expectString)(e[Ft])),r},"de_AssumeRoleResponse"),Oe=c((e,t)=>{const r={};return null!=e[it]&&(r[it]=Ie(e[it],t)),null!=e[Ze]&&(r[Ze]=Pe(e[Ze],t)),null!=e[Rt]&&(r[Rt]=(0,f.strictParseInt32)(e[Rt])),null!=e[jt]&&(r[jt]=(0,f.expectString)(e[jt])),null!=e[Ut]&&(r[Ut]=(0,f.expectString)(e[Ut])),null!=e[_t]&&(r[_t]=(0,f.expectString)(e[_t])),null!=e[ot]&&(r[ot]=(0,f.expectString)(e[ot])),null!=e[Et]&&(r[Et]=(0,f.expectString)(e[Et])),null!=e[Ft]&&(r[Ft]=(0,f.expectString)(e[Ft])),r},"de_AssumeRoleWithSAMLResponse"),Ae=c((e,t)=>{const r={};return null!=e[it]&&(r[it]=Ie(e[it],t)),null!=e[Lt]&&(r[Lt]=(0,f.expectString)(e[Lt])),null!=e[Ze]&&(r[Ze]=Pe(e[Ze],t)),null!=e[Rt]&&(r[Rt]=(0,f.strictParseInt32)(e[Rt])),null!=e[Tt]&&(r[Tt]=(0,f.expectString)(e[Tt])),null!=e[ot]&&(r[ot]=(0,f.expectString)(e[ot])),null!=e[Ft]&&(r[Ft]=(0,f.expectString)(e[Ft])),r},"de_AssumeRoleWithWebIdentityResponse"),xe=c((e,t)=>{const r={};return null!=e[it]&&(r[it]=Ie(e[it],t)),null!=e[Ft]&&(r[Ft]=(0,f.expectString)(e[Ft])),r},"de_AssumeRootResponse"),Ie=c((e,t)=>{const r={};return null!=e[Xe]&&(r[Xe]=(0,f.expectString)(e[Xe])),null!=e[kt]&&(r[kt]=(0,f.expectString)(e[kt])),null!=e[Bt]&&(r[Bt]=(0,f.expectString)(e[Bt])),null!=e[ut]&&(r[ut]=(0,f.expectNonNull)((0,f.parseRfc3339DateTimeWithOffset)(e[ut]))),r},"de_Credentials"),Re=c((e,t)=>{const r={};return null!=e[lt]&&(r[lt]=(0,f.expectString)(e[lt])),r},"de_DecodeAuthorizationMessageResponse"),Te=c((e,t)=>{const r={};return null!=e[Yt]&&(r[Yt]=(0,f.expectString)(e[Yt])),r},"de_ExpiredTokenException"),De=c((e,t)=>{const r={};return null!=e[mt]&&(r[mt]=(0,f.expectString)(e[mt])),null!=e[st]&&(r[st]=(0,f.expectString)(e[st])),r},"de_FederatedUser"),Ne=c((e,t)=>{const r={};return null!=e[nt]&&(r[nt]=(0,f.expectString)(e[nt])),r},"de_GetAccessKeyInfoResponse"),je=c((e,t)=>{const r={};return null!=e[Vt]&&(r[Vt]=(0,f.expectString)(e[Vt])),null!=e[nt]&&(r[nt]=(0,f.expectString)(e[nt])),null!=e[st]&&(r[st]=(0,f.expectString)(e[st])),r},"de_GetCallerIdentityResponse"),ke=c((e,t)=>{const r={};return null!=e[it]&&(r[it]=Ie(e[it],t)),null!=e[ft]&&(r[ft]=De(e[ft],t)),null!=e[Rt]&&(r[Rt]=(0,f.strictParseInt32)(e[Rt])),r},"de_GetFederationTokenResponse"),Me=c((e,t)=>{const r={};return null!=e[it]&&(r[it]=Ie(e[it],t)),r},"de_GetSessionTokenResponse"),Le=c((e,t)=>{const r={};return null!=e[Yt]&&(r[Yt]=(0,f.expectString)(e[Yt])),r},"de_IDPCommunicationErrorException"),Fe=c((e,t)=>{const r={};return null!=e[Yt]&&(r[Yt]=(0,f.expectString)(e[Yt])),r},"de_IDPRejectedClaimException"),$e=c((e,t)=>{const r={};return null!=e[Yt]&&(r[Yt]=(0,f.expectString)(e[Yt])),r},"de_InvalidAuthorizationMessageException"),Ue=c((e,t)=>{const r={};return null!=e[Yt]&&(r[Yt]=(0,f.expectString)(e[Yt])),r},"de_InvalidIdentityTokenException"),Be=c((e,t)=>{const r={};return null!=e[Yt]&&(r[Yt]=(0,f.expectString)(e[Yt])),r},"de_MalformedPolicyDocumentException"),He=c((e,t)=>{const r={};return null!=e[Yt]&&(r[Yt]=(0,f.expectString)(e[Yt])),r},"de_PackedPolicyTooLargeException"),Ge=c((e,t)=>{const r={};return null!=e[Yt]&&(r[Yt]=(0,f.expectString)(e[Yt])),r},"de_RegionDisabledException"),ze=c(e=>({httpStatusCode:e.statusCode,requestId:e.headers["x-amzn-requestid"]??e.headers["x-amzn-request-id"]??e.headers["x-amz-request-id"],extendedRequestId:e.headers["x-amz-id-2"],cfId:e.headers["x-amz-cf-id"]}),"deserializeMetadata"),qe=(0,f.withBaseException)(m),We=c(async(e,t,r,n,s)=>{const{hostname:o,protocol:i="https",port:a,path:c}=await e.endpoint(),l={protocol:i,hostname:o,port:a,method:"POST",path:c.endsWith("/")?c.slice(0,-1)+r:c+r,headers:t};return void 0!==n&&(l.hostname=n),void 0!==s&&(l.body=s),new j.HttpRequest(l)},"buildHttpRpcRequest"),Ve={"content-type":"application/x-www-form-urlencoded"},Je="2011-06-15",Ke="Action",Xe="AccessKeyId",Qe="AssumeRole",Ye="AssumedRoleId",Ze="AssumedRoleUser",et="AssumeRoleWithSAML",tt="AssumeRoleWithWebIdentity",rt="AssumeRoot",nt="Account",st="Arn",ot="Audience",it="Credentials",at="ContextAssertion",ct="DecodeAuthorizationMessage",lt="DecodedMessage",dt="DurationSeconds",ut="Expiration",pt="ExternalId",ht="EncodedMessage",ft="FederatedUser",mt="FederatedUserId",gt="GetAccessKeyInfo",yt="GetCallerIdentity",bt="GetFederationToken",vt="GetSessionToken",_t="Issuer",St="Key",wt="Name",Et="NameQualifier",Pt="Policy",Ct="PolicyArns",Ot="PrincipalArn",At="ProviderArn",xt="ProvidedContexts",It="ProviderId",Rt="PackedPolicySize",Tt="Provider",Dt="RoleArn",Nt="RoleSessionName",jt="Subject",kt="SecretAccessKey",Mt="SAMLAssertion",Lt="SubjectFromWebIdentityToken",Ft="SourceIdentity",$t="SerialNumber",Ut="SubjectType",Bt="SessionToken",Ht="Tags",Gt="TokenCode",zt="TargetPrincipal",qt="TaskPolicyArn",Wt="TransitiveTagKeys",Vt="UserId",Jt="Version",Kt="Value",Xt="WebIdentityToken",Qt="arn",Yt="message",Zt=c(e=>Object.entries(e).map(([e,t])=>(0,f.extendedEncodeURIComponent)(e)+"="+(0,f.extendedEncodeURIComponent)(t)).join("&"),"buildFormUrlencodedString"),er=c((e,t)=>void 0!==t.Error?.Code?t.Error.Code:404==e.statusCode?"NotFound":void 0,"loadQueryErrorCode"),tr=class extends(f.Command.classBuilder().ep(h.commonParams).m(function(e,t,r,n){return[(0,p.getSerdePlugin)(r,this.serialize,this.deserialize),(0,u.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("AWSSecurityTokenServiceV20110615","AssumeRole",{}).n("STSClient","AssumeRoleCommand").f(void 0,C).ser(k).de(z).build()){static{c(this,"AssumeRoleCommand")}},rr=r(2912),nr=class extends(f.Command.classBuilder().ep(rr.commonParams).m(function(e,t,r,n){return[(0,p.getSerdePlugin)(r,this.serialize,this.deserialize),(0,u.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("AWSSecurityTokenServiceV20110615","AssumeRoleWithSAML",{}).n("STSClient","AssumeRoleWithSAMLCommand").f(O,A).ser(M).de(q).build()){static{c(this,"AssumeRoleWithSAMLCommand")}},sr=r(2912),or=class extends(f.Command.classBuilder().ep(sr.commonParams).m(function(e,t,r,n){return[(0,p.getSerdePlugin)(r,this.serialize,this.deserialize),(0,u.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("AWSSecurityTokenServiceV20110615","AssumeRoleWithWebIdentity",{}).n("STSClient","AssumeRoleWithWebIdentityCommand").f(x,I).ser(L).de(W).build()){static{c(this,"AssumeRoleWithWebIdentityCommand")}},ir=r(2912),ar=class extends(f.Command.classBuilder().ep(ir.commonParams).m(function(e,t,r,n){return[(0,p.getSerdePlugin)(r,this.serialize,this.deserialize),(0,u.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("AWSSecurityTokenServiceV20110615","AssumeRoot",{}).n("STSClient","AssumeRootCommand").f(void 0,R).ser(F).de(V).build()){static{c(this,"AssumeRootCommand")}},cr=r(2912),lr=class extends(f.Command.classBuilder().ep(cr.commonParams).m(function(e,t,r,n){return[(0,p.getSerdePlugin)(r,this.serialize,this.deserialize),(0,u.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("AWSSecurityTokenServiceV20110615","DecodeAuthorizationMessage",{}).n("STSClient","DecodeAuthorizationMessageCommand").f(void 0,void 0).ser($).de(J).build()){static{c(this,"DecodeAuthorizationMessageCommand")}},dr=r(2912),ur=class extends(f.Command.classBuilder().ep(dr.commonParams).m(function(e,t,r,n){return[(0,p.getSerdePlugin)(r,this.serialize,this.deserialize),(0,u.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("AWSSecurityTokenServiceV20110615","GetAccessKeyInfo",{}).n("STSClient","GetAccessKeyInfoCommand").f(void 0,void 0).ser(U).de(K).build()){static{c(this,"GetAccessKeyInfoCommand")}},pr=r(2912),hr=class extends(f.Command.classBuilder().ep(pr.commonParams).m(function(e,t,r,n){return[(0,p.getSerdePlugin)(r,this.serialize,this.deserialize),(0,u.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("AWSSecurityTokenServiceV20110615","GetCallerIdentity",{}).n("STSClient","GetCallerIdentityCommand").f(void 0,void 0).ser(B).de(X).build()){static{c(this,"GetCallerIdentityCommand")}},fr=r(2912),mr=class extends(f.Command.classBuilder().ep(fr.commonParams).m(function(e,t,r,n){return[(0,p.getSerdePlugin)(r,this.serialize,this.deserialize),(0,u.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("AWSSecurityTokenServiceV20110615","GetFederationToken",{}).n("STSClient","GetFederationTokenCommand").f(void 0,T).ser(H).de(Q).build()){static{c(this,"GetFederationTokenCommand")}},gr=r(2912),yr=class extends(f.Command.classBuilder().ep(gr.commonParams).m(function(e,t,r,n){return[(0,p.getSerdePlugin)(r,this.serialize,this.deserialize),(0,u.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("AWSSecurityTokenServiceV20110615","GetSessionToken",{}).n("STSClient","GetSessionTokenCommand").f(void 0,D).ser(G).de(Y).build()){static{c(this,"GetSessionTokenCommand")}},br=r(1548),vr={AssumeRoleCommand:tr,AssumeRoleWithSAMLCommand:nr,AssumeRoleWithWebIdentityCommand:or,AssumeRootCommand:ar,DecodeAuthorizationMessageCommand:lr,GetAccessKeyInfoCommand:ur,GetCallerIdentityCommand:hr,GetFederationTokenCommand:mr,GetSessionTokenCommand:yr},_r=class extends br.STSClient{static{c(this,"STS")}};(0,f.createAggregatedClient)(vr,_r);var Sr=r(2912),wr=r(5152),Er="us-east-1",Pr=c(e=>{if("string"==typeof e?.Arn){const t=e.Arn.split(":");if(t.length>4&&""!==t[4])return t[4]}},"getAccountIdFromAssumedRoleUser"),Cr=c(async(e,t,r)=>{const n="function"==typeof e?await e():e,s="function"==typeof t?await t():t;return r?.debug?.("@aws-sdk/client-sts::resolveRegion","accepting first of:",`${n} (provider)`,`${s} (parent client)`,`${Er} (STS default)`),n??s??Er},"resolveRegion"),Or=c((e,t)=>{let r,n;return async(s,o)=>{if(n=s,!r){const{logger:s=e?.parentClientConfig?.logger,region:o,requestHandler:i=e?.parentClientConfig?.requestHandler,credentialProviderLogger:a}=e,l=await Cr(o,e?.parentClientConfig?.region,a),d=!xr(i);r=new t({profile:e?.parentClientConfig?.profile,credentialDefaultProvider:c(()=>async()=>n,"credentialDefaultProvider"),region:l,requestHandler:d?i:void 0,logger:s})}const{Credentials:i,AssumedRoleUser:a}=await r.send(new tr(o));if(!i||!i.AccessKeyId||!i.SecretAccessKey)throw new Error(`Invalid response from STS.assumeRole call with role ${o.RoleArn}`);const l=Pr(a),d={accessKeyId:i.AccessKeyId,secretAccessKey:i.SecretAccessKey,sessionToken:i.SessionToken,expiration:i.Expiration,...i.CredentialScope&&{credentialScope:i.CredentialScope},...l&&{accountId:l}};return(0,wr.setCredentialFeature)(d,"CREDENTIALS_STS_ASSUME_ROLE","i"),d}},"getDefaultRoleAssumer"),Ar=c((e,t)=>{let r;return async n=>{if(!r){const{logger:n=e?.parentClientConfig?.logger,region:s,requestHandler:o=e?.parentClientConfig?.requestHandler,credentialProviderLogger:i}=e,a=await Cr(s,e?.parentClientConfig?.region,i),c=!xr(o);r=new t({profile:e?.parentClientConfig?.profile,region:a,requestHandler:c?o:void 0,logger:n})}const{Credentials:s,AssumedRoleUser:o}=await r.send(new or(n));if(!s||!s.AccessKeyId||!s.SecretAccessKey)throw new Error(`Invalid response from STS.assumeRoleWithWebIdentity call with role ${n.RoleArn}`);const i=Pr(o),a={accessKeyId:s.AccessKeyId,secretAccessKey:s.SecretAccessKey,sessionToken:s.SessionToken,expiration:s.Expiration,...s.CredentialScope&&{credentialScope:s.CredentialScope},...i&&{accountId:i}};return i&&(0,wr.setCredentialFeature)(a,"RESOLVED_ACCOUNT_ID","T"),(0,wr.setCredentialFeature)(a,"CREDENTIALS_STS_ASSUME_ROLE_WEB_ID","k"),a}},"getDefaultRoleAssumerWithWebIdentity"),xr=c(e=>"h2"===e?.metadata?.handlerProtocol,"isH2"),Ir=r(1548),Rr=c((e,t)=>t?class extends e{static{c(this,"CustomizableSTSClient")}constructor(e){super(e);for(const e of t)this.middlewareStack.use(e)}}:e,"getCustomizableStsClientCtor"),Tr=c((e={},t)=>Or(e,Rr(Ir.STSClient,t)),"getDefaultRoleAssumer"),Dr=c((e={},t)=>Ar(e,Rr(Ir.STSClient,t)),"getDefaultRoleAssumerWithWebIdentity"),Nr=c(e=>t=>e({roleAssumer:Tr(t),roleAssumerWithWebIdentity:Dr(t),...t}),"decorateDefaultCredentialProvider")},2769:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getRuntimeConfig=void 0;const n=r(1860).__importDefault(r(4959)),s=r(8704),o=r(5861),i=r(1656),a=r(9316),c=r(402),l=r(5092),d=r(9618),u=r(5704),p=r(1279),h=r(3638),f=r(5518),m=r(3238),g=r(1411),y=r(5435),b=r(1411);t.getRuntimeConfig=e=>{(0,b.emitWarningIfUnsupportedVersion)(process.version);const t=(0,y.resolveDefaultsModeConfig)(e),r=()=>t().then(g.loadConfigsForDefaultMode),v=(0,m.getRuntimeConfig)(e);(0,s.emitWarningIfUnsupportedVersion)(process.version);const _={profile:e?.profile,logger:v.logger};return{...v,...e,runtime:"node",defaultsMode:t,authSchemePreference:e?.authSchemePreference??(0,u.loadConfig)(s.NODE_AUTH_SCHEME_PREFERENCE_OPTIONS,_),bodyLengthChecker:e?.bodyLengthChecker??h.calculateBodyLength,credentialDefaultProvider:e?.credentialDefaultProvider??o.defaultProvider,defaultUserAgentProvider:e?.defaultUserAgentProvider??(0,i.createDefaultUserAgentProvider)({serviceId:v.serviceId,clientVersion:n.default.version}),httpAuthSchemes:e?.httpAuthSchemes??[{schemeId:"aws.auth#sigv4",identityProvider:e=>e.getIdentityProvider("aws.auth#sigv4")||(async e=>await(0,o.defaultProvider)(e?.__config||{})()),signer:new s.AwsSdkSigV4Signer},{schemeId:"smithy.api#noAuth",identityProvider:e=>e.getIdentityProvider("smithy.api#noAuth")||(async()=>({})),signer:new c.NoAuthSigner}],maxAttempts:e?.maxAttempts??(0,u.loadConfig)(d.NODE_MAX_ATTEMPT_CONFIG_OPTIONS,e),region:e?.region??(0,u.loadConfig)(a.NODE_REGION_CONFIG_OPTIONS,{...a.NODE_REGION_CONFIG_FILE_OPTIONS,..._}),requestHandler:p.NodeHttpHandler.create(e?.requestHandler??r),retryMode:e?.retryMode??(0,u.loadConfig)({...d.NODE_RETRY_MODE_CONFIG_OPTIONS,default:async()=>(await r()).retryMode||f.DEFAULT_RETRY_MODE},e),sha256:e?.sha256??l.Hash.bind(null,"sha256"),streamCollector:e?.streamCollector??p.streamCollector,useDualstackEndpoint:e?.useDualstackEndpoint??(0,u.loadConfig)(a.NODE_USE_DUALSTACK_ENDPOINT_CONFIG_OPTIONS,_),useFipsEndpoint:e?.useFipsEndpoint??(0,u.loadConfig)(a.NODE_USE_FIPS_ENDPOINT_CONFIG_OPTIONS,_),userAgentAppId:e?.userAgentAppId??(0,u.loadConfig)(i.NODE_APP_ID_CONFIG_OPTIONS,_)}}},3238:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getRuntimeConfig=void 0;const n=r(8704),s=r(402),o=r(1411),i=r(4494),a=r(8385),c=r(1577),l=r(9232),d=r(1030);t.getRuntimeConfig=e=>({apiVersion:"2011-06-15",base64Decoder:e?.base64Decoder??a.fromBase64,base64Encoder:e?.base64Encoder??a.toBase64,disableHostPrefix:e?.disableHostPrefix??!1,endpointProvider:e?.endpointProvider??d.defaultEndpointResolver,extensions:e?.extensions??[],httpAuthSchemeProvider:e?.httpAuthSchemeProvider??l.defaultSTSHttpAuthSchemeProvider,httpAuthSchemes:e?.httpAuthSchemes??[{schemeId:"aws.auth#sigv4",identityProvider:e=>e.getIdentityProvider("aws.auth#sigv4"),signer:new n.AwsSdkSigV4Signer},{schemeId:"smithy.api#noAuth",identityProvider:e=>e.getIdentityProvider("smithy.api#noAuth")||(async()=>({})),signer:new s.NoAuthSigner}],logger:e?.logger??new o.NoOpLogger,serviceId:e?.serviceId??"STS",urlParser:e?.urlParser??i.parseUrl,utf8Decoder:e?.utf8Decoder??c.fromUtf8,utf8Encoder:e?.utf8Encoder??c.toUtf8})},309:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.resolveRuntimeExtensions=void 0;const n=r(6463),s=r(2356),o=r(1411),i=r(9915);t.resolveRuntimeExtensions=(e,t)=>{const r=Object.assign((0,n.getAwsRegionExtensionConfiguration)(e),(0,o.getDefaultExtensionConfiguration)(e),(0,s.getHttpHandlerExtensionConfiguration)(e),(0,i.getHttpAuthExtensionConfiguration)(e));return t.forEach(e=>e.configure(r)),Object.assign(e,(0,n.resolveAwsRegionExtensionConfiguration)(r),(0,o.resolveDefaultRuntimeConfig)(r),(0,s.resolveHttpHandlerRuntimeConfig)(r),(0,i.resolveHttpAuthRuntimeConfig)(r))}},8704:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(1860);n.__exportStar(r(5152),t),n.__exportStar(r(7523),t),n.__exportStar(r(7288),t)},5152:e=>{"use strict";var t,r=Object.defineProperty,n=Object.getOwnPropertyDescriptor,s=Object.getOwnPropertyNames,o=Object.prototype.hasOwnProperty,i=(e,t)=>r(e,"name",{value:t,configurable:!0}),a={};((e,t)=>{for(var n in t)r(e,n,{get:t[n],enumerable:!0})})(a,{emitWarningIfUnsupportedVersion:()=>l,setCredentialFeature:()=>d,setFeature:()=>u,setTokenFeature:()=>p,state:()=>c}),e.exports=(t=a,((e,t,i,a)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let c of s(t))o.call(e,c)||c===i||r(e,c,{get:()=>t[c],enumerable:!(a=n(t,c))||a.enumerable});return e})(r({},"__esModule",{value:!0}),t));var c={warningEmitted:!1},l=i(e=>{e&&!c.warningEmitted&&parseInt(e.substring(1,e.indexOf(".")))<18&&(c.warningEmitted=!0,process.emitWarning("NodeDeprecationWarning: The AWS SDK for JavaScript (v3) will\nno longer support Node.js 16.x on January 6, 2025.\n\nTo continue receiving updates to AWS services, bug fixes, and security\nupdates please upgrade to a supported Node.js LTS version.\n\nMore information can be found at: https://a.co/74kJMmI"))},"emitWarningIfUnsupportedVersion");function d(e,t,r){return e.$source||(e.$source={}),e.$source[t]=r,e}function u(e,t,r){e.__aws_sdk_context?e.__aws_sdk_context.features||(e.__aws_sdk_context.features={}):e.__aws_sdk_context={features:{}},e.__aws_sdk_context.features[t]=r}function p(e,t,r){return e.$source||(e.$source={}),e.$source[t]=r,e}i(d,"setCredentialFeature"),i(u,"setFeature"),i(p,"setTokenFeature")},7523:(e,t,r)=>{"use strict";var n,s=Object.defineProperty,o=Object.getOwnPropertyDescriptor,i=Object.getOwnPropertyNames,a=Object.prototype.hasOwnProperty,c=(e,t)=>s(e,"name",{value:t,configurable:!0}),l={};((e,t)=>{for(var r in t)s(e,r,{get:t[r],enumerable:!0})})(l,{AWSSDKSigV4Signer:()=>v,AwsSdkSigV4ASigner:()=>S,AwsSdkSigV4Signer:()=>b,NODE_AUTH_SCHEME_PREFERENCE_OPTIONS:()=>O,NODE_SIGV4A_CONFIG_OPTIONS:()=>R,getBearerTokenEnvKey:()=>E,resolveAWSSDKSigV4Config:()=>k,resolveAwsSdkSigV4AConfig:()=>I,resolveAwsSdkSigV4Config:()=>j,validateSigningProperties:()=>y}),e.exports=(n=l,((e,t,r,n)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let c of i(t))a.call(e,c)||c===r||s(e,c,{get:()=>t[c],enumerable:!(n=o(t,c))||n.enumerable});return e})(s({},"__esModule",{value:!0}),n));var d=r(2356),u=r(2356),p=c(e=>u.HttpResponse.isInstance(e)?e.headers?.date??e.headers?.Date:void 0,"getDateHeader"),h=c(e=>new Date(Date.now()+e),"getSkewCorrectedDate"),f=c((e,t)=>Math.abs(h(t).getTime()-e)>=3e5,"isClockSkewed"),m=c((e,t)=>{const r=Date.parse(e);return f(r,t)?r-Date.now():t},"getUpdatedSystemClockOffset"),g=c((e,t)=>{if(!t)throw new Error(`Property \`${e}\` is not resolved for AWS SDK SigV4Auth`);return t},"throwSigningPropertyError"),y=c(async e=>{const t=g("context",e.context),r=g("config",e.config),n=t.endpointV2?.properties?.authSchemes?.[0],s=g("signer",r.signer),o=await s(n),i=e?.signingRegion,a=e?.signingRegionSet,c=e?.signingName;return{config:r,signer:o,signingRegion:i,signingRegionSet:a,signingName:c}},"validateSigningProperties"),b=class{static{c(this,"AwsSdkSigV4Signer")}async sign(e,t,r){if(!d.HttpRequest.isInstance(e))throw new Error("The request is not an instance of `HttpRequest` and cannot be signed");const n=await y(r),{config:s,signer:o}=n;let{signingRegion:i,signingName:a}=n;const c=r.context;if(c?.authSchemes?.length){const[e,t]=c.authSchemes;"sigv4a"===e?.name&&"sigv4"===t?.name&&(i=t?.signingRegion??i,a=t?.signingName??a)}return await o.sign(e,{signingDate:h(s.systemClockOffset),signingRegion:i,signingService:a})}errorHandler(e){return t=>{const r=t.ServerTime??p(t.$response);if(r){const n=g("config",e.config),s=n.systemClockOffset;n.systemClockOffset=m(r,n.systemClockOffset);n.systemClockOffset!==s&&t.$metadata&&(t.$metadata.clockSkewCorrected=!0)}throw t}}successHandler(e,t){const r=p(e);if(r){const e=g("config",t.config);e.systemClockOffset=m(r,e.systemClockOffset)}}},v=b,_=r(2356),S=class extends b{static{c(this,"AwsSdkSigV4ASigner")}async sign(e,t,r){if(!_.HttpRequest.isInstance(e))throw new Error("The request is not an instance of `HttpRequest` and cannot be signed");const{config:n,signer:s,signingRegion:o,signingRegionSet:i,signingName:a}=await y(r),c=(await(n.sigv4aSigningRegionSet?.())??i??[o]).join(",");return await s.sign(e,{signingDate:h(n.systemClockOffset),signingRegion:c,signingService:a})}},w=c(e=>"string"==typeof e&&e.length>0?e.split(",").map(e=>e.trim()):[],"getArrayForCommaSeparatedString"),E=c(e=>`AWS_BEARER_TOKEN_${e.replace(/[\s-]/g,"_").toUpperCase()}`,"getBearerTokenEnvKey"),P="AWS_AUTH_SCHEME_PREFERENCE",C="auth_scheme_preference",O={environmentVariableSelector:c((e,t)=>{if(t?.signingName){if(E(t.signingName)in e)return["httpBearerAuth"]}if(P in e)return w(e[P])},"environmentVariableSelector"),configFileSelector:c(e=>{if(C in e)return w(e[C])},"configFileSelector"),default:[]},A=r(402),x=r(1238),I=c(e=>(e.sigv4aSigningRegionSet=(0,A.normalizeProvider)(e.sigv4aSigningRegionSet),e),"resolveAwsSdkSigV4AConfig"),R={environmentVariableSelector(e){if(e.AWS_SIGV4A_SIGNING_REGION_SET)return e.AWS_SIGV4A_SIGNING_REGION_SET.split(",").map(e=>e.trim());throw new x.ProviderError("AWS_SIGV4A_SIGNING_REGION_SET not set in env.",{tryNextLink:!0})},configFileSelector(e){if(e.sigv4a_signing_region_set)return(e.sigv4a_signing_region_set??"").split(",").map(e=>e.trim());throw new x.ProviderError("sigv4a_signing_region_set not set in profile.",{tryNextLink:!0})},default:void 0},T=r(5152),D=r(402),N=r(5118),j=c(e=>{let t,r=e.credentials,n=!!e.credentials;Object.defineProperty(e,"credentials",{set(s){s&&s!==r&&s!==t&&(n=!0),r=s;const o=M(e,{credentials:r,credentialDefaultProvider:e.credentialDefaultProvider}),i=L(e,o);n&&!i.attributed?(t=c(async e=>i(e).then(e=>(0,T.setCredentialFeature)(e,"CREDENTIALS_CODE","e")),"resolvedCredentials"),t.memoized=i.memoized,t.configBound=i.configBound,t.attributed=!0):t=i},get:()=>t,enumerable:!0,configurable:!0}),e.credentials=r;const{signingEscapePath:s=!0,systemClockOffset:o=e.systemClockOffset||0,sha256:i}=e;let a;a=e.signer?(0,D.normalizeProvider)(e.signer):e.regionInfoProvider?c(()=>(0,D.normalizeProvider)(e.region)().then(async t=>[await e.regionInfoProvider(t,{useFipsEndpoint:await e.useFipsEndpoint(),useDualstackEndpoint:await e.useDualstackEndpoint()})||{},t]).then(([t,r])=>{const{signingRegion:n,signingService:o}=t;e.signingRegion=e.signingRegion||n||r,e.signingName=e.signingName||o||e.serviceId;const a={...e,credentials:e.credentials,region:e.signingRegion,service:e.signingName,sha256:i,uriEscapePath:s};return new(e.signerConstructor||N.SignatureV4)(a)}),"signer"):c(async t=>{const r=(t=Object.assign({},{name:"sigv4",signingName:e.signingName||e.defaultSigningName,signingRegion:await(0,D.normalizeProvider)(e.region)(),properties:{}},t)).signingRegion,n=t.signingName;e.signingRegion=e.signingRegion||r,e.signingName=e.signingName||n||e.serviceId;const o={...e,credentials:e.credentials,region:e.signingRegion,service:e.signingName,sha256:i,uriEscapePath:s};return new(e.signerConstructor||N.SignatureV4)(o)},"signer");return Object.assign(e,{systemClockOffset:o,signingEscapePath:s,signer:a})},"resolveAwsSdkSigV4Config"),k=j;function M(e,{credentials:t,credentialDefaultProvider:r}){let n;return n=t?t?.memoized?t:(0,D.memoizeIdentityProvider)(t,D.isIdentityExpired,D.doesIdentityRequireRefresh):r?(0,D.normalizeProvider)(r(Object.assign({},e,{parentClientConfig:e}))):c(async()=>{throw new Error("@aws-sdk/core::resolveAwsSdkSigV4Config - `credentials` not provided and no credentialDefaultProvider was configured.")},"credentialsProvider"),n.memoized=!0,n}function L(e,t){if(t.configBound)return t;const r=c(async r=>t({...r,callerClientConfig:e}),"fn");return r.memoized=t.memoized,r.configBound=!0,r}c(M,"normalizeCredentialProvider"),c(L,"bindCallerConfig")},7288:(e,t,r)=>{"use strict";var n,s=Object.defineProperty,o=Object.getOwnPropertyDescriptor,i=Object.getOwnPropertyNames,a=Object.prototype.hasOwnProperty,c=(e,t)=>s(e,"name",{value:t,configurable:!0}),l={};((e,t)=>{for(var r in t)s(e,r,{get:t[r],enumerable:!0})})(l,{AwsEc2QueryProtocol:()=>ie,AwsJson1_0Protocol:()=>M,AwsJson1_1Protocol:()=>L,AwsJsonRpcProtocol:()=>k,AwsQueryProtocol:()=>oe,AwsRestJsonProtocol:()=>B,AwsRestXmlProtocol:()=>we,JsonCodec:()=>j,JsonShapeDeserializer:()=>A,JsonShapeSerializer:()=>N,XmlCodec:()=>Se,XmlShapeDeserializer:()=>Y,XmlShapeSerializer:()=>_e,_toBool:()=>u,_toNum:()=>p,_toStr:()=>d,awsExpectUnion:()=>G,loadRestJsonErrorCode:()=>O,loadRestXmlErrorCode:()=>fe,parseJsonBody:()=>P,parseJsonErrorBody:()=>C,parseXmlBody:()=>pe,parseXmlErrorBody:()=>he}),e.exports=(n=l,((e,t,r,n)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let c of i(t))a.call(e,c)||c===r||s(e,c,{get:()=>t[c],enumerable:!(n=o(t,c))||n.enumerable});return e})(s({},"__esModule",{value:!0}),n));var d=c(e=>{if(null==e)return e;if("number"==typeof e||"bigint"==typeof e){const t=new Error(`Received number ${e} where a string was expected.`);return t.name="Warning",console.warn(t),String(e)}if("boolean"==typeof e){const t=new Error(`Received boolean ${e} where a string was expected.`);return t.name="Warning",console.warn(t),String(e)}return e},"_toStr"),u=c(e=>{if(null==e)return e;if("string"==typeof e){const t=e.toLowerCase();if(""!==e&&"false"!==t&&"true"!==t){const t=new Error(`Received string "${e}" where a boolean was expected.`);t.name="Warning",console.warn(t)}return""!==e&&"false"!==t}return e},"_toBool"),p=c(e=>{if(null==e)return e;if("string"==typeof e){const t=Number(e);if(t.toString()!==e){const t=new Error(`Received string "${e}" where a number was expected.`);return t.name="Warning",console.warn(t),e}return t}return e},"_toNum"),h=r(3422),f=r(6890),m=r(2098),g=class{static{c(this,"SerdeContextConfig")}serdeContext;setSerdeContext(e){this.serdeContext=e}},y=r(6890),b=r(2430),v=r(8385),_=r(2430);function S(e,t,r){if(r?.source){const e=r.source;if("number"==typeof t&&(t>Number.MAX_SAFE_INTEGER||t<Number.MIN_SAFE_INTEGER||e!==String(t))){return e.includes(".")?new _.NumericValue(e,"bigDecimal"):BigInt(e)}}return t}c(S,"jsonReviver");var w=r(1411),E=c((e,t)=>(0,w.collectBody)(e,t).then(e=>t.utf8Encoder(e)),"collectBodyString"),P=c((e,t)=>E(e,t).then(e=>{if(e.length)try{return JSON.parse(e)}catch(t){throw"SyntaxError"===t?.name&&Object.defineProperty(t,"$responseBodyText",{value:e}),t}return{}}),"parseJsonBody"),C=c(async(e,t)=>{const r=await P(e,t);return r.message=r.message??r.Message,r},"parseJsonErrorBody"),O=c((e,t)=>{const r=c((e,t)=>Object.keys(e).find(e=>e.toLowerCase()===t.toLowerCase()),"findKey"),n=c(e=>{let t=e;return"number"==typeof t&&(t=t.toString()),t.indexOf(",")>=0&&(t=t.split(",")[0]),t.indexOf(":")>=0&&(t=t.split(":")[0]),t.indexOf("#")>=0&&(t=t.split("#")[1]),t},"sanitizeErrorCode"),s=r(e.headers,"x-amzn-errortype");if(void 0!==s)return n(e.headers[s]);if(t&&"object"==typeof t){const e=r(t,"code");if(e&&void 0!==t[e])return n(t[e]);if(void 0!==t.__type)return n(t.__type)}},"loadRestJsonErrorCode"),A=class extends g{constructor(e){super(),this.settings=e}static{c(this,"JsonShapeDeserializer")}async read(e,t){return this._read(e,"string"==typeof t?JSON.parse(t,S):await P(t,this.serdeContext))}readObject(e,t){return this._read(e,t)}_read(e,t){const r=null!==t&&"object"==typeof t,n=y.NormalizedSchema.of(e);if(n.isListSchema()&&Array.isArray(t)){const e=n.getValueSchema(),r=[],s=!!n.getMergedTraits().sparse;for(const n of t)(s||null!=n)&&r.push(this._read(e,n));return r}if(n.isMapSchema()&&r){const e=n.getValueSchema(),r={},s=!!n.getMergedTraits().sparse;for(const[n,o]of Object.entries(t))(s||null!=o)&&(r[n]=this._read(e,o));return r}if(n.isStructSchema()&&r){const e={};for(const[r,s]of n.structIterator()){const n=this.settings.jsonName?s.getMergedTraits().jsonName??r:r,o=this._read(s,t[n]);null!=o&&(e[r]=o)}return e}if(n.isBlobSchema()&&"string"==typeof t)return(0,v.fromBase64)(t);const s=n.getMergedTraits().mediaType;if(n.isStringSchema()&&"string"==typeof t&&s){if("application/json"===s||s.endsWith("+json"))return b.LazyJsonString.from(t)}if(n.isTimestampSchema()){const e=this.settings.timestampFormat;switch(e.useTrait?n.getSchema()===y.SCHEMA.TIMESTAMP_DEFAULT?e.default:n.getSchema()??e.default:e.default){case y.SCHEMA.TIMESTAMP_DATE_TIME:return(0,b.parseRfc3339DateTimeWithOffset)(t);case y.SCHEMA.TIMESTAMP_HTTP_DATE:return(0,b.parseRfc7231DateTime)(t);case y.SCHEMA.TIMESTAMP_EPOCH_SECONDS:return(0,b.parseEpochTimestamp)(t);default:return console.warn("Missing timestamp format, parsing value with Date constructor:",t),new Date(t)}}if(n.isBigIntegerSchema()&&("number"==typeof t||"string"==typeof t))return BigInt(t);if(n.isBigDecimalSchema()&&null!=t)return t instanceof b.NumericValue?t:new b.NumericValue(String(t),"bigDecimal");if(n.isNumericSchema()&&"string"==typeof t)switch(t){case"Infinity":return 1/0;case"-Infinity":return-1/0;case"NaN":return NaN}return t}},x=r(6890),I=r(2430),R=r(2430),T=String.fromCharCode(925),D=class{static{c(this,"JsonReplacer")}values=new Map;counter=0;stage=0;createReplacer(){if(1===this.stage)throw new Error("@aws-sdk/core/protocols - JsonReplacer already created.");if(2===this.stage)throw new Error("@aws-sdk/core/protocols - JsonReplacer exhausted.");return this.stage=1,(e,t)=>{if(t instanceof R.NumericValue){const e=T+"nv"+this.counter+++"_"+t.string;return this.values.set(`"${e}"`,t.string),e}if("bigint"==typeof t){const e=t.toString(),r=T+"b"+this.counter+++"_"+e;return this.values.set(`"${r}"`,e),r}return t}}replaceInJson(e){if(0===this.stage)throw new Error("@aws-sdk/core/protocols - JsonReplacer not created yet.");if(2===this.stage)throw new Error("@aws-sdk/core/protocols - JsonReplacer exhausted.");if(this.stage=2,0===this.counter)return e;for(const[t,r]of this.values)e=e.replace(t,r);return e}},N=class extends g{constructor(e){super(),this.settings=e}static{c(this,"JsonShapeSerializer")}buffer;rootSchema;write(e,t){this.rootSchema=x.NormalizedSchema.of(e),this.buffer=this._write(this.rootSchema,t)}flush(){if(this.rootSchema?.isStructSchema()||this.rootSchema?.isDocumentSchema()){const e=new D;return e.replaceInJson(JSON.stringify(this.buffer,e.createReplacer(),0))}return this.buffer}_write(e,t,r){const n=null!==t&&"object"==typeof t,s=x.NormalizedSchema.of(e);if(s.isListSchema()&&Array.isArray(t)){const e=s.getValueSchema(),r=[],n=!!s.getMergedTraits().sparse;for(const s of t)(n||null!=s)&&r.push(this._write(e,s));return r}if(s.isMapSchema()&&n){const e=s.getValueSchema(),r={},n=!!s.getMergedTraits().sparse;for(const[s,o]of Object.entries(t))(n||null!=o)&&(r[s]=this._write(e,o));return r}if(s.isStructSchema()&&n){const e={};for(const[r,n]of s.structIterator()){const o=this.settings.jsonName?n.getMergedTraits().jsonName??r:r,i=this._write(n,t[r],s);void 0!==i&&(e[o]=i)}return e}if(null!==t||!r?.isStructSchema()){if(s.isBlobSchema()&&(t instanceof Uint8Array||"string"==typeof t)){if(s===this.rootSchema)return t;if(!this.serdeContext?.base64Encoder)throw new Error("Missing base64Encoder in serdeContext");return this.serdeContext?.base64Encoder(t)}if(s.isTimestampSchema()&&t instanceof Date){const e=this.settings.timestampFormat;switch(e.useTrait?s.getSchema()===x.SCHEMA.TIMESTAMP_DEFAULT?e.default:s.getSchema()??e.default:e.default){case x.SCHEMA.TIMESTAMP_DATE_TIME:return t.toISOString().replace(".000Z","Z");case x.SCHEMA.TIMESTAMP_HTTP_DATE:return(0,I.dateToUtcString)(t);case x.SCHEMA.TIMESTAMP_EPOCH_SECONDS:return t.getTime()/1e3;default:return console.warn("Missing timestamp format, using epoch seconds",t),t.getTime()/1e3}}if(s.isNumericSchema()&&"number"==typeof t&&(Math.abs(t)===1/0||isNaN(t)))return String(t);if(s.isStringSchema()){if(void 0===t&&s.isIdempotencyToken())return(0,I.generateIdempotencyToken)();const e=s.getMergedTraits().mediaType;if("string"==typeof t&&e){if("application/json"===e||e.endsWith("+json"))return I.LazyJsonString.from(t)}}return t}}},j=class extends g{constructor(e){super(),this.settings=e}static{c(this,"JsonCodec")}createSerializer(){const e=new N(this.settings);return e.setSerdeContext(this.serdeContext),e}createDeserializer(){const e=new A(this.settings);return e.setSerdeContext(this.serdeContext),e}},k=class extends h.RpcProtocol{static{c(this,"AwsJsonRpcProtocol")}serializer;deserializer;serviceTarget;codec;constructor({defaultNamespace:e,serviceTarget:t}){super({defaultNamespace:e}),this.serviceTarget=t,this.codec=new j({timestampFormat:{useTrait:!0,default:f.SCHEMA.TIMESTAMP_EPOCH_SECONDS},jsonName:!1}),this.serializer=this.codec.createSerializer(),this.deserializer=this.codec.createDeserializer()}async serializeRequest(e,t,r){const n=await super.serializeRequest(e,t,r);n.path.endsWith("/")||(n.path+="/"),Object.assign(n.headers,{"content-type":`application/x-amz-json-${this.getJsonRpcVersion()}`,"x-amz-target":`${this.serviceTarget}.${f.NormalizedSchema.of(e).getName()}`}),"unit"!==(0,f.deref)(e.input)&&n.body||(n.body="{}");try{n.headers["content-length"]=String((0,m.calculateBodyLength)(n.body))}catch(e){}return n}getPayloadCodec(){return this.codec}async handleError(e,t,r,n,s){const o=O(r,n)??"Unknown";let i=this.options.defaultNamespace,a=o;o.includes("#")&&([i,a]=o.split("#"));const c=f.TypeRegistry.for(i);let l;try{l=c.getSchema(o)}catch(e){const t=f.TypeRegistry.for("smithy.ts.sdk.synthetic."+i).getBaseException();if(t){const e=t.ctor;throw Object.assign(new e(a),n)}throw new Error(a)}const d=f.NormalizedSchema.of(l),u=n.message??n.Message??"Unknown",p=new l.ctor(u);await this.deserializeHttpMessage(l,t,r,n);const h={};for(const[e,t]of d.structIterator()){const r=t.getMergedTraits().jsonName??e;h[e]=this.codec.createDeserializer().readObject(t,n[r])}throw Object.assign(p,{$metadata:s,$response:r,$fault:d.getMergedTraits().error,message:u,...h}),p}},M=class extends k{static{c(this,"AwsJson1_0Protocol")}constructor({defaultNamespace:e,serviceTarget:t}){super({defaultNamespace:e,serviceTarget:t})}getShapeId(){return"aws.protocols#awsJson1_0"}getJsonRpcVersion(){return"1.0"}getDefaultContentType(){return"application/x-amz-json-1.0"}},L=class extends k{static{c(this,"AwsJson1_1Protocol")}constructor({defaultNamespace:e,serviceTarget:t}){super({defaultNamespace:e,serviceTarget:t})}getShapeId(){return"aws.protocols#awsJson1_1"}getJsonRpcVersion(){return"1.1"}getDefaultContentType(){return"application/x-amz-json-1.1"}},F=r(3422),$=r(6890),U=r(2098),B=class extends F.HttpBindingProtocol{static{c(this,"AwsRestJsonProtocol")}serializer;deserializer;codec;constructor({defaultNamespace:e}){super({defaultNamespace:e});const t={timestampFormat:{useTrait:!0,default:$.SCHEMA.TIMESTAMP_EPOCH_SECONDS},httpBindings:!0,jsonName:!0};this.codec=new j(t),this.serializer=new F.HttpInterceptingShapeSerializer(this.codec.createSerializer(),t),this.deserializer=new F.HttpInterceptingShapeDeserializer(this.codec.createDeserializer(),t)}getShapeId(){return"aws.protocols#restJson1"}getPayloadCodec(){return this.codec}setSerdeContext(e){this.codec.setSerdeContext(e),super.setSerdeContext(e)}async serializeRequest(e,t,r){const n=await super.serializeRequest(e,t,r),s=$.NormalizedSchema.of(e.input),o=s.getMemberSchemas();if(!n.headers["content-type"]){const e=Object.values(o).find(e=>!!e.getMergedTraits().httpPayload);if(e){const t=e.getMergedTraits().mediaType;t?n.headers["content-type"]=t:e.isStringSchema()?n.headers["content-type"]="text/plain":e.isBlobSchema()?n.headers["content-type"]="application/octet-stream":n.headers["content-type"]=this.getDefaultContentType()}else if(!s.isUnitSchema()){Object.values(o).find(e=>{const{httpQuery:t,httpQueryParams:r,httpHeader:n,httpLabel:s,httpPrefixHeaders:o}=e.getMergedTraits();return!(t||r||n||s||void 0!==o)})&&(n.headers["content-type"]=this.getDefaultContentType())}}if(n.headers["content-type"]&&!n.body&&(n.body="{}"),n.body)try{n.headers["content-length"]=String((0,U.calculateBodyLength)(n.body))}catch(e){}return n}async handleError(e,t,r,n,s){const o=O(r,n)??"Unknown";let i=this.options.defaultNamespace,a=o;o.includes("#")&&([i,a]=o.split("#"));const c=$.TypeRegistry.for(i);let l;try{l=c.getSchema(o)}catch(e){const t=$.TypeRegistry.for("smithy.ts.sdk.synthetic."+i).getBaseException();if(t){const e=t.ctor;throw Object.assign(new e(a),n)}throw new Error(a)}const d=$.NormalizedSchema.of(l),u=n.message??n.Message??"Unknown",p=new l.ctor(u);await this.deserializeHttpMessage(l,t,r,n);const h={};for(const[e,t]of d.structIterator()){const r=t.getMergedTraits().jsonName??e;h[e]=this.codec.createDeserializer().readObject(t,n[r])}throw Object.assign(p,{$metadata:s,$response:r,$fault:d.getMergedTraits().error,message:u,...h}),p}getDefaultContentType(){return"application/json"}},H=r(1411),G=c(e=>{if(null!=e)return"object"==typeof e&&"__type"in e&&delete e.__type,(0,H.expectUnion)(e)},"awsExpectUnion"),z=r(3422),q=r(6890),W=r(2098),V=r(3422),J=r(6890),K=r(1411),X=r(1577),Q=r(591),Y=class extends g{constructor(e){super(),this.settings=e,this.stringDeserializer=new V.FromStringShapeDeserializer(e)}static{c(this,"XmlShapeDeserializer")}stringDeserializer;setSerdeContext(e){this.serdeContext=e,this.stringDeserializer.setSerdeContext(e)}read(e,t,r){const n=J.NormalizedSchema.of(e),s=n.getMemberSchemas();if(n.isStructSchema()&&n.isMemberSchema()&&!!Object.values(s).find(e=>!!e.getMemberTraits().eventPayload)){const e={},r=Object.keys(s)[0];return s[r].isBlobSchema()?e[r]=t:e[r]=this.read(s[r],t),e}const o=(this.serdeContext?.utf8Encoder??X.toUtf8)(t),i=this.parseXml(o);return this.readSchema(e,r?i[r]:i)}readSchema(e,t){const r=J.NormalizedSchema.of(e),n=r.getMergedTraits();if(r.isListSchema()&&!Array.isArray(t))return this.readSchema(r,[t]);if(null==t)return t;if("object"==typeof t){const e=!!n.sparse,s=!!n.xmlFlattened;if(r.isListSchema()){const n=r.getValueSchema(),o=[],i=n.getMergedTraits().xmlName??"member",a=s?t:(t[0]??t)[i],c=Array.isArray(a)?a:[a];for(const t of c)(null!=t||e)&&o.push(this.readSchema(n,t));return o}const o={};if(r.isMapSchema()){const n=r.getKeySchema(),i=r.getValueSchema();let a;a=s?Array.isArray(t)?t:[t]:Array.isArray(t.entry)?t.entry:[t.entry];const c=n.getMergedTraits().xmlName??"key",l=i.getMergedTraits().xmlName??"value";for(const t of a){const r=t[c],n=t[l];(null!=n||e)&&(o[r]=this.readSchema(i,n))}return o}if(r.isStructSchema()){for(const[e,n]of r.structIterator()){const r=n.getMergedTraits(),s=r.httpPayload?r.xmlName??n.getName():n.getMemberTraits().xmlName??e;null!=t[s]&&(o[e]=this.readSchema(n,t[s]))}return o}if(r.isDocumentSchema())return t;throw new Error(`@aws-sdk/core/protocols - xml deserializer unhandled schema type for ${r.getName(!0)}`)}return r.isListSchema()?[]:r.isMapSchema()||r.isStructSchema()?{}:this.stringDeserializer.read(r,t)}parseXml(e){if(e.length){const t=new Q.XMLParser({attributeNamePrefix:"",htmlEntities:!0,ignoreAttributes:!1,ignoreDeclaration:!0,parseTagValue:!1,trimValues:!1,tagValueProcessor:c((e,t)=>""===t.trim()&&t.includes("\n")?"":void 0,"tagValueProcessor")});let r;t.addEntity("#xD","\r"),t.addEntity("#10","\n");try{r=t.parse(e,!0)}catch(t){throw t&&"object"==typeof t&&Object.defineProperty(t,"$responseBodyText",{value:e}),t}const n="#text",s=Object.keys(r)[0],o=r[s];return o[n]&&(o[s]=o[n],delete o[n]),(0,K.getValueFromTextNode)(o)}return{}}},Z=r(3422),ee=r(6890),te=r(2430),re=r(1411),ne=r(8385),se=class extends g{constructor(e){super(),this.settings=e}static{c(this,"QueryShapeSerializer")}buffer;write(e,t,r=""){void 0===this.buffer&&(this.buffer="");const n=ee.NormalizedSchema.of(e);if(r&&!r.endsWith(".")&&(r+="."),n.isBlobSchema())("string"==typeof t||t instanceof Uint8Array)&&(this.writeKey(r),this.writeValue((this.serdeContext?.base64Encoder??ne.toBase64)(t)));else if(n.isBooleanSchema()||n.isNumericSchema()||n.isStringSchema())null!=t?(this.writeKey(r),this.writeValue(String(t))):n.isIdempotencyToken()&&(this.writeKey(r),this.writeValue((0,te.generateIdempotencyToken)()));else if(n.isBigIntegerSchema())null!=t&&(this.writeKey(r),this.writeValue(String(t)));else if(n.isBigDecimalSchema())null!=t&&(this.writeKey(r),this.writeValue(t instanceof te.NumericValue?t.string:String(t)));else if(n.isTimestampSchema()){if(t instanceof Date){this.writeKey(r);switch((0,Z.determineTimestampFormat)(n,this.settings)){case ee.SCHEMA.TIMESTAMP_DATE_TIME:this.writeValue(t.toISOString().replace(".000Z","Z"));break;case ee.SCHEMA.TIMESTAMP_HTTP_DATE:this.writeValue((0,re.dateToUtcString)(t));break;case ee.SCHEMA.TIMESTAMP_EPOCH_SECONDS:this.writeValue(String(t.getTime()/1e3))}}}else{if(n.isDocumentSchema())throw new Error(`@aws-sdk/core/protocols - QuerySerializer unsupported document type ${n.getName(!0)}`);if(n.isListSchema()){if(Array.isArray(t))if(0===t.length)this.settings.serializeEmptyLists&&(this.writeKey(r),this.writeValue(""));else{const e=n.getValueSchema(),s=this.settings.flattenLists||n.getMergedTraits().xmlFlattened;let o=1;for(const n of t){if(null==n)continue;const t=this.getKey("member",e.getMergedTraits().xmlName),i=s?`${r}${o}`:`${r}${t}.${o}`;this.write(e,n,i),++o}}}else if(n.isMapSchema()){if(t&&"object"==typeof t){const e=n.getKeySchema(),s=n.getValueSchema(),o=n.getMergedTraits().xmlFlattened;let i=1;for(const[n,a]of Object.entries(t)){if(null==a)continue;const t=this.getKey("key",e.getMergedTraits().xmlName),c=o?`${r}${i}.${t}`:`${r}entry.${i}.${t}`,l=this.getKey("value",s.getMergedTraits().xmlName),d=o?`${r}${i}.${l}`:`${r}entry.${i}.${l}`;this.write(e,n,c),this.write(s,a,d),++i}}}else if(n.isStructSchema()){if(t&&"object"==typeof t)for(const[e,s]of n.structIterator()){if(null==t[e]&&!s.isIdempotencyToken())continue;const n=`${r}${this.getKey(e,s.getMergedTraits().xmlName)}`;this.write(s,t[e],n)}}else if(!n.isUnitSchema())throw new Error(`@aws-sdk/core/protocols - QuerySerializer unrecognized schema type ${n.getName(!0)}`)}}flush(){if(void 0===this.buffer)throw new Error("@aws-sdk/core/protocols - QuerySerializer cannot flush with nothing written to buffer.");const e=this.buffer;return delete this.buffer,e}getKey(e,t){const r=t??e;return this.settings.capitalizeKeys?r[0].toUpperCase()+r.slice(1):r}writeKey(e){e.endsWith(".")&&(e=e.slice(0,e.length-1)),this.buffer+=`&${(0,Z.extendedEncodeURIComponent)(e)}=`}writeValue(e){this.buffer+=(0,Z.extendedEncodeURIComponent)(e)}},oe=class extends z.RpcProtocol{constructor(e){super({defaultNamespace:e.defaultNamespace}),this.options=e;const t={timestampFormat:{useTrait:!0,default:q.SCHEMA.TIMESTAMP_DATE_TIME},httpBindings:!1,xmlNamespace:e.xmlNamespace,serviceNamespace:e.defaultNamespace,serializeEmptyLists:!0};this.serializer=new se(t),this.deserializer=new Y(t)}static{c(this,"AwsQueryProtocol")}serializer;deserializer;getShapeId(){return"aws.protocols#awsQuery"}setSerdeContext(e){this.serializer.setSerdeContext(e),this.deserializer.setSerdeContext(e)}getPayloadCodec(){throw new Error("AWSQuery protocol has no payload codec.")}async serializeRequest(e,t,r){const n=await super.serializeRequest(e,t,r);n.path.endsWith("/")||(n.path+="/"),Object.assign(n.headers,{"content-type":"application/x-www-form-urlencoded"}),"unit"!==(0,q.deref)(e.input)&&n.body||(n.body=""),n.body=`Action=${e.name.split("#")[1]}&Version=${this.options.version}`+n.body,n.body.endsWith("&")&&(n.body=n.body.slice(-1));try{n.headers["content-length"]=String((0,W.calculateBodyLength)(n.body))}catch(e){}return n}async deserializeResponse(e,t,r){const n=this.deserializer,s=q.NormalizedSchema.of(e.output),o={};if(r.statusCode>=300){const s=await(0,z.collectBody)(r.body,t);s.byteLength>0&&Object.assign(o,await n.read(q.SCHEMA.DOCUMENT,s)),await this.handleError(e,t,r,o,this.deserializeMetadata(r))}for(const e in r.headers){const t=r.headers[e];delete r.headers[e],r.headers[e.toLowerCase()]=t}const i=s.isStructSchema()&&this.useNestedResult()?e.name.split("#")[1]+"Result":void 0,a=await(0,z.collectBody)(r.body,t);a.byteLength>0&&Object.assign(o,await n.read(s,a,i));return{$metadata:this.deserializeMetadata(r),...o}}useNestedResult(){return!0}async handleError(e,t,r,n,s){const o=this.loadQueryErrorCode(r,n)??"Unknown";let i=this.options.defaultNamespace,a=o;o.includes("#")&&([i,a]=o.split("#"));const c=this.loadQueryError(n),l=q.TypeRegistry.for(i);let d;try{d=l.find(e=>q.NormalizedSchema.of(e).getMergedTraits().awsQueryError?.[0]===a),d||(d=l.getSchema(o))}catch(e){const t=q.TypeRegistry.for("smithy.ts.sdk.synthetic."+i).getBaseException();if(t){const e=t.ctor;throw Object.assign(new e(a),c)}throw new Error(a)}const u=q.NormalizedSchema.of(d),p=this.loadQueryErrorMessage(n),h=new d.ctor(p),f={};for(const[e,t]of u.structIterator()){const r=t.getMergedTraits().xmlName??e,s=c[r]??n[r];f[e]=this.deserializer.readSchema(t,s)}throw Object.assign(h,{$metadata:s,$response:r,$fault:u.getMergedTraits().error,message:p,...f}),h}loadQueryErrorCode(e,t){const r=(t.Errors?.[0]?.Error??t.Errors?.Error??t.Error)?.Code;return void 0!==r?r:404==e.statusCode?"NotFound":void 0}loadQueryError(e){return e.Errors?.[0]?.Error??e.Errors?.Error??e.Error}loadQueryErrorMessage(e){const t=this.loadQueryError(e);return t?.message??t?.Message??e.message??e.Message??"Unknown"}getDefaultContentType(){return"application/x-www-form-urlencoded"}},ie=class extends oe{constructor(e){super(e),this.options=e;Object.assign(this.serializer.settings,{capitalizeKeys:!0,flattenLists:!0,serializeEmptyLists:!1})}static{c(this,"AwsEc2QueryProtocol")}useNestedResult(){return!1}},ae=r(3422),ce=r(6890),le=r(2098),de=r(1411),ue=r(591),pe=c((e,t)=>E(e,t).then(e=>{if(e.length){const t=new ue.XMLParser({attributeNamePrefix:"",htmlEntities:!0,ignoreAttributes:!1,ignoreDeclaration:!0,parseTagValue:!1,trimValues:!1,tagValueProcessor:c((e,t)=>""===t.trim()&&t.includes("\n")?"":void 0,"tagValueProcessor")});let r;t.addEntity("#xD","\r"),t.addEntity("#10","\n");try{r=t.parse(e,!0)}catch(t){throw t&&"object"==typeof t&&Object.defineProperty(t,"$responseBodyText",{value:e}),t}const n="#text",s=Object.keys(r)[0],o=r[s];return o[n]&&(o[s]=o[n],delete o[n]),(0,de.getValueFromTextNode)(o)}return{}}),"parseXmlBody"),he=c(async(e,t)=>{const r=await pe(e,t);return r.Error&&(r.Error.message=r.Error.message??r.Error.Message),r},"parseXmlErrorBody"),fe=c((e,t)=>void 0!==t?.Error?.Code?t.Error.Code:void 0!==t?.Code?t.Code:404==e.statusCode?"NotFound":void 0,"loadRestXmlErrorCode"),me=r(4274),ge=r(6890),ye=r(2430),be=r(1411),ve=r(8385),_e=class extends g{constructor(e){super(),this.settings=e}static{c(this,"XmlShapeSerializer")}stringBuffer;byteBuffer;buffer;write(e,t){const r=ge.NormalizedSchema.of(e);if(r.isStringSchema()&&"string"==typeof t)this.stringBuffer=t;else if(r.isBlobSchema())this.byteBuffer="byteLength"in t?t:(this.serdeContext?.base64Decoder??ve.fromBase64)(t);else{this.buffer=this.writeStruct(r,t,void 0);const e=r.getMergedTraits();e.httpPayload&&!e.xmlName&&this.buffer.withName(r.getName())}}flush(){if(void 0!==this.byteBuffer){const e=this.byteBuffer;return delete this.byteBuffer,e}if(void 0!==this.stringBuffer){const e=this.stringBuffer;return delete this.stringBuffer,e}const e=this.buffer;return this.settings.xmlNamespace&&(e?.attributes?.xmlns||e.addAttribute("xmlns",this.settings.xmlNamespace)),delete this.buffer,e.toString()}writeStruct(e,t,r){const n=e.getMergedTraits(),s=e.isMemberSchema()&&!n.httpPayload?e.getMemberTraits().xmlName??e.getMemberName():n.xmlName??e.getName();if(!s||!e.isStructSchema())throw new Error(`@aws-sdk/core/protocols - xml serializer, cannot write struct with empty name or non-struct, schema=${e.getName(!0)}.`);const o=me.XmlNode.of(s),[i,a]=this.getXmlnsAttribute(e,r);a&&o.addAttribute(i,a);for(const[r,n]of e.structIterator()){const e=t[r];if(null!=e||n.isIdempotencyToken()){if(n.getMergedTraits().xmlAttribute){o.addAttribute(n.getMergedTraits().xmlName??r,this.writeSimple(n,e));continue}if(n.isListSchema())this.writeList(n,e,o,a);else if(n.isMapSchema())this.writeMap(n,e,o,a);else if(n.isStructSchema())o.addChildNode(this.writeStruct(n,e,a));else{const t=me.XmlNode.of(n.getMergedTraits().xmlName??n.getMemberName());this.writeSimpleInto(n,e,t,a),o.addChildNode(t)}}}return o}writeList(e,t,r,n){if(!e.isMemberSchema())throw new Error(`@aws-sdk/core/protocols - xml serializer, cannot write non-member list: ${e.getName(!0)}`);const s=e.getMergedTraits(),o=e.getValueSchema(),i=o.getMergedTraits(),a=!!i.sparse,l=!!s.xmlFlattened,[d,u]=this.getXmlnsAttribute(e,n),p=c((t,r)=>{if(o.isListSchema())this.writeList(o,Array.isArray(r)?r:[r],t,u);else if(o.isMapSchema())this.writeMap(o,r,t,u);else if(o.isStructSchema()){const n=this.writeStruct(o,r,u);t.addChildNode(n.withName(l?s.xmlName??e.getMemberName():i.xmlName??"member"))}else{const n=me.XmlNode.of(l?s.xmlName??e.getMemberName():i.xmlName??"member");this.writeSimpleInto(o,r,n,u),t.addChildNode(n)}},"writeItem");if(l)for(const e of t)(a||null!=e)&&p(r,e);else{const n=me.XmlNode.of(s.xmlName??e.getMemberName());u&&n.addAttribute(d,u);for(const e of t)(a||null!=e)&&p(n,e);r.addChildNode(n)}}writeMap(e,t,r,n,s=!1){if(!e.isMemberSchema())throw new Error(`@aws-sdk/core/protocols - xml serializer, cannot write non-member map: ${e.getName(!0)}`);const o=e.getMergedTraits(),i=e.getKeySchema(),a=i.getMergedTraits().xmlName??"key",l=e.getValueSchema(),d=l.getMergedTraits(),u=d.xmlName??"value",p=!!d.sparse,h=!!o.xmlFlattened,[f,m]=this.getXmlnsAttribute(e,n),g=c((e,t,r)=>{const n=me.XmlNode.of(a,t),[s,o]=this.getXmlnsAttribute(i,m);o&&n.addAttribute(s,o),e.addChildNode(n);let c=me.XmlNode.of(u);l.isListSchema()?this.writeList(l,r,c,m):l.isMapSchema()?this.writeMap(l,r,c,m,!0):l.isStructSchema()?c=this.writeStruct(l,r,m):this.writeSimpleInto(l,r,c,m),e.addChildNode(c)},"addKeyValue");if(h){for(const[n,s]of Object.entries(t))if(p||null!=s){const t=me.XmlNode.of(o.xmlName??e.getMemberName());g(t,n,s),r.addChildNode(t)}}else{let n;s||(n=me.XmlNode.of(o.xmlName??e.getMemberName()),m&&n.addAttribute(f,m),r.addChildNode(n));for(const[e,o]of Object.entries(t))if(p||null!=o){const t=me.XmlNode.of("entry");g(t,e,o),(s?r:n).addChildNode(t)}}}writeSimple(e,t){if(null===t)throw new Error("@aws-sdk/core/protocols - (XML serializer) cannot write null value.");const r=ge.NormalizedSchema.of(e);let n=null;if(t&&"object"==typeof t)if(r.isBlobSchema())n=(this.serdeContext?.base64Encoder??ve.toBase64)(t);else{if(!(r.isTimestampSchema()&&t instanceof Date)){if(r.isBigDecimalSchema()&&t)return t instanceof ye.NumericValue?t.string:String(t);throw r.isMapSchema()||r.isListSchema()?new Error("@aws-sdk/core/protocols - xml serializer, cannot call _write() on List/Map schema, call writeList or writeMap() instead."):new Error(`@aws-sdk/core/protocols - xml serializer, unhandled schema type for object value and schema: ${r.getName(!0)}`)}{const e=this.settings.timestampFormat;switch(e.useTrait?r.getSchema()===ge.SCHEMA.TIMESTAMP_DEFAULT?e.default:r.getSchema()??e.default:e.default){case ge.SCHEMA.TIMESTAMP_DATE_TIME:n=t.toISOString().replace(".000Z","Z");break;case ge.SCHEMA.TIMESTAMP_HTTP_DATE:n=(0,be.dateToUtcString)(t);break;case ge.SCHEMA.TIMESTAMP_EPOCH_SECONDS:n=String(t.getTime()/1e3);break;default:console.warn("Missing timestamp format, using http date",t),n=(0,be.dateToUtcString)(t)}}}if((r.isBooleanSchema()||r.isNumericSchema()||r.isBigIntegerSchema()||r.isBigDecimalSchema())&&(n=String(t)),r.isStringSchema()&&(n=void 0===t&&r.isIdempotencyToken()?(0,ye.generateIdempotencyToken)():String(t)),null===n)throw new Error(`Unhandled schema-value pair ${r.getName(!0)}=${t}`);return n}writeSimpleInto(e,t,r,n){const s=this.writeSimple(e,t),o=ge.NormalizedSchema.of(e),i=new me.XmlText(s),[a,c]=this.getXmlnsAttribute(o,n);c&&r.addAttribute(a,c),r.addChildNode(i)}getXmlnsAttribute(e,t){const r=e.getMergedTraits(),[n,s]=r.xmlNamespace??[];return s&&s!==t?[n?`xmlns:${n}`:"xmlns",s]:[void 0,void 0]}},Se=class extends g{constructor(e){super(),this.settings=e}static{c(this,"XmlCodec")}createSerializer(){const e=new _e(this.settings);return e.setSerdeContext(this.serdeContext),e}createDeserializer(){const e=new Y(this.settings);return e.setSerdeContext(this.serdeContext),e}},we=class extends ae.HttpBindingProtocol{static{c(this,"AwsRestXmlProtocol")}codec;serializer;deserializer;constructor(e){super(e);const t={timestampFormat:{useTrait:!0,default:ce.SCHEMA.TIMESTAMP_DATE_TIME},httpBindings:!0,xmlNamespace:e.xmlNamespace,serviceNamespace:e.defaultNamespace};this.codec=new Se(t),this.serializer=new ae.HttpInterceptingShapeSerializer(this.codec.createSerializer(),t),this.deserializer=new ae.HttpInterceptingShapeDeserializer(this.codec.createDeserializer(),t)}getPayloadCodec(){return this.codec}getShapeId(){return"aws.protocols#restXml"}async serializeRequest(e,t,r){const n=await super.serializeRequest(e,t,r),s=ce.NormalizedSchema.of(e.input),o=s.getMemberSchemas();if(n.path=String(n.path).split("/").filter(e=>"{Bucket}"!==e).join("/")||"/",!n.headers["content-type"]){const e=Object.values(o).find(e=>!!e.getMergedTraits().httpPayload);if(e){const t=e.getMergedTraits().mediaType;t?n.headers["content-type"]=t:e.isStringSchema()?n.headers["content-type"]="text/plain":e.isBlobSchema()?n.headers["content-type"]="application/octet-stream":n.headers["content-type"]=this.getDefaultContentType()}else if(!s.isUnitSchema()){Object.values(o).find(e=>{const{httpQuery:t,httpQueryParams:r,httpHeader:n,httpLabel:s,httpPrefixHeaders:o}=e.getMergedTraits();return!(t||r||n||s||void 0!==o)})&&(n.headers["content-type"]=this.getDefaultContentType())}}if(n.headers["content-type"]===this.getDefaultContentType()&&"string"==typeof n.body&&(n.body='<?xml version="1.0" encoding="UTF-8"?>'+n.body),n.body)try{n.headers["content-length"]=String((0,le.calculateBodyLength)(n.body))}catch(e){}return n}async deserializeResponse(e,t,r){return super.deserializeResponse(e,t,r)}async handleError(e,t,r,n,s){const o=fe(r,n)??"Unknown";let i=this.options.defaultNamespace,a=o;o.includes("#")&&([i,a]=o.split("#"));const c=ce.TypeRegistry.for(i);let l;try{l=c.getSchema(o)}catch(e){const t=ce.TypeRegistry.for("smithy.ts.sdk.synthetic."+i).getBaseException();if(t){const e=t.ctor;throw Object.assign(new e(a),n)}throw new Error(a)}const d=ce.NormalizedSchema.of(l),u=n.Error?.message??n.Error?.Message??n.message??n.Message??"Unknown",p=new l.ctor(u);await this.deserializeHttpMessage(l,t,r,n);const h={};for(const[e,t]of d.structIterator()){const r=t.getMergedTraits().xmlName??e,s=n.Error?.[r]??n[r];h[e]=this.codec.createDeserializer().readSchema(t,s)}throw Object.assign(p,{$metadata:s,$response:r,$fault:d.getMergedTraits().error,message:u,...h}),p}getDefaultContentType(){return"application/xml"}}},5606:(e,t,r)=>{"use strict";var n,s=Object.defineProperty,o=Object.getOwnPropertyDescriptor,i=Object.getOwnPropertyNames,a=Object.prototype.hasOwnProperty,c=(e,t)=>s(e,"name",{value:t,configurable:!0}),l={};((e,t)=>{for(var r in t)s(e,r,{get:t[r],enumerable:!0})})(l,{ENV_ACCOUNT_ID:()=>y,ENV_CREDENTIAL_SCOPE:()=>g,ENV_EXPIRATION:()=>m,ENV_KEY:()=>p,ENV_SECRET:()=>h,ENV_SESSION:()=>f,fromEnv:()=>b}),e.exports=(n=l,((e,t,r,n)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let c of i(t))a.call(e,c)||c===r||s(e,c,{get:()=>t[c],enumerable:!(n=o(t,c))||n.enumerable});return e})(s({},"__esModule",{value:!0}),n));var d=r(5152),u=r(1238),p="AWS_ACCESS_KEY_ID",h="AWS_SECRET_ACCESS_KEY",f="AWS_SESSION_TOKEN",m="AWS_CREDENTIAL_EXPIRATION",g="AWS_CREDENTIAL_SCOPE",y="AWS_ACCOUNT_ID",b=c(e=>async()=>{e?.logger?.debug("@aws-sdk/credential-provider-env - fromEnv");const t=process.env[p],r=process.env[h],n=process.env[f],s=process.env[m],o=process.env[g],i=process.env[y];if(t&&r){const e={accessKeyId:t,secretAccessKey:r,...n&&{sessionToken:n},...s&&{expiration:new Date(s)},...o&&{credentialScope:o},...i&&{accountId:i}};return(0,d.setCredentialFeature)(e,"CREDENTIALS_ENV_VARS","g"),e}throw new u.CredentialsProviderError("Unable to find environment variable credentials.",{logger:e?.logger})},"fromEnv")},1509:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.checkUrl=void 0;const n=r(1238);t.checkUrl=(e,t)=>{if("https:"!==e.protocol&&"169.254.170.2"!==e.hostname&&"169.254.170.23"!==e.hostname&&"[fd00:ec2::23]"!==e.hostname){if(e.hostname.includes("[")){if("[::1]"===e.hostname||"[0000:0000:0000:0000:0000:0000:0000:0001]"===e.hostname)return}else{if("localhost"===e.hostname)return;const t=e.hostname.split("."),r=e=>{const t=parseInt(e,10);return 0<=t&&t<=255};if("127"===t[0]&&r(t[1])&&r(t[2])&&r(t[3])&&4===t.length)return}throw new n.CredentialsProviderError("URL not accepted. It must either be HTTPS or match one of the following:\n  - loopback CIDR 127.0.0.0/8 or [::1/128]\n  - ECS container host 169.254.170.2\n  - EKS container host 169.254.170.23 or [fd00:ec2::23]",{logger:t})}}},8712:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.fromHttp=void 0;const n=r(1860),s=r(5152),o=r(1279),i=r(1238),a=n.__importDefault(r(1943)),c=r(1509),l=r(8914),d=r(1122);t.fromHttp=(e={})=>{let t;e.logger?.debug("@aws-sdk/credential-provider-http - fromHttp");const r=e.awsContainerCredentialsRelativeUri??process.env.AWS_CONTAINER_CREDENTIALS_RELATIVE_URI,n=e.awsContainerCredentialsFullUri??process.env.AWS_CONTAINER_CREDENTIALS_FULL_URI,u=e.awsContainerAuthorizationToken??process.env.AWS_CONTAINER_AUTHORIZATION_TOKEN,p=e.awsContainerAuthorizationTokenFile??process.env.AWS_CONTAINER_AUTHORIZATION_TOKEN_FILE,h="NoOpLogger"!==e.logger?.constructor?.name&&e.logger?e.logger.warn:console.warn;if(r&&n&&(h("@aws-sdk/credential-provider-http: you have set both awsContainerCredentialsRelativeUri and awsContainerCredentialsFullUri."),h("awsContainerCredentialsFullUri will take precedence.")),u&&p&&(h("@aws-sdk/credential-provider-http: you have set both awsContainerAuthorizationToken and awsContainerAuthorizationTokenFile."),h("awsContainerAuthorizationToken will take precedence.")),n)t=n;else{if(!r)throw new i.CredentialsProviderError("No HTTP credential provider host provided.\nSet AWS_CONTAINER_CREDENTIALS_FULL_URI or AWS_CONTAINER_CREDENTIALS_RELATIVE_URI.",{logger:e.logger});t=`http://169.254.170.2${r}`}const f=new URL(t);(0,c.checkUrl)(f,e.logger);const m=new o.NodeHttpHandler({requestTimeout:e.timeout??1e3,connectionTimeout:e.timeout??1e3});return(0,d.retryWrapper)(async()=>{const t=(0,l.createGetRequest)(f);u?t.headers.Authorization=u:p&&(t.headers.Authorization=(await a.default.readFile(p)).toString());try{const e=await m.handle(t);return(0,l.getCredentials)(e.response).then(e=>(0,s.setCredentialFeature)(e,"CREDENTIALS_HTTP","z"))}catch(t){throw new i.CredentialsProviderError(String(t),{logger:e.logger})}},e.maxRetries??3,e.timeout??1e3)}},8914:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createGetRequest=function(e){return new s.HttpRequest({protocol:e.protocol,hostname:e.hostname,port:Number(e.port),path:e.pathname,query:Array.from(e.searchParams.entries()).reduce((e,[t,r])=>(e[t]=r,e),{}),fragment:e.hash})},t.getCredentials=async function(e,t){const r=(0,i.sdkStreamMixin)(e.body),s=await r.transformToString();if(200===e.statusCode){const e=JSON.parse(s);if("string"!=typeof e.AccessKeyId||"string"!=typeof e.SecretAccessKey||"string"!=typeof e.Token||"string"!=typeof e.Expiration)throw new n.CredentialsProviderError("HTTP credential provider response not of the required format, an object matching: { AccessKeyId: string, SecretAccessKey: string, Token: string, Expiration: string(rfc3339) }",{logger:t});return{accessKeyId:e.AccessKeyId,secretAccessKey:e.SecretAccessKey,sessionToken:e.Token,expiration:(0,o.parseRfc3339DateTime)(e.Expiration)}}if(e.statusCode>=400&&e.statusCode<500){let r={};try{r=JSON.parse(s)}catch(e){}throw Object.assign(new n.CredentialsProviderError(`Server responded with status: ${e.statusCode}`,{logger:t}),{Code:r.Code,Message:r.Message})}throw new n.CredentialsProviderError(`Server responded with status: ${e.statusCode}`,{logger:t})};const n=r(1238),s=r(2356),o=r(1411),i=r(4252)},1122:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.retryWrapper=void 0;t.retryWrapper=(e,t,r)=>async()=>{for(let n=0;n<t;++n)try{return await e()}catch(e){await new Promise(e=>setTimeout(e,r))}return await e()}},8605:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.fromHttp=void 0;var n=r(8712);Object.defineProperty(t,"fromHttp",{enumerable:!0,get:function(){return n.fromHttp}})},5869:(e,t,r)=>{"use strict";var n,s=Object.create,o=Object.defineProperty,i=Object.getOwnPropertyDescriptor,a=Object.getOwnPropertyNames,c=Object.getPrototypeOf,l=Object.prototype.hasOwnProperty,d=(e,t)=>o(e,"name",{value:t,configurable:!0}),u=(e,t,r,n)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let s of a(t))l.call(e,s)||s===r||o(e,s,{get:()=>t[s],enumerable:!(n=i(t,s))||n.enumerable});return e},p=(e,t,r)=>(r=null!=e?s(c(e)):{},u(!t&&e&&e.__esModule?r:o(r,"default",{value:e,enumerable:!0}),e)),h={};((e,t)=>{for(var r in t)o(e,r,{get:t[r],enumerable:!0})})(h,{fromIni:()=>N}),e.exports=(n=h,u(o({},"__esModule",{value:!0}),n));var f=r(4964),m=r(5152),g=r(1238),y=d((e,t,n)=>{const s={EcsContainer:d(async e=>{const{fromHttp:t}=await Promise.resolve().then(()=>p(r(8605))),{fromContainerMetadata:s}=await Promise.resolve().then(()=>p(r(566)));return n?.debug("@aws-sdk/credential-provider-ini - credential_source is EcsContainer"),async()=>(0,g.chain)(t(e??{}),s(e))().then(b)},"EcsContainer"),Ec2InstanceMetadata:d(async e=>{n?.debug("@aws-sdk/credential-provider-ini - credential_source is Ec2InstanceMetadata");const{fromInstanceMetadata:t}=await Promise.resolve().then(()=>p(r(566)));return async()=>t(e)().then(b)},"Ec2InstanceMetadata"),Environment:d(async e=>{n?.debug("@aws-sdk/credential-provider-ini - credential_source is Environment");const{fromEnv:t}=await Promise.resolve().then(()=>p(r(5606)));return async()=>t(e)().then(b)},"Environment")};if(e in s)return s[e];throw new g.CredentialsProviderError(`Unsupported credential source in profile ${t}. Got ${e}, expected EcsContainer or Ec2InstanceMetadata or Environment.`,{logger:n})},"resolveCredentialSource"),b=d(e=>(0,m.setCredentialFeature)(e,"CREDENTIALS_PROFILE_NAMED_PROVIDER","p"),"setNamedProvider"),v=d((e,{profile:t="default",logger:r}={})=>Boolean(e)&&"object"==typeof e&&"string"==typeof e.role_arn&&["undefined","string"].indexOf(typeof e.role_session_name)>-1&&["undefined","string"].indexOf(typeof e.external_id)>-1&&["undefined","string"].indexOf(typeof e.mfa_serial)>-1&&(_(e,{profile:t,logger:r})||S(e,{profile:t,logger:r})),"isAssumeRoleProfile"),_=d((e,{profile:t,logger:r})=>{const n="string"==typeof e.source_profile&&void 0===e.credential_source;return n&&r?.debug?.(`    ${t} isAssumeRoleWithSourceProfile source_profile=${e.source_profile}`),n},"isAssumeRoleWithSourceProfile"),S=d((e,{profile:t,logger:r})=>{const n="string"==typeof e.credential_source&&void 0===e.source_profile;return n&&r?.debug?.(`    ${t} isCredentialSourceProfile credential_source=${e.credential_source}`),n},"isCredentialSourceProfile"),w=d(async(e,t,n,s={})=>{n.logger?.debug("@aws-sdk/credential-provider-ini - resolveAssumeRoleCredentials (STS)");const o=t[e],{source_profile:i,region:a}=o;if(!n.roleAssumer){const{getDefaultRoleAssumer:e}=await Promise.resolve().then(()=>p(r(1136)));n.roleAssumer=e({...n.clientConfig,credentialProviderLogger:n.logger,parentClientConfig:{...n?.parentClientConfig,region:a??n?.parentClientConfig?.region}},n.clientPlugins)}if(i&&i in s)throw new g.CredentialsProviderError(`Detected a cycle attempting to resolve credentials for profile ${(0,f.getProfileName)(n)}. Profiles visited: `+Object.keys(s).join(", "),{logger:n.logger});n.logger?.debug("@aws-sdk/credential-provider-ini - finding credential resolver using "+(i?`source_profile=[${i}]`:`profile=[${e}]`));const c=i?D(i,t,n,{...s,[i]:!0},E(t[i]??{})):(await y(o.credential_source,e,n.logger)(n))();if(E(o))return c.then(e=>(0,m.setCredentialFeature)(e,"CREDENTIALS_PROFILE_SOURCE_PROFILE","o"));{const t={RoleArn:o.role_arn,RoleSessionName:o.role_session_name||`aws-sdk-js-${Date.now()}`,ExternalId:o.external_id,DurationSeconds:parseInt(o.duration_seconds||"3600",10)},{mfa_serial:r}=o;if(r){if(!n.mfaCodeProvider)throw new g.CredentialsProviderError(`Profile ${e} requires multi-factor authentication, but no MFA code callback was provided.`,{logger:n.logger,tryNextLink:!1});t.SerialNumber=r,t.TokenCode=await n.mfaCodeProvider(r)}const s=await c;return n.roleAssumer(s,t).then(e=>(0,m.setCredentialFeature)(e,"CREDENTIALS_PROFILE_SOURCE_PROFILE","o"))}},"resolveAssumeRoleCredentials"),E=d(e=>!e.role_arn&&!!e.credential_source,"isCredentialSourceWithoutRoleArn"),P=d(e=>Boolean(e)&&"object"==typeof e&&"string"==typeof e.credential_process,"isProcessProfile"),C=d(async(e,t)=>Promise.resolve().then(()=>p(r(5360))).then(({fromProcess:r})=>r({...e,profile:t})().then(e=>(0,m.setCredentialFeature)(e,"CREDENTIALS_PROFILE_PROCESS","v"))),"resolveProcessCredentials"),O=d(async(e,t,n={})=>{const{fromSSO:s}=await Promise.resolve().then(()=>p(r(998)));return s({profile:e,logger:n.logger,parentClientConfig:n.parentClientConfig,clientConfig:n.clientConfig})().then(e=>t.sso_session?(0,m.setCredentialFeature)(e,"CREDENTIALS_PROFILE_SSO","r"):(0,m.setCredentialFeature)(e,"CREDENTIALS_PROFILE_SSO_LEGACY","t"))},"resolveSsoCredentials"),A=d(e=>e&&("string"==typeof e.sso_start_url||"string"==typeof e.sso_account_id||"string"==typeof e.sso_session||"string"==typeof e.sso_region||"string"==typeof e.sso_role_name),"isSsoProfile"),x=d(e=>Boolean(e)&&"object"==typeof e&&"string"==typeof e.aws_access_key_id&&"string"==typeof e.aws_secret_access_key&&["undefined","string"].indexOf(typeof e.aws_session_token)>-1&&["undefined","string"].indexOf(typeof e.aws_account_id)>-1,"isStaticCredsProfile"),I=d(async(e,t)=>{t?.logger?.debug("@aws-sdk/credential-provider-ini - resolveStaticCredentials");const r={accessKeyId:e.aws_access_key_id,secretAccessKey:e.aws_secret_access_key,sessionToken:e.aws_session_token,...e.aws_credential_scope&&{credentialScope:e.aws_credential_scope},...e.aws_account_id&&{accountId:e.aws_account_id}};return(0,m.setCredentialFeature)(r,"CREDENTIALS_PROFILE","n")},"resolveStaticCredentials"),R=d(e=>Boolean(e)&&"object"==typeof e&&"string"==typeof e.web_identity_token_file&&"string"==typeof e.role_arn&&["undefined","string"].indexOf(typeof e.role_session_name)>-1,"isWebIdentityProfile"),T=d(async(e,t)=>Promise.resolve().then(()=>p(r(9956))).then(({fromTokenFile:r})=>r({webIdentityTokenFile:e.web_identity_token_file,roleArn:e.role_arn,roleSessionName:e.role_session_name,roleAssumerWithWebIdentity:t.roleAssumerWithWebIdentity,logger:t.logger,parentClientConfig:t.parentClientConfig})().then(e=>(0,m.setCredentialFeature)(e,"CREDENTIALS_PROFILE_STS_WEB_ID_TOKEN","q"))),"resolveWebIdentityCredentials"),D=d(async(e,t,r,n={},s=!1)=>{const o=t[e];if(Object.keys(n).length>0&&x(o))return I(o,r);if(s||v(o,{profile:e,logger:r.logger}))return w(e,t,r,n);if(x(o))return I(o,r);if(R(o))return T(o,r);if(P(o))return C(r,e);if(A(o))return await O(e,o,r);throw new g.CredentialsProviderError(`Could not resolve credentials using profile: [${e}] in configuration/credentials file(s).`,{logger:r.logger})},"resolveProfileData"),N=d((e={})=>async({callerClientConfig:t}={})=>{const r={...e,parentClientConfig:{...t,...e.parentClientConfig}};r.logger?.debug("@aws-sdk/credential-provider-ini - fromIni");const n=await(0,f.parseKnownFiles)(r);return D((0,f.getProfileName)({profile:e.profile??t?.profile}),n,r)},"fromIni")},5861:(e,t,r)=>{"use strict";var n,s=Object.create,o=Object.defineProperty,i=Object.getOwnPropertyDescriptor,a=Object.getOwnPropertyNames,c=Object.getPrototypeOf,l=Object.prototype.hasOwnProperty,d=(e,t)=>o(e,"name",{value:t,configurable:!0}),u=(e,t,r,n)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let s of a(t))l.call(e,s)||s===r||o(e,s,{get:()=>t[s],enumerable:!(n=i(t,s))||n.enumerable});return e},p=(e,t,r)=>(r=null!=e?s(c(e)):{},u(!t&&e&&e.__esModule?r:o(r,"default",{value:e,enumerable:!0}),e)),h={};((e,t)=>{for(var r in t)o(e,r,{get:t[r],enumerable:!0})})(h,{credentialsTreatedAsExpired:()=>w,credentialsWillNeedRefresh:()=>S,defaultProvider:()=>_}),e.exports=(n=h,u(o({},"__esModule",{value:!0}),n));var f=r(5606),m=r(4964),g=r(1238),y="AWS_EC2_METADATA_DISABLED",b=d(async e=>{const{ENV_CMDS_FULL_URI:t,ENV_CMDS_RELATIVE_URI:n,fromContainerMetadata:s,fromInstanceMetadata:o}=await Promise.resolve().then(()=>p(r(566)));if(process.env[n]||process.env[t]){e.logger?.debug("@aws-sdk/credential-provider-node - remoteProvider::fromHttp/fromContainerMetadata");const{fromHttp:t}=await Promise.resolve().then(()=>p(r(8605)));return(0,g.chain)(t(e),s(e))}return process.env[y]&&"false"!==process.env[y]?async()=>{throw new g.CredentialsProviderError("EC2 Instance Metadata Service access disabled",{logger:e.logger})}:(e.logger?.debug("@aws-sdk/credential-provider-node - remoteProvider::fromInstanceMetadata"),o(e))},"remoteProvider"),v=!1,_=d((e={})=>(0,g.memoize)((0,g.chain)(async()=>{if(e.profile??process.env[m.ENV_PROFILE]){if(process.env[f.ENV_KEY]&&process.env[f.ENV_SECRET]&&!v){(e.logger?.warn&&"NoOpLogger"!==e.logger?.constructor?.name?e.logger.warn:console.warn)("@aws-sdk/credential-provider-node - defaultProvider::fromEnv WARNING:\n    Multiple credential sources detected: \n    Both AWS_PROFILE and the pair AWS_ACCESS_KEY_ID/AWS_SECRET_ACCESS_KEY static credentials are set.\n    This SDK will proceed with the AWS_PROFILE value.\n    \n    However, a future version may change this behavior to prefer the ENV static credentials.\n    Please ensure that your environment only sets either the AWS_PROFILE or the\n    AWS_ACCESS_KEY_ID/AWS_SECRET_ACCESS_KEY pair.\n"),v=!0}throw new g.CredentialsProviderError("AWS_PROFILE is set, skipping fromEnv provider.",{logger:e.logger,tryNextLink:!0})}return e.logger?.debug("@aws-sdk/credential-provider-node - defaultProvider::fromEnv"),(0,f.fromEnv)(e)()},async()=>{e.logger?.debug("@aws-sdk/credential-provider-node - defaultProvider::fromSSO");const{ssoStartUrl:t,ssoAccountId:n,ssoRegion:s,ssoRoleName:o,ssoSession:i}=e;if(!(t||n||s||o||i))throw new g.CredentialsProviderError("Skipping SSO provider in default chain (inputs do not include SSO fields).",{logger:e.logger});const{fromSSO:a}=await Promise.resolve().then(()=>p(r(998)));return a(e)()},async()=>{e.logger?.debug("@aws-sdk/credential-provider-node - defaultProvider::fromIni");const{fromIni:t}=await Promise.resolve().then(()=>p(r(5869)));return t(e)()},async()=>{e.logger?.debug("@aws-sdk/credential-provider-node - defaultProvider::fromProcess");const{fromProcess:t}=await Promise.resolve().then(()=>p(r(5360)));return t(e)()},async()=>{e.logger?.debug("@aws-sdk/credential-provider-node - defaultProvider::fromTokenFile");const{fromTokenFile:t}=await Promise.resolve().then(()=>p(r(9956)));return t(e)()},async()=>(e.logger?.debug("@aws-sdk/credential-provider-node - defaultProvider::remoteProvider"),(await b(e))()),async()=>{throw new g.CredentialsProviderError("Could not load credentials from any providers",{tryNextLink:!1,logger:e.logger})}),w,S),"defaultProvider"),S=d(e=>void 0!==e?.expiration,"credentialsWillNeedRefresh"),w=d(e=>void 0!==e?.expiration&&e.expiration.getTime()-Date.now()<3e5,"credentialsTreatedAsExpired")},5360:(e,t,r)=>{"use strict";var n,s=Object.defineProperty,o=Object.getOwnPropertyDescriptor,i=Object.getOwnPropertyNames,a=Object.prototype.hasOwnProperty,c=(e,t)=>s(e,"name",{value:t,configurable:!0}),l={};((e,t)=>{for(var r in t)s(e,r,{get:t[r],enumerable:!0})})(l,{fromProcess:()=>y}),e.exports=(n=l,((e,t,r,n)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let c of i(t))a.call(e,c)||c===r||s(e,c,{get:()=>t[c],enumerable:!(n=o(t,c))||n.enumerable});return e})(s({},"__esModule",{value:!0}),n));var d=r(4964),u=r(1238),p=r(5317),h=r(9023),f=r(5152),m=c((e,t,r)=>{if(1!==t.Version)throw Error(`Profile ${e} credential_process did not return Version 1.`);if(void 0===t.AccessKeyId||void 0===t.SecretAccessKey)throw Error(`Profile ${e} credential_process returned invalid credentials.`);if(t.Expiration){const r=new Date;if(new Date(t.Expiration)<r)throw Error(`Profile ${e} credential_process returned expired credentials.`)}let n=t.AccountId;!n&&r?.[e]?.aws_account_id&&(n=r[e].aws_account_id);const s={accessKeyId:t.AccessKeyId,secretAccessKey:t.SecretAccessKey,...t.SessionToken&&{sessionToken:t.SessionToken},...t.Expiration&&{expiration:new Date(t.Expiration)},...t.CredentialScope&&{credentialScope:t.CredentialScope},...n&&{accountId:n}};return(0,f.setCredentialFeature)(s,"CREDENTIALS_PROCESS","w"),s},"getValidatedProcessCredentials"),g=c(async(e,t,r)=>{const n=t[e];if(!t[e])throw new u.CredentialsProviderError(`Profile ${e} could not be found in shared credentials file.`,{logger:r});{const s=n.credential_process;if(void 0===s)throw new u.CredentialsProviderError(`Profile ${e} did not contain credential_process.`,{logger:r});{const n=(0,h.promisify)(p.exec);try{const{stdout:r}=await n(s);let o;try{o=JSON.parse(r.trim())}catch{throw Error(`Profile ${e} credential_process returned invalid JSON.`)}return m(e,o,t)}catch(e){throw new u.CredentialsProviderError(e.message,{logger:r})}}}},"resolveProcessCredentials"),y=c((e={})=>async({callerClientConfig:t}={})=>{e.logger?.debug("@aws-sdk/credential-provider-process - fromProcess");const r=await(0,d.parseKnownFiles)(e);return g((0,d.getProfileName)({profile:e.profile??t?.profile}),r,e.logger)},"fromProcess")},998:(e,t,r)=>{"use strict";var n,s=Object.defineProperty,o=Object.getOwnPropertyDescriptor,i=Object.getOwnPropertyNames,a=Object.prototype.hasOwnProperty,c=(e,t)=>s(e,"name",{value:t,configurable:!0}),l=(e,t)=>{for(var r in t)s(e,r,{get:t[r],enumerable:!0})},d={};l(d,{GetRoleCredentialsCommand:()=>n.GetRoleCredentialsCommand,SSOClient:()=>n.SSOClient});var u,p,h,f=(u={"src/loadSso.ts"(){n=r(2054)}},function(){return u&&(p=(0,u[i(u)[0]])(u=0)),p}),m={};l(m,{fromSSO:()=>P,isSsoProfile:()=>g,validateSsoProfile:()=>E}),e.exports=(h=m,((e,t,r,n)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let c of i(t))a.call(e,c)||c===r||s(e,c,{get:()=>t[c],enumerable:!(n=o(t,c))||n.enumerable});return e})(s({},"__esModule",{value:!0}),h));var g=c(e=>e&&("string"==typeof e.sso_start_url||"string"==typeof e.sso_account_id||"string"==typeof e.sso_session||"string"==typeof e.sso_region||"string"==typeof e.sso_role_name),"isSsoProfile"),y=r(5152),b=r(5433),v=r(1238),_=r(4964),S=!1,w=c(async({ssoStartUrl:e,ssoSession:t,ssoAccountId:r,ssoRegion:n,ssoRoleName:s,ssoClient:o,clientConfig:i,parentClientConfig:a,profile:c,logger:l})=>{let u;const p="To refresh this SSO session run aws sso login with the corresponding profile.";if(t)try{const e=await(0,b.fromSso)({profile:c})();u={accessToken:e.token,expiresAt:new Date(e.expiration).toISOString()}}catch(e){throw new v.CredentialsProviderError(e.message,{tryNextLink:S,logger:l})}else try{u=await(0,_.getSSOTokenFromFile)(e)}catch(e){throw new v.CredentialsProviderError(`The SSO session associated with this profile is invalid. ${p}`,{tryNextLink:S,logger:l})}if(new Date(u.expiresAt).getTime()-Date.now()<=0)throw new v.CredentialsProviderError(`The SSO session associated with this profile has expired. ${p}`,{tryNextLink:S,logger:l});const{accessToken:h}=u,{SSOClient:m,GetRoleCredentialsCommand:g}=await Promise.resolve().then(()=>(f(),d)),w=o||new m(Object.assign({},i??{},{logger:i?.logger??a?.logger,region:i?.region??n}));let E;try{E=await w.send(new g({accountId:r,roleName:s,accessToken:h}))}catch(e){throw new v.CredentialsProviderError(e,{tryNextLink:S,logger:l})}const{roleCredentials:{accessKeyId:P,secretAccessKey:C,sessionToken:O,expiration:A,credentialScope:x,accountId:I}={}}=E;if(!(P&&C&&O&&A))throw new v.CredentialsProviderError("SSO returns an invalid temporary credential.",{tryNextLink:S,logger:l});const R={accessKeyId:P,secretAccessKey:C,sessionToken:O,expiration:new Date(A),...x&&{credentialScope:x},...I&&{accountId:I}};return t?(0,y.setCredentialFeature)(R,"CREDENTIALS_SSO","s"):(0,y.setCredentialFeature)(R,"CREDENTIALS_SSO_LEGACY","u"),R},"resolveSSOCredentials"),E=c((e,t)=>{const{sso_start_url:r,sso_account_id:n,sso_region:s,sso_role_name:o}=e;if(!(r&&n&&s&&o))throw new v.CredentialsProviderError(`Profile is configured with invalid SSO credentials. Required parameters "sso_account_id", "sso_region", "sso_role_name", "sso_start_url". Got ${Object.keys(e).join(", ")}\nReference: https://docs.aws.amazon.com/cli/latest/userguide/cli-configure-sso.html`,{tryNextLink:!1,logger:t});return e},"validateSsoProfile"),P=c((e={})=>async({callerClientConfig:t}={})=>{e.logger?.debug("@aws-sdk/credential-provider-sso - fromSSO");const{ssoStartUrl:r,ssoAccountId:n,ssoRegion:s,ssoRoleName:o,ssoSession:i}=e,{ssoClient:a}=e,c=(0,_.getProfileName)({profile:e.profile??t?.profile});if(r||n||s||o||i){if(r&&n&&s&&o)return w({ssoStartUrl:r,ssoSession:i,ssoAccountId:n,ssoRegion:s,ssoRoleName:o,ssoClient:a,clientConfig:e.clientConfig,parentClientConfig:e.parentClientConfig,profile:c});throw new v.CredentialsProviderError('Incomplete configuration. The fromSSO() argument hash must include "ssoStartUrl", "ssoAccountId", "ssoRegion", "ssoRoleName"',{tryNextLink:!1,logger:e.logger})}{const t=(await(0,_.parseKnownFiles)(e))[c];if(!t)throw new v.CredentialsProviderError(`Profile ${c} was not found.`,{logger:e.logger});if(!g(t))throw new v.CredentialsProviderError(`Profile ${c} is not configured with SSO credentials.`,{logger:e.logger});if(t?.sso_session){const n=(await(0,_.loadSsoSessionData)(e))[t.sso_session],o=` configurations in profile ${c} and sso-session ${t.sso_session}`;if(s&&s!==n.sso_region)throw new v.CredentialsProviderError("Conflicting SSO region"+o,{tryNextLink:!1,logger:e.logger});if(r&&r!==n.sso_start_url)throw new v.CredentialsProviderError("Conflicting SSO start_url"+o,{tryNextLink:!1,logger:e.logger});t.sso_region=n.sso_region,t.sso_start_url=n.sso_start_url}const{sso_start_url:n,sso_account_id:o,sso_region:i,sso_role_name:l,sso_session:d}=E(t,e.logger);return w({ssoStartUrl:n,ssoSession:d,ssoAccountId:o,ssoRegion:i,ssoRoleName:l,ssoClient:a,clientConfig:e.clientConfig,parentClientConfig:e.parentClientConfig,profile:c})}},"fromSSO")},8079:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.fromTokenFile=void 0;const n=r(5152),s=r(1238),o=r(9896),i=r(4453),a="AWS_WEB_IDENTITY_TOKEN_FILE";t.fromTokenFile=(e={})=>async()=>{e.logger?.debug("@aws-sdk/credential-provider-web-identity - fromTokenFile");const t=e?.webIdentityTokenFile??process.env[a],r=e?.roleArn??process.env.AWS_ROLE_ARN,c=e?.roleSessionName??process.env.AWS_ROLE_SESSION_NAME;if(!t||!r)throw new s.CredentialsProviderError("Web identity configuration not specified",{logger:e.logger});const l=await(0,i.fromWebToken)({...e,webIdentityToken:(0,o.readFileSync)(t,{encoding:"ascii"}),roleArn:r,roleSessionName:c})();return t===process.env[a]&&(0,n.setCredentialFeature)(l,"CREDENTIALS_ENV_VARS_STS_WEB_ID_TOKEN","h"),l}},4453:function(e,t,r){"use strict";var n,s=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var s=Object.getOwnPropertyDescriptor(t,r);s&&!("get"in s?!t.__esModule:s.writable||s.configurable)||(s={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,s)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__importStar||(n=function(e){return n=Object.getOwnPropertyNames||function(e){var t=[];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[t.length]=r);return t},n(e)},function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r=n(e),i=0;i<r.length;i++)"default"!==r[i]&&s(t,e,r[i]);return o(t,e),t});Object.defineProperty(t,"__esModule",{value:!0}),t.fromWebToken=void 0;t.fromWebToken=e=>async t=>{e.logger?.debug("@aws-sdk/credential-provider-web-identity - fromWebToken");const{roleArn:n,roleSessionName:s,webIdentityToken:o,providerId:a,policyArns:c,policy:l,durationSeconds:d}=e;let{roleAssumerWithWebIdentity:u}=e;if(!u){const{getDefaultRoleAssumerWithWebIdentity:n}=await Promise.resolve().then(()=>i(r(1136)));u=n({...e.clientConfig,credentialProviderLogger:e.logger,parentClientConfig:{...t?.callerClientConfig,...e.parentClientConfig}},e.clientPlugins)}return u({RoleArn:n,RoleSessionName:s??`aws-sdk-js-session-${Date.now()}`,WebIdentityToken:o,ProviderId:a,PolicyArns:c,Policy:l,DurationSeconds:d})}},9956:(e,t,r)=>{"use strict";var n,s=Object.defineProperty,o=Object.getOwnPropertyDescriptor,i=Object.getOwnPropertyNames,a=Object.prototype.hasOwnProperty,c=(e,t,r,n)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let c of i(t))a.call(e,c)||c===r||s(e,c,{get:()=>t[c],enumerable:!(n=o(t,c))||n.enumerable});return e},l=(e,t,r)=>(c(e,t,"default"),r&&c(r,t,"default")),d={};e.exports=(n=d,c(s({},"__esModule",{value:!0}),n)),l(d,r(8079),e.exports),l(d,r(4453),e.exports)},2590:(e,t,r)=>{"use strict";var n,s=Object.defineProperty,o=Object.getOwnPropertyDescriptor,i=Object.getOwnPropertyNames,a=Object.prototype.hasOwnProperty,c=(e,t)=>s(e,"name",{value:t,configurable:!0}),l={};((e,t)=>{for(var r in t)s(e,r,{get:t[r],enumerable:!0})})(l,{getHostHeaderPlugin:()=>f,hostHeaderMiddleware:()=>p,hostHeaderMiddlewareOptions:()=>h,resolveHostHeaderConfig:()=>u}),e.exports=(n=l,((e,t,r,n)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let c of i(t))a.call(e,c)||c===r||s(e,c,{get:()=>t[c],enumerable:!(n=o(t,c))||n.enumerable});return e})(s({},"__esModule",{value:!0}),n));var d=r(2356);function u(e){return e}c(u,"resolveHostHeaderConfig");var p=c(e=>t=>async r=>{if(!d.HttpRequest.isInstance(r.request))return t(r);const{request:n}=r,{handlerProtocol:s=""}=e.requestHandler.metadata||{};if(s.indexOf("h2")>=0&&!n.headers[":authority"])delete n.headers.host,n.headers[":authority"]=n.hostname+(n.port?":"+n.port:"");else if(!n.headers.host){let e=n.hostname;null!=n.port&&(e+=`:${n.port}`),n.headers.host=e}return t(r)},"hostHeaderMiddleware"),h={name:"hostHeaderMiddleware",step:"build",priority:"low",tags:["HOST"],override:!0},f=c(e=>({applyToStack:c(t=>{t.add(p(e),h)},"applyToStack")}),"getHostHeaderPlugin")},5242:e=>{"use strict";var t,r=Object.defineProperty,n=Object.getOwnPropertyDescriptor,s=Object.getOwnPropertyNames,o=Object.prototype.hasOwnProperty,i=(e,t)=>r(e,"name",{value:t,configurable:!0}),a={};((e,t)=>{for(var n in t)r(e,n,{get:t[n],enumerable:!0})})(a,{getLoggerPlugin:()=>d,loggerMiddleware:()=>c,loggerMiddlewareOptions:()=>l}),e.exports=(t=a,((e,t,i,a)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let c of s(t))o.call(e,c)||c===i||r(e,c,{get:()=>t[c],enumerable:!(a=n(t,c))||a.enumerable});return e})(r({},"__esModule",{value:!0}),t));var c=i(()=>(e,t)=>async r=>{try{const n=await e(r),{clientName:s,commandName:o,logger:i,dynamoDbDocumentClientOptions:a={}}=t,{overrideInputFilterSensitiveLog:c,overrideOutputFilterSensitiveLog:l}=a,d=c??t.inputFilterSensitiveLog,u=l??t.outputFilterSensitiveLog,{$metadata:p,...h}=n.output;return i?.info?.({clientName:s,commandName:o,input:d(r.input),output:u(h),metadata:p}),n}catch(e){const{clientName:n,commandName:s,logger:o,dynamoDbDocumentClientOptions:i={}}=t,{overrideInputFilterSensitiveLog:a}=i,c=a??t.inputFilterSensitiveLog;throw o?.error?.({clientName:n,commandName:s,input:c(r.input),error:e,metadata:e.$metadata}),e}},"loggerMiddleware"),l={name:"loggerMiddleware",tags:["LOGGER"],step:"initialize",override:!0},d=i(e=>({applyToStack:i(e=>{e.add(c(),l)},"applyToStack")}),"getLoggerPlugin")},1568:(e,t,r)=>{"use strict";var n,s=Object.defineProperty,o=Object.getOwnPropertyDescriptor,i=Object.getOwnPropertyNames,a=Object.prototype.hasOwnProperty,c=(e,t)=>s(e,"name",{value:t,configurable:!0}),l={};((e,t)=>{for(var r in t)s(e,r,{get:t[r],enumerable:!0})})(l,{addRecursionDetectionMiddlewareOptions:()=>h,getRecursionDetectionPlugin:()=>f,recursionDetectionMiddleware:()=>p}),e.exports=(n=l,((e,t,r,n)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let c of i(t))a.call(e,c)||c===r||s(e,c,{get:()=>t[c],enumerable:!(n=o(t,c))||n.enumerable});return e})(s({},"__esModule",{value:!0}),n));var d=r(2356),u="X-Amzn-Trace-Id",p=c(e=>t=>async r=>{const{request:n}=r;if(!d.HttpRequest.isInstance(n)||"node"!==e.runtime)return t(r);const s=Object.keys(n.headers??{}).find(e=>e.toLowerCase()===u.toLowerCase())??u;if(n.headers.hasOwnProperty(s))return t(r);const o=process.env.AWS_LAMBDA_FUNCTION_NAME,i=process.env._X_AMZN_TRACE_ID,a=c(e=>"string"==typeof e&&e.length>0,"nonEmptyString");return a(o)&&a(i)&&(n.headers[u]=i),t({...r,request:n})},"recursionDetectionMiddleware"),h={step:"build",tags:["RECURSION_DETECTION"],name:"recursionDetectionMiddleware",override:!0,priority:"low"},f=c(e=>({applyToStack:c(t=>{t.add(p(e),h)},"applyToStack")}),"getRecursionDetectionPlugin")},2959:(e,t,r)=>{"use strict";var n,s=Object.defineProperty,o=Object.getOwnPropertyDescriptor,i=Object.getOwnPropertyNames,a=Object.prototype.hasOwnProperty,c=(e,t)=>s(e,"name",{value:t,configurable:!0}),l={};((e,t)=>{for(var r in t)s(e,r,{get:t[r],enumerable:!0})})(l,{DEFAULT_UA_APP_ID:()=>u,getUserAgentMiddlewareOptions:()=>O,getUserAgentPlugin:()=>A,resolveUserAgentConfig:()=>h,userAgentMiddleware:()=>P}),e.exports=(n=l,((e,t,r,n)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let c of i(t))a.call(e,c)||c===r||s(e,c,{get:()=>t[c],enumerable:!(n=o(t,c))||n.enumerable});return e})(s({},"__esModule",{value:!0}),n));var d=r(402),u=void 0;function p(e){return void 0===e||"string"==typeof e&&e.length<=50}function h(e){const t=(0,d.normalizeProvider)(e.userAgentAppId??u),{customUserAgent:r}=e;return Object.assign(e,{customUserAgent:"string"==typeof r?[[r]]:r,userAgentAppId:c(async()=>{const r=await t();if(!p(r)){const t="NoOpLogger"!==e.logger?.constructor?.name&&e.logger?e.logger:console;"string"!=typeof r?t?.warn("userAgentAppId must be a string or undefined."):r.length>50&&t?.warn("The provided userAgentAppId exceeds the maximum length of 50 characters.")}return r},"userAgentAppId")})}c(p,"isValidUserAgentAppId"),c(h,"resolveUserAgentConfig");var f=r(3068),m=r(2356),g=r(8704),y=/\d{12}\.ddb/;async function b(e,t,r){const n=r.request;if("rpc-v2-cbor"===n?.headers?.["smithy-protocol"]&&(0,g.setFeature)(e,"PROTOCOL_RPC_V2_CBOR","M"),"function"==typeof t.retryStrategy){const r=await t.retryStrategy();"function"==typeof r.acquireInitialRetryToken?r.constructor?.name?.includes("Adaptive")?(0,g.setFeature)(e,"RETRY_MODE_ADAPTIVE","F"):(0,g.setFeature)(e,"RETRY_MODE_STANDARD","E"):(0,g.setFeature)(e,"RETRY_MODE_LEGACY","D")}if("function"==typeof t.accountIdEndpointMode){const r=e.endpointV2;switch(String(r?.url?.hostname).match(y)&&(0,g.setFeature)(e,"ACCOUNT_ID_ENDPOINT","O"),await(t.accountIdEndpointMode?.())){case"disabled":(0,g.setFeature)(e,"ACCOUNT_ID_MODE_DISABLED","Q");break;case"preferred":(0,g.setFeature)(e,"ACCOUNT_ID_MODE_PREFERRED","P");break;case"required":(0,g.setFeature)(e,"ACCOUNT_ID_MODE_REQUIRED","R")}}const s=e.__smithy_context?.selectedHttpAuthScheme?.identity;if(s?.$source){const t=s;t.accountId&&(0,g.setFeature)(e,"RESOLVED_ACCOUNT_ID","T");for(const[r,n]of Object.entries(t.$source??{}))(0,g.setFeature)(e,r,n)}}c(b,"checkFeatures");var v="user-agent",_="x-amz-user-agent",S=/[^\!\$\%\&\'\*\+\-\.\^\_\`\|\~\d\w]/g,w=/[^\!\$\%\&\'\*\+\-\.\^\_\`\|\~\d\w\#]/g;function E(e){let t="";for(const r in e){const n=e[r];if(!(t.length+n.length+1<=1024))break;t.length?t+=","+n:t+=n}return t}c(E,"encodeFeatures");var P=c(e=>(t,r)=>async n=>{const{request:s}=n;if(!m.HttpRequest.isInstance(s))return t(n);const{headers:o}=s,i=r?.userAgent?.map(C)||[],a=(await e.defaultUserAgentProvider()).map(C);await b(r,e,n);const c=r;a.push(`m/${E(Object.assign({},r.__smithy_context?.features,c.__aws_sdk_context?.features))}`);const l=e?.customUserAgent?.map(C)||[],d=await e.userAgentAppId();d&&a.push(C([`app/${d}`]));const u=(0,f.getUserAgentPrefix)(),p=(u?[u]:[]).concat([...a,...i,...l]).join(" "),h=[...a.filter(e=>e.startsWith("aws-sdk-")),...l].join(" ");return"browser"!==e.runtime?(h&&(o[_]=o[_]?`${o[v]} ${h}`:h),o[v]=p):o[_]=p,t({...n,request:s})},"userAgentMiddleware"),C=c(e=>{const t=e[0].split("/").map(e=>e.replace(S,"-")).join("/"),r=e[1]?.replace(w,"-"),n=t.indexOf("/"),s=t.substring(0,n);let o=t.substring(n+1);return"api"===s&&(o=o.toLowerCase()),[s,o,r].filter(e=>e&&e.length>0).reduce((e,t,r)=>{switch(r){case 0:return t;case 1:return`${e}/${t}`;default:return`${e}#${t}`}},"")},"escapeUserAgent"),O={name:"getUserAgentMiddleware",step:"build",priority:"low",tags:["SET_USER_AGENT","USER_AGENT"],override:!0},A=c(e=>({applyToStack:c(t=>{t.add(P(e),O)},"applyToStack")}),"getUserAgentPlugin")},8396:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.resolveHttpAuthSchemeConfig=t.defaultSSOOIDCHttpAuthSchemeProvider=t.defaultSSOOIDCHttpAuthSchemeParametersProvider=void 0;const n=r(8704),s=r(6324);t.defaultSSOOIDCHttpAuthSchemeParametersProvider=async(e,t,r)=>({operation:(0,s.getSmithyContext)(t).operation,region:await(0,s.normalizeProvider)(e.region)()||(()=>{throw new Error("expected `region` to be configured for `aws.auth#sigv4`")})()});t.defaultSSOOIDCHttpAuthSchemeProvider=e=>{const t=[];if("CreateToken"===e.operation)t.push({schemeId:"smithy.api#noAuth"});else t.push(function(e){return{schemeId:"aws.auth#sigv4",signingProperties:{name:"sso-oauth",region:e.region},propertiesExtractor:(e,t)=>({signingProperties:{config:e,context:t}})}}(e));return t};t.resolveHttpAuthSchemeConfig=e=>{const t=(0,n.resolveAwsSdkSigV4Config)(e);return Object.assign(t,{authSchemePreference:(0,s.normalizeProvider)(e.authSchemePreference??[])})}},546:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.defaultEndpointResolver=void 0;const n=r(3068),s=r(9674),o=r(9947),i=new s.EndpointCache({size:50,params:["Endpoint","Region","UseDualStack","UseFIPS"]});t.defaultEndpointResolver=(e,t={})=>i.get(e,()=>(0,s.resolveEndpoint)(o.ruleSet,{endpointParams:e,logger:t.logger})),s.customEndpointFunctions.aws=n.awsEndpointFunctions},9947:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ruleSet=void 0;const r="required",n="fn",s="argv",o="ref",i=!0,a="isSet",c="booleanEquals",l="error",d="endpoint",u="tree",p="PartitionResult",h="getAttr",f={[r]:!1,type:"String"},m={[r]:!0,default:!1,type:"Boolean"},g={[o]:"Endpoint"},y={[n]:c,[s]:[{[o]:"UseFIPS"},!0]},b={[n]:c,[s]:[{[o]:"UseDualStack"},!0]},v={},_={[n]:h,[s]:[{[o]:p},"supportsFIPS"]},S={[o]:p},w={[n]:c,[s]:[!0,{[n]:h,[s]:[S,"supportsDualStack"]}]},E=[y],P=[b],C=[{[o]:"Region"}],O={version:"1.0",parameters:{Region:f,UseDualStack:m,UseFIPS:m,Endpoint:f},rules:[{conditions:[{[n]:a,[s]:[g]}],rules:[{conditions:E,error:"Invalid Configuration: FIPS and custom endpoint are not supported",type:l},{conditions:P,error:"Invalid Configuration: Dualstack and custom endpoint are not supported",type:l},{endpoint:{url:g,properties:v,headers:v},type:d}],type:u},{conditions:[{[n]:a,[s]:C}],rules:[{conditions:[{[n]:"aws.partition",[s]:C,assign:p}],rules:[{conditions:[y,b],rules:[{conditions:[{[n]:c,[s]:[i,_]},w],rules:[{endpoint:{url:"https://oidc-fips.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:v,headers:v},type:d}],type:u},{error:"FIPS and DualStack are enabled, but this partition does not support one or both",type:l}],type:u},{conditions:E,rules:[{conditions:[{[n]:c,[s]:[_,i]}],rules:[{conditions:[{[n]:"stringEquals",[s]:[{[n]:h,[s]:[S,"name"]},"aws-us-gov"]}],endpoint:{url:"https://oidc.{Region}.amazonaws.com",properties:v,headers:v},type:d},{endpoint:{url:"https://oidc-fips.{Region}.{PartitionResult#dnsSuffix}",properties:v,headers:v},type:d}],type:u},{error:"FIPS is enabled but this partition does not support FIPS",type:l}],type:u},{conditions:P,rules:[{conditions:[w],rules:[{endpoint:{url:"https://oidc.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:v,headers:v},type:d}],type:u},{error:"DualStack is enabled but this partition does not support DualStack",type:l}],type:u},{endpoint:{url:"https://oidc.{Region}.{PartitionResult#dnsSuffix}",properties:v,headers:v},type:d}],type:u}],type:u},{error:"Invalid Configuration: Missing Region",type:l}]};t.ruleSet=O},9443:(e,t,r)=>{"use strict";var n,s=Object.defineProperty,o=Object.getOwnPropertyDescriptor,i=Object.getOwnPropertyNames,a=Object.prototype.hasOwnProperty,c=(e,t)=>s(e,"name",{value:t,configurable:!0}),l={};((e,t)=>{for(var r in t)s(e,r,{get:t[r],enumerable:!0})})(l,{$Command:()=>j.Command,AccessDeniedException:()=>F,AuthorizationPendingException:()=>$,CreateTokenCommand:()=>ge,CreateTokenRequestFilterSensitiveLog:()=>U,CreateTokenResponseFilterSensitiveLog:()=>B,ExpiredTokenException:()=>H,InternalServerException:()=>G,InvalidClientException:()=>z,InvalidGrantException:()=>q,InvalidRequestException:()=>W,InvalidScopeException:()=>V,SSOOIDC:()=>be,SSOOIDCClient:()=>R,SSOOIDCServiceException:()=>L,SlowDownException:()=>J,UnauthorizedClientException:()=>K,UnsupportedGrantTypeException:()=>X,__Client:()=>v.Client}),e.exports=(n=l,((e,t,r,n)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let c of i(t))a.call(e,c)||c===r||s(e,c,{get:()=>t[c],enumerable:!(n=o(t,c))||n.enumerable});return e})(s({},"__esModule",{value:!0}),n));var d=r(2590),u=r(5242),p=r(1568),h=r(2959),f=r(9316),m=r(402),g=r(7212),y=r(99),b=r(9618),v=r(1411),_=r(8396),S=c(e=>Object.assign(e,{useDualstackEndpoint:e.useDualstackEndpoint??!1,useFipsEndpoint:e.useFipsEndpoint??!1,defaultSigningName:"sso-oauth"}),"resolveClientEndpointParameters"),w={UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}},E=r(6901),P=r(6463),C=r(2356),O=r(1411),A=c(e=>{const t=e.httpAuthSchemes;let r=e.httpAuthSchemeProvider,n=e.credentials;return{setHttpAuthScheme(e){const r=t.findIndex(t=>t.schemeId===e.schemeId);-1===r?t.push(e):t.splice(r,1,e)},httpAuthSchemes:()=>t,setHttpAuthSchemeProvider(e){r=e},httpAuthSchemeProvider:()=>r,setCredentials(e){n=e},credentials:()=>n}},"getHttpAuthExtensionConfiguration"),x=c(e=>({httpAuthSchemes:e.httpAuthSchemes(),httpAuthSchemeProvider:e.httpAuthSchemeProvider(),credentials:e.credentials()}),"resolveHttpAuthRuntimeConfig"),I=c((e,t)=>{const r=Object.assign((0,P.getAwsRegionExtensionConfiguration)(e),(0,O.getDefaultExtensionConfiguration)(e),(0,C.getHttpHandlerExtensionConfiguration)(e),A(e));return t.forEach(e=>e.configure(r)),Object.assign(e,(0,P.resolveAwsRegionExtensionConfiguration)(r),(0,O.resolveDefaultRuntimeConfig)(r),(0,C.resolveHttpHandlerRuntimeConfig)(r),x(r))},"resolveRuntimeExtensions"),R=class extends v.Client{static{c(this,"SSOOIDCClient")}config;constructor(...[e]){const t=(0,E.getRuntimeConfig)(e||{});super(t),this.initConfig=t;const r=S(t),n=(0,h.resolveUserAgentConfig)(r),s=(0,b.resolveRetryConfig)(n),o=(0,f.resolveRegionConfig)(s),i=(0,d.resolveHostHeaderConfig)(o),a=(0,y.resolveEndpointConfig)(i),l=(0,_.resolveHttpAuthSchemeConfig)(a),v=I(l,e?.extensions||[]);this.config=v,this.middlewareStack.use((0,h.getUserAgentPlugin)(this.config)),this.middlewareStack.use((0,b.getRetryPlugin)(this.config)),this.middlewareStack.use((0,g.getContentLengthPlugin)(this.config)),this.middlewareStack.use((0,d.getHostHeaderPlugin)(this.config)),this.middlewareStack.use((0,u.getLoggerPlugin)(this.config)),this.middlewareStack.use((0,p.getRecursionDetectionPlugin)(this.config)),this.middlewareStack.use((0,m.getHttpAuthSchemeEndpointRuleSetPlugin)(this.config,{httpAuthSchemeParametersProvider:_.defaultSSOOIDCHttpAuthSchemeParametersProvider,identityProviderConfigProvider:c(async e=>new m.DefaultIdentityProviderConfig({"aws.auth#sigv4":e.credentials}),"identityProviderConfigProvider")})),this.middlewareStack.use((0,m.getHttpSigningPlugin)(this.config))}destroy(){super.destroy()}},T=r(1411),D=r(99),N=r(3255),j=r(1411),k=r(1411),M=r(1411),L=class e extends M.ServiceException{static{c(this,"SSOOIDCServiceException")}constructor(t){super(t),Object.setPrototypeOf(this,e.prototype)}},F=class e extends L{static{c(this,"AccessDeniedException")}name="AccessDeniedException";$fault="client";error;error_description;constructor(t){super({name:"AccessDeniedException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype),this.error=t.error,this.error_description=t.error_description}},$=class e extends L{static{c(this,"AuthorizationPendingException")}name="AuthorizationPendingException";$fault="client";error;error_description;constructor(t){super({name:"AuthorizationPendingException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype),this.error=t.error,this.error_description=t.error_description}},U=c(e=>({...e,...e.clientSecret&&{clientSecret:k.SENSITIVE_STRING},...e.refreshToken&&{refreshToken:k.SENSITIVE_STRING},...e.codeVerifier&&{codeVerifier:k.SENSITIVE_STRING}}),"CreateTokenRequestFilterSensitiveLog"),B=c(e=>({...e,...e.accessToken&&{accessToken:k.SENSITIVE_STRING},...e.refreshToken&&{refreshToken:k.SENSITIVE_STRING},...e.idToken&&{idToken:k.SENSITIVE_STRING}}),"CreateTokenResponseFilterSensitiveLog"),H=class e extends L{static{c(this,"ExpiredTokenException")}name="ExpiredTokenException";$fault="client";error;error_description;constructor(t){super({name:"ExpiredTokenException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype),this.error=t.error,this.error_description=t.error_description}},G=class e extends L{static{c(this,"InternalServerException")}name="InternalServerException";$fault="server";error;error_description;constructor(t){super({name:"InternalServerException",$fault:"server",...t}),Object.setPrototypeOf(this,e.prototype),this.error=t.error,this.error_description=t.error_description}},z=class e extends L{static{c(this,"InvalidClientException")}name="InvalidClientException";$fault="client";error;error_description;constructor(t){super({name:"InvalidClientException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype),this.error=t.error,this.error_description=t.error_description}},q=class e extends L{static{c(this,"InvalidGrantException")}name="InvalidGrantException";$fault="client";error;error_description;constructor(t){super({name:"InvalidGrantException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype),this.error=t.error,this.error_description=t.error_description}},W=class e extends L{static{c(this,"InvalidRequestException")}name="InvalidRequestException";$fault="client";error;error_description;constructor(t){super({name:"InvalidRequestException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype),this.error=t.error,this.error_description=t.error_description}},V=class e extends L{static{c(this,"InvalidScopeException")}name="InvalidScopeException";$fault="client";error;error_description;constructor(t){super({name:"InvalidScopeException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype),this.error=t.error,this.error_description=t.error_description}},J=class e extends L{static{c(this,"SlowDownException")}name="SlowDownException";$fault="client";error;error_description;constructor(t){super({name:"SlowDownException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype),this.error=t.error,this.error_description=t.error_description}},K=class e extends L{static{c(this,"UnauthorizedClientException")}name="UnauthorizedClientException";$fault="client";error;error_description;constructor(t){super({name:"UnauthorizedClientException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype),this.error=t.error,this.error_description=t.error_description}},X=class e extends L{static{c(this,"UnsupportedGrantTypeException")}name="UnsupportedGrantTypeException";$fault="client";error;error_description;constructor(t){super({name:"UnsupportedGrantTypeException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype),this.error=t.error,this.error_description=t.error_description}},Q=r(8704),Y=r(402),Z=r(1411),ee=c(async(e,t)=>{const r=(0,Y.requestBuilder)(e,t);let n;return r.bp("/token"),n=JSON.stringify((0,Z.take)(e,{clientId:[],clientSecret:[],code:[],codeVerifier:[],deviceCode:[],grantType:[],redirectUri:[],refreshToken:[],scope:c(e=>(0,Z._json)(e),"scope")})),r.m("POST").h({"content-type":"application/json"}).b(n),r.build()},"se_CreateTokenCommand"),te=c(async(e,t)=>{if(200!==e.statusCode&&e.statusCode>=300)return re(e,t);const r=(0,Z.map)({$metadata:me(e)}),n=(0,Z.expectNonNull)((0,Z.expectObject)(await(0,Q.parseJsonBody)(e.body,t)),"body"),s=(0,Z.take)(n,{accessToken:Z.expectString,expiresIn:Z.expectInt32,idToken:Z.expectString,refreshToken:Z.expectString,tokenType:Z.expectString});return Object.assign(r,s),r},"de_CreateTokenCommand"),re=c(async(e,t)=>{const r={...e,body:await(0,Q.parseJsonErrorBody)(e.body,t)},n=(0,Q.loadRestJsonErrorCode)(e,r.body);switch(n){case"AccessDeniedException":case"com.amazonaws.ssooidc#AccessDeniedException":throw await se(r,t);case"AuthorizationPendingException":case"com.amazonaws.ssooidc#AuthorizationPendingException":throw await oe(r,t);case"ExpiredTokenException":case"com.amazonaws.ssooidc#ExpiredTokenException":throw await ie(r,t);case"InternalServerException":case"com.amazonaws.ssooidc#InternalServerException":throw await ae(r,t);case"InvalidClientException":case"com.amazonaws.ssooidc#InvalidClientException":throw await ce(r,t);case"InvalidGrantException":case"com.amazonaws.ssooidc#InvalidGrantException":throw await le(r,t);case"InvalidRequestException":case"com.amazonaws.ssooidc#InvalidRequestException":throw await de(r,t);case"InvalidScopeException":case"com.amazonaws.ssooidc#InvalidScopeException":throw await ue(r,t);case"SlowDownException":case"com.amazonaws.ssooidc#SlowDownException":throw await pe(r,t);case"UnauthorizedClientException":case"com.amazonaws.ssooidc#UnauthorizedClientException":throw await he(r,t);case"UnsupportedGrantTypeException":case"com.amazonaws.ssooidc#UnsupportedGrantTypeException":throw await fe(r,t);default:const s=r.body;return ne({output:e,parsedBody:s,errorCode:n})}},"de_CommandError"),ne=(0,Z.withBaseException)(L),se=c(async(e,t)=>{const r=(0,Z.map)({}),n=e.body,s=(0,Z.take)(n,{error:Z.expectString,error_description:Z.expectString});Object.assign(r,s);const o=new F({$metadata:me(e),...r});return(0,Z.decorateServiceException)(o,e.body)},"de_AccessDeniedExceptionRes"),oe=c(async(e,t)=>{const r=(0,Z.map)({}),n=e.body,s=(0,Z.take)(n,{error:Z.expectString,error_description:Z.expectString});Object.assign(r,s);const o=new $({$metadata:me(e),...r});return(0,Z.decorateServiceException)(o,e.body)},"de_AuthorizationPendingExceptionRes"),ie=c(async(e,t)=>{const r=(0,Z.map)({}),n=e.body,s=(0,Z.take)(n,{error:Z.expectString,error_description:Z.expectString});Object.assign(r,s);const o=new H({$metadata:me(e),...r});return(0,Z.decorateServiceException)(o,e.body)},"de_ExpiredTokenExceptionRes"),ae=c(async(e,t)=>{const r=(0,Z.map)({}),n=e.body,s=(0,Z.take)(n,{error:Z.expectString,error_description:Z.expectString});Object.assign(r,s);const o=new G({$metadata:me(e),...r});return(0,Z.decorateServiceException)(o,e.body)},"de_InternalServerExceptionRes"),ce=c(async(e,t)=>{const r=(0,Z.map)({}),n=e.body,s=(0,Z.take)(n,{error:Z.expectString,error_description:Z.expectString});Object.assign(r,s);const o=new z({$metadata:me(e),...r});return(0,Z.decorateServiceException)(o,e.body)},"de_InvalidClientExceptionRes"),le=c(async(e,t)=>{const r=(0,Z.map)({}),n=e.body,s=(0,Z.take)(n,{error:Z.expectString,error_description:Z.expectString});Object.assign(r,s);const o=new q({$metadata:me(e),...r});return(0,Z.decorateServiceException)(o,e.body)},"de_InvalidGrantExceptionRes"),de=c(async(e,t)=>{const r=(0,Z.map)({}),n=e.body,s=(0,Z.take)(n,{error:Z.expectString,error_description:Z.expectString});Object.assign(r,s);const o=new W({$metadata:me(e),...r});return(0,Z.decorateServiceException)(o,e.body)},"de_InvalidRequestExceptionRes"),ue=c(async(e,t)=>{const r=(0,Z.map)({}),n=e.body,s=(0,Z.take)(n,{error:Z.expectString,error_description:Z.expectString});Object.assign(r,s);const o=new V({$metadata:me(e),...r});return(0,Z.decorateServiceException)(o,e.body)},"de_InvalidScopeExceptionRes"),pe=c(async(e,t)=>{const r=(0,Z.map)({}),n=e.body,s=(0,Z.take)(n,{error:Z.expectString,error_description:Z.expectString});Object.assign(r,s);const o=new J({$metadata:me(e),...r});return(0,Z.decorateServiceException)(o,e.body)},"de_SlowDownExceptionRes"),he=c(async(e,t)=>{const r=(0,Z.map)({}),n=e.body,s=(0,Z.take)(n,{error:Z.expectString,error_description:Z.expectString});Object.assign(r,s);const o=new K({$metadata:me(e),...r});return(0,Z.decorateServiceException)(o,e.body)},"de_UnauthorizedClientExceptionRes"),fe=c(async(e,t)=>{const r=(0,Z.map)({}),n=e.body,s=(0,Z.take)(n,{error:Z.expectString,error_description:Z.expectString});Object.assign(r,s);const o=new X({$metadata:me(e),...r});return(0,Z.decorateServiceException)(o,e.body)},"de_UnsupportedGrantTypeExceptionRes"),me=c(e=>({httpStatusCode:e.statusCode,requestId:e.headers["x-amzn-requestid"]??e.headers["x-amzn-request-id"]??e.headers["x-amz-request-id"],extendedRequestId:e.headers["x-amz-id-2"],cfId:e.headers["x-amz-cf-id"]}),"deserializeMetadata"),ge=class extends(j.Command.classBuilder().ep(w).m(function(e,t,r,n){return[(0,N.getSerdePlugin)(r,this.serialize,this.deserialize),(0,D.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("AWSSSOOIDCService","CreateToken",{}).n("SSOOIDCClient","CreateTokenCommand").f(U,B).ser(ee).de(te).build()){static{c(this,"CreateTokenCommand")}},ye={CreateTokenCommand:ge},be=class extends R{static{c(this,"SSOOIDC")}};(0,T.createAggregatedClient)(ye,be)},6901:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getRuntimeConfig=void 0;const n=r(1860).__importDefault(r(9955)),s=r(8704),o=r(1656),i=r(9316),a=r(5092),c=r(9618),l=r(5704),d=r(1279),u=r(3638),p=r(5518),h=r(1546),f=r(1411),m=r(5435),g=r(1411);t.getRuntimeConfig=e=>{(0,g.emitWarningIfUnsupportedVersion)(process.version);const t=(0,m.resolveDefaultsModeConfig)(e),r=()=>t().then(f.loadConfigsForDefaultMode),y=(0,h.getRuntimeConfig)(e);(0,s.emitWarningIfUnsupportedVersion)(process.version);const b={profile:e?.profile,logger:y.logger};return{...y,...e,runtime:"node",defaultsMode:t,authSchemePreference:e?.authSchemePreference??(0,l.loadConfig)(s.NODE_AUTH_SCHEME_PREFERENCE_OPTIONS,b),bodyLengthChecker:e?.bodyLengthChecker??u.calculateBodyLength,defaultUserAgentProvider:e?.defaultUserAgentProvider??(0,o.createDefaultUserAgentProvider)({serviceId:y.serviceId,clientVersion:n.default.version}),maxAttempts:e?.maxAttempts??(0,l.loadConfig)(c.NODE_MAX_ATTEMPT_CONFIG_OPTIONS,e),region:e?.region??(0,l.loadConfig)(i.NODE_REGION_CONFIG_OPTIONS,{...i.NODE_REGION_CONFIG_FILE_OPTIONS,...b}),requestHandler:d.NodeHttpHandler.create(e?.requestHandler??r),retryMode:e?.retryMode??(0,l.loadConfig)({...c.NODE_RETRY_MODE_CONFIG_OPTIONS,default:async()=>(await r()).retryMode||p.DEFAULT_RETRY_MODE},e),sha256:e?.sha256??a.Hash.bind(null,"sha256"),streamCollector:e?.streamCollector??d.streamCollector,useDualstackEndpoint:e?.useDualstackEndpoint??(0,l.loadConfig)(i.NODE_USE_DUALSTACK_ENDPOINT_CONFIG_OPTIONS,b),useFipsEndpoint:e?.useFipsEndpoint??(0,l.loadConfig)(i.NODE_USE_FIPS_ENDPOINT_CONFIG_OPTIONS,b),userAgentAppId:e?.userAgentAppId??(0,l.loadConfig)(o.NODE_APP_ID_CONFIG_OPTIONS,b)}}},1546:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getRuntimeConfig=void 0;const n=r(8704),s=r(402),o=r(1411),i=r(4494),a=r(8385),c=r(1577),l=r(8396),d=r(546);t.getRuntimeConfig=e=>({apiVersion:"2019-06-10",base64Decoder:e?.base64Decoder??a.fromBase64,base64Encoder:e?.base64Encoder??a.toBase64,disableHostPrefix:e?.disableHostPrefix??!1,endpointProvider:e?.endpointProvider??d.defaultEndpointResolver,extensions:e?.extensions??[],httpAuthSchemeProvider:e?.httpAuthSchemeProvider??l.defaultSSOOIDCHttpAuthSchemeProvider,httpAuthSchemes:e?.httpAuthSchemes??[{schemeId:"aws.auth#sigv4",identityProvider:e=>e.getIdentityProvider("aws.auth#sigv4"),signer:new n.AwsSdkSigV4Signer},{schemeId:"smithy.api#noAuth",identityProvider:e=>e.getIdentityProvider("smithy.api#noAuth")||(async()=>({})),signer:new s.NoAuthSigner}],logger:e?.logger??new o.NoOpLogger,serviceId:e?.serviceId??"SSO OIDC",urlParser:e?.urlParser??i.parseUrl,utf8Decoder:e?.utf8Decoder??c.fromUtf8,utf8Encoder:e?.utf8Encoder??c.toUtf8})},3723:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.STSClient=t.__Client=void 0;const n=r(2590),s=r(5242),o=r(1568),i=r(2959),a=r(9316),c=r(402),l=r(7212),d=r(99),u=r(9618),p=r(1411);Object.defineProperty(t,"__Client",{enumerable:!0,get:function(){return p.Client}});const h=r(7851),f=r(6811),m=r(6578),g=r(7742);class y extends p.Client{config;constructor(...[e]){const t=(0,m.getRuntimeConfig)(e||{});super(t),this.initConfig=t;const r=(0,f.resolveClientEndpointParameters)(t),p=(0,i.resolveUserAgentConfig)(r),y=(0,u.resolveRetryConfig)(p),b=(0,a.resolveRegionConfig)(y),v=(0,n.resolveHostHeaderConfig)(b),_=(0,d.resolveEndpointConfig)(v),S=(0,h.resolveHttpAuthSchemeConfig)(_),w=(0,g.resolveRuntimeExtensions)(S,e?.extensions||[]);this.config=w,this.middlewareStack.use((0,i.getUserAgentPlugin)(this.config)),this.middlewareStack.use((0,u.getRetryPlugin)(this.config)),this.middlewareStack.use((0,l.getContentLengthPlugin)(this.config)),this.middlewareStack.use((0,n.getHostHeaderPlugin)(this.config)),this.middlewareStack.use((0,s.getLoggerPlugin)(this.config)),this.middlewareStack.use((0,o.getRecursionDetectionPlugin)(this.config)),this.middlewareStack.use((0,c.getHttpAuthSchemeEndpointRuleSetPlugin)(this.config,{httpAuthSchemeParametersProvider:h.defaultSTSHttpAuthSchemeParametersProvider,identityProviderConfigProvider:async e=>new c.DefaultIdentityProviderConfig({"aws.auth#sigv4":e.credentials})})),this.middlewareStack.use((0,c.getHttpSigningPlugin)(this.config))}destroy(){super.destroy()}}t.STSClient=y},4532:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.resolveHttpAuthRuntimeConfig=t.getHttpAuthExtensionConfiguration=void 0;t.getHttpAuthExtensionConfiguration=e=>{const t=e.httpAuthSchemes;let r=e.httpAuthSchemeProvider,n=e.credentials;return{setHttpAuthScheme(e){const r=t.findIndex(t=>t.schemeId===e.schemeId);-1===r?t.push(e):t.splice(r,1,e)},httpAuthSchemes:()=>t,setHttpAuthSchemeProvider(e){r=e},httpAuthSchemeProvider:()=>r,setCredentials(e){n=e},credentials:()=>n}};t.resolveHttpAuthRuntimeConfig=e=>({httpAuthSchemes:e.httpAuthSchemes(),httpAuthSchemeProvider:e.httpAuthSchemeProvider(),credentials:e.credentials()})},7851:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.resolveHttpAuthSchemeConfig=t.resolveStsAuthConfig=t.defaultSTSHttpAuthSchemeProvider=t.defaultSTSHttpAuthSchemeParametersProvider=void 0;const n=r(8704),s=r(6324),o=r(3723);t.defaultSTSHttpAuthSchemeParametersProvider=async(e,t,r)=>({operation:(0,s.getSmithyContext)(t).operation,region:await(0,s.normalizeProvider)(e.region)()||(()=>{throw new Error("expected `region` to be configured for `aws.auth#sigv4`")})()});t.defaultSTSHttpAuthSchemeProvider=e=>{const t=[];if("AssumeRoleWithWebIdentity"===e.operation)t.push({schemeId:"smithy.api#noAuth"});else t.push(function(e){return{schemeId:"aws.auth#sigv4",signingProperties:{name:"sts",region:e.region},propertiesExtractor:(e,t)=>({signingProperties:{config:e,context:t}})}}(e));return t};t.resolveStsAuthConfig=e=>Object.assign(e,{stsClientCtor:o.STSClient});t.resolveHttpAuthSchemeConfig=e=>{const r=(0,t.resolveStsAuthConfig)(e),o=(0,n.resolveAwsSdkSigV4Config)(r);return Object.assign(o,{authSchemePreference:(0,s.normalizeProvider)(e.authSchemePreference??[])})}},6811:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.commonParams=t.resolveClientEndpointParameters=void 0;t.resolveClientEndpointParameters=e=>Object.assign(e,{useDualstackEndpoint:e.useDualstackEndpoint??!1,useFipsEndpoint:e.useFipsEndpoint??!1,useGlobalEndpoint:e.useGlobalEndpoint??!1,defaultSigningName:"sts"}),t.commonParams={UseGlobalEndpoint:{type:"builtInParams",name:"useGlobalEndpoint"},UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}},9765:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.defaultEndpointResolver=void 0;const n=r(3068),s=r(9674),o=r(1670),i=new s.EndpointCache({size:50,params:["Endpoint","Region","UseDualStack","UseFIPS","UseGlobalEndpoint"]});t.defaultEndpointResolver=(e,t={})=>i.get(e,()=>(0,s.resolveEndpoint)(o.ruleSet,{endpointParams:e,logger:t.logger})),s.customEndpointFunctions.aws=n.awsEndpointFunctions},1670:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ruleSet=void 0;const r="required",n="type",s="fn",o="argv",i="ref",a=!1,c=!0,l="booleanEquals",d="stringEquals",u="sigv4",p="us-east-1",h="endpoint",f="https://sts.{Region}.{PartitionResult#dnsSuffix}",m="tree",g="error",y="getAttr",b={[r]:!1,[n]:"String"},v={[r]:!0,default:!1,[n]:"Boolean"},_={[i]:"Endpoint"},S={[s]:"isSet",[o]:[{[i]:"Region"}]},w={[i]:"Region"},E={[s]:"aws.partition",[o]:[w],assign:"PartitionResult"},P={[i]:"UseFIPS"},C={[i]:"UseDualStack"},O={url:"https://sts.amazonaws.com",properties:{authSchemes:[{name:u,signingName:"sts",signingRegion:p}]},headers:{}},A={},x={conditions:[{[s]:d,[o]:[w,"aws-global"]}],[h]:O,[n]:h},I={[s]:l,[o]:[P,!0]},R={[s]:l,[o]:[C,!0]},T={[s]:y,[o]:[{[i]:"PartitionResult"},"supportsFIPS"]},D={[i]:"PartitionResult"},N={[s]:l,[o]:[!0,{[s]:y,[o]:[D,"supportsDualStack"]}]},j=[{[s]:"isSet",[o]:[_]}],k=[I],M=[R],L={version:"1.0",parameters:{Region:b,UseDualStack:v,UseFIPS:v,Endpoint:b,UseGlobalEndpoint:v},rules:[{conditions:[{[s]:l,[o]:[{[i]:"UseGlobalEndpoint"},c]},{[s]:"not",[o]:j},S,E,{[s]:l,[o]:[P,a]},{[s]:l,[o]:[C,a]}],rules:[{conditions:[{[s]:d,[o]:[w,"ap-northeast-1"]}],endpoint:O,[n]:h},{conditions:[{[s]:d,[o]:[w,"ap-south-1"]}],endpoint:O,[n]:h},{conditions:[{[s]:d,[o]:[w,"ap-southeast-1"]}],endpoint:O,[n]:h},{conditions:[{[s]:d,[o]:[w,"ap-southeast-2"]}],endpoint:O,[n]:h},x,{conditions:[{[s]:d,[o]:[w,"ca-central-1"]}],endpoint:O,[n]:h},{conditions:[{[s]:d,[o]:[w,"eu-central-1"]}],endpoint:O,[n]:h},{conditions:[{[s]:d,[o]:[w,"eu-north-1"]}],endpoint:O,[n]:h},{conditions:[{[s]:d,[o]:[w,"eu-west-1"]}],endpoint:O,[n]:h},{conditions:[{[s]:d,[o]:[w,"eu-west-2"]}],endpoint:O,[n]:h},{conditions:[{[s]:d,[o]:[w,"eu-west-3"]}],endpoint:O,[n]:h},{conditions:[{[s]:d,[o]:[w,"sa-east-1"]}],endpoint:O,[n]:h},{conditions:[{[s]:d,[o]:[w,p]}],endpoint:O,[n]:h},{conditions:[{[s]:d,[o]:[w,"us-east-2"]}],endpoint:O,[n]:h},{conditions:[{[s]:d,[o]:[w,"us-west-1"]}],endpoint:O,[n]:h},{conditions:[{[s]:d,[o]:[w,"us-west-2"]}],endpoint:O,[n]:h},{endpoint:{url:f,properties:{authSchemes:[{name:u,signingName:"sts",signingRegion:"{Region}"}]},headers:A},[n]:h}],[n]:m},{conditions:j,rules:[{conditions:k,error:"Invalid Configuration: FIPS and custom endpoint are not supported",[n]:g},{conditions:M,error:"Invalid Configuration: Dualstack and custom endpoint are not supported",[n]:g},{endpoint:{url:_,properties:A,headers:A},[n]:h}],[n]:m},{conditions:[S],rules:[{conditions:[E],rules:[{conditions:[I,R],rules:[{conditions:[{[s]:l,[o]:[c,T]},N],rules:[{endpoint:{url:"https://sts-fips.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:A,headers:A},[n]:h}],[n]:m},{error:"FIPS and DualStack are enabled, but this partition does not support one or both",[n]:g}],[n]:m},{conditions:k,rules:[{conditions:[{[s]:l,[o]:[T,c]}],rules:[{conditions:[{[s]:d,[o]:[{[s]:y,[o]:[D,"name"]},"aws-us-gov"]}],endpoint:{url:"https://sts.{Region}.amazonaws.com",properties:A,headers:A},[n]:h},{endpoint:{url:"https://sts-fips.{Region}.{PartitionResult#dnsSuffix}",properties:A,headers:A},[n]:h}],[n]:m},{error:"FIPS is enabled but this partition does not support FIPS",[n]:g}],[n]:m},{conditions:M,rules:[{conditions:[N],rules:[{endpoint:{url:"https://sts.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:A,headers:A},[n]:h}],[n]:m},{error:"DualStack is enabled but this partition does not support DualStack",[n]:g}],[n]:m},x,{endpoint:{url:f,properties:A,headers:A},[n]:h}],[n]:m}],[n]:m},{error:"Invalid Configuration: Missing Region",[n]:g}]};t.ruleSet=L},1136:(e,t,r)=>{"use strict";var n,s=Object.defineProperty,o=Object.getOwnPropertyDescriptor,i=Object.getOwnPropertyNames,a=Object.prototype.hasOwnProperty,c=(e,t)=>s(e,"name",{value:t,configurable:!0}),l=(e,t,r,n)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let c of i(t))a.call(e,c)||c===r||s(e,c,{get:()=>t[c],enumerable:!(n=o(t,c))||n.enumerable});return e},d={};((e,t)=>{for(var r in t)s(e,r,{get:t[r],enumerable:!0})})(d,{AssumeRoleCommand:()=>et,AssumeRoleResponseFilterSensitiveLog:()=>_,AssumeRoleWithWebIdentityCommand:()=>ot,AssumeRoleWithWebIdentityRequestFilterSensitiveLog:()=>A,AssumeRoleWithWebIdentityResponseFilterSensitiveLog:()=>x,ClientInputEndpointParameters:()=>lt.ClientInputEndpointParameters,CredentialsFilterSensitiveLog:()=>v,ExpiredTokenException:()=>S,IDPCommunicationErrorException:()=>I,IDPRejectedClaimException:()=>C,InvalidIdentityTokenException:()=>O,MalformedPolicyDocumentException:()=>w,PackedPolicyTooLargeException:()=>E,RegionDisabledException:()=>P,STS:()=>ct,STSServiceException:()=>b,decorateDefaultCredentialProvider:()=>St,getDefaultRoleAssumer:()=>vt,getDefaultRoleAssumerWithWebIdentity:()=>_t}),e.exports=(n=d,l(s({},"__esModule",{value:!0}),n)),((e,t,r)=>{l(e,t,"default"),r&&l(r,t,"default")})(d,r(3723),e.exports);var u=r(1411),p=r(99),h=r(3255),f=r(1411),m=r(6811),g=r(1411),y=r(1411),b=class e extends y.ServiceException{static{c(this,"STSServiceException")}constructor(t){super(t),Object.setPrototypeOf(this,e.prototype)}},v=c(e=>({...e,...e.SecretAccessKey&&{SecretAccessKey:g.SENSITIVE_STRING}}),"CredentialsFilterSensitiveLog"),_=c(e=>({...e,...e.Credentials&&{Credentials:v(e.Credentials)}}),"AssumeRoleResponseFilterSensitiveLog"),S=class e extends b{static{c(this,"ExpiredTokenException")}name="ExpiredTokenException";$fault="client";constructor(t){super({name:"ExpiredTokenException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}},w=class e extends b{static{c(this,"MalformedPolicyDocumentException")}name="MalformedPolicyDocumentException";$fault="client";constructor(t){super({name:"MalformedPolicyDocumentException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}},E=class e extends b{static{c(this,"PackedPolicyTooLargeException")}name="PackedPolicyTooLargeException";$fault="client";constructor(t){super({name:"PackedPolicyTooLargeException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}},P=class e extends b{static{c(this,"RegionDisabledException")}name="RegionDisabledException";$fault="client";constructor(t){super({name:"RegionDisabledException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}},C=class e extends b{static{c(this,"IDPRejectedClaimException")}name="IDPRejectedClaimException";$fault="client";constructor(t){super({name:"IDPRejectedClaimException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}},O=class e extends b{static{c(this,"InvalidIdentityTokenException")}name="InvalidIdentityTokenException";$fault="client";constructor(t){super({name:"InvalidIdentityTokenException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}},A=c(e=>({...e,...e.WebIdentityToken&&{WebIdentityToken:g.SENSITIVE_STRING}}),"AssumeRoleWithWebIdentityRequestFilterSensitiveLog"),x=c(e=>({...e,...e.Credentials&&{Credentials:v(e.Credentials)}}),"AssumeRoleWithWebIdentityResponseFilterSensitiveLog"),I=class e extends b{static{c(this,"IDPCommunicationErrorException")}name="IDPCommunicationErrorException";$fault="client";constructor(t){super({name:"IDPCommunicationErrorException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}},R=r(8704),T=r(2356),D=r(1411),N=c(async(e,t)=>{const r=fe;let n;return n=Ye({...q(e,t),[ge]:be,[Ve]:me}),he(t,r,"/",void 0,n)},"se_AssumeRoleCommand"),j=c(async(e,t)=>{const r=fe;let n;return n=Ye({...W(e,t),[ge]:Se,[Ve]:me}),he(t,r,"/",void 0,n)},"se_AssumeRoleWithWebIdentityCommand"),k=c(async(e,t)=>{if(e.statusCode>=300)return L(e,t);const r=await(0,R.parseXmlBody)(e.body,t);let n={};n=te(r.AssumeRoleResult,t);return{$metadata:ue(e),...n}},"de_AssumeRoleCommand"),M=c(async(e,t)=>{if(e.statusCode>=300)return L(e,t);const r=await(0,R.parseXmlBody)(e.body,t);let n={};n=re(r.AssumeRoleWithWebIdentityResult,t);return{$metadata:ue(e),...n}},"de_AssumeRoleWithWebIdentityCommand"),L=c(async(e,t)=>{const r={...e,body:await(0,R.parseXmlErrorBody)(e.body,t)},n=Ze(e,r.body);switch(n){case"ExpiredTokenException":case"com.amazonaws.sts#ExpiredTokenException":throw await F(r,t);case"MalformedPolicyDocument":case"com.amazonaws.sts#MalformedPolicyDocumentException":throw await H(r,t);case"PackedPolicyTooLarge":case"com.amazonaws.sts#PackedPolicyTooLargeException":throw await G(r,t);case"RegionDisabledException":case"com.amazonaws.sts#RegionDisabledException":throw await z(r,t);case"IDPCommunicationError":case"com.amazonaws.sts#IDPCommunicationErrorException":throw await $(r,t);case"IDPRejectedClaim":case"com.amazonaws.sts#IDPRejectedClaimException":throw await U(r,t);case"InvalidIdentityToken":case"com.amazonaws.sts#InvalidIdentityTokenException":throw await B(r,t);default:const s=r.body;return pe({output:e,parsedBody:s.Error,errorCode:n})}},"de_CommandError"),F=c(async(e,t)=>{const r=e.body,n=se(r.Error,t),s=new S({$metadata:ue(e),...n});return(0,D.decorateServiceException)(s,r)},"de_ExpiredTokenExceptionRes"),$=c(async(e,t)=>{const r=e.body,n=oe(r.Error,t),s=new I({$metadata:ue(e),...n});return(0,D.decorateServiceException)(s,r)},"de_IDPCommunicationErrorExceptionRes"),U=c(async(e,t)=>{const r=e.body,n=ie(r.Error,t),s=new C({$metadata:ue(e),...n});return(0,D.decorateServiceException)(s,r)},"de_IDPRejectedClaimExceptionRes"),B=c(async(e,t)=>{const r=e.body,n=ae(r.Error,t),s=new O({$metadata:ue(e),...n});return(0,D.decorateServiceException)(s,r)},"de_InvalidIdentityTokenExceptionRes"),H=c(async(e,t)=>{const r=e.body,n=ce(r.Error,t),s=new w({$metadata:ue(e),...n});return(0,D.decorateServiceException)(s,r)},"de_MalformedPolicyDocumentExceptionRes"),G=c(async(e,t)=>{const r=e.body,n=le(r.Error,t),s=new E({$metadata:ue(e),...n});return(0,D.decorateServiceException)(s,r)},"de_PackedPolicyTooLargeExceptionRes"),z=c(async(e,t)=>{const r=e.body,n=de(r.Error,t),s=new P({$metadata:ue(e),...n});return(0,D.decorateServiceException)(s,r)},"de_RegionDisabledExceptionRes"),q=c((e,t)=>{const r={};if(null!=e[Le]&&(r[Le]=e[Le]),null!=e[Fe]&&(r[Fe]=e[Fe]),null!=e[Te]){const n=V(e[Te],t);0===e[Te]?.length&&(r.PolicyArns=[]),Object.entries(n).forEach(([e,t])=>{r[`PolicyArns.${e}`]=t})}if(null!=e[Re]&&(r[Re]=e[Re]),null!=e[Oe]&&(r[Oe]=e[Oe]),null!=e[ze]){const n=Z(e[ze],t);0===e[ze]?.length&&(r.Tags=[]),Object.entries(n).forEach(([e,t])=>{r[`Tags.${e}`]=t})}if(null!=e[We]){const n=Y(e[We],t);0===e[We]?.length&&(r.TransitiveTagKeys=[]),Object.entries(n).forEach(([e,t])=>{r[`TransitiveTagKeys.${e}`]=t})}if(null!=e[xe]&&(r[xe]=e[xe]),null!=e[He]&&(r[He]=e[He]),null!=e[qe]&&(r[qe]=e[qe]),null!=e[Be]&&(r[Be]=e[Be]),null!=e[Ne]){const n=X(e[Ne],t);0===e[Ne]?.length&&(r.ProvidedContexts=[]),Object.entries(n).forEach(([e,t])=>{r[`ProvidedContexts.${e}`]=t})}return r},"se_AssumeRoleRequest"),W=c((e,t)=>{const r={};if(null!=e[Le]&&(r[Le]=e[Le]),null!=e[Fe]&&(r[Fe]=e[Fe]),null!=e[Ke]&&(r[Ke]=e[Ke]),null!=e[je]&&(r[je]=e[je]),null!=e[Te]){const n=V(e[Te],t);0===e[Te]?.length&&(r.PolicyArns=[]),Object.entries(n).forEach(([e,t])=>{r[`PolicyArns.${e}`]=t})}return null!=e[Re]&&(r[Re]=e[Re]),null!=e[Oe]&&(r[Oe]=e[Oe]),r},"se_AssumeRoleWithWebIdentityRequest"),V=c((e,t)=>{const r={};let n=1;for(const s of e){if(null===s)continue;const e=J(s,t);Object.entries(e).forEach(([e,t])=>{r[`member.${n}.${e}`]=t}),n++}return r},"se_policyDescriptorListType"),J=c((e,t)=>{const r={};return null!=e[Xe]&&(r[Xe]=e[Xe]),r},"se_PolicyDescriptorType"),K=c((e,t)=>{const r={};return null!=e[De]&&(r[De]=e[De]),null!=e[Ce]&&(r[Ce]=e[Ce]),r},"se_ProvidedContext"),X=c((e,t)=>{const r={};let n=1;for(const s of e){if(null===s)continue;const e=K(s,t);Object.entries(e).forEach(([e,t])=>{r[`member.${n}.${e}`]=t}),n++}return r},"se_ProvidedContextsListType"),Q=c((e,t)=>{const r={};return null!=e[Ie]&&(r[Ie]=e[Ie]),null!=e[Je]&&(r[Je]=e[Je]),r},"se_Tag"),Y=c((e,t)=>{const r={};let n=1;for(const t of e)null!==t&&(r[`member.${n}`]=t,n++);return r},"se_tagKeyListType"),Z=c((e,t)=>{const r={};let n=1;for(const s of e){if(null===s)continue;const e=Q(s,t);Object.entries(e).forEach(([e,t])=>{r[`member.${n}.${e}`]=t}),n++}return r},"se_tagListType"),ee=c((e,t)=>{const r={};return null!=e[ve]&&(r[ve]=(0,D.expectString)(e[ve])),null!=e[we]&&(r[we]=(0,D.expectString)(e[we])),r},"de_AssumedRoleUser"),te=c((e,t)=>{const r={};return null!=e[Pe]&&(r[Pe]=ne(e[Pe],t)),null!=e[_e]&&(r[_e]=ee(e[_e],t)),null!=e[ke]&&(r[ke]=(0,D.strictParseInt32)(e[ke])),null!=e[Be]&&(r[Be]=(0,D.expectString)(e[Be])),r},"de_AssumeRoleResponse"),re=c((e,t)=>{const r={};return null!=e[Pe]&&(r[Pe]=ne(e[Pe],t)),null!=e[Ue]&&(r[Ue]=(0,D.expectString)(e[Ue])),null!=e[_e]&&(r[_e]=ee(e[_e],t)),null!=e[ke]&&(r[ke]=(0,D.strictParseInt32)(e[ke])),null!=e[Me]&&(r[Me]=(0,D.expectString)(e[Me])),null!=e[Ee]&&(r[Ee]=(0,D.expectString)(e[Ee])),null!=e[Be]&&(r[Be]=(0,D.expectString)(e[Be])),r},"de_AssumeRoleWithWebIdentityResponse"),ne=c((e,t)=>{const r={};return null!=e[ye]&&(r[ye]=(0,D.expectString)(e[ye])),null!=e[$e]&&(r[$e]=(0,D.expectString)(e[$e])),null!=e[Ge]&&(r[Ge]=(0,D.expectString)(e[Ge])),null!=e[Ae]&&(r[Ae]=(0,D.expectNonNull)((0,D.parseRfc3339DateTimeWithOffset)(e[Ae]))),r},"de_Credentials"),se=c((e,t)=>{const r={};return null!=e[Qe]&&(r[Qe]=(0,D.expectString)(e[Qe])),r},"de_ExpiredTokenException"),oe=c((e,t)=>{const r={};return null!=e[Qe]&&(r[Qe]=(0,D.expectString)(e[Qe])),r},"de_IDPCommunicationErrorException"),ie=c((e,t)=>{const r={};return null!=e[Qe]&&(r[Qe]=(0,D.expectString)(e[Qe])),r},"de_IDPRejectedClaimException"),ae=c((e,t)=>{const r={};return null!=e[Qe]&&(r[Qe]=(0,D.expectString)(e[Qe])),r},"de_InvalidIdentityTokenException"),ce=c((e,t)=>{const r={};return null!=e[Qe]&&(r[Qe]=(0,D.expectString)(e[Qe])),r},"de_MalformedPolicyDocumentException"),le=c((e,t)=>{const r={};return null!=e[Qe]&&(r[Qe]=(0,D.expectString)(e[Qe])),r},"de_PackedPolicyTooLargeException"),de=c((e,t)=>{const r={};return null!=e[Qe]&&(r[Qe]=(0,D.expectString)(e[Qe])),r},"de_RegionDisabledException"),ue=c(e=>({httpStatusCode:e.statusCode,requestId:e.headers["x-amzn-requestid"]??e.headers["x-amzn-request-id"]??e.headers["x-amz-request-id"],extendedRequestId:e.headers["x-amz-id-2"],cfId:e.headers["x-amz-cf-id"]}),"deserializeMetadata"),pe=(0,D.withBaseException)(b),he=c(async(e,t,r,n,s)=>{const{hostname:o,protocol:i="https",port:a,path:c}=await e.endpoint(),l={protocol:i,hostname:o,port:a,method:"POST",path:c.endsWith("/")?c.slice(0,-1)+r:c+r,headers:t};return void 0!==n&&(l.hostname=n),void 0!==s&&(l.body=s),new T.HttpRequest(l)},"buildHttpRpcRequest"),fe={"content-type":"application/x-www-form-urlencoded"},me="2011-06-15",ge="Action",ye="AccessKeyId",be="AssumeRole",ve="AssumedRoleId",_e="AssumedRoleUser",Se="AssumeRoleWithWebIdentity",we="Arn",Ee="Audience",Pe="Credentials",Ce="ContextAssertion",Oe="DurationSeconds",Ae="Expiration",xe="ExternalId",Ie="Key",Re="Policy",Te="PolicyArns",De="ProviderArn",Ne="ProvidedContexts",je="ProviderId",ke="PackedPolicySize",Me="Provider",Le="RoleArn",Fe="RoleSessionName",$e="SecretAccessKey",Ue="SubjectFromWebIdentityToken",Be="SourceIdentity",He="SerialNumber",Ge="SessionToken",ze="Tags",qe="TokenCode",We="TransitiveTagKeys",Ve="Version",Je="Value",Ke="WebIdentityToken",Xe="arn",Qe="message",Ye=c(e=>Object.entries(e).map(([e,t])=>(0,D.extendedEncodeURIComponent)(e)+"="+(0,D.extendedEncodeURIComponent)(t)).join("&"),"buildFormUrlencodedString"),Ze=c((e,t)=>void 0!==t.Error?.Code?t.Error.Code:404==e.statusCode?"NotFound":void 0,"loadQueryErrorCode"),et=class extends(f.Command.classBuilder().ep(m.commonParams).m(function(e,t,r,n){return[(0,h.getSerdePlugin)(r,this.serialize,this.deserialize),(0,p.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("AWSSecurityTokenServiceV20110615","AssumeRole",{}).n("STSClient","AssumeRoleCommand").f(void 0,_).ser(N).de(k).build()){static{c(this,"AssumeRoleCommand")}},tt=r(99),rt=r(3255),nt=r(1411),st=r(6811),ot=class extends(nt.Command.classBuilder().ep(st.commonParams).m(function(e,t,r,n){return[(0,rt.getSerdePlugin)(r,this.serialize,this.deserialize),(0,tt.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("AWSSecurityTokenServiceV20110615","AssumeRoleWithWebIdentity",{}).n("STSClient","AssumeRoleWithWebIdentityCommand").f(A,x).ser(j).de(M).build()){static{c(this,"AssumeRoleWithWebIdentityCommand")}},it=r(3723),at={AssumeRoleCommand:et,AssumeRoleWithWebIdentityCommand:ot},ct=class extends it.STSClient{static{c(this,"STS")}};(0,u.createAggregatedClient)(at,ct);var lt=r(6811),dt=r(5152),ut="us-east-1",pt=c(e=>{if("string"==typeof e?.Arn){const t=e.Arn.split(":");if(t.length>4&&""!==t[4])return t[4]}},"getAccountIdFromAssumedRoleUser"),ht=c(async(e,t,r)=>{const n="function"==typeof e?await e():e,s="function"==typeof t?await t():t;return r?.debug?.("@aws-sdk/client-sts::resolveRegion","accepting first of:",`${n} (provider)`,`${s} (parent client)`,`${ut} (STS default)`),n??s??ut},"resolveRegion"),ft=c((e,t)=>{let r,n;return async(s,o)=>{if(n=s,!r){const{logger:s=e?.parentClientConfig?.logger,region:o,requestHandler:i=e?.parentClientConfig?.requestHandler,credentialProviderLogger:a}=e,l=await ht(o,e?.parentClientConfig?.region,a),d=!gt(i);r=new t({profile:e?.parentClientConfig?.profile,credentialDefaultProvider:c(()=>async()=>n,"credentialDefaultProvider"),region:l,requestHandler:d?i:void 0,logger:s})}const{Credentials:i,AssumedRoleUser:a}=await r.send(new et(o));if(!i||!i.AccessKeyId||!i.SecretAccessKey)throw new Error(`Invalid response from STS.assumeRole call with role ${o.RoleArn}`);const l=pt(a),d={accessKeyId:i.AccessKeyId,secretAccessKey:i.SecretAccessKey,sessionToken:i.SessionToken,expiration:i.Expiration,...i.CredentialScope&&{credentialScope:i.CredentialScope},...l&&{accountId:l}};return(0,dt.setCredentialFeature)(d,"CREDENTIALS_STS_ASSUME_ROLE","i"),d}},"getDefaultRoleAssumer"),mt=c((e,t)=>{let r;return async n=>{if(!r){const{logger:n=e?.parentClientConfig?.logger,region:s,requestHandler:o=e?.parentClientConfig?.requestHandler,credentialProviderLogger:i}=e,a=await ht(s,e?.parentClientConfig?.region,i),c=!gt(o);r=new t({profile:e?.parentClientConfig?.profile,region:a,requestHandler:c?o:void 0,logger:n})}const{Credentials:s,AssumedRoleUser:o}=await r.send(new ot(n));if(!s||!s.AccessKeyId||!s.SecretAccessKey)throw new Error(`Invalid response from STS.assumeRoleWithWebIdentity call with role ${n.RoleArn}`);const i=pt(o),a={accessKeyId:s.AccessKeyId,secretAccessKey:s.SecretAccessKey,sessionToken:s.SessionToken,expiration:s.Expiration,...s.CredentialScope&&{credentialScope:s.CredentialScope},...i&&{accountId:i}};return i&&(0,dt.setCredentialFeature)(a,"RESOLVED_ACCOUNT_ID","T"),(0,dt.setCredentialFeature)(a,"CREDENTIALS_STS_ASSUME_ROLE_WEB_ID","k"),a}},"getDefaultRoleAssumerWithWebIdentity"),gt=c(e=>"h2"===e?.metadata?.handlerProtocol,"isH2"),yt=r(3723),bt=c((e,t)=>t?class extends e{static{c(this,"CustomizableSTSClient")}constructor(e){super(e);for(const e of t)this.middlewareStack.use(e)}}:e,"getCustomizableStsClientCtor"),vt=c((e={},t)=>ft(e,bt(yt.STSClient,t)),"getDefaultRoleAssumer"),_t=c((e={},t)=>mt(e,bt(yt.STSClient,t)),"getDefaultRoleAssumerWithWebIdentity"),St=c(e=>t=>e({roleAssumer:vt(t),roleAssumerWithWebIdentity:_t(t),...t}),"decorateDefaultCredentialProvider")},6578:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getRuntimeConfig=void 0;const n=r(1860).__importDefault(r(9955)),s=r(8704),o=r(1656),i=r(9316),a=r(402),c=r(5092),l=r(9618),d=r(5704),u=r(1279),p=r(3638),h=r(5518),f=r(4443),m=r(1411),g=r(5435),y=r(1411);t.getRuntimeConfig=e=>{(0,y.emitWarningIfUnsupportedVersion)(process.version);const t=(0,g.resolveDefaultsModeConfig)(e),r=()=>t().then(m.loadConfigsForDefaultMode),b=(0,f.getRuntimeConfig)(e);(0,s.emitWarningIfUnsupportedVersion)(process.version);const v={profile:e?.profile,logger:b.logger};return{...b,...e,runtime:"node",defaultsMode:t,authSchemePreference:e?.authSchemePreference??(0,d.loadConfig)(s.NODE_AUTH_SCHEME_PREFERENCE_OPTIONS,v),bodyLengthChecker:e?.bodyLengthChecker??p.calculateBodyLength,defaultUserAgentProvider:e?.defaultUserAgentProvider??(0,o.createDefaultUserAgentProvider)({serviceId:b.serviceId,clientVersion:n.default.version}),httpAuthSchemes:e?.httpAuthSchemes??[{schemeId:"aws.auth#sigv4",identityProvider:t=>t.getIdentityProvider("aws.auth#sigv4")||(async t=>await e.credentialDefaultProvider(t?.__config||{})()),signer:new s.AwsSdkSigV4Signer},{schemeId:"smithy.api#noAuth",identityProvider:e=>e.getIdentityProvider("smithy.api#noAuth")||(async()=>({})),signer:new a.NoAuthSigner}],maxAttempts:e?.maxAttempts??(0,d.loadConfig)(l.NODE_MAX_ATTEMPT_CONFIG_OPTIONS,e),region:e?.region??(0,d.loadConfig)(i.NODE_REGION_CONFIG_OPTIONS,{...i.NODE_REGION_CONFIG_FILE_OPTIONS,...v}),requestHandler:u.NodeHttpHandler.create(e?.requestHandler??r),retryMode:e?.retryMode??(0,d.loadConfig)({...l.NODE_RETRY_MODE_CONFIG_OPTIONS,default:async()=>(await r()).retryMode||h.DEFAULT_RETRY_MODE},e),sha256:e?.sha256??c.Hash.bind(null,"sha256"),streamCollector:e?.streamCollector??u.streamCollector,useDualstackEndpoint:e?.useDualstackEndpoint??(0,d.loadConfig)(i.NODE_USE_DUALSTACK_ENDPOINT_CONFIG_OPTIONS,v),useFipsEndpoint:e?.useFipsEndpoint??(0,d.loadConfig)(i.NODE_USE_FIPS_ENDPOINT_CONFIG_OPTIONS,v),userAgentAppId:e?.userAgentAppId??(0,d.loadConfig)(o.NODE_APP_ID_CONFIG_OPTIONS,v)}}},4443:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getRuntimeConfig=void 0;const n=r(8704),s=r(402),o=r(1411),i=r(4494),a=r(8385),c=r(1577),l=r(7851),d=r(9765);t.getRuntimeConfig=e=>({apiVersion:"2011-06-15",base64Decoder:e?.base64Decoder??a.fromBase64,base64Encoder:e?.base64Encoder??a.toBase64,disableHostPrefix:e?.disableHostPrefix??!1,endpointProvider:e?.endpointProvider??d.defaultEndpointResolver,extensions:e?.extensions??[],httpAuthSchemeProvider:e?.httpAuthSchemeProvider??l.defaultSTSHttpAuthSchemeProvider,httpAuthSchemes:e?.httpAuthSchemes??[{schemeId:"aws.auth#sigv4",identityProvider:e=>e.getIdentityProvider("aws.auth#sigv4"),signer:new n.AwsSdkSigV4Signer},{schemeId:"smithy.api#noAuth",identityProvider:e=>e.getIdentityProvider("smithy.api#noAuth")||(async()=>({})),signer:new s.NoAuthSigner}],logger:e?.logger??new o.NoOpLogger,serviceId:e?.serviceId??"STS",urlParser:e?.urlParser??i.parseUrl,utf8Decoder:e?.utf8Decoder??c.fromUtf8,utf8Encoder:e?.utf8Encoder??c.toUtf8})},7742:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.resolveRuntimeExtensions=void 0;const n=r(6463),s=r(2356),o=r(1411),i=r(4532);t.resolveRuntimeExtensions=(e,t)=>{const r=Object.assign((0,n.getAwsRegionExtensionConfiguration)(e),(0,o.getDefaultExtensionConfiguration)(e),(0,s.getHttpHandlerExtensionConfiguration)(e),(0,i.getHttpAuthExtensionConfiguration)(e));return t.forEach(e=>e.configure(r)),Object.assign(e,(0,n.resolveAwsRegionExtensionConfiguration)(r),(0,o.resolveDefaultRuntimeConfig)(r),(0,s.resolveHttpHandlerRuntimeConfig)(r),(0,i.resolveHttpAuthRuntimeConfig)(r))}},6463:e=>{"use strict";var t,r=Object.defineProperty,n=Object.getOwnPropertyDescriptor,s=Object.getOwnPropertyNames,o=Object.prototype.hasOwnProperty,i=(e,t)=>r(e,"name",{value:t,configurable:!0}),a={};((e,t)=>{for(var n in t)r(e,n,{get:t[n],enumerable:!0})})(a,{NODE_REGION_CONFIG_FILE_OPTIONS:()=>h,NODE_REGION_CONFIG_OPTIONS:()=>p,REGION_ENV_NAME:()=>d,REGION_INI_NAME:()=>u,getAwsRegionExtensionConfiguration:()=>c,resolveAwsRegionExtensionConfiguration:()=>l,resolveRegionConfig:()=>g}),e.exports=(t=a,((e,t,i,a)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let c of s(t))o.call(e,c)||c===i||r(e,c,{get:()=>t[c],enumerable:!(a=n(t,c))||a.enumerable});return e})(r({},"__esModule",{value:!0}),t));var c=i(e=>({setRegion(t){e.region=t},region:()=>e.region}),"getAwsRegionExtensionConfiguration"),l=i(e=>({region:e.region()}),"resolveAwsRegionExtensionConfiguration"),d="AWS_REGION",u="region",p={environmentVariableSelector:i(e=>e[d],"environmentVariableSelector"),configFileSelector:i(e=>e[u],"configFileSelector"),default:i(()=>{throw new Error("Region is missing")},"default")},h={preferredFile:"credentials"},f=i(e=>"string"==typeof e&&(e.startsWith("fips-")||e.endsWith("-fips")),"isFipsRegion"),m=i(e=>f(e)?["fips-aws-global","aws-fips"].includes(e)?"us-east-1":e.replace(/fips-(dkr-|prod-)?|-fips/,""):e,"getRealRegion"),g=i(e=>{const{region:t,useFipsEndpoint:r}=e;if(!t)throw new Error("Region is missing");return Object.assign(e,{region:i(async()=>{if("string"==typeof t)return m(t);const e=await t();return m(e)},"region"),useFipsEndpoint:i(async()=>{const e="string"==typeof t?t:await t();return!!f(e)||("function"!=typeof r?Promise.resolve(!!r):r())},"useFipsEndpoint")})},"resolveRegionConfig")},5433:(e,t,r)=>{"use strict";var n,s=Object.create,o=Object.defineProperty,i=Object.getOwnPropertyDescriptor,a=Object.getOwnPropertyNames,c=Object.getPrototypeOf,l=Object.prototype.hasOwnProperty,d=(e,t)=>o(e,"name",{value:t,configurable:!0}),u=(e,t,r,n)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let s of a(t))l.call(e,s)||s===r||o(e,s,{get:()=>t[s],enumerable:!(n=i(t,s))||n.enumerable});return e},p=(e,t,r)=>(r=null!=e?s(c(e)):{},u(!t&&e&&e.__esModule?r:o(r,"default",{value:e,enumerable:!0}),e)),h={};((e,t)=>{for(var r in t)o(e,r,{get:t[r],enumerable:!0})})(h,{fromEnvSigningName:()=>y,fromSso:()=>x,fromStatic:()=>I,nodeProvider:()=>R}),e.exports=(n=h,u(o({},"__esModule",{value:!0}),n));var f=r(5152),m=r(7523),g=r(1238),y=d(({logger:e,signingName:t}={})=>async()=>{if(e?.debug?.("@aws-sdk/token-providers - fromEnvSigningName"),!t)throw new g.TokenProviderError("Please pass 'signingName' to compute environment variable key",{logger:e});const r=(0,m.getBearerTokenEnvKey)(t);if(!(r in process.env))throw new g.TokenProviderError(`Token not present in '${r}' environment variable`,{logger:e});const n={token:process.env[r]};return(0,f.setTokenFeature)(n,"BEARER_SERVICE_ENV_VARS","3"),n},"fromEnvSigningName"),b="To refresh this SSO session run 'aws sso login' with the corresponding profile.",v=d(async(e,t={})=>{const{SSOOIDCClient:n}=await Promise.resolve().then(()=>p(r(9443)));return new n(Object.assign({},t.clientConfig??{},{region:e??t.clientConfig?.region,logger:t.clientConfig?.logger??t.parentClientConfig?.logger}))},"getSsoOidcClient"),_=d(async(e,t,n={})=>{const{CreateTokenCommand:s}=await Promise.resolve().then(()=>p(r(9443)));return(await v(t,n)).send(new s({clientId:e.clientId,clientSecret:e.clientSecret,refreshToken:e.refreshToken,grantType:"refresh_token"}))},"getNewSsoOidcToken"),S=d(e=>{if(e.expiration&&e.expiration.getTime()<Date.now())throw new g.TokenProviderError(`Token is expired. ${b}`,!1)},"validateTokenExpiry"),w=d((e,t,r=!1)=>{if(void 0===t)throw new g.TokenProviderError(`Value not present for '${e}' in SSO Token${r?". Cannot refresh":""}. ${b}`,!1)},"validateTokenKey"),E=r(4964),P=r(9896),{writeFile:C}=P.promises,O=d((e,t)=>{const r=(0,E.getSSOTokenFilepath)(e),n=JSON.stringify(t,null,2);return C(r,n)},"writeSSOTokenToFile"),A=new Date(0),x=d((e={})=>async({callerClientConfig:t}={})=>{const r={...e,parentClientConfig:{...t,...e.parentClientConfig}};r.logger?.debug("@aws-sdk/token-providers - fromSso");const n=await(0,E.parseKnownFiles)(r),s=(0,E.getProfileName)({profile:r.profile??t?.profile}),o=n[s];if(!o)throw new g.TokenProviderError(`Profile '${s}' could not be found in shared credentials file.`,!1);if(!o.sso_session)throw new g.TokenProviderError(`Profile '${s}' is missing required property 'sso_session'.`);const i=o.sso_session,a=(await(0,E.loadSsoSessionData)(r))[i];if(!a)throw new g.TokenProviderError(`Sso session '${i}' could not be found in shared credentials file.`,!1);for(const e of["sso_start_url","sso_region"])if(!a[e])throw new g.TokenProviderError(`Sso session '${i}' is missing required property '${e}'.`,!1);a.sso_start_url;const c=a.sso_region;let l;try{l=await(0,E.getSSOTokenFromFile)(i)}catch(e){throw new g.TokenProviderError(`The SSO session token associated with profile=${s} was not found or is invalid. ${b}`,!1)}w("accessToken",l.accessToken),w("expiresAt",l.expiresAt);const{accessToken:d,expiresAt:u}=l,p={token:d,expiration:new Date(u)};if(p.expiration.getTime()-Date.now()>3e5)return p;if(Date.now()-A.getTime()<3e4)return S(p),p;w("clientId",l.clientId,!0),w("clientSecret",l.clientSecret,!0),w("refreshToken",l.refreshToken,!0);try{A.setTime(Date.now());const e=await _(l,c,r);w("accessToken",e.accessToken),w("expiresIn",e.expiresIn);const t=new Date(Date.now()+1e3*e.expiresIn);try{await O(i,{...l,accessToken:e.accessToken,expiresAt:t.toISOString(),refreshToken:e.refreshToken})}catch(e){}return{token:e.accessToken,expiration:t}}catch(e){return S(p),p}},"fromSso"),I=d(({token:e,logger:t})=>async()=>{if(t?.debug("@aws-sdk/token-providers - fromStatic"),!e||!e.token)throw new g.TokenProviderError("Please pass a valid token to fromStatic",!1);return e},"fromStatic"),R=d((e={})=>(0,g.memoize)((0,g.chain)(x(e),async()=>{throw new g.TokenProviderError("Could not load token from any providers",!1)}),e=>void 0!==e.expiration&&e.expiration.getTime()-Date.now()<3e5,e=>void 0!==e.expiration),"nodeProvider")},3068:(e,t,r)=>{"use strict";var n,s=Object.defineProperty,o=Object.getOwnPropertyDescriptor,i=Object.getOwnPropertyNames,a=Object.prototype.hasOwnProperty,c=(e,t)=>s(e,"name",{value:t,configurable:!0}),l={};((e,t)=>{for(var r in t)s(e,r,{get:t[r],enumerable:!0})})(l,{ConditionObject:()=>d.ConditionObject,DeprecatedObject:()=>d.DeprecatedObject,EndpointError:()=>d.EndpointError,EndpointObject:()=>d.EndpointObject,EndpointObjectHeaders:()=>d.EndpointObjectHeaders,EndpointObjectProperties:()=>d.EndpointObjectProperties,EndpointParams:()=>d.EndpointParams,EndpointResolverOptions:()=>d.EndpointResolverOptions,EndpointRuleObject:()=>d.EndpointRuleObject,ErrorRuleObject:()=>d.ErrorRuleObject,EvaluateOptions:()=>d.EvaluateOptions,Expression:()=>d.Expression,FunctionArgv:()=>d.FunctionArgv,FunctionObject:()=>d.FunctionObject,FunctionReturn:()=>d.FunctionReturn,ParameterObject:()=>d.ParameterObject,ReferenceObject:()=>d.ReferenceObject,ReferenceRecord:()=>d.ReferenceRecord,RuleSetObject:()=>d.RuleSetObject,RuleSetRules:()=>d.RuleSetRules,TreeRuleObject:()=>d.TreeRuleObject,awsEndpointFunctions:()=>_,getUserAgentPrefix:()=>v,isIpAddress:()=>d.isIpAddress,partition:()=>g,resolveDefaultAwsRegionalEndpointsConfig:()=>w,resolveEndpoint:()=>d.resolveEndpoint,setPartitionInfo:()=>y,toEndpointV1:()=>E,useDefaultPartitionInfo:()=>b}),e.exports=(n=l,((e,t,r,n)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let c of i(t))a.call(e,c)||c===r||s(e,c,{get:()=>t[c],enumerable:!(n=o(t,c))||n.enumerable});return e})(s({},"__esModule",{value:!0}),n));var d=r(9674),u=c((e,t=!1)=>{if(t){for(const t of e.split("."))if(!u(t))return!1;return!0}return!!(0,d.isValidHostLabel)(e)&&(!(e.length<3||e.length>63)&&(e===e.toLowerCase()&&!(0,d.isIpAddress)(e)))},"isVirtualHostableS3Bucket"),p=c(e=>{const t=e.split(":");if(t.length<6)return null;const[r,n,s,o,i,...a]=t;if("arn"!==r||""===n||""===s||""===a.join(":"))return null;return{partition:n,service:s,region:o,accountId:i,resourceId:a.map(e=>e.split("/")).flat()}},"parseArn"),h={partitions:[{id:"aws",outputs:{dnsSuffix:"amazonaws.com",dualStackDnsSuffix:"api.aws",implicitGlobalRegion:"us-east-1",name:"aws",supportsDualStack:!0,supportsFIPS:!0},regionRegex:"^(us|eu|ap|sa|ca|me|af|il|mx)\\-\\w+\\-\\d+$",regions:{"af-south-1":{description:"Africa (Cape Town)"},"ap-east-1":{description:"Asia Pacific (Hong Kong)"},"ap-east-2":{description:"Asia Pacific (Taipei)"},"ap-northeast-1":{description:"Asia Pacific (Tokyo)"},"ap-northeast-2":{description:"Asia Pacific (Seoul)"},"ap-northeast-3":{description:"Asia Pacific (Osaka)"},"ap-south-1":{description:"Asia Pacific (Mumbai)"},"ap-south-2":{description:"Asia Pacific (Hyderabad)"},"ap-southeast-1":{description:"Asia Pacific (Singapore)"},"ap-southeast-2":{description:"Asia Pacific (Sydney)"},"ap-southeast-3":{description:"Asia Pacific (Jakarta)"},"ap-southeast-4":{description:"Asia Pacific (Melbourne)"},"ap-southeast-5":{description:"Asia Pacific (Malaysia)"},"ap-southeast-7":{description:"Asia Pacific (Thailand)"},"aws-global":{description:"AWS Standard global region"},"ca-central-1":{description:"Canada (Central)"},"ca-west-1":{description:"Canada West (Calgary)"},"eu-central-1":{description:"Europe (Frankfurt)"},"eu-central-2":{description:"Europe (Zurich)"},"eu-north-1":{description:"Europe (Stockholm)"},"eu-south-1":{description:"Europe (Milan)"},"eu-south-2":{description:"Europe (Spain)"},"eu-west-1":{description:"Europe (Ireland)"},"eu-west-2":{description:"Europe (London)"},"eu-west-3":{description:"Europe (Paris)"},"il-central-1":{description:"Israel (Tel Aviv)"},"me-central-1":{description:"Middle East (UAE)"},"me-south-1":{description:"Middle East (Bahrain)"},"mx-central-1":{description:"Mexico (Central)"},"sa-east-1":{description:"South America (Sao Paulo)"},"us-east-1":{description:"US East (N. Virginia)"},"us-east-2":{description:"US East (Ohio)"},"us-west-1":{description:"US West (N. California)"},"us-west-2":{description:"US West (Oregon)"}}},{id:"aws-cn",outputs:{dnsSuffix:"amazonaws.com.cn",dualStackDnsSuffix:"api.amazonwebservices.com.cn",implicitGlobalRegion:"cn-northwest-1",name:"aws-cn",supportsDualStack:!0,supportsFIPS:!0},regionRegex:"^cn\\-\\w+\\-\\d+$",regions:{"aws-cn-global":{description:"AWS China global region"},"cn-north-1":{description:"China (Beijing)"},"cn-northwest-1":{description:"China (Ningxia)"}}},{id:"aws-us-gov",outputs:{dnsSuffix:"amazonaws.com",dualStackDnsSuffix:"api.aws",implicitGlobalRegion:"us-gov-west-1",name:"aws-us-gov",supportsDualStack:!0,supportsFIPS:!0},regionRegex:"^us\\-gov\\-\\w+\\-\\d+$",regions:{"aws-us-gov-global":{description:"AWS GovCloud (US) global region"},"us-gov-east-1":{description:"AWS GovCloud (US-East)"},"us-gov-west-1":{description:"AWS GovCloud (US-West)"}}},{id:"aws-iso",outputs:{dnsSuffix:"c2s.ic.gov",dualStackDnsSuffix:"c2s.ic.gov",implicitGlobalRegion:"us-iso-east-1",name:"aws-iso",supportsDualStack:!1,supportsFIPS:!0},regionRegex:"^us\\-iso\\-\\w+\\-\\d+$",regions:{"aws-iso-global":{description:"AWS ISO (US) global region"},"us-iso-east-1":{description:"US ISO East"},"us-iso-west-1":{description:"US ISO WEST"}}},{id:"aws-iso-b",outputs:{dnsSuffix:"sc2s.sgov.gov",dualStackDnsSuffix:"sc2s.sgov.gov",implicitGlobalRegion:"us-isob-east-1",name:"aws-iso-b",supportsDualStack:!1,supportsFIPS:!0},regionRegex:"^us\\-isob\\-\\w+\\-\\d+$",regions:{"aws-iso-b-global":{description:"AWS ISOB (US) global region"},"us-isob-east-1":{description:"US ISOB East (Ohio)"}}},{id:"aws-iso-e",outputs:{dnsSuffix:"cloud.adc-e.uk",dualStackDnsSuffix:"cloud.adc-e.uk",implicitGlobalRegion:"eu-isoe-west-1",name:"aws-iso-e",supportsDualStack:!1,supportsFIPS:!0},regionRegex:"^eu\\-isoe\\-\\w+\\-\\d+$",regions:{"aws-iso-e-global":{description:"AWS ISOE (Europe) global region"},"eu-isoe-west-1":{description:"EU ISOE West"}}},{id:"aws-iso-f",outputs:{dnsSuffix:"csp.hci.ic.gov",dualStackDnsSuffix:"csp.hci.ic.gov",implicitGlobalRegion:"us-isof-south-1",name:"aws-iso-f",supportsDualStack:!1,supportsFIPS:!0},regionRegex:"^us\\-isof\\-\\w+\\-\\d+$",regions:{"aws-iso-f-global":{description:"AWS ISOF global region"},"us-isof-east-1":{description:"US ISOF EAST"},"us-isof-south-1":{description:"US ISOF SOUTH"}}},{id:"aws-eusc",outputs:{dnsSuffix:"amazonaws.eu",dualStackDnsSuffix:"amazonaws.eu",implicitGlobalRegion:"eusc-de-east-1",name:"aws-eusc",supportsDualStack:!1,supportsFIPS:!0},regionRegex:"^eusc\\-(de)\\-\\w+\\-\\d+$",regions:{"eusc-de-east-1":{description:"EU (Germany)"}}}],version:"1.1"},f=h,m="",g=c(e=>{const{partitions:t}=f;for(const r of t){const{regions:t,outputs:n}=r;for(const[r,s]of Object.entries(t))if(r===e)return{...n,...s}}for(const r of t){const{regionRegex:t,outputs:n}=r;if(new RegExp(t).test(e))return{...n}}const r=t.find(e=>"aws"===e.id);if(!r)throw new Error("Provided region was not found in the partition array or regex, and default partition with id 'aws' doesn't exist.");return{...r.outputs}},"partition"),y=c((e,t="")=>{f=e,m=t},"setPartitionInfo"),b=c(()=>{y(h,"")},"useDefaultPartitionInfo"),v=c(()=>m,"getUserAgentPrefix"),_={isVirtualHostableS3Bucket:u,parseArn:p,partition:g};d.customEndpointFunctions.aws=_;var S=r(4494),w=c(e=>{if("function"!=typeof e.endpointProvider)throw new Error("@aws-sdk/util-endpoint - endpointProvider and endpoint missing in config for this client.");const{endpoint:t}=e;return void 0===t&&(e.endpoint=async()=>E(e.endpointProvider({Region:"function"==typeof e.region?await e.region():e.region,UseDualStack:"function"==typeof e.useDualstackEndpoint?await e.useDualstackEndpoint():e.useDualstackEndpoint,UseFIPS:"function"==typeof e.useFipsEndpoint?await e.useFipsEndpoint():e.useFipsEndpoint,Endpoint:void 0},{logger:e.logger}))),e},"resolveDefaultAwsRegionalEndpointsConfig"),E=c(e=>(0,S.parseUrl)(e.url),"toEndpointV1")},1656:(e,t,r)=>{"use strict";var n,s=Object.defineProperty,o=Object.getOwnPropertyDescriptor,i=Object.getOwnPropertyNames,a=Object.prototype.hasOwnProperty,c=(e,t)=>s(e,"name",{value:t,configurable:!0}),l={};((e,t)=>{for(var r in t)s(e,r,{get:t[r],enumerable:!0})})(l,{NODE_APP_ID_CONFIG_OPTIONS:()=>v,UA_APP_ID_ENV_NAME:()=>y,UA_APP_ID_INI_NAME:()=>b,createDefaultUserAgentProvider:()=>f,crtAvailability:()=>p,defaultUserAgent:()=>m}),e.exports=(n=l,((e,t,r,n)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let c of i(t))a.call(e,c)||c===r||s(e,c,{get:()=>t[c],enumerable:!(n=o(t,c))||n.enumerable});return e})(s({},"__esModule",{value:!0}),n));var d=r(857),u=r(932),p={isCrtAvailable:!1},h=c(()=>p.isCrtAvailable?["md/crt-avail"]:null,"isCrtAvailable"),f=c(({serviceId:e,clientVersion:t})=>async r=>{const n=[["aws-sdk-js",t],["ua","2.1"],[`os/${(0,d.platform)()}`,(0,d.release)()],["lang/js"],["md/nodejs",`${u.versions.node}`]],s=h();s&&n.push(s),e&&n.push([`api/${e}`,t]),u.env.AWS_EXECUTION_ENV&&n.push([`exec-env/${u.env.AWS_EXECUTION_ENV}`]);const o=await(r?.userAgentAppId?.());return o?[...n,[`app/${o}`]]:[...n]},"createDefaultUserAgentProvider"),m=f,g=r(2959),y="AWS_SDK_UA_APP_ID",b="sdk_ua_app_id",v={environmentVariableSelector:c(e=>e[y],"environmentVariableSelector"),configFileSelector:c(e=>e[b]??e["sdk-ua-app-id"],"configFileSelector"),default:g.DEFAULT_UA_APP_ID}},4274:e=>{"use strict";var t,r=Object.defineProperty,n=Object.getOwnPropertyDescriptor,s=Object.getOwnPropertyNames,o=Object.prototype.hasOwnProperty,i=(e,t)=>r(e,"name",{value:t,configurable:!0}),a={};function c(e){return e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")}function l(e){return e.replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&apos;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\r/g,"&#x0D;").replace(/\n/g,"&#x0A;").replace(/\u0085/g,"&#x85;").replace(/\u2028/,"&#x2028;")}((e,t)=>{for(var n in t)r(e,n,{get:t[n],enumerable:!0})})(a,{XmlNode:()=>u,XmlText:()=>d}),e.exports=(t=a,((e,t,i,a)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let c of s(t))o.call(e,c)||c===i||r(e,c,{get:()=>t[c],enumerable:!(a=n(t,c))||a.enumerable});return e})(r({},"__esModule",{value:!0}),t)),i(c,"escapeAttribute"),i(l,"escapeElement");var d=class{constructor(e){this.value=e}static{i(this,"XmlText")}toString(){return l(""+this.value)}},u=class e{constructor(e,t=[]){this.name=e,this.children=t}static{i(this,"XmlNode")}attributes={};static of(t,r,n){const s=new e(t);return void 0!==r&&s.addChildNode(new d(r)),void 0!==n&&s.withName(n),s}withName(e){return this.name=e,this}addAttribute(e,t){return this.attributes[e]=t,this}addChildNode(e){return this.children.push(e),this}removeAttribute(e){return delete this.attributes[e],this}n(e){return this.name=e,this}c(e){return this.children.push(e),this}a(e,t){return null!=t&&(this.attributes[e]=t),this}cc(t,r,n=r){if(null!=t[r]){const s=e.of(r,t[r]).withName(n);this.c(s)}}l(e,t,r,n){if(null!=e[t]){n().map(e=>{e.withName(r),this.c(e)})}}lc(t,r,n,s){if(null!=t[r]){const t=s(),r=new e(n);t.map(e=>{r.c(e)}),this.c(r)}}toString(){const e=Boolean(this.children.length);let t=`<${this.name}`;const r=this.attributes;for(const e of Object.keys(r)){const n=r[e];null!=n&&(t+=` ${e}="${c(""+n)}"`)}return t+(e?`>${this.children.map(e=>e.toString()).join("")}</${this.name}>`:"/>")}}},7656:(e,t)=>{"use strict";var r,n,s;t.SchemaType=void 0,(r=t.SchemaType||(t.SchemaType={})).STRING="string",r.NUMBER="number",r.INTEGER="integer",r.BOOLEAN="boolean",r.ARRAY="array",r.OBJECT="object",
/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
t.ExecutableCodeLanguage=void 0,(n=t.ExecutableCodeLanguage||(t.ExecutableCodeLanguage={})).LANGUAGE_UNSPECIFIED="language_unspecified",n.PYTHON="python",t.Outcome=void 0,(s=t.Outcome||(t.Outcome={})).OUTCOME_UNSPECIFIED="outcome_unspecified",s.OUTCOME_OK="outcome_ok",s.OUTCOME_FAILED="outcome_failed",s.OUTCOME_DEADLINE_EXCEEDED="outcome_deadline_exceeded";
/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
const o=["user","model","function","system"];var i,a,c,l,d,u,p,h;t.HarmCategory=void 0,(i=t.HarmCategory||(t.HarmCategory={})).HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",i.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",i.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",i.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",i.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",i.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY",t.HarmBlockThreshold=void 0,(a=t.HarmBlockThreshold||(t.HarmBlockThreshold={})).HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",a.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",a.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",a.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",a.BLOCK_NONE="BLOCK_NONE",t.HarmProbability=void 0,(c=t.HarmProbability||(t.HarmProbability={})).HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",c.NEGLIGIBLE="NEGLIGIBLE",c.LOW="LOW",c.MEDIUM="MEDIUM",c.HIGH="HIGH",t.BlockReason=void 0,(l=t.BlockReason||(t.BlockReason={})).BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",l.SAFETY="SAFETY",l.OTHER="OTHER",t.FinishReason=void 0,(d=t.FinishReason||(t.FinishReason={})).FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",d.STOP="STOP",d.MAX_TOKENS="MAX_TOKENS",d.SAFETY="SAFETY",d.RECITATION="RECITATION",d.LANGUAGE="LANGUAGE",d.BLOCKLIST="BLOCKLIST",d.PROHIBITED_CONTENT="PROHIBITED_CONTENT",d.SPII="SPII",d.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",d.OTHER="OTHER",t.TaskType=void 0,(u=t.TaskType||(t.TaskType={})).TASK_TYPE_UNSPECIFIED="TASK_TYPE_UNSPECIFIED",u.RETRIEVAL_QUERY="RETRIEVAL_QUERY",u.RETRIEVAL_DOCUMENT="RETRIEVAL_DOCUMENT",u.SEMANTIC_SIMILARITY="SEMANTIC_SIMILARITY",u.CLASSIFICATION="CLASSIFICATION",u.CLUSTERING="CLUSTERING",t.FunctionCallingMode=void 0,(p=t.FunctionCallingMode||(t.FunctionCallingMode={})).MODE_UNSPECIFIED="MODE_UNSPECIFIED",p.AUTO="AUTO",p.ANY="ANY",p.NONE="NONE",t.DynamicRetrievalMode=void 0,(h=t.DynamicRetrievalMode||(t.DynamicRetrievalMode={})).MODE_UNSPECIFIED="MODE_UNSPECIFIED",h.MODE_DYNAMIC="MODE_DYNAMIC";
/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class f extends Error{constructor(e){super(`[GoogleGenerativeAI Error]: ${e}`)}}class m extends f{constructor(e,t){super(e),this.response=t}}class g extends f{constructor(e,t,r,n){super(e),this.status=t,this.statusText=r,this.errorDetails=n}}class y extends f{}class b extends f{}
/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var v;!function(e){e.GENERATE_CONTENT="generateContent",e.STREAM_GENERATE_CONTENT="streamGenerateContent",e.COUNT_TOKENS="countTokens",e.EMBED_CONTENT="embedContent",e.BATCH_EMBED_CONTENTS="batchEmbedContents"}(v||(v={}));class _{constructor(e,t,r,n,s){this.model=e,this.task=t,this.apiKey=r,this.stream=n,this.requestOptions=s}toString(){var e,t;const r=(null===(e=this.requestOptions)||void 0===e?void 0:e.apiVersion)||"v1beta";let n=`${(null===(t=this.requestOptions)||void 0===t?void 0:t.baseUrl)||"https://generativelanguage.googleapis.com"}/${r}/${this.model}:${this.task}`;return this.stream&&(n+="?alt=sse"),n}}async function S(e){var t;const r=new Headers;r.append("Content-Type","application/json"),r.append("x-goog-api-client",function(e){const t=[];return(null==e?void 0:e.apiClient)&&t.push(e.apiClient),t.push("genai-js/0.24.1"),t.join(" ")}(e.requestOptions)),r.append("x-goog-api-key",e.apiKey);let n=null===(t=e.requestOptions)||void 0===t?void 0:t.customHeaders;if(n){if(!(n instanceof Headers))try{n=new Headers(n)}catch(e){throw new y(`unable to convert customHeaders value ${JSON.stringify(n)} to Headers: ${e.message}`)}for(const[e,t]of n.entries()){if("x-goog-api-key"===e)throw new y(`Cannot set reserved header name ${e}`);if("x-goog-api-client"===e)throw new y(`Header name ${e} can only be set using the apiClient field`);r.append(e,t)}}return r}async function w(e,t,r,n,s,o={},i=fetch){const{url:a,fetchOptions:c}=await async function(e,t,r,n,s,o){const i=new _(e,t,r,n,o);return{url:i.toString(),fetchOptions:Object.assign(Object.assign({},E(o)),{method:"POST",headers:await S(i),body:s})}}(e,t,r,n,s,o);return async function(e,t,r=fetch){let n;try{n=await r(e,t)}catch(t){!function(e,t){let r=e;"AbortError"===r.name?(r=new b(`Request aborted when fetching ${t.toString()}: ${e.message}`),r.stack=e.stack):e instanceof g||e instanceof y||(r=new f(`Error fetching from ${t.toString()}: ${e.message}`),r.stack=e.stack);throw r}(t,e)}n.ok||await async function(e,t){let r,n="";try{const t=await e.json();n=t.error.message,t.error.details&&(n+=` ${JSON.stringify(t.error.details)}`,r=t.error.details)}catch(e){}throw new g(`Error fetching from ${t.toString()}: [${e.status} ${e.statusText}] ${n}`,e.status,e.statusText,r)}(n,e);return n}(a,c,i)}function E(e){const t={};if(void 0!==(null==e?void 0:e.signal)||(null==e?void 0:e.timeout)>=0){const r=new AbortController;(null==e?void 0:e.timeout)>=0&&setTimeout(()=>r.abort(),e.timeout),(null==e?void 0:e.signal)&&e.signal.addEventListener("abort",()=>{r.abort()}),t.signal=r.signal}return t}
/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function P(e){return e.text=()=>{if(e.candidates&&e.candidates.length>0){if(e.candidates.length>1&&console.warn(`This response had ${e.candidates.length} candidates. Returning text from the first candidate only. Access response.candidates directly to use the other candidates.`),A(e.candidates[0]))throw new m(`${x(e)}`,e);return function(e){var t,r,n,s;const o=[];if(null===(r=null===(t=e.candidates)||void 0===t?void 0:t[0].content)||void 0===r?void 0:r.parts)for(const t of null===(s=null===(n=e.candidates)||void 0===n?void 0:n[0].content)||void 0===s?void 0:s.parts)t.text&&o.push(t.text),t.executableCode&&o.push("\n```"+t.executableCode.language+"\n"+t.executableCode.code+"\n```\n"),t.codeExecutionResult&&o.push("\n```\n"+t.codeExecutionResult.output+"\n```\n");return o.length>0?o.join(""):""}(e)}if(e.promptFeedback)throw new m(`Text not available. ${x(e)}`,e);return""},e.functionCall=()=>{if(e.candidates&&e.candidates.length>0){if(e.candidates.length>1&&console.warn(`This response had ${e.candidates.length} candidates. Returning function calls from the first candidate only. Access response.candidates directly to use the other candidates.`),A(e.candidates[0]))throw new m(`${x(e)}`,e);return console.warn("response.functionCall() is deprecated. Use response.functionCalls() instead."),C(e)[0]}if(e.promptFeedback)throw new m(`Function call not available. ${x(e)}`,e)},e.functionCalls=()=>{if(e.candidates&&e.candidates.length>0){if(e.candidates.length>1&&console.warn(`This response had ${e.candidates.length} candidates. Returning function calls from the first candidate only. Access response.candidates directly to use the other candidates.`),A(e.candidates[0]))throw new m(`${x(e)}`,e);return C(e)}if(e.promptFeedback)throw new m(`Function call not available. ${x(e)}`,e)},e}function C(e){var t,r,n,s;const o=[];if(null===(r=null===(t=e.candidates)||void 0===t?void 0:t[0].content)||void 0===r?void 0:r.parts)for(const t of null===(s=null===(n=e.candidates)||void 0===n?void 0:n[0].content)||void 0===s?void 0:s.parts)t.functionCall&&o.push(t.functionCall);return o.length>0?o:void 0}const O=[t.FinishReason.RECITATION,t.FinishReason.SAFETY,t.FinishReason.LANGUAGE];function A(e){return!!e.finishReason&&O.includes(e.finishReason)}function x(e){var t,r,n;let s="";if(e.candidates&&0!==e.candidates.length||!e.promptFeedback){if(null===(n=e.candidates)||void 0===n?void 0:n[0]){const t=e.candidates[0];A(t)&&(s+=`Candidate was blocked due to ${t.finishReason}`,t.finishMessage&&(s+=`: ${t.finishMessage}`))}}else s+="Response was blocked",(null===(t=e.promptFeedback)||void 0===t?void 0:t.blockReason)&&(s+=` due to ${e.promptFeedback.blockReason}`),(null===(r=e.promptFeedback)||void 0===r?void 0:r.blockReasonMessage)&&(s+=`: ${e.promptFeedback.blockReasonMessage}`);return s}function I(e){return this instanceof I?(this.v=e,this):new I(e)}function R(e,t,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n,s=r.apply(e,t||[]),o=[];return n={},i("next"),i("throw"),i("return"),n[Symbol.asyncIterator]=function(){return this},n;function i(e){s[e]&&(n[e]=function(t){return new Promise(function(r,n){o.push([e,t,r,n])>1||a(e,t)})})}function a(e,t){try{(r=s[e](t)).value instanceof I?Promise.resolve(r.value.v).then(c,l):d(o[0][2],r)}catch(e){d(o[0][3],e)}var r}function c(e){a("next",e)}function l(e){a("throw",e)}function d(e,t){e(t),o.shift(),o.length&&a(o[0][0],o[0][1])}}"function"==typeof SuppressedError&&SuppressedError;
/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
const T=/^data\: (.*)(?:\n\n|\r\r|\r\n\r\n)/;function D(e){const t=function(e){const t=e.getReader();return new ReadableStream({start(e){let r="";return n();function n(){return t.read().then(({value:t,done:s})=>{if(s)return r.trim()?void e.error(new f("Failed to parse stream")):void e.close();r+=t;let o,i=r.match(T);for(;i;){try{o=JSON.parse(i[1])}catch(t){return void e.error(new f(`Error parsing JSON response: "${i[1]}"`))}e.enqueue(o),r=r.substring(i[0].length),i=r.match(T)}return n()}).catch(e=>{let t=e;throw t.stack=e.stack,t="AbortError"===t.name?new b("Request aborted when reading from the stream"):new f("Error reading from the stream"),t})}}})}(e.body.pipeThrough(new TextDecoderStream("utf8",{fatal:!0}))),[r,n]=t.tee();return{stream:j(r),response:N(n)}}async function N(e){const t=[],r=e.getReader();for(;;){const{done:e,value:n}=await r.read();if(e)return P(k(t));t.push(n)}}function j(e){return R(this,arguments,function*(){const t=e.getReader();for(;;){const{value:e,done:r}=yield I(t.read());if(r)break;yield yield I(P(e))}})}function k(e){const t=e[e.length-1],r={promptFeedback:null==t?void 0:t.promptFeedback};for(const t of e){if(t.candidates){let e=0;for(const n of t.candidates)if(r.candidates||(r.candidates=[]),r.candidates[e]||(r.candidates[e]={index:e}),r.candidates[e].citationMetadata=n.citationMetadata,r.candidates[e].groundingMetadata=n.groundingMetadata,r.candidates[e].finishReason=n.finishReason,r.candidates[e].finishMessage=n.finishMessage,r.candidates[e].safetyRatings=n.safetyRatings,n.content&&n.content.parts){r.candidates[e].content||(r.candidates[e].content={role:n.content.role||"user",parts:[]});const t={};for(const s of n.content.parts)s.text&&(t.text=s.text),s.functionCall&&(t.functionCall=s.functionCall),s.executableCode&&(t.executableCode=s.executableCode),s.codeExecutionResult&&(t.codeExecutionResult=s.codeExecutionResult),0===Object.keys(t).length&&(t.text=""),r.candidates[e].content.parts.push(t)}e++}t.usageMetadata&&(r.usageMetadata=t.usageMetadata)}return r}
/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function M(e,t,r,n){return D(await w(t,v.STREAM_GENERATE_CONTENT,e,!0,JSON.stringify(r),n))}async function L(e,t,r,n){const s=await w(t,v.GENERATE_CONTENT,e,!1,JSON.stringify(r),n);return{response:P(await s.json())}}
/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function F(e){if(null!=e)return"string"==typeof e?{role:"system",parts:[{text:e}]}:e.text?{role:"system",parts:[e]}:e.parts?e.role?e:{role:"system",parts:e.parts}:void 0}function $(e){let t=[];if("string"==typeof e)t=[{text:e}];else for(const r of e)"string"==typeof r?t.push({text:r}):t.push(r);return function(e){const t={role:"user",parts:[]},r={role:"function",parts:[]};let n=!1,s=!1;for(const o of e)"functionResponse"in o?(r.parts.push(o),s=!0):(t.parts.push(o),n=!0);if(n&&s)throw new f("Within a single message, FunctionResponse cannot be mixed with other type of part in the request for sending chat message.");if(!n&&!s)throw new f("No content is provided for sending chat message.");if(n)return t;return r}(t)}function U(e){let t;if(e.contents)t=e;else{t={contents:[$(e)]}}return e.systemInstruction&&(t.systemInstruction=F(e.systemInstruction)),t}
/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
const B=["text","inlineData","functionCall","functionResponse","executableCode","codeExecutionResult"],H={user:["text","inlineData"],function:["functionResponse"],model:["text","functionCall","executableCode","codeExecutionResult"],system:["text"]};function G(e){var t;if(void 0===e.candidates||0===e.candidates.length)return!1;const r=null===(t=e.candidates[0])||void 0===t?void 0:t.content;if(void 0===r)return!1;if(void 0===r.parts||0===r.parts.length)return!1;for(const e of r.parts){if(void 0===e||0===Object.keys(e).length)return!1;if(void 0!==e.text&&""===e.text)return!1}return!0}
/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z="SILENT_ERROR";class q{constructor(e,t,r,n={}){this.model=t,this.params=r,this._requestOptions=n,this._history=[],this._sendPromise=Promise.resolve(),this._apiKey=e,(null==r?void 0:r.history)&&(!function(e){let t=!1;for(const r of e){const{role:e,parts:n}=r;if(!t&&"user"!==e)throw new f(`First content should be with role 'user', got ${e}`);if(!o.includes(e))throw new f(`Each item should include role field. Got ${e} but valid roles are: ${JSON.stringify(o)}`);if(!Array.isArray(n))throw new f("Content should have 'parts' property with an array of Parts");if(0===n.length)throw new f("Each Content should have at least one part");const s={text:0,inlineData:0,functionCall:0,functionResponse:0,fileData:0,executableCode:0,codeExecutionResult:0};for(const e of n)for(const t of B)t in e&&(s[t]+=1);const i=H[e];for(const t of B)if(!i.includes(t)&&s[t]>0)throw new f(`Content with role '${e}' can't contain '${t}' part`);t=!0}}(r.history),this._history=r.history)}async getHistory(){return await this._sendPromise,this._history}async sendMessage(e,t={}){var r,n,s,o,i,a;await this._sendPromise;const c=$(e),l={safetySettings:null===(r=this.params)||void 0===r?void 0:r.safetySettings,generationConfig:null===(n=this.params)||void 0===n?void 0:n.generationConfig,tools:null===(s=this.params)||void 0===s?void 0:s.tools,toolConfig:null===(o=this.params)||void 0===o?void 0:o.toolConfig,systemInstruction:null===(i=this.params)||void 0===i?void 0:i.systemInstruction,cachedContent:null===(a=this.params)||void 0===a?void 0:a.cachedContent,contents:[...this._history,c]},d=Object.assign(Object.assign({},this._requestOptions),t);let u;return this._sendPromise=this._sendPromise.then(()=>L(this._apiKey,this.model,l,d)).then(e=>{var t;if(G(e.response)){this._history.push(c);const r=Object.assign({parts:[],role:"model"},null===(t=e.response.candidates)||void 0===t?void 0:t[0].content);this._history.push(r)}else{const t=x(e.response);t&&console.warn(`sendMessage() was unsuccessful. ${t}. Inspect response object for details.`)}u=e}).catch(e=>{throw this._sendPromise=Promise.resolve(),e}),await this._sendPromise,u}async sendMessageStream(e,t={}){var r,n,s,o,i,a;await this._sendPromise;const c=$(e),l={safetySettings:null===(r=this.params)||void 0===r?void 0:r.safetySettings,generationConfig:null===(n=this.params)||void 0===n?void 0:n.generationConfig,tools:null===(s=this.params)||void 0===s?void 0:s.tools,toolConfig:null===(o=this.params)||void 0===o?void 0:o.toolConfig,systemInstruction:null===(i=this.params)||void 0===i?void 0:i.systemInstruction,cachedContent:null===(a=this.params)||void 0===a?void 0:a.cachedContent,contents:[...this._history,c]},d=Object.assign(Object.assign({},this._requestOptions),t),u=M(this._apiKey,this.model,l,d);return this._sendPromise=this._sendPromise.then(()=>u).catch(e=>{throw new Error(z)}).then(e=>e.response).then(e=>{if(G(e)){this._history.push(c);const t=Object.assign({},e.candidates[0].content);t.role||(t.role="model"),this._history.push(t)}else{const t=x(e);t&&console.warn(`sendMessageStream() was unsuccessful. ${t}. Inspect response object for details.`)}}).catch(e=>{e.message!==z&&console.error(e)}),u}}
/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class W{constructor(e,t,r={}){this.apiKey=e,this._requestOptions=r,t.model.includes("/")?this.model=t.model:this.model=`models/${t.model}`,this.generationConfig=t.generationConfig||{},this.safetySettings=t.safetySettings||[],this.tools=t.tools,this.toolConfig=t.toolConfig,this.systemInstruction=F(t.systemInstruction),this.cachedContent=t.cachedContent}async generateContent(e,t={}){var r;const n=U(e),s=Object.assign(Object.assign({},this._requestOptions),t);return L(this.apiKey,this.model,Object.assign({generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,cachedContent:null===(r=this.cachedContent)||void 0===r?void 0:r.name},n),s)}async generateContentStream(e,t={}){var r;const n=U(e),s=Object.assign(Object.assign({},this._requestOptions),t);return M(this.apiKey,this.model,Object.assign({generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,cachedContent:null===(r=this.cachedContent)||void 0===r?void 0:r.name},n),s)}startChat(e){var t;return new q(this.apiKey,this.model,Object.assign({generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,cachedContent:null===(t=this.cachedContent)||void 0===t?void 0:t.name},e),this._requestOptions)}async countTokens(e,t={}){const r=function(e,t){var r;let n={model:null==t?void 0:t.model,generationConfig:null==t?void 0:t.generationConfig,safetySettings:null==t?void 0:t.safetySettings,tools:null==t?void 0:t.tools,toolConfig:null==t?void 0:t.toolConfig,systemInstruction:null==t?void 0:t.systemInstruction,cachedContent:null===(r=null==t?void 0:t.cachedContent)||void 0===r?void 0:r.name,contents:[]};const s=null!=e.generateContentRequest;if(e.contents){if(s)throw new y("CountTokensRequest must have one of contents or generateContentRequest, not both.");n.contents=e.contents}else if(s)n=Object.assign(Object.assign({},n),e.generateContentRequest);else{const t=$(e);n.contents=[t]}return{generateContentRequest:n}}(e,{model:this.model,generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,cachedContent:this.cachedContent}),n=Object.assign(Object.assign({},this._requestOptions),t);return async function(e,t,r,n){return(await w(t,v.COUNT_TOKENS,e,!1,JSON.stringify(r),n)).json()}
/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(this.apiKey,this.model,r,n)}async embedContent(e,t={}){const r=function(e){if("string"==typeof e||Array.isArray(e))return{content:$(e)};return e}(e),n=Object.assign(Object.assign({},this._requestOptions),t);return async function(e,t,r,n){return(await w(t,v.EMBED_CONTENT,e,!1,JSON.stringify(r),n)).json()}(this.apiKey,this.model,r,n)}async batchEmbedContents(e,t={}){const r=Object.assign(Object.assign({},this._requestOptions),t);return async function(e,t,r,n){const s=r.requests.map(e=>Object.assign(Object.assign({},e),{model:t}));return(await w(t,v.BATCH_EMBED_CONTENTS,e,!1,JSON.stringify({requests:s}),n)).json()}(this.apiKey,this.model,e,r)}}
/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */t.ChatSession=q,t.GenerativeModel=W,t.GoogleGenerativeAI=class{constructor(e){this.apiKey=e}getGenerativeModel(e,t){if(!e.model)throw new f("Must provide a model name. Example: genai.getGenerativeModel({ model: 'my-model-name' })");return new W(this.apiKey,e,t)}getGenerativeModelFromCachedContent(e,t,r){if(!e.name)throw new y("Cached content must contain a `name` field.");if(!e.model)throw new y("Cached content must contain a `model` field.");const n=["model","systemInstruction"];for(const r of n)if((null==t?void 0:t[r])&&e[r]&&(null==t?void 0:t[r])!==e[r]){if("model"===r){if((t.model.startsWith("models/")?t.model.replace("models/",""):t.model)===(e.model.startsWith("models/")?e.model.replace("models/",""):e.model))continue}throw new y(`Different value for "${r}" specified in modelParams (${t[r]}) and cachedContent (${e[r]})`)}const s=Object.assign(Object.assign({},t),{model:e.model,tools:e.tools,toolConfig:e.toolConfig,systemInstruction:e.systemInstruction,cachedContent:e});return new W(this.apiKey,s,r)}},t.GoogleGenerativeAIAbortError=b,t.GoogleGenerativeAIError=f,t.GoogleGenerativeAIFetchError=g,t.GoogleGenerativeAIRequestInputError=y,t.GoogleGenerativeAIResponseError=m,t.POSSIBLE_ROLES=o},9316:(e,t,r)=>{var n,s=Object.defineProperty,o=Object.getOwnPropertyDescriptor,i=Object.getOwnPropertyNames,a=Object.prototype.hasOwnProperty,c=(e,t)=>s(e,"name",{value:t,configurable:!0}),l={};((e,t)=>{for(var r in t)s(e,r,{get:t[r],enumerable:!0})})(l,{CONFIG_USE_DUALSTACK_ENDPOINT:()=>p,CONFIG_USE_FIPS_ENDPOINT:()=>g,DEFAULT_USE_DUALSTACK_ENDPOINT:()=>h,DEFAULT_USE_FIPS_ENDPOINT:()=>y,ENV_USE_DUALSTACK_ENDPOINT:()=>u,ENV_USE_FIPS_ENDPOINT:()=>m,NODE_REGION_CONFIG_FILE_OPTIONS:()=>O,NODE_REGION_CONFIG_OPTIONS:()=>C,NODE_USE_DUALSTACK_ENDPOINT_CONFIG_OPTIONS:()=>f,NODE_USE_FIPS_ENDPOINT_CONFIG_OPTIONS:()=>b,REGION_ENV_NAME:()=>E,REGION_INI_NAME:()=>P,getRegionInfo:()=>j,resolveCustomEndpointsConfig:()=>_,resolveEndpointsConfig:()=>w,resolveRegionConfig:()=>I}),e.exports=(n=l,((e,t,r,n)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let c of i(t))a.call(e,c)||c===r||s(e,c,{get:()=>t[c],enumerable:!(n=o(t,c))||n.enumerable});return e})(s({},"__esModule",{value:!0}),n));var d=r(6716),u="AWS_USE_DUALSTACK_ENDPOINT",p="use_dualstack_endpoint",h=!1,f={environmentVariableSelector:e=>(0,d.booleanSelector)(e,u,d.SelectorType.ENV),configFileSelector:e=>(0,d.booleanSelector)(e,p,d.SelectorType.CONFIG),default:!1},m="AWS_USE_FIPS_ENDPOINT",g="use_fips_endpoint",y=!1,b={environmentVariableSelector:e=>(0,d.booleanSelector)(e,m,d.SelectorType.ENV),configFileSelector:e=>(0,d.booleanSelector)(e,g,d.SelectorType.CONFIG),default:!1},v=r(6324),_=c(e=>{const{tls:t,endpoint:r,urlParser:n,useDualstackEndpoint:s}=e;return Object.assign(e,{tls:t??!0,endpoint:(0,v.normalizeProvider)("string"==typeof r?n(r):r),isCustomEndpoint:!0,useDualstackEndpoint:(0,v.normalizeProvider)(s??!1)})},"resolveCustomEndpointsConfig"),S=c(async e=>{const{tls:t=!0}=e,r=await e.region();if(!new RegExp(/^([a-zA-Z0-9]|[a-zA-Z0-9][a-zA-Z0-9-]{0,61}[a-zA-Z0-9])$/).test(r))throw new Error("Invalid region in client config");const n=await e.useDualstackEndpoint(),s=await e.useFipsEndpoint(),{hostname:o}=await e.regionInfoProvider(r,{useDualstackEndpoint:n,useFipsEndpoint:s})??{};if(!o)throw new Error("Cannot resolve hostname from client config");return e.urlParser(`${t?"https:":"http:"}//${o}`)},"getEndpointFromRegion"),w=c(e=>{const t=(0,v.normalizeProvider)(e.useDualstackEndpoint??!1),{endpoint:r,useFipsEndpoint:n,urlParser:s,tls:o}=e;return Object.assign(e,{tls:o??!0,endpoint:r?(0,v.normalizeProvider)("string"==typeof r?s(r):r):()=>S({...e,useDualstackEndpoint:t,useFipsEndpoint:n}),isCustomEndpoint:!!r,useDualstackEndpoint:t})},"resolveEndpointsConfig"),E="AWS_REGION",P="region",C={environmentVariableSelector:e=>e[E],configFileSelector:e=>e[P],default:()=>{throw new Error("Region is missing")}},O={preferredFile:"credentials"},A=c(e=>"string"==typeof e&&(e.startsWith("fips-")||e.endsWith("-fips")),"isFipsRegion"),x=c(e=>A(e)?["fips-aws-global","aws-fips"].includes(e)?"us-east-1":e.replace(/fips-(dkr-|prod-)?|-fips/,""):e,"getRealRegion"),I=c(e=>{const{region:t,useFipsEndpoint:r}=e;if(!t)throw new Error("Region is missing");return Object.assign(e,{region:async()=>{if("string"==typeof t)return x(t);const e=await t();return x(e)},useFipsEndpoint:async()=>{const e="string"==typeof t?t:await t();return!!A(e)||("function"!=typeof r?Promise.resolve(!!r):r())}})},"resolveRegionConfig"),R=c((e=[],{useFipsEndpoint:t,useDualstackEndpoint:r})=>e.find(({tags:e})=>t===e.includes("fips")&&r===e.includes("dualstack"))?.hostname,"getHostnameFromVariants"),T=c((e,{regionHostname:t,partitionHostname:r})=>t||(r?r.replace("{region}",e):void 0),"getResolvedHostname"),D=c((e,{partitionHash:t})=>Object.keys(t||{}).find(r=>t[r].regions.includes(e))??"aws","getResolvedPartition"),N=c((e,{signingRegion:t,regionRegex:r,useFipsEndpoint:n})=>{if(t)return t;if(n){const t=r.replace("\\\\","\\").replace(/^\^/g,"\\.").replace(/\$$/g,"\\."),n=e.match(t);if(n)return n[0].slice(1,-1)}},"getResolvedSigningRegion"),j=c((e,{useFipsEndpoint:t=!1,useDualstackEndpoint:r=!1,signingService:n,regionHash:s,partitionHash:o})=>{const i=D(e,{partitionHash:o}),a=e in s?e:o[i]?.endpoint??e,c={useFipsEndpoint:t,useDualstackEndpoint:r},l=R(s[a]?.variants,c),d=R(o[i]?.variants,c),u=T(a,{regionHostname:l,partitionHostname:d});if(void 0===u)throw new Error(`Endpoint resolution failed for: ${{resolvedRegion:a,useFipsEndpoint:t,useDualstackEndpoint:r}}`);const p=N(u,{signingRegion:s[a]?.signingRegion,regionRegex:o[i].regionRegex,useFipsEndpoint:t});return{partition:i,signingService:n,hostname:u,...p&&{signingRegion:p},...s[a]?.signingService&&{signingService:s[a].signingService}}},"getRegionInfo")},402:(e,t,r)=>{var n,s=Object.defineProperty,o=Object.getOwnPropertyDescriptor,i=Object.getOwnPropertyNames,a=Object.prototype.hasOwnProperty,c=(e,t)=>s(e,"name",{value:t,configurable:!0}),l={};((e,t)=>{for(var r in t)s(e,r,{get:t[r],enumerable:!0})})(l,{DefaultIdentityProviderConfig:()=>D,EXPIRATION_MS:()=>L,HttpApiKeyAuthSigner:()=>N,HttpBearerAuthSigner:()=>j,NoAuthSigner:()=>k,createIsIdentityExpiredFunction:()=>M,createPaginator:()=>x,doesIdentityRequireRefresh:()=>$,getHttpAuthSchemeEndpointRuleSetPlugin:()=>y,getHttpAuthSchemePlugin:()=>v,getHttpSigningPlugin:()=>C,getSmithyContext:()=>u,httpAuthSchemeEndpointRuleSetMiddlewareOptions:()=>g,httpAuthSchemeMiddleware:()=>m,httpAuthSchemeMiddlewareOptions:()=>b,httpSigningMiddleware:()=>E,httpSigningMiddlewareOptions:()=>P,isIdentityExpired:()=>F,memoizeIdentityProvider:()=>U,normalizeProvider:()=>O,requestBuilder:()=>R.requestBuilder,setFeature:()=>T}),e.exports=(n=l,((e,t,r,n)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let c of i(t))a.call(e,c)||c===r||s(e,c,{get:()=>t[c],enumerable:!(n=o(t,c))||n.enumerable});return e})(s({},"__esModule",{value:!0}),n));var d=r(690),u=c(e=>e[d.SMITHY_CONTEXT_KEY]||(e[d.SMITHY_CONTEXT_KEY]={}),"getSmithyContext"),p=r(6324),h=c((e,t)=>{if(!t||0===t.length)return e;const r=[];for(const n of t)for(const t of e){t.schemeId.split("#")[1]===n&&r.push(t)}for(const t of e)r.find(({schemeId:e})=>e===t.schemeId)||r.push(t);return r},"resolveAuthOptions");function f(e){const t=new Map;for(const r of e)t.set(r.schemeId,r);return t}c(f,"convertHttpAuthSchemesToMap");var m=c((e,t)=>(r,n)=>async s=>{const o=e.httpAuthSchemeProvider(await t.httpAuthSchemeParametersProvider(e,n,s.input)),i=e.authSchemePreference?await e.authSchemePreference():[],a=h(o,i),c=f(e.httpAuthSchemes),l=(0,p.getSmithyContext)(n),d=[];for(const r of a){const s=c.get(r.schemeId);if(!s){d.push(`HttpAuthScheme \`${r.schemeId}\` was not enabled for this service.`);continue}const o=s.identityProvider(await t.identityProviderConfigProvider(e));if(!o){d.push(`HttpAuthScheme \`${r.schemeId}\` did not have an IdentityProvider configured.`);continue}const{identityProperties:i={},signingProperties:a={}}=r.propertiesExtractor?.(e,n)||{};r.identityProperties=Object.assign(r.identityProperties||{},i),r.signingProperties=Object.assign(r.signingProperties||{},a),l.selectedHttpAuthScheme={httpAuthOption:r,identity:await o(r.identityProperties),signer:s.signer};break}if(!l.selectedHttpAuthScheme)throw new Error(d.join("\n"));return r(s)},"httpAuthSchemeMiddleware"),g={step:"serialize",tags:["HTTP_AUTH_SCHEME"],name:"httpAuthSchemeMiddleware",override:!0,relation:"before",toMiddleware:"endpointV2Middleware"},y=c((e,{httpAuthSchemeParametersProvider:t,identityProviderConfigProvider:r})=>({applyToStack:n=>{n.addRelativeTo(m(e,{httpAuthSchemeParametersProvider:t,identityProviderConfigProvider:r}),g)}}),"getHttpAuthSchemeEndpointRuleSetPlugin"),b={step:"serialize",tags:["HTTP_AUTH_SCHEME"],name:"httpAuthSchemeMiddleware",override:!0,relation:"before",toMiddleware:r(3255).serializerMiddlewareOption.name},v=c((e,{httpAuthSchemeParametersProvider:t,identityProviderConfigProvider:r})=>({applyToStack:n=>{n.addRelativeTo(m(e,{httpAuthSchemeParametersProvider:t,identityProviderConfigProvider:r}),b)}}),"getHttpAuthSchemePlugin"),_=r(2356),S=c(e=>e=>{throw e},"defaultErrorHandler"),w=c((e,t)=>{},"defaultSuccessHandler"),E=c(e=>(e,t)=>async r=>{if(!_.HttpRequest.isInstance(r.request))return e(r);const n=(0,p.getSmithyContext)(t).selectedHttpAuthScheme;if(!n)throw new Error("No HttpAuthScheme was selected: unable to sign request");const{httpAuthOption:{signingProperties:s={}},identity:o,signer:i}=n,a=await e({...r,request:await i.sign(r.request,o,s)}).catch((i.errorHandler||S)(s));return(i.successHandler||w)(a.response,s),a},"httpSigningMiddleware"),P={step:"finalizeRequest",tags:["HTTP_SIGNING"],name:"httpSigningMiddleware",aliases:["apiKeyMiddleware","tokenMiddleware","awsAuthMiddleware"],override:!0,relation:"after",toMiddleware:"retryMiddleware"},C=c(e=>({applyToStack:t=>{t.addRelativeTo(E(e),P)}}),"getHttpSigningPlugin"),O=c(e=>{if("function"==typeof e)return e;const t=Promise.resolve(e);return()=>t},"normalizeProvider"),A=c(async(e,t,r,n=e=>e,...s)=>{let o=new e(r);return o=n(o)??o,await t.send(o,...s)},"makePagedClientRequest");function x(e,t,r,n,s){return c(async function*(o,i,...a){const c=i;let l,d=o.startingToken??c[r],u=!0;for(;u;){if(c[r]=d,s&&(c[s]=c[s]??o.pageSize),!(o.client instanceof e))throw new Error(`Invalid client, expected instance of ${e.name}`);l=await A(t,o.client,i,o.withCommand,...a),yield l;const p=d;d=I(l,n),u=!(!d||o.stopOnSameToken&&d===p)}},"paginateOperation")}c(x,"createPaginator");var I=c((e,t)=>{let r=e;const n=t.split(".");for(const e of n){if(!r||"object"!=typeof r)return;r=r[e]}return r},"get"),R=r(3422);function T(e,t,r){e.__smithy_context?e.__smithy_context.features||(e.__smithy_context.features={}):e.__smithy_context={features:{}},e.__smithy_context.features[t]=r}c(T,"setFeature");var D=class{constructor(e){this.authSchemes=new Map;for(const[t,r]of Object.entries(e))void 0!==r&&this.authSchemes.set(t,r)}static{c(this,"DefaultIdentityProviderConfig")}getIdentityProvider(e){return this.authSchemes.get(e)}},N=class{static{c(this,"HttpApiKeyAuthSigner")}async sign(e,t,r){if(!r)throw new Error("request could not be signed with `apiKey` since the `name` and `in` signer properties are missing");if(!r.name)throw new Error("request could not be signed with `apiKey` since the `name` signer property is missing");if(!r.in)throw new Error("request could not be signed with `apiKey` since the `in` signer property is missing");if(!t.apiKey)throw new Error("request could not be signed with `apiKey` since the `apiKey` is not defined");const n=_.HttpRequest.clone(e);if(r.in===d.HttpApiKeyAuthLocation.QUERY)n.query[r.name]=t.apiKey;else{if(r.in!==d.HttpApiKeyAuthLocation.HEADER)throw new Error("request can only be signed with `apiKey` locations `query` or `header`, but found: `"+r.in+"`");n.headers[r.name]=r.scheme?`${r.scheme} ${t.apiKey}`:t.apiKey}return n}},j=class{static{c(this,"HttpBearerAuthSigner")}async sign(e,t,r){const n=_.HttpRequest.clone(e);if(!t.token)throw new Error("request could not be signed with `token` since the `token` is not defined");return n.headers.Authorization=`Bearer ${t.token}`,n}},k=class{static{c(this,"NoAuthSigner")}async sign(e,t,r){return e}},M=c(e=>t=>$(t)&&t.expiration.getTime()-Date.now()<e,"createIsIdentityExpiredFunction"),L=3e5,F=M(L),$=c(e=>void 0!==e.expiration,"doesIdentityRequireRefresh"),U=c((e,t,r)=>{if(void 0===e)return;const n="function"!=typeof e?async()=>Promise.resolve(e):e;let s,o,i,a=!1;const l=c(async e=>{o||(o=n(e));try{s=await o,i=!0,a=!1}finally{o=void 0}return s},"coalesceProvider");return void 0===t?async e=>(i&&!e?.forceRefresh||(s=await l(e)),s):async e=>(i&&!e?.forceRefresh||(s=await l(e)),a?s:r(s)?t(s)?(await l(e),s):s:(a=!0,s))},"memoizeIdentityProvider")},3422:(e,t,r)=>{var n,s=Object.defineProperty,o=Object.getOwnPropertyDescriptor,i=Object.getOwnPropertyNames,a=Object.prototype.hasOwnProperty,c={};((e,t)=>{for(var r in t)s(e,r,{get:t[r],enumerable:!0})})(c,{FromStringShapeDeserializer:()=>N,HttpBindingProtocol:()=>v,HttpInterceptingShapeDeserializer:()=>M,HttpInterceptingShapeSerializer:()=>H,RequestBuilder:()=>O,RpcProtocol:()=>w,ToStringShapeSerializer:()=>B,collectBody:()=>d,determineTimestampFormat:()=>D,extendedEncodeURIComponent:()=>u,requestBuilder:()=>C,resolvedPath:()=>P}),e.exports=(n=c,((e,t,r,n)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let c of i(t))a.call(e,c)||c===r||s(e,c,{get:()=>t[c],enumerable:!(n=o(t,c))||n.enumerable});return e})(s({},"__esModule",{value:!0}),n));var l=r(4252),d=async(e=new Uint8Array,t)=>{if(e instanceof Uint8Array)return l.Uint8ArrayBlobAdapter.mutate(e);if(!e)return l.Uint8ArrayBlobAdapter.mutate(new Uint8Array);const r=t.streamCollector(e);return l.Uint8ArrayBlobAdapter.mutate(await r)};function u(e){return encodeURIComponent(e).replace(/[!'()*]/g,function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()})}var p=r(6890),h=r(2430),f=r(2356),m=r(4252),g=r(6890),y=r(2356),b=class{constructor(e){this.options=e}getRequestType(){return y.HttpRequest}getResponseType(){return y.HttpResponse}setSerdeContext(e){this.serdeContext=e,this.serializer.setSerdeContext(e),this.deserializer.setSerdeContext(e),this.getPayloadCodec()&&this.getPayloadCodec().setSerdeContext(e)}updateServiceEndpoint(e,t){if("url"in t){e.protocol=t.url.protocol,e.hostname=t.url.hostname,e.port=t.url.port?Number(t.url.port):void 0,e.path=t.url.pathname,e.fragment=t.url.hash||void 0,e.username=t.url.username||void 0,e.password=t.url.password||void 0;for(const[r,n]of t.url.searchParams.entries())e.query||(e.query={}),e.query[r]=n;return e}return e.protocol=t.protocol,e.hostname=t.hostname,e.port=t.port?Number(t.port):void 0,e.path=t.path,e.query={...t.query},e}setHostPrefix(e,t,r){const n=g.NormalizedSchema.of(t),s=g.NormalizedSchema.of(t.input);if(n.getMergedTraits().endpoint){let t=n.getMergedTraits().endpoint?.[0];if("string"==typeof t){const n=[...s.structIterator()].filter(([,e])=>e.getMergedTraits().hostLabel);for(const[e]of n){const n=r[e];if("string"!=typeof n)throw new Error(`@smithy/core/schema - ${e} in input must be a string as hostLabel.`);t=t.replace(`{${e}}`,n)}e.hostname=t+e.hostname}}}deserializeMetadata(e){return{httpStatusCode:e.statusCode,requestId:e.headers["x-amzn-requestid"]??e.headers["x-amzn-request-id"]??e.headers["x-amz-request-id"],extendedRequestId:e.headers["x-amz-id-2"],cfId:e.headers["x-amz-cf-id"]}}async deserializeHttpMessage(e,t,r,n,s){return[]}},v=class extends b{async serializeRequest(e,t,r){const n={...t??{}},s=this.serializer,o={},i={},a=await r.endpoint(),c=p.NormalizedSchema.of(e?.input),l=c.getSchema();let d,h=!1;const m=new f.HttpRequest({protocol:"",hostname:"",port:void 0,path:"",fragment:void 0,query:o,headers:i,body:void 0});if(a){this.updateServiceEndpoint(m,a),this.setHostPrefix(m,e,n);const t=p.NormalizedSchema.translateTraits(e.traits);if(t.http){m.method=t.http[0];const[e,r]=t.http[1].split("?");"/"==m.path?m.path=e:m.path+=e;const n=new URLSearchParams(r??"");Object.assign(o,Object.fromEntries(n))}}for(const[e,t]of c.structIterator()){const r=t.getMergedTraits()??{},a=n[e];if(null!=a)if(r.httpPayload){if(t.isStreaming()){if(t.isStructSchema())throw new Error("serialization of event streams is not yet implemented");d=a}else s.write(t,a),d=s.flush();delete n[e]}else if(r.httpLabel){s.write(t,a);const r=s.flush();m.path.includes(`{${e}+}`)?m.path=m.path.replace(`{${e}+}`,r.split("/").map(u).join("/")):m.path.includes(`{${e}}`)&&(m.path=m.path.replace(`{${e}}`,u(r))),delete n[e]}else if(r.httpHeader)s.write(t,a),i[r.httpHeader.toLowerCase()]=String(s.flush()),delete n[e];else if("string"==typeof r.httpPrefixHeaders){for(const[e,n]of Object.entries(a)){const o=r.httpPrefixHeaders+e;s.write([t.getValueSchema(),{httpHeader:o}],n),i[o.toLowerCase()]=s.flush()}delete n[e]}else r.httpQuery||r.httpQueryParams?(this.serializeQuery(t,a,o),delete n[e]):h=!0}return h&&n&&(s.write(l,n),d=s.flush()),m.headers=i,m.query=o,m.body=d,m}serializeQuery(e,t,r){const n=this.serializer,s=e.getMergedTraits();if(s.httpQueryParams)for(const[n,o]of Object.entries(t))n in r||this.serializeQuery(p.NormalizedSchema.of([e.getValueSchema(),{...s,httpQuery:n,httpQueryParams:void 0}]),o,r);else if(e.isListSchema()){const o=!!e.getMergedTraits().sparse,i=[];for(const r of t){n.write([e.getValueSchema(),s],r);const t=n.flush();(o||void 0!==t)&&i.push(t)}r[s.httpQuery]=i}else n.write([e,s],t),r[s.httpQuery]=n.flush()}async deserializeResponse(e,t,r){const n=this.deserializer,s=p.NormalizedSchema.of(e.output),o={};if(r.statusCode>=300){const s=await d(r.body,t);throw s.byteLength>0&&Object.assign(o,await n.read(p.SCHEMA.DOCUMENT,s)),await this.handleError(e,t,r,o,this.deserializeMetadata(r)),new Error("@smithy/core/protocols - HTTP Protocol error handler failed to throw.")}for(const e in r.headers){const t=r.headers[e];delete r.headers[e],r.headers[e.toLowerCase()]=t}const i=await this.deserializeHttpMessage(s,t,r,o);if(i.length){const e=await d(r.body,t);if(e.byteLength>0){const t=await n.read(s,e);for(const e of i)o[e]=t[e]}}return{$metadata:this.deserializeMetadata(r),...o}}async deserializeHttpMessage(e,t,r,n,s){let o;o=n instanceof Set?s:n;const i=this.deserializer,a=p.NormalizedSchema.of(e),c=[];for(const[e,n]of a.structIterator()){const s=n.getMemberTraits();if(s.httpPayload){if(n.isStreaming()){if(n.isStructSchema()){const t=this.serdeContext;if(!t.eventStreamMarshaller)throw new Error("@smithy/core - HttpProtocol: eventStreamMarshaller missing in serdeContext.");const s=n.getMemberSchemas();o[e]=t.eventStreamMarshaller.deserialize(r.body,async e=>{const t=Object.keys(e).find(e=>"__type"!==e)??"";if(t in s){const r=s[t];return{[t]:await i.read(r,e[t].body)}}return{$unknown:e}})}else o[e]=(0,m.sdkStreamMixin)(r.body)}else if(r.body){const s=await d(r.body,t);s.byteLength>0&&(o[e]=await i.read(n,s))}}else if(s.httpHeader){const t=String(s.httpHeader).toLowerCase(),a=r.headers[t];if(null!=a)if(n.isListSchema()){const r=n.getValueSchema();let s;s=r.isTimestampSchema()&&r.getSchema()===p.SCHEMA.TIMESTAMP_DEFAULT?(0,h.splitEvery)(a,",",2):(0,h.splitHeader)(a);const c=[];for(const e of s)c.push(await i.read([r,{httpHeader:t}],e.trim()));o[e]=c}else o[e]=await i.read(n,a)}else if(void 0!==s.httpPrefixHeaders){o[e]={};for(const[t,a]of Object.entries(r.headers))t.startsWith(s.httpPrefixHeaders)&&(o[e][t.slice(s.httpPrefixHeaders.length)]=await i.read([n.getValueSchema(),{httpHeader:t}],a))}else s.httpResponseCode?o[e]=r.statusCode:c.push(e)}return c}},_=r(6890),S=r(2356),w=class extends b{async serializeRequest(e,t,r){const n=this.serializer,s={},o={},i=await r.endpoint(),a=_.NormalizedSchema.of(e?.input).getSchema();let c;const l=new S.HttpRequest({protocol:"",hostname:"",port:void 0,path:"/",fragment:void 0,query:s,headers:o,body:void 0});i&&(this.updateServiceEndpoint(l,i),this.setHostPrefix(l,e,t));const d={...t};return t&&(n.write(a,d),c=n.flush()),l.headers=o,l.query=s,l.body=c,l.method="POST",l}async deserializeResponse(e,t,r){const n=this.deserializer,s=_.NormalizedSchema.of(e.output),o={};if(r.statusCode>=300){const s=await d(r.body,t);throw s.byteLength>0&&Object.assign(o,await n.read(_.SCHEMA.DOCUMENT,s)),await this.handleError(e,t,r,o,this.deserializeMetadata(r)),new Error("@smithy/core/protocols - RPC Protocol error handler failed to throw.")}for(const e in r.headers){const t=r.headers[e];delete r.headers[e],r.headers[e.toLowerCase()]=t}const i=await d(r.body,t);i.byteLength>0&&Object.assign(o,await n.read(s,i));return{$metadata:this.deserializeMetadata(r),...o}}},E=r(2356),P=(e,t,r,n,s,o)=>{if(null==t||void 0===t[r])throw new Error("No value provided for input HTTP label: "+r+".");{const t=n();if(t.length<=0)throw new Error("Empty value provided for input HTTP label: "+r+".");e=e.replace(s,o?t.split("/").map(e=>u(e)).join("/"):u(t))}return e};function C(e,t){return new O(e,t)}var O=class{constructor(e,t){this.input=e,this.context=t,this.query={},this.method="",this.headers={},this.path="",this.body=null,this.hostname="",this.resolvePathStack=[]}async build(){const{hostname:e,protocol:t="https",port:r,path:n}=await this.context.endpoint();this.path=n;for(const e of this.resolvePathStack)e(this.path);return new E.HttpRequest({protocol:t,hostname:this.hostname||e,port:r,method:this.method,path:this.path,query:this.query,body:this.body,headers:this.headers})}hn(e){return this.hostname=e,this}bp(e){return this.resolvePathStack.push(t=>{this.path=`${t?.endsWith("/")?t.slice(0,-1):t||""}`+e}),this}p(e,t,r,n){return this.resolvePathStack.push(s=>{this.path=P(s,this.input,e,t,r,n)}),this}h(e){return this.headers=e,this}q(e){return this.query=e,this}b(e){return this.body=e,this}m(e){return this.method=e,this}},A=r(6890),x=r(2430),I=r(8385),R=r(1577),T=r(6890);function D(e,t){if(t.timestampFormat.useTrait&&e.isTimestampSchema()&&(e.getSchema()===T.SCHEMA.TIMESTAMP_DATE_TIME||e.getSchema()===T.SCHEMA.TIMESTAMP_HTTP_DATE||e.getSchema()===T.SCHEMA.TIMESTAMP_EPOCH_SECONDS))return e.getSchema();const{httpLabel:r,httpPrefixHeaders:n,httpHeader:s,httpQuery:o}=e.getMergedTraits();return(t.httpBindings?"string"==typeof n||Boolean(s)?T.SCHEMA.TIMESTAMP_HTTP_DATE:Boolean(o)||Boolean(r)?T.SCHEMA.TIMESTAMP_DATE_TIME:void 0:void 0)??t.timestampFormat.default}var N=class{constructor(e){this.settings=e}setSerdeContext(e){this.serdeContext=e}read(e,t){const r=A.NormalizedSchema.of(e);if(r.isListSchema())return(0,x.splitHeader)(t).map(e=>this.read(r.getValueSchema(),e));if(r.isBlobSchema())return(this.serdeContext?.base64Decoder??I.fromBase64)(t);if(r.isTimestampSchema()){switch(D(r,this.settings)){case A.SCHEMA.TIMESTAMP_DATE_TIME:return(0,x.parseRfc3339DateTimeWithOffset)(t);case A.SCHEMA.TIMESTAMP_HTTP_DATE:return(0,x.parseRfc7231DateTime)(t);case A.SCHEMA.TIMESTAMP_EPOCH_SECONDS:return(0,x.parseEpochTimestamp)(t);default:return console.warn("Missing timestamp format, parsing value with Date constructor:",t),new Date(t)}}if(r.isStringSchema()){const e=r.getMergedTraits().mediaType;let n=t;if(e){r.getMergedTraits().httpHeader&&(n=this.base64ToUtf8(n));return("application/json"===e||e.endsWith("+json"))&&(n=x.LazyJsonString.from(n)),n}}switch(!0){case r.isNumericSchema():return Number(t);case r.isBigIntegerSchema():return BigInt(t);case r.isBigDecimalSchema():return new x.NumericValue(t,"bigDecimal");case r.isBooleanSchema():return"true"===String(t).toLowerCase()}return t}base64ToUtf8(e){return(this.serdeContext?.utf8Encoder??R.toUtf8)((this.serdeContext?.base64Decoder??I.fromBase64)(e))}},j=r(6890),k=r(1577),M=class{constructor(e,t){this.codecDeserializer=e,this.stringDeserializer=new N(t)}setSerdeContext(e){this.stringDeserializer.setSerdeContext(e),this.codecDeserializer.setSerdeContext(e),this.serdeContext=e}read(e,t){const r=j.NormalizedSchema.of(e),n=r.getMergedTraits(),s=this.serdeContext?.utf8Encoder??k.toUtf8;if(n.httpHeader||n.httpResponseCode)return this.stringDeserializer.read(r,s(t));if(n.httpPayload){if(r.isBlobSchema()){const e=this.serdeContext?.utf8Decoder??k.fromUtf8;return"string"==typeof t?e(t):t}if(r.isStringSchema())return"byteLength"in t?s(t):t}return this.codecDeserializer.read(r,t)}},L=r(6890),F=r(6890),$=r(2430),U=r(8385),B=class{constructor(e){this.settings=e,this.stringBuffer="",this.serdeContext=void 0}setSerdeContext(e){this.serdeContext=e}write(e,t){const r=F.NormalizedSchema.of(e);switch(typeof t){case"object":if(null===t)return void(this.stringBuffer="null");if(r.isTimestampSchema()){if(!(t instanceof Date))throw new Error(`@smithy/core/protocols - received non-Date value ${t} when schema expected Date in ${r.getName(!0)}`);switch(D(r,this.settings)){case F.SCHEMA.TIMESTAMP_DATE_TIME:this.stringBuffer=t.toISOString().replace(".000Z","Z");break;case F.SCHEMA.TIMESTAMP_HTTP_DATE:this.stringBuffer=(0,$.dateToUtcString)(t);break;case F.SCHEMA.TIMESTAMP_EPOCH_SECONDS:this.stringBuffer=String(t.getTime()/1e3);break;default:console.warn("Missing timestamp format, using epoch seconds",t),this.stringBuffer=String(t.getTime()/1e3)}return}if(r.isBlobSchema()&&"byteLength"in t)return void(this.stringBuffer=(this.serdeContext?.base64Encoder??U.toBase64)(t));if(r.isListSchema()&&Array.isArray(t)){let e="";for(const n of t){this.write([r.getValueSchema(),r.getMergedTraits()],n);const t=this.flush();""!==e&&(e+=", "),e+=r.getValueSchema().isTimestampSchema()?t:(0,$.quoteHeader)(t)}return void(this.stringBuffer=e)}this.stringBuffer=JSON.stringify(t,null,2);break;case"string":const e=r.getMergedTraits().mediaType;let n=t;if(e){if(("application/json"===e||e.endsWith("+json"))&&(n=$.LazyJsonString.from(n)),r.getMergedTraits().httpHeader)return void(this.stringBuffer=(this.serdeContext?.base64Encoder??U.toBase64)(n.toString()))}this.stringBuffer=t;break;default:this.stringBuffer=String(t)}}flush(){const e=this.stringBuffer;return this.stringBuffer="",e}},H=class{constructor(e,t,r=new B(t)){this.codecSerializer=e,this.stringSerializer=r}setSerdeContext(e){this.codecSerializer.setSerdeContext(e),this.stringSerializer.setSerdeContext(e)}write(e,t){const r=L.NormalizedSchema.of(e),n=r.getMergedTraits();return n.httpHeader||n.httpLabel||n.httpQuery?(this.stringSerializer.write(r,t),void(this.buffer=this.stringSerializer.flush())):this.codecSerializer.write(r,t)}flush(){if(void 0!==this.buffer){const e=this.buffer;return this.buffer=void 0,e}return this.codecSerializer.flush()}}},6890:(e,t,r)=>{var n,s=Object.defineProperty,o=Object.getOwnPropertyDescriptor,i=Object.getOwnPropertyNames,a=Object.prototype.hasOwnProperty,c={};((e,t)=>{for(var r in t)s(e,r,{get:t[r],enumerable:!0})})(c,{ErrorSchema:()=>I,ListSchema:()=>S,MapSchema:()=>E,NormalizedSchema:()=>j,OperationSchema:()=>C,SCHEMA:()=>T,Schema:()=>_,SimpleSchema:()=>D,StructureSchema:()=>A,TypeRegistry:()=>v,deref:()=>l,deserializerMiddlewareOption:()=>g,error:()=>R,getSchemaSerdePlugin:()=>b,list:()=>w,map:()=>P,op:()=>O,serializerMiddlewareOption:()=>y,sim:()=>N,struct:()=>x}),e.exports=(n=c,((e,t,r,n)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let c of i(t))a.call(e,c)||c===r||s(e,c,{get:()=>t[c],enumerable:!(n=o(t,c))||n.enumerable});return e})(s({},"__esModule",{value:!0}),n));var l=e=>"function"==typeof e?e():e,d=r(2356),u=r(6324),p=e=>(t,r)=>async n=>{const{response:s}=await t(n),{operationSchema:o}=(0,u.getSmithyContext)(r);try{return{response:s,output:await e.protocol.deserializeResponse(o,{...e,...r},s)}}catch(e){if(Object.defineProperty(e,"$response",{value:s}),!("$metadata"in e)){const t="Deserialization error: to see the raw response, inspect the hidden field {error}.$response on this object.";try{e.message+="\n  "+t}catch(e){r.logger&&"NoOpLogger"!==r.logger?.constructor?.name?r.logger?.warn?.(t):console.warn(t)}void 0!==e.$responseBodyText&&e.$response&&(e.$response.body=e.$responseBodyText);try{if(d.HttpResponse.isInstance(s)){const{headers:t={}}=s,r=Object.entries(t);e.$metadata={httpStatusCode:s.statusCode,requestId:h(/^x-[\w-]+-request-?id$/,r),extendedRequestId:h(/^x-[\w-]+-id-2$/,r),cfId:h(/^x-[\w-]+-cf-id$/,r)}}}catch(e){}}throw e}},h=(e,t)=>(t.find(([t])=>t.match(e))||[void 0,void 0])[1],f=r(6324),m=e=>(t,r)=>async n=>{const{operationSchema:s}=(0,f.getSmithyContext)(r),o=r.endpointV2?.url&&e.urlParser?async()=>e.urlParser(r.endpointV2.url):e.endpoint,i=await e.protocol.serializeRequest(s,n.input,{...e,...r,endpoint:o});return t({...n,request:i})},g={name:"deserializerMiddleware",step:"deserialize",tags:["DESERIALIZER"],override:!0},y={name:"serializerMiddleware",step:"serialize",tags:["SERIALIZER"],override:!0};function b(e){return{applyToStack:t=>{t.add(m(e),y),t.add(p(e),g),e.protocol.setSerdeContext(e)}}}var v=class e{constructor(e,t=new Map){this.namespace=e,this.schemas=t}static{this.registries=new Map}static for(t){return e.registries.has(t)||e.registries.set(t,new e(t)),e.registries.get(t)}register(t,r){const n=this.normalizeShapeId(t);e.for(this.getNamespace(t)).schemas.set(n,r)}getSchema(e){const t=this.normalizeShapeId(e);if(!this.schemas.has(t))throw new Error(`@smithy/core/schema - schema not found for ${t}`);return this.schemas.get(t)}getBaseException(){for(const[e,t]of this.schemas.entries())if(e.startsWith("smithy.ts.sdk.synthetic.")&&e.endsWith("ServiceException"))return t}find(e){return[...this.schemas.values()].find(e)}destroy(){e.registries.delete(this.namespace),this.schemas.clear()}normalizeShapeId(e){return e.includes("#")?e:this.namespace+"#"+e}getNamespace(e){return this.normalizeShapeId(e).split("#")[0]}},_=class{constructor(e,t){this.name=e,this.traits=t}},S=class e extends _{constructor(t,r,n){super(t,r),this.name=t,this.traits=r,this.valueSchema=n,this.symbol=e.symbol}static{this.symbol=Symbol.for("@smithy/core/schema::ListSchema")}static[Symbol.hasInstance](t){const r=e.prototype.isPrototypeOf(t);if(!r&&"object"==typeof t&&null!==t){return t.symbol===e.symbol}return r}};function w(e,t,r={},n){const s=new S(e+"#"+t,r,"function"==typeof n?n():n);return v.for(e).register(t,s),s}var E=class e extends _{constructor(t,r,n,s){super(t,r),this.name=t,this.traits=r,this.keySchema=n,this.valueSchema=s,this.symbol=e.symbol}static{this.symbol=Symbol.for("@smithy/core/schema::MapSchema")}static[Symbol.hasInstance](t){const r=e.prototype.isPrototypeOf(t);if(!r&&"object"==typeof t&&null!==t){return t.symbol===e.symbol}return r}};function P(e,t,r={},n,s){const o=new E(e+"#"+t,r,n,"function"==typeof s?s():s);return v.for(e).register(t,o),o}var C=class extends _{constructor(e,t,r,n){super(e,t),this.name=e,this.traits=t,this.input=r,this.output=n}};function O(e,t,r={},n,s){const o=new C(e+"#"+t,r,n,s);return v.for(e).register(t,o),o}var A=class e extends _{constructor(t,r,n,s){super(t,r),this.name=t,this.traits=r,this.memberNames=n,this.memberList=s,this.symbol=e.symbol,this.members={};for(let e=0;e<n.length;++e)this.members[n[e]]=Array.isArray(s[e])?s[e]:[s[e],0]}static{this.symbol=Symbol.for("@smithy/core/schema::StructureSchema")}static[Symbol.hasInstance](t){const r=e.prototype.isPrototypeOf(t);if(!r&&"object"==typeof t&&null!==t){return t.symbol===e.symbol}return r}};function x(e,t,r,n,s){const o=new A(e+"#"+t,r,n,s);return v.for(e).register(t,o),o}var I=class e extends A{constructor(t,r,n,s,o){super(t,r,n,s),this.name=t,this.traits=r,this.memberNames=n,this.memberList=s,this.ctor=o,this.symbol=e.symbol}static{this.symbol=Symbol.for("@smithy/core/schema::ErrorSchema")}static[Symbol.hasInstance](t){const r=e.prototype.isPrototypeOf(t);if(!r&&"object"==typeof t&&null!==t){return t.symbol===e.symbol}return r}};function R(e,t,r={},n,s,o){const i=new I(e+"#"+t,r,n,s,o);return v.for(e).register(t,i),i}var T={BLOB:21,STREAMING_BLOB:42,BOOLEAN:2,STRING:0,NUMERIC:1,BIG_INTEGER:17,BIG_DECIMAL:19,DOCUMENT:15,TIMESTAMP_DEFAULT:4,TIMESTAMP_DATE_TIME:5,TIMESTAMP_HTTP_DATE:6,TIMESTAMP_EPOCH_SECONDS:7,LIST_MODIFIER:64,MAP_MODIFIER:128},D=class e extends _{constructor(t,r,n){super(t,n),this.name=t,this.schemaRef=r,this.traits=n,this.symbol=e.symbol}static{this.symbol=Symbol.for("@smithy/core/schema::SimpleSchema")}static[Symbol.hasInstance](t){const r=e.prototype.isPrototypeOf(t);if(!r&&"object"==typeof t&&null!==t){return t.symbol===e.symbol}return r}};function N(e,t,r,n){const s=new D(e+"#"+t,r,n);return v.for(e).register(t,s),s}var j=class e{constructor(t,r){this.ref=t,this.memberName=r,this.symbol=e.symbol;const n=[];let s=t,o=t;for(this._isMemberSchema=!1;Array.isArray(s);)n.push(s[1]),s=s[0],o=l(s),this._isMemberSchema=!0;if(n.length>0){this.memberTraits={};for(let t=n.length-1;t>=0;--t){const r=n[t];Object.assign(this.memberTraits,e.translateTraits(r))}}else this.memberTraits=0;if(o instanceof e)return this.name=o.name,this.traits=o.traits,this._isMemberSchema=o._isMemberSchema,this.schema=o.schema,this.memberTraits=Object.assign({},o.getMemberTraits(),this.getMemberTraits()),this.normalizedTraits=void 0,this.ref=o.ref,void(this.memberName=r??o.memberName);if(this.schema=l(o),this.schema&&"object"==typeof this.schema?this.traits=this.schema?.traits??{}:this.traits=0,this.name=("object"==typeof this.schema?this.schema?.name:void 0)??this.memberName??this.getSchemaName(),this._isMemberSchema&&!r)throw new Error(`@smithy/core/schema - NormalizedSchema member schema ${this.getName(!0)} must initialize with memberName argument.`)}static{this.symbol=Symbol.for("@smithy/core/schema::NormalizedSchema")}static[Symbol.hasInstance](t){const r=e.prototype.isPrototypeOf(t);if(!r&&"object"==typeof t&&null!==t){return t.symbol===e.symbol}return r}static of(t,r){return t instanceof e?t:new e(t,r)}static translateTraits(e){if("object"==typeof e)return e;const t={};return 1&~(e|=0)||(t.httpLabel=1),1==(e>>1&1)&&(t.idempotent=1),1==(e>>2&1)&&(t.idempotencyToken=1),1==(e>>3&1)&&(t.sensitive=1),1==(e>>4&1)&&(t.httpPayload=1),1==(e>>5&1)&&(t.httpResponseCode=1),1==(e>>6&1)&&(t.httpQueryParams=1),t}static memberFrom(t,r){return t instanceof e?(t.memberName=r,t._isMemberSchema=!0,t):new e(t,r)}getSchema(){return this.schema instanceof e?this.schema=this.schema.getSchema():this.schema instanceof D?l(this.schema.schemaRef):l(this.schema)}getName(e=!1){return!e&&this.name&&this.name.includes("#")?this.name.split("#")[1]:this.name||void 0}getMemberName(){if(!this.isMemberSchema())throw new Error(`@smithy/core/schema - cannot get member name on non-member schema: ${this.getName(!0)}`);return this.memberName}isMemberSchema(){return this._isMemberSchema}isUnitSchema(){return"unit"===this.getSchema()}isListSchema(){const e=this.getSchema();return"number"==typeof e?e>=T.LIST_MODIFIER&&e<T.MAP_MODIFIER:e instanceof S}isMapSchema(){const e=this.getSchema();return"number"==typeof e?e>=T.MAP_MODIFIER&&e<=255:e instanceof E}isDocumentSchema(){return this.getSchema()===T.DOCUMENT}isStructSchema(){const e=this.getSchema();return null!==e&&"object"==typeof e&&"members"in e||e instanceof A}isBlobSchema(){return this.getSchema()===T.BLOB||this.getSchema()===T.STREAMING_BLOB}isTimestampSchema(){const e=this.getSchema();return"number"==typeof e&&e>=T.TIMESTAMP_DEFAULT&&e<=T.TIMESTAMP_EPOCH_SECONDS}isStringSchema(){return this.getSchema()===T.STRING}isBooleanSchema(){return this.getSchema()===T.BOOLEAN}isNumericSchema(){return this.getSchema()===T.NUMERIC}isBigIntegerSchema(){return this.getSchema()===T.BIG_INTEGER}isBigDecimalSchema(){return this.getSchema()===T.BIG_DECIMAL}isStreaming(){return!!this.getMergedTraits().streaming||this.getSchema()===T.STREAMING_BLOB}isIdempotencyToken(){return"number"==typeof this.traits?!(4&~this.traits):"object"==typeof this.traits&&!!this.traits.idempotencyToken}getMergedTraits(){return this.normalizedTraits||(this.normalizedTraits={...this.getOwnTraits(),...this.getMemberTraits()}),this.normalizedTraits}getMemberTraits(){return e.translateTraits(this.memberTraits)}getOwnTraits(){return e.translateTraits(this.traits)}getKeySchema(){if(this.isDocumentSchema())return e.memberFrom([T.DOCUMENT,0],"key");if(!this.isMapSchema())throw new Error(`@smithy/core/schema - cannot get key schema for non-map schema: ${this.getName(!0)}`);const t=this.getSchema();return"number"==typeof t?e.memberFrom([63&t,0],"key"):e.memberFrom([t.keySchema,0],"key")}getValueSchema(){const t=this.getSchema();if("number"==typeof t){if(this.isMapSchema())return e.memberFrom([63&t,0],"value");if(this.isListSchema())return e.memberFrom([63&t,0],"member")}if(t&&"object"==typeof t){if(this.isStructSchema())throw new Error(`cannot call getValueSchema() with StructureSchema ${this.getName(!0)}`);const r=t;if("valueSchema"in r){if(this.isMapSchema())return e.memberFrom([r.valueSchema,0],"value");if(this.isListSchema())return e.memberFrom([r.valueSchema,0],"member")}}if(this.isDocumentSchema())return e.memberFrom([T.DOCUMENT,0],"value");throw new Error(`@smithy/core/schema - the schema ${this.getName(!0)} does not have a value member.`)}getMemberSchema(t){if(this.isStructSchema()){const r=this.getSchema();if(!(t in r.members))throw new Error(`@smithy/core/schema - the schema ${this.getName(!0)} does not have a member with name=${t}.`);return e.memberFrom(r.members[t],t)}if(this.isDocumentSchema())return e.memberFrom([T.DOCUMENT,0],t);throw new Error(`@smithy/core/schema - the schema ${this.getName(!0)} does not have members.`)}getMemberSchemas(){const{schema:e}=this,t=e;if(!t||"object"!=typeof t)return{};if("members"in t){const e={};for(const r of t.memberNames)e[r]=this.getMemberSchema(r);return e}return{}}*structIterator(){if(this.isUnitSchema())return;if(!this.isStructSchema())throw new Error("@smithy/core/schema - cannot acquire structIterator on non-struct schema.");const t=this.getSchema();for(let r=0;r<t.memberNames.length;++r)yield[t.memberNames[r],e.memberFrom([t.memberList[r],0],t.memberNames[r])]}getSchemaName(){const e=this.getSchema();if("number"==typeof e){const t=63&e,r=192&e,n=Object.entries(T).find(([,e])=>e===t)?.[0]??"Unknown";switch(r){case T.MAP_MODIFIER:return`${n}Map`;case T.LIST_MODIFIER:return`${n}List`;case 0:return n}}return"Unknown"}}},2430:(e,t,r)=>{var n,s=Object.defineProperty,o=Object.getOwnPropertyDescriptor,i=Object.getOwnPropertyNames,a=Object.prototype.hasOwnProperty,c={};((e,t)=>{for(var r in t)s(e,r,{get:t[r],enumerable:!0})})(c,{LazyJsonString:()=>he,NumericValue:()=>ye,copyDocumentWithTransform:()=>l,dateToUtcString:()=>q,expectBoolean:()=>u,expectByte:()=>v,expectFloat32:()=>f,expectInt:()=>g,expectInt32:()=>y,expectLong:()=>m,expectNonNull:()=>w,expectNumber:()=>p,expectObject:()=>E,expectShort:()=>b,expectString:()=>P,expectUnion:()=>C,generateIdempotencyToken:()=>pe.v4,handleFloat:()=>D,limitedParseDouble:()=>T,limitedParseFloat:()=>N,limitedParseFloat32:()=>j,logger:()=>H,nv:()=>be,parseBoolean:()=>d,parseEpochTimestamp:()=>ee,parseRfc3339DateTime:()=>V,parseRfc3339DateTimeWithOffset:()=>K,parseRfc7231DateTime:()=>Z,quoteHeader:()=>fe,splitEvery:()=>me,splitHeader:()=>ge,strictParseByte:()=>U,strictParseDouble:()=>O,strictParseFloat:()=>A,strictParseFloat32:()=>x,strictParseInt:()=>L,strictParseInt32:()=>F,strictParseLong:()=>M,strictParseShort:()=>$}),e.exports=(n=c,((e,t,r,n)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let c of i(t))a.call(e,c)||c===r||s(e,c,{get:()=>t[c],enumerable:!(n=o(t,c))||n.enumerable});return e})(s({},"__esModule",{value:!0}),n));var l=(e,t,r=e=>e)=>e,d=e=>{switch(e){case"true":return!0;case"false":return!1;default:throw new Error(`Unable to parse boolean value "${e}"`)}},u=e=>{if(null!=e){if("number"==typeof e){if(0!==e&&1!==e||H.warn(B(`Expected boolean, got ${typeof e}: ${e}`)),0===e)return!1;if(1===e)return!0}if("string"==typeof e){const t=e.toLowerCase();if("false"!==t&&"true"!==t||H.warn(B(`Expected boolean, got ${typeof e}: ${e}`)),"false"===t)return!1;if("true"===t)return!0}if("boolean"==typeof e)return e;throw new TypeError(`Expected boolean, got ${typeof e}: ${e}`)}},p=e=>{if(null!=e){if("string"==typeof e){const t=parseFloat(e);if(!Number.isNaN(t))return String(t)!==String(e)&&H.warn(B(`Expected number but observed string: ${e}`)),t}if("number"==typeof e)return e;throw new TypeError(`Expected number, got ${typeof e}: ${e}`)}},h=Math.ceil(2**127*(2-2**-23)),f=e=>{const t=p(e);if(void 0!==t&&!Number.isNaN(t)&&t!==1/0&&t!==-1/0&&Math.abs(t)>h)throw new TypeError(`Expected 32-bit float, got ${e}`);return t},m=e=>{if(null!=e){if(Number.isInteger(e)&&!Number.isNaN(e))return e;throw new TypeError(`Expected integer, got ${typeof e}: ${e}`)}},g=m,y=e=>_(e,32),b=e=>_(e,16),v=e=>_(e,8),_=(e,t)=>{const r=m(e);if(void 0!==r&&S(r,t)!==r)throw new TypeError(`Expected ${t}-bit integer, got ${e}`);return r},S=(e,t)=>{switch(t){case 32:return Int32Array.of(e)[0];case 16:return Int16Array.of(e)[0];case 8:return Int8Array.of(e)[0]}},w=(e,t)=>{if(null==e){if(t)throw new TypeError(`Expected a non-null value for ${t}`);throw new TypeError("Expected a non-null value")}return e},E=e=>{if(null==e)return;if("object"==typeof e&&!Array.isArray(e))return e;const t=Array.isArray(e)?"array":typeof e;throw new TypeError(`Expected object, got ${t}: ${e}`)},P=e=>{if(null!=e){if("string"==typeof e)return e;if(["boolean","number","bigint"].includes(typeof e))return H.warn(B(`Expected string, got ${typeof e}: ${e}`)),String(e);throw new TypeError(`Expected string, got ${typeof e}: ${e}`)}},C=e=>{if(null==e)return;const t=E(e),r=Object.entries(t).filter(([,e])=>null!=e).map(([e])=>e);if(0===r.length)throw new TypeError("Unions must have exactly one non-null member. None were found.");if(r.length>1)throw new TypeError(`Unions must have exactly one non-null member. Keys ${r} were not null.`);return t},O=e=>p("string"==typeof e?R(e):e),A=O,x=e=>f("string"==typeof e?R(e):e),I=/(-?(?:0|[1-9]\d*)(?:\.\d+)?(?:[eE][+-]?\d+)?)|(-?Infinity)|(NaN)/g,R=e=>{const t=e.match(I);if(null===t||t[0].length!==e.length)throw new TypeError("Expected real number, got implicit NaN");return parseFloat(e)},T=e=>"string"==typeof e?k(e):p(e),D=T,N=T,j=e=>"string"==typeof e?k(e):f(e),k=e=>{switch(e){case"NaN":return NaN;case"Infinity":return 1/0;case"-Infinity":return-1/0;default:throw new Error(`Unable to parse float value: ${e}`)}},M=e=>m("string"==typeof e?R(e):e),L=M,F=e=>y("string"==typeof e?R(e):e),$=e=>b("string"==typeof e?R(e):e),U=e=>v("string"==typeof e?R(e):e),B=e=>String(new TypeError(e).stack||e).split("\n").slice(0,5).filter(e=>!e.includes("stackTraceWarning")).join("\n"),H={warn:console.warn},G=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],z=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function q(e){const t=e.getUTCFullYear(),r=e.getUTCMonth(),n=e.getUTCDay(),s=e.getUTCDate(),o=e.getUTCHours(),i=e.getUTCMinutes(),a=e.getUTCSeconds(),c=s<10?`0${s}`:`${s}`,l=o<10?`0${o}`:`${o}`,d=i<10?`0${i}`:`${i}`,u=a<10?`0${a}`:`${a}`;return`${G[n]}, ${c} ${z[r]} ${t} ${l}:${d}:${u} GMT`}var W=new RegExp(/^(\d{4})-(\d{2})-(\d{2})[tT](\d{2}):(\d{2}):(\d{2})(?:\.(\d+))?[zZ]$/),V=e=>{if(null==e)return;if("string"!=typeof e)throw new TypeError("RFC-3339 date-times must be expressed as strings");const t=W.exec(e);if(!t)throw new TypeError("Invalid RFC-3339 date-time value");const[r,n,s,o,i,a,c,l]=t,d=$(ue(n)),u=ce(s,"month",1,12),p=ce(o,"day",1,31);return te(d,u,p,{hours:i,minutes:a,seconds:c,fractionalMilliseconds:l})},J=new RegExp(/^(\d{4})-(\d{2})-(\d{2})[tT](\d{2}):(\d{2}):(\d{2})(?:\.(\d+))?(([-+]\d{2}\:\d{2})|[zZ])$/),K=e=>{if(null==e)return;if("string"!=typeof e)throw new TypeError("RFC-3339 date-times must be expressed as strings");const t=J.exec(e);if(!t)throw new TypeError("Invalid RFC-3339 date-time value");const[r,n,s,o,i,a,c,l,d]=t,u=$(ue(n)),p=ce(s,"month",1,12),h=ce(o,"day",1,31),f=te(u,p,h,{hours:i,minutes:a,seconds:c,fractionalMilliseconds:l});return"Z"!=d.toUpperCase()&&f.setTime(f.getTime()-de(d)),f},X=new RegExp(/^(?:Mon|Tue|Wed|Thu|Fri|Sat|Sun), (\d{2}) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) (\d{4}) (\d{1,2}):(\d{2}):(\d{2})(?:\.(\d+))? GMT$/),Q=new RegExp(/^(?:Monday|Tuesday|Wednesday|Thursday|Friday|Saturday|Sunday), (\d{2})-(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)-(\d{2}) (\d{1,2}):(\d{2}):(\d{2})(?:\.(\d+))? GMT$/),Y=new RegExp(/^(?:Mon|Tue|Wed|Thu|Fri|Sat|Sun) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) ( [1-9]|\d{2}) (\d{1,2}):(\d{2}):(\d{2})(?:\.(\d+))? (\d{4})$/),Z=e=>{if(null==e)return;if("string"!=typeof e)throw new TypeError("RFC-7231 date-times must be expressed as strings");let t=X.exec(e);if(t){const[e,r,n,s,o,i,a,c]=t;return te($(ue(s)),se(n),ce(r,"day",1,31),{hours:o,minutes:i,seconds:a,fractionalMilliseconds:c})}if(t=Q.exec(e),t){const[e,r,n,s,o,i,a,c]=t;return ne(te(re(s),se(n),ce(r,"day",1,31),{hours:o,minutes:i,seconds:a,fractionalMilliseconds:c}))}if(t=Y.exec(e),t){const[e,r,n,s,o,i,a,c]=t;return te($(ue(c)),se(r),ce(n.trimLeft(),"day",1,31),{hours:s,minutes:o,seconds:i,fractionalMilliseconds:a})}throw new TypeError("Invalid RFC-7231 date-time value")},ee=e=>{if(null==e)return;let t;if("number"==typeof e)t=e;else if("string"==typeof e)t=O(e);else{if("object"!=typeof e||1!==e.tag)throw new TypeError("Epoch timestamps must be expressed as floating point numbers or their string representation");t=e.value}if(Number.isNaN(t)||t===1/0||t===-1/0)throw new TypeError("Epoch timestamps must be valid, non-Infinite, non-NaN numerics");return new Date(Math.round(1e3*t))},te=(e,t,r,n)=>{const s=t-1;return ie(e,s,r),new Date(Date.UTC(e,s,r,ce(n.hours,"hour",0,23),ce(n.minutes,"minute",0,59),ce(n.seconds,"seconds",0,60),le(n.fractionalMilliseconds)))},re=e=>{const t=(new Date).getUTCFullYear(),r=100*Math.floor(t/100)+$(ue(e));return r<t?r+100:r},ne=e=>e.getTime()-(new Date).getTime()>15768e8?new Date(Date.UTC(e.getUTCFullYear()-100,e.getUTCMonth(),e.getUTCDate(),e.getUTCHours(),e.getUTCMinutes(),e.getUTCSeconds(),e.getUTCMilliseconds())):e,se=e=>{const t=z.indexOf(e);if(t<0)throw new TypeError(`Invalid month: ${e}`);return t+1},oe=[31,28,31,30,31,30,31,31,30,31,30,31],ie=(e,t,r)=>{let n=oe[t];if(1===t&&ae(e)&&(n=29),r>n)throw new TypeError(`Invalid day for ${z[t]} in ${e}: ${r}`)},ae=e=>e%4==0&&(e%100!=0||e%400==0),ce=(e,t,r,n)=>{const s=U(ue(e));if(s<r||s>n)throw new TypeError(`${t} must be between ${r} and ${n}, inclusive`);return s},le=e=>null==e?0:1e3*x("0."+e),de=e=>{const t=e[0];let r=1;if("+"==t)r=1;else{if("-"!=t)throw new TypeError(`Offset direction, ${t}, must be "+" or "-"`);r=-1}return r*(60*Number(e.substring(1,3))+Number(e.substring(4,6)))*60*1e3},ue=e=>{let t=0;for(;t<e.length-1&&"0"===e.charAt(t);)t++;return 0===t?e:e.slice(t)},pe=r(2048),he=function(e){return Object.assign(new String(e),{deserializeJSON:()=>JSON.parse(String(e)),toString:()=>String(e),toJSON:()=>String(e)})};function fe(e){return(e.includes(",")||e.includes('"'))&&(e=`"${e.replace(/"/g,'\\"')}"`),e}function me(e,t,r){if(r<=0||!Number.isInteger(r))throw new Error("Invalid number of delimiters ("+r+") for splitEvery.");const n=e.split(t);if(1===r)return n;const s=[];let o="";for(let e=0;e<n.length;e++)""===o?o=n[e]:o+=t+n[e],(e+1)%r===0&&(s.push(o),o="");return""!==o&&s.push(o),s}he.from=e=>e&&"object"==typeof e&&(e instanceof he||"deserializeJSON"in e)?e:"string"==typeof e||Object.getPrototypeOf(e)===String.prototype?he(String(e)):he(JSON.stringify(e)),he.fromObject=he.from;var ge=e=>{const t=e.length,r=[];let n,s=!1,o=0;for(let i=0;i<t;++i){const t=e[i];switch(t){case'"':"\\"!==n&&(s=!s);break;case",":s||(r.push(e.slice(o,i)),o=i+1)}n=t}return r.push(e.slice(o)),r.map(e=>{const t=(e=e.trim()).length;return t<2?e:('"'===e[0]&&'"'===e[t-1]&&(e=e.slice(1,t-1)),e.replace(/\\"/g,'"'))})},ye=class e{constructor(e,t){this.string=e,this.type=t;let r=0;for(let t=0;t<e.length;++t){const n=e.charCodeAt(t);if(0!==t||45!==n)if(46!==n){if(n<48||n>57)throw new Error('@smithy/core/serde - NumericValue must only contain [0-9], at most one decimal point ".", and an optional negation prefix "-".')}else{if(r)throw new Error("@smithy/core/serde - NumericValue must contain at most one decimal point.");r=1}}}toString(){return this.string}static[Symbol.hasInstance](t){if(!t||"object"!=typeof t)return!1;const r=t,n=e.prototype.isPrototypeOf(t.constructor?.prototype);return n||("string"==typeof r.string&&"string"==typeof r.type&&"NumericValue"===r.constructor?.name||n)}};function be(e){return new ye(String(e),"bigDecimal")}},566:(e,t,r)=>{var n,s=Object.defineProperty,o=Object.getOwnPropertyDescriptor,i=Object.getOwnPropertyNames,a=Object.prototype.hasOwnProperty,c=(e,t)=>s(e,"name",{value:t,configurable:!0}),l={};((e,t)=>{for(var r in t)s(e,r,{get:t[r],enumerable:!0})})(l,{DEFAULT_MAX_RETRIES:()=>b,DEFAULT_TIMEOUT:()=>y,ENV_CMDS_AUTH_TOKEN:()=>E,ENV_CMDS_FULL_URI:()=>S,ENV_CMDS_RELATIVE_URI:()=>w,Endpoint:()=>D,fromContainerMetadata:()=>P,fromInstanceMetadata:()=>q,getInstanceMetadataEndpoint:()=>M,httpRequest:()=>f,providerConfigFromInit:()=>v}),e.exports=(n=l,((e,t,r,n)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let c of i(t))a.call(e,c)||c===r||s(e,c,{get:()=>t[c],enumerable:!(n=o(t,c))||n.enumerable});return e})(s({},"__esModule",{value:!0}),n));var d=r(7016),u=r(1238),p=r(181),h=r(8611);function f(e){return new Promise((t,r)=>{const n=(0,h.request)({method:"GET",...e,hostname:e.hostname?.replace(/^\[(.+)\]$/,"$1")});n.on("error",e=>{r(Object.assign(new u.ProviderError("Unable to connect to instance metadata service"),e)),n.destroy()}),n.on("timeout",()=>{r(new u.ProviderError("TimeoutError from instance metadata service")),n.destroy()}),n.on("response",e=>{const{statusCode:s=400}=e;(s<200||300<=s)&&(r(Object.assign(new u.ProviderError("Error response received from instance metadata service"),{statusCode:s})),n.destroy());const o=[];e.on("data",e=>{o.push(e)}),e.on("end",()=>{t(p.Buffer.concat(o)),n.destroy()})}),n.end()})}c(f,"httpRequest");var m=c(e=>Boolean(e)&&"object"==typeof e&&"string"==typeof e.AccessKeyId&&"string"==typeof e.SecretAccessKey&&"string"==typeof e.Token&&"string"==typeof e.Expiration,"isImdsCredentials"),g=c(e=>({accessKeyId:e.AccessKeyId,secretAccessKey:e.SecretAccessKey,sessionToken:e.Token,expiration:new Date(e.Expiration),...e.AccountId&&{accountId:e.AccountId}}),"fromImdsCredentials"),y=1e3,b=0,v=c(({maxRetries:e=b,timeout:t=y})=>({maxRetries:e,timeout:t}),"providerConfigFromInit"),_=c((e,t)=>{let r=e();for(let n=0;n<t;n++)r=r.catch(e);return r},"retry"),S="AWS_CONTAINER_CREDENTIALS_FULL_URI",w="AWS_CONTAINER_CREDENTIALS_RELATIVE_URI",E="AWS_CONTAINER_AUTHORIZATION_TOKEN",P=c((e={})=>{const{timeout:t,maxRetries:r}=v(e);return()=>_(async()=>{const r=await x({logger:e.logger}),n=JSON.parse(await C(t,r));if(!m(n))throw new u.CredentialsProviderError("Invalid response received from instance metadata service.",{logger:e.logger});return g(n)},r)},"fromContainerMetadata"),C=c(async(e,t)=>{process.env[E]&&(t.headers={...t.headers,Authorization:process.env[E]});return(await f({...t,timeout:e})).toString()},"requestFromEcsImds"),O={localhost:!0,"127.0.0.1":!0},A={"http:":!0,"https:":!0},x=c(async({logger:e})=>{if(process.env[w])return{hostname:"169.254.170.2",path:process.env[w]};if(process.env[S]){const t=(0,d.parse)(process.env[S]);if(!t.hostname||!(t.hostname in O))throw new u.CredentialsProviderError(`${t.hostname} is not a valid container metadata service hostname`,{tryNextLink:!1,logger:e});if(!t.protocol||!(t.protocol in A))throw new u.CredentialsProviderError(`${t.protocol} is not a valid container metadata service protocol`,{tryNextLink:!1,logger:e});return{...t,port:t.port?parseInt(t.port,10):void 0}}throw new u.CredentialsProviderError(`The container metadata credential provider cannot be used unless the ${w} or ${S} environment variable is set`,{tryNextLink:!1,logger:e})},"getCmdsUri"),I=class e extends u.CredentialsProviderError{constructor(t,r=!0){super(t,r),this.tryNextLink=r,this.name="InstanceMetadataV1FallbackError",Object.setPrototypeOf(this,e.prototype)}static{c(this,"InstanceMetadataV1FallbackError")}},R=r(5704),T=r(4494),D=(e=>(e.IPv4="http://169.254.169.254",e.IPv6="http://[fd00:ec2::254]",e))(D||{}),N={environmentVariableSelector:e=>e.AWS_EC2_METADATA_SERVICE_ENDPOINT,configFileSelector:e=>e.ec2_metadata_service_endpoint,default:void 0},j=(e=>(e.IPv4="IPv4",e.IPv6="IPv6",e))(j||{}),k={environmentVariableSelector:e=>e.AWS_EC2_METADATA_SERVICE_ENDPOINT_MODE,configFileSelector:e=>e.ec2_metadata_service_endpoint_mode,default:"IPv4"},M=c(async()=>(0,T.parseUrl)(await L()||await F()),"getInstanceMetadataEndpoint"),L=c(async()=>(0,R.loadConfig)(N)(),"getFromEndpointConfig"),F=c(async()=>{const e=await(0,R.loadConfig)(k)();switch(e){case"IPv4":return"http://169.254.169.254";case"IPv6":return"http://[fd00:ec2::254]";default:throw new Error(`Unsupported endpoint mode: ${e}. Select from ${Object.values(j)}`)}},"getFromEndpointModeConfig"),$=c((e,t)=>{const r=300+Math.floor(300*Math.random()),n=new Date(Date.now()+1e3*r);t.warn(`Attempting credential expiration extension due to a credential service availability issue. A refresh of these credentials will be attempted after ${new Date(n)}.\nFor more information, please visit: https://docs.aws.amazon.com/sdkref/latest/guide/feature-static-credentials.html`);const s=e.originalExpiration??e.expiration;return{...e,...s?{originalExpiration:s}:{},expiration:n}},"getExtendedInstanceMetadataCredentials"),U=c((e,t={})=>{const r=t?.logger||console;let n;return async()=>{let t;try{t=await e(),t.expiration&&t.expiration.getTime()<Date.now()&&(t=$(t,r))}catch(e){if(!n)throw e;r.warn("Credential renew failed: ",e),t=$(n,r)}return n=t,t}},"staticStabilityProvider"),B="/latest/meta-data/iam/security-credentials/",H="AWS_EC2_METADATA_V1_DISABLED",G="ec2_metadata_v1_disabled",z="x-aws-ec2-metadata-token",q=c((e={})=>U(W(e),{logger:e.logger}),"fromInstanceMetadata"),W=c((e={})=>{let t=!1;const{logger:r,profile:n}=e,{timeout:s,maxRetries:o}=v(e),i=c(async(r,s)=>{if(t||null==s.headers?.[z]){let t=!1,r=!1;const s=await(0,R.loadConfig)({environmentVariableSelector:t=>{const n=t[H];if(r=!!n&&"false"!==n,void 0===n)throw new u.CredentialsProviderError(`${H} not set in env, checking config file next.`,{logger:e.logger});return r},configFileSelector:e=>{const r=e[G];return t=!!r&&"false"!==r,t},default:!1},{profile:n})();if(e.ec2MetadataV1Disabled||s){const n=[];throw e.ec2MetadataV1Disabled&&n.push("credential provider initialization (runtime option ec2MetadataV1Disabled)"),t&&n.push(`config file profile (${G})`),r&&n.push(`process environment variable (${H})`),new I(`AWS EC2 Metadata v1 fallback has been blocked by AWS SDK configuration in the following: [${n.join(", ")}].`)}}const o=(await _(async()=>{let e;try{e=await J(s)}catch(e){throw 401===e.statusCode&&(t=!1),e}return e},r)).trim();return _(async()=>{let r;try{r=await K(o,s,e)}catch(e){throw 401===e.statusCode&&(t=!1),e}return r},r)},"getCredentials");return async()=>{const e=await M();if(t)return r?.debug("AWS SDK Instance Metadata","using v1 fallback (no token fetch)"),i(o,{...e,timeout:s});{let n;try{n=(await V({...e,timeout:s})).toString()}catch(n){if(400===n?.statusCode)throw Object.assign(n,{message:"EC2 Metadata token request returned error"});return("TimeoutError"===n.message||[403,404,405].includes(n.statusCode))&&(t=!0),r?.debug("AWS SDK Instance Metadata","using v1 fallback (initial)"),i(o,{...e,timeout:s})}return i(o,{...e,headers:{[z]:n},timeout:s})}}},"getInstanceMetadataProvider"),V=c(async e=>f({...e,path:"/latest/api/token",method:"PUT",headers:{"x-aws-ec2-metadata-token-ttl-seconds":"21600"}}),"getMetadataToken"),J=c(async e=>(await f({...e,path:B})).toString(),"getProfile"),K=c(async(e,t,r)=>{const n=JSON.parse((await f({...t,path:B+e})).toString());if(!m(n))throw new u.CredentialsProviderError("Invalid response received from instance metadata service.",{logger:r.logger});return g(n)},"getCredentialsFromProfile")},7788:(e,t,r)=>{var n,s=Object.defineProperty,o=Object.getOwnPropertyDescriptor,i=Object.getOwnPropertyNames,a=Object.prototype.hasOwnProperty,c=(e,t)=>s(e,"name",{value:t,configurable:!0}),l={};((e,t)=>{for(var r in t)s(e,r,{get:t[r],enumerable:!0})})(l,{EventStreamCodec:()=>A,HeaderMarshaller:()=>f,Int64:()=>p,MessageDecoderStream:()=>x,MessageEncoderStream:()=>I,SmithyMessageDecoderStream:()=>R,SmithyMessageEncoderStream:()=>T}),e.exports=(n=l,((e,t,r,n)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let c of i(t))a.call(e,c)||c===r||s(e,c,{get:()=>t[c],enumerable:!(n=o(t,c))||n.enumerable});return e})(s({},"__esModule",{value:!0}),n));var d=r(2110),u=r(6435),p=class e{constructor(e){if(this.bytes=e,8!==e.byteLength)throw new Error("Int64 buffers must be exactly 8 bytes")}static{c(this,"Int64")}static fromNumber(t){if(t>0x8000000000000000||t<-0x8000000000000000)throw new Error(`${t} is too large (or, if negative, too small) to represent as an Int64`);const r=new Uint8Array(8);for(let e=7,n=Math.abs(Math.round(t));e>-1&&n>0;e--,n/=256)r[e]=n;return t<0&&h(r),new e(r)}valueOf(){const e=this.bytes.slice(0),t=128&e[0];return t&&h(e),parseInt((0,u.toHex)(e),16)*(t?-1:1)}toString(){return String(this.valueOf())}};function h(e){for(let t=0;t<8;t++)e[t]^=255;for(let t=7;t>-1&&(e[t]++,0===e[t]);t--);}c(h,"negate");var f=class{constructor(e,t){this.toUtf8=e,this.fromUtf8=t}static{c(this,"HeaderMarshaller")}format(e){const t=[];for(const r of Object.keys(e)){const n=this.fromUtf8(r);t.push(Uint8Array.from([n.byteLength]),n,this.formatHeaderValue(e[r]))}const r=new Uint8Array(t.reduce((e,t)=>e+t.byteLength,0));let n=0;for(const e of t)r.set(e,n),n+=e.byteLength;return r}formatHeaderValue(e){switch(e.type){case"boolean":return Uint8Array.from([e.value?0:1]);case"byte":return Uint8Array.from([2,e.value]);case"short":const t=new DataView(new ArrayBuffer(3));return t.setUint8(0,3),t.setInt16(1,e.value,!1),new Uint8Array(t.buffer);case"integer":const r=new DataView(new ArrayBuffer(5));return r.setUint8(0,4),r.setInt32(1,e.value,!1),new Uint8Array(r.buffer);case"long":const n=new Uint8Array(9);return n[0]=5,n.set(e.value.bytes,1),n;case"binary":const s=new DataView(new ArrayBuffer(3+e.value.byteLength));s.setUint8(0,6),s.setUint16(1,e.value.byteLength,!1);const o=new Uint8Array(s.buffer);return o.set(e.value,3),o;case"string":const i=this.fromUtf8(e.value),a=new DataView(new ArrayBuffer(3+i.byteLength));a.setUint8(0,7),a.setUint16(1,i.byteLength,!1);const c=new Uint8Array(a.buffer);return c.set(i,3),c;case"timestamp":const l=new Uint8Array(9);return l[0]=8,l.set(p.fromNumber(e.value.valueOf()).bytes,1),l;case"uuid":if(!P.test(e.value))throw new Error(`Invalid UUID received: ${e.value}`);const d=new Uint8Array(17);return d[0]=9,d.set((0,u.fromHex)(e.value.replace(/\-/g,"")),1),d}}parse(e){const t={};let r=0;for(;r<e.byteLength;){const n=e.getUint8(r++),s=this.toUtf8(new Uint8Array(e.buffer,e.byteOffset+r,n));switch(r+=n,e.getUint8(r++)){case 0:t[s]={type:m,value:!0};break;case 1:t[s]={type:m,value:!1};break;case 2:t[s]={type:g,value:e.getInt8(r++)};break;case 3:t[s]={type:y,value:e.getInt16(r,!1)},r+=2;break;case 4:t[s]={type:b,value:e.getInt32(r,!1)},r+=4;break;case 5:t[s]={type:v,value:new p(new Uint8Array(e.buffer,e.byteOffset+r,8))},r+=8;break;case 6:const n=e.getUint16(r,!1);r+=2,t[s]={type:_,value:new Uint8Array(e.buffer,e.byteOffset+r,n)},r+=n;break;case 7:const o=e.getUint16(r,!1);r+=2,t[s]={type:S,value:this.toUtf8(new Uint8Array(e.buffer,e.byteOffset+r,o))},r+=o;break;case 8:t[s]={type:w,value:new Date(new p(new Uint8Array(e.buffer,e.byteOffset+r,8)).valueOf())},r+=8;break;case 9:const i=new Uint8Array(e.buffer,e.byteOffset+r,16);r+=16,t[s]={type:E,value:`${(0,u.toHex)(i.subarray(0,4))}-${(0,u.toHex)(i.subarray(4,6))}-${(0,u.toHex)(i.subarray(6,8))}-${(0,u.toHex)(i.subarray(8,10))}-${(0,u.toHex)(i.subarray(10))}`};break;default:throw new Error("Unrecognized header type tag")}}return t}},m="boolean",g="byte",y="short",b="integer",v="long",_="binary",S="string",w="timestamp",E="uuid",P=/^[a-f0-9]{8}-[a-f0-9]{4}-[a-f0-9]{4}-[a-f0-9]{4}-[a-f0-9]{12}$/,C=r(2110);function O({byteLength:e,byteOffset:t,buffer:r}){if(e<16)throw new Error("Provided message too short to accommodate event stream message overhead");const n=new DataView(r,t,e),s=n.getUint32(0,!1);if(e!==s)throw new Error("Reported message length does not match received message length");const o=n.getUint32(4,!1),i=n.getUint32(8,!1),a=n.getUint32(e-4,!1),c=(new C.Crc32).update(new Uint8Array(r,t,8));if(i!==c.digest())throw new Error(`The prelude checksum specified in the message (${i}) does not match the calculated CRC32 checksum (${c.digest()})`);if(c.update(new Uint8Array(r,t+8,e-12)),a!==c.digest())throw new Error(`The message checksum (${c.digest()}) did not match the expected value of ${a}`);return{headers:new DataView(r,t+8+4,o),body:new Uint8Array(r,t+8+4+o,s-o-16)}}c(O,"splitMessage");var A=class{static{c(this,"EventStreamCodec")}constructor(e,t){this.headerMarshaller=new f(e,t),this.messageBuffer=[],this.isEndOfStream=!1}feed(e){this.messageBuffer.push(this.decode(e))}endOfStream(){this.isEndOfStream=!0}getMessage(){const e=this.messageBuffer.pop(),t=this.isEndOfStream;return{getMessage:()=>e,isEndOfStream:()=>t}}getAvailableMessages(){const e=this.messageBuffer;this.messageBuffer=[];const t=this.isEndOfStream;return{getMessages:()=>e,isEndOfStream:()=>t}}encode({headers:e,body:t}){const r=this.headerMarshaller.format(e),n=r.byteLength+t.byteLength+16,s=new Uint8Array(n),o=new DataView(s.buffer,s.byteOffset,s.byteLength),i=new d.Crc32;return o.setUint32(0,n,!1),o.setUint32(4,r.byteLength,!1),o.setUint32(8,i.update(s.subarray(0,8)).digest(),!1),s.set(r,12),s.set(t,r.byteLength+12),o.setUint32(n-4,i.update(s.subarray(8,n-4)).digest(),!1),s}decode(e){const{headers:t,body:r}=O(e);return{headers:this.headerMarshaller.parse(t),body:r}}formatHeaders(e){return this.headerMarshaller.format(e)}},x=class{constructor(e){this.options=e}static{c(this,"MessageDecoderStream")}[Symbol.asyncIterator](){return this.asyncIterator()}async*asyncIterator(){for await(const e of this.options.inputStream){const t=this.options.decoder.decode(e);yield t}}},I=class{constructor(e){this.options=e}static{c(this,"MessageEncoderStream")}[Symbol.asyncIterator](){return this.asyncIterator()}async*asyncIterator(){for await(const e of this.options.messageStream){const t=this.options.encoder.encode(e);yield t}this.options.includeEndFrame&&(yield new Uint8Array(0))}},R=class{constructor(e){this.options=e}static{c(this,"SmithyMessageDecoderStream")}[Symbol.asyncIterator](){return this.asyncIterator()}async*asyncIterator(){for await(const e of this.options.messageStream){const t=await this.options.deserializer(e);void 0!==t&&(yield t)}}},T=class{constructor(e){this.options=e}static{c(this,"SmithyMessageEncoderStream")}[Symbol.asyncIterator](){return this.asyncIterator()}async*asyncIterator(){for await(const e of this.options.inputStream){const t=this.options.serializer(e);yield t}}}},6895:e=>{var t,r=Object.defineProperty,n=Object.getOwnPropertyDescriptor,s=Object.getOwnPropertyNames,o=Object.prototype.hasOwnProperty,i=(e,t)=>r(e,"name",{value:t,configurable:!0}),a={};((e,t)=>{for(var n in t)r(e,n,{get:t[n],enumerable:!0})})(a,{resolveEventStreamSerdeConfig:()=>c}),e.exports=(t=a,((e,t,i,a)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let c of s(t))o.call(e,c)||c===i||r(e,c,{get:()=>t[c],enumerable:!(a=n(t,c))||a.enumerable});return e})(r({},"__esModule",{value:!0}),t));var c=i(e=>Object.assign(e,{eventStreamMarshaller:e.eventStreamSerdeProvider(e)}),"resolveEventStreamSerdeConfig")},9770:(e,t,r)=>{var n,s=Object.defineProperty,o=Object.getOwnPropertyDescriptor,i=Object.getOwnPropertyNames,a=Object.prototype.hasOwnProperty,c=(e,t)=>s(e,"name",{value:t,configurable:!0}),l={};((e,t)=>{for(var r in t)s(e,r,{get:t[r],enumerable:!0})})(l,{EventStreamMarshaller:()=>h,eventStreamSerdeProvider:()=>f}),e.exports=(n=l,((e,t,r,n)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let c of i(t))a.call(e,c)||c===r||s(e,c,{get:()=>t[c],enumerable:!(n=o(t,c))||n.enumerable});return e})(s({},"__esModule",{value:!0}),n));var d=r(6602),u=r(2203);async function*p(e){let t=!1,r=!1;const n=new Array;for(e.on("error",e=>{if(t||(t=!0),e)throw e}),e.on("data",e=>{n.push(e)}),e.on("end",()=>{t=!0});!r;){const e=await new Promise(e=>setTimeout(()=>e(n.shift()),0));e&&(yield e),r=t&&0===n.length}}c(p,"readabletoIterable");var h=class{static{c(this,"EventStreamMarshaller")}constructor({utf8Encoder:e,utf8Decoder:t}){this.universalMarshaller=new d.EventStreamMarshaller({utf8Decoder:t,utf8Encoder:e})}deserialize(e,t){const r="function"==typeof e[Symbol.asyncIterator]?e:p(e);return this.universalMarshaller.deserialize(r,t)}serialize(e,t){return u.Readable.from(this.universalMarshaller.serialize(e,t))}},f=c(e=>new h(e),"eventStreamSerdeProvider")},6602:(e,t,r)=>{var n,s=Object.defineProperty,o=Object.getOwnPropertyDescriptor,i=Object.getOwnPropertyNames,a=Object.prototype.hasOwnProperty,c=(e,t)=>s(e,"name",{value:t,configurable:!0}),l={};((e,t)=>{for(var r in t)s(e,r,{get:t[r],enumerable:!0})})(l,{EventStreamMarshaller:()=>h,eventStreamSerdeProvider:()=>f}),e.exports=(n=l,((e,t,r,n)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let c of i(t))a.call(e,c)||c===r||s(e,c,{get:()=>t[c],enumerable:!(n=o(t,c))||n.enumerable});return e})(s({},"__esModule",{value:!0}),n));var d=r(7788);function u(e){let t=0,r=0,n=null,s=null;const o=c(e=>{if("number"!=typeof e)throw new Error("Attempted to allocate an event message where size was not a number: "+e);t=e,r=4,n=new Uint8Array(e);new DataView(n.buffer).setUint32(0,e,!1)},"allocateMessage"),i=c(async function*(){const i=e[Symbol.asyncIterator]();for(;;){const{value:e,done:a}=await i.next();if(a){if(!t)return;if(t!==r)throw new Error("Truncated event message received.");return void(yield n)}const c=e.length;let l=0;for(;l<c;){if(!n){const t=c-l;s||(s=new Uint8Array(4));const n=Math.min(4-r,t);if(s.set(e.slice(l,l+n),r),r+=n,l+=n,r<4)break;o(new DataView(s.buffer).getUint32(0,!1)),s=null}const i=Math.min(t-r,c-l);n.set(e.slice(l,l+i),r),r+=i,l+=i,t&&t===r&&(yield n,n=null,t=0,r=0)}}},"iterator");return{[Symbol.asyncIterator]:i}}function p(e,t){return async function(r){const{value:n}=r.headers[":message-type"];if("error"===n){const e=new Error(r.headers[":error-message"].value||"UnknownError");throw e.name=r.headers[":error-code"].value,e}if("exception"===n){const n=r.headers[":exception-type"].value,s={[n]:r},o=await e(s);if(o.$unknown){const e=new Error(t(r.body));throw e.name=n,e}throw o[n]}if("event"===n){const t={[r.headers[":event-type"].value]:r},n=await e(t);if(n.$unknown)return;return n}throw Error(`Unrecognizable event type: ${r.headers[":event-type"].value}`)}}c(u,"getChunkedStream"),c(p,"getMessageUnmarshaller");var h=class{static{c(this,"EventStreamMarshaller")}constructor({utf8Encoder:e,utf8Decoder:t}){this.eventStreamCodec=new d.EventStreamCodec(e,t),this.utfEncoder=e}deserialize(e,t){const r=u(e);return new d.SmithyMessageDecoderStream({messageStream:new d.MessageDecoderStream({inputStream:r,decoder:this.eventStreamCodec}),deserializer:p(t,this.utfEncoder)})}serialize(e,t){return new d.MessageEncoderStream({messageStream:new d.SmithyMessageEncoderStream({inputStream:e,serializer:t}),encoder:this.eventStreamCodec,includeEndFrame:!0})}},f=c(e=>new h(e),"eventStreamSerdeProvider")},7809:(e,t,r)=>{var n,s=Object.defineProperty,o=Object.getOwnPropertyDescriptor,i=Object.getOwnPropertyNames,a=Object.prototype.hasOwnProperty,c=(e,t)=>s(e,"name",{value:t,configurable:!0}),l={};((e,t)=>{for(var r in t)s(e,r,{get:t[r],enumerable:!0})})(l,{FetchHttpHandler:()=>m,keepAliveSupport:()=>f,streamCollector:()=>y}),e.exports=(n=l,((e,t,r,n)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let c of i(t))a.call(e,c)||c===r||s(e,c,{get:()=>t[c],enumerable:!(n=o(t,c))||n.enumerable});return e})(s({},"__esModule",{value:!0}),n));var d=r(2356),u=r(8256);function p(e,t){return new Request(e,t)}function h(e=0){return new Promise((t,r)=>{e&&setTimeout(()=>{const t=new Error(`Request did not complete within ${e} ms`);t.name="TimeoutError",r(t)},e)})}c(p,"createRequest"),c(h,"requestTimeout");var f={supported:void 0},m=class e{static{c(this,"FetchHttpHandler")}static create(t){return"function"==typeof t?.handle?t:new e(t)}constructor(e){"function"==typeof e?this.configProvider=e().then(e=>e||{}):(this.config=e??{},this.configProvider=Promise.resolve(this.config)),void 0===f.supported&&(f.supported=Boolean("undefined"!=typeof Request&&"keepalive"in p("https://[::1]")))}destroy(){}async handle(e,{abortSignal:t,requestTimeout:r}={}){this.config||(this.config=await this.configProvider);const n=r??this.config.requestTimeout,s=!0===this.config.keepAlive,o=this.config.credentials;if(t?.aborted){const e=new Error("Request aborted");return e.name="AbortError",Promise.reject(e)}let i=e.path;const a=(0,u.buildQueryString)(e.query||{});a&&(i+=`?${a}`),e.fragment&&(i+=`#${e.fragment}`);let l="";if(null!=e.username||null!=e.password){l=`${e.username??""}:${e.password??""}@`}const{port:m,method:g}=e,y=`${e.protocol}//${l}${e.hostname}${m?`:${m}`:""}${i}`,b="GET"===g||"HEAD"===g?void 0:e.body,v={body:b,headers:new Headers(e.headers),method:g,credentials:o};this.config?.cache&&(v.cache=this.config.cache),b&&(v.duplex="half"),"undefined"!=typeof AbortController&&(v.signal=t),f.supported&&(v.keepalive=s),"function"==typeof this.config.requestInit&&Object.assign(v,this.config.requestInit(e));let _=c(()=>{},"removeSignalEventListener");const S=p(y,v),w=[fetch(S).then(e=>{const t=e.headers,r={};for(const e of t.entries())r[e[0]]=e[1];return null!=e.body?{response:new d.HttpResponse({headers:r,reason:e.statusText,statusCode:e.status,body:e.body})}:e.blob().then(t=>({response:new d.HttpResponse({headers:r,reason:e.statusText,statusCode:e.status,body:t})}))}),h(n)];return t&&w.push(new Promise((e,r)=>{const n=c(()=>{const e=new Error("Request aborted");e.name="AbortError",r(e)},"onAbort");if("function"==typeof t.addEventListener){const e=t;e.addEventListener("abort",n,{once:!0}),_=c(()=>e.removeEventListener("abort",n),"removeSignalEventListener")}else t.onabort=n})),Promise.race(w).finally(_)}updateHttpClientConfig(e,t){this.config=void 0,this.configProvider=this.configProvider.then(r=>(r[e]=t,r))}httpHandlerConfigs(){return this.config??{}}},g=r(8385),y=c(async e=>"function"==typeof Blob&&e instanceof Blob||"Blob"===e.constructor?.name?void 0!==Blob.prototype.arrayBuffer?new Uint8Array(await e.arrayBuffer()):b(e):v(e),"streamCollector");async function b(e){const t=await _(e),r=(0,g.fromBase64)(t);return new Uint8Array(r)}async function v(e){const t=[],r=e.getReader();let n=!1,s=0;for(;!n;){const{done:e,value:o}=await r.read();o&&(t.push(o),s+=o.length),n=e}const o=new Uint8Array(s);let i=0;for(const e of t)o.set(e,i),i+=e.length;return o}function _(e){return new Promise((t,r)=>{const n=new FileReader;n.onloadend=()=>{if(2!==n.readyState)return r(new Error("Reader aborted too early"));const e=n.result??"",s=e.indexOf(","),o=s>-1?s+1:e.length;t(e.substring(o))},n.onabort=()=>r(new Error("Read aborted")),n.onerror=()=>r(n.error),n.readAsDataURL(e)})}c(b,"collectBlob"),c(v,"collectStream"),c(_,"readToBase64")},5092:(e,t,r)=>{var n,s=Object.defineProperty,o=Object.getOwnPropertyDescriptor,i=Object.getOwnPropertyNames,a=Object.prototype.hasOwnProperty,c=(e,t)=>s(e,"name",{value:t,configurable:!0}),l={};((e,t)=>{for(var r in t)s(e,r,{get:t[r],enumerable:!0})})(l,{Hash:()=>f}),e.exports=(n=l,((e,t,r,n)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let c of i(t))a.call(e,c)||c===r||s(e,c,{get:()=>t[c],enumerable:!(n=o(t,c))||n.enumerable});return e})(s({},"__esModule",{value:!0}),n));var d=r(4151),u=r(1577),p=r(181),h=r(6982),f=class{static{c(this,"Hash")}constructor(e,t){this.algorithmIdentifier=e,this.secret=t,this.reset()}update(e,t){this.hash.update((0,u.toUint8Array)(m(e,t)))}digest(){return Promise.resolve(this.hash.digest())}reset(){this.hash=this.secret?(0,h.createHmac)(this.algorithmIdentifier,m(this.secret)):(0,h.createHash)(this.algorithmIdentifier)}};function m(e,t){return p.Buffer.isBuffer(e)?e:"string"==typeof e?(0,d.fromString)(e,t):ArrayBuffer.isView(e)?(0,d.fromArrayBuffer)(e.buffer,e.byteOffset,e.byteLength):(0,d.fromArrayBuffer)(e)}c(m,"castSourceData")},6130:e=>{var t,r=Object.defineProperty,n=Object.getOwnPropertyDescriptor,s=Object.getOwnPropertyNames,o=Object.prototype.hasOwnProperty,i=(e,t)=>r(e,"name",{value:t,configurable:!0}),a={};((e,t)=>{for(var n in t)r(e,n,{get:t[n],enumerable:!0})})(a,{isArrayBuffer:()=>c}),e.exports=(t=a,((e,t,i,a)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let c of s(t))o.call(e,c)||c===i||r(e,c,{get:()=>t[c],enumerable:!(a=n(t,c))||a.enumerable});return e})(r({},"__esModule",{value:!0}),t));var c=i(e=>"function"==typeof ArrayBuffer&&e instanceof ArrayBuffer||"[object ArrayBuffer]"===Object.prototype.toString.call(e),"isArrayBuffer")},7212:(e,t,r)=>{var n,s=Object.defineProperty,o=Object.getOwnPropertyDescriptor,i=Object.getOwnPropertyNames,a=Object.prototype.hasOwnProperty,c=(e,t)=>s(e,"name",{value:t,configurable:!0}),l={};((e,t)=>{for(var r in t)s(e,r,{get:t[r],enumerable:!0})})(l,{contentLengthMiddleware:()=>p,contentLengthMiddlewareOptions:()=>h,getContentLengthPlugin:()=>f}),e.exports=(n=l,((e,t,r,n)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let c of i(t))a.call(e,c)||c===r||s(e,c,{get:()=>t[c],enumerable:!(n=o(t,c))||n.enumerable});return e})(s({},"__esModule",{value:!0}),n));var d=r(2356),u="content-length";function p(e){return t=>async r=>{const n=r.request;if(d.HttpRequest.isInstance(n)){const{body:t,headers:r}=n;if(t&&-1===Object.keys(r).map(e=>e.toLowerCase()).indexOf(u))try{const r=e(t);n.headers={...n.headers,[u]:String(r)}}catch(e){}}return t({...r,request:n})}}c(p,"contentLengthMiddleware");var h={step:"build",tags:["SET_CONTENT_LENGTH","CONTENT_LENGTH"],name:"contentLengthMiddleware",override:!0},f=c(e=>({applyToStack:t=>{t.add(p(e.bodyLengthChecker),h)}}),"getContentLengthPlugin")},6041:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getEndpointFromConfig=void 0;const n=r(5704),s=r(8008);t.getEndpointFromConfig=async e=>(0,n.loadConfig)((0,s.getEndpointUrlConfig)(null!=e?e:""))()},8008:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getEndpointUrlConfig=void 0;const n=r(4964),s="AWS_ENDPOINT_URL",o="endpoint_url";t.getEndpointUrlConfig=e=>({environmentVariableSelector:t=>{const r=e.split(" ").map(e=>e.toUpperCase()),n=t[[s,...r].join("_")];if(n)return n;const o=t[s];return o||void 0},configFileSelector:(t,r)=>{if(r&&t.services){const s=r[["services",t.services].join(n.CONFIG_PREFIX_SEPARATOR)];if(s){const t=s[[e.split(" ").map(e=>e.toLowerCase()).join("_"),o].join(n.CONFIG_PREFIX_SEPARATOR)];if(t)return t}}const s=t[o];if(s)return s},default:void 0})},99:(e,t,r)=>{var n,s=Object.defineProperty,o=Object.getOwnPropertyDescriptor,i=Object.getOwnPropertyNames,a=Object.prototype.hasOwnProperty,c=(e,t)=>s(e,"name",{value:t,configurable:!0}),l={};((e,t)=>{for(var r in t)s(e,r,{get:t[r],enumerable:!0})})(l,{endpointMiddleware:()=>P,endpointMiddlewareOptions:()=>C,getEndpointFromInstructions:()=>_,getEndpointPlugin:()=>O,resolveEndpointConfig:()=>x,resolveEndpointRequiredConfig:()=>I,resolveParams:()=>S,toEndpointV1:()=>v}),e.exports=(n=l,((e,t,r,n)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let c of i(t))a.call(e,c)||c===r||s(e,c,{get:()=>t[c],enumerable:!(n=o(t,c))||n.enumerable});return e})(s({},"__esModule",{value:!0}),n));var d=c(async e=>{const t=e?.Bucket||"";if("string"==typeof e.Bucket&&(e.Bucket=t.replace(/#/g,encodeURIComponent("#")).replace(/\?/g,encodeURIComponent("?"))),m(t)){if(!0===e.ForcePathStyle)throw new Error("Path-style addressing cannot be used with ARN buckets")}else(!f(t)||-1!==t.indexOf(".")&&!String(e.Endpoint).startsWith("http:")||t.toLowerCase()!==t||t.length<3)&&(e.ForcePathStyle=!0);return e.DisableMultiRegionAccessPoints&&(e.disableMultiRegionAccessPoints=!0,e.DisableMRAP=!0),e},"resolveParamsForS3"),u=/^[a-z0-9][a-z0-9\.\-]{1,61}[a-z0-9]$/,p=/(\d+\.){3}\d+/,h=/\.\./,f=c(e=>u.test(e)&&!p.test(e)&&!h.test(e),"isDnsCompatibleBucketName"),m=c(e=>{const[t,r,n,,,s]=e.split(":"),o="arn"===t&&e.split(":").length>=6,i=Boolean(o&&r&&n&&s);if(o&&!i)throw new Error(`Invalid ARN: ${e} was an invalid ARN.`);return i},"isArnBucketName"),g=c((e,t,r)=>{const n=c(async()=>{const n=r[e]??r[t];return"function"==typeof n?n():n},"configProvider");return"credentialScope"===e||"CredentialScope"===t?async()=>{const e="function"==typeof r.credentials?await r.credentials():r.credentials;return e?.credentialScope??e?.CredentialScope}:"accountId"===e||"AccountId"===t?async()=>{const e="function"==typeof r.credentials?await r.credentials():r.credentials;return e?.accountId??e?.AccountId}:"endpoint"===e||"endpoint"===t?async()=>{if(!1===r.isCustomEndpoint)return;const e=await n();if(e&&"object"==typeof e){if("url"in e)return e.url.href;if("hostname"in e){const{protocol:t,hostname:r,port:n,path:s}=e;return`${t}//${r}${n?":"+n:""}${s}`}}return e}:n},"createConfigValueProvider"),y=r(6041),b=r(4494),v=c(e=>"object"==typeof e?"url"in e?(0,b.parseUrl)(e.url):e:(0,b.parseUrl)(e),"toEndpointV1"),_=c(async(e,t,r,n)=>{if(!r.isCustomEndpoint){let e;e=r.serviceConfiguredEndpoint?await r.serviceConfiguredEndpoint():await(0,y.getEndpointFromConfig)(r.serviceId),e&&(r.endpoint=()=>Promise.resolve(v(e)),r.isCustomEndpoint=!0)}const s=await S(e,t,r);if("function"!=typeof r.endpointProvider)throw new Error("config.endpointProvider is not set.");return r.endpointProvider(s,n)},"getEndpointFromInstructions"),S=c(async(e,t,r)=>{const n={},s=t?.getEndpointParameterInstructions?.()||{};for(const[t,o]of Object.entries(s))switch(o.type){case"staticContextParams":n[t]=o.value;break;case"contextParams":n[t]=e[o.name];break;case"clientContextParams":case"builtInParams":n[t]=await g(o.name,t,r)();break;case"operationContextParams":n[t]=o.get(e);break;default:throw new Error("Unrecognized endpoint parameter instruction: "+JSON.stringify(o))}return 0===Object.keys(s).length&&Object.assign(n,r),"s3"===String(r.serviceId).toLowerCase()&&await d(n),n},"resolveParams"),w=r(402),E=r(6324),P=c(({config:e,instructions:t})=>(r,n)=>async s=>{e.isCustomEndpoint&&(0,w.setFeature)(n,"ENDPOINT_OVERRIDE","N");const o=await _(s.input,{getEndpointParameterInstructions:()=>t},{...e},n);n.endpointV2=o,n.authSchemes=o.properties?.authSchemes;const i=n.authSchemes?.[0];if(i){n.signing_region=i.signingRegion,n.signing_service=i.signingName;const e=(0,E.getSmithyContext)(n),t=e?.selectedHttpAuthScheme?.httpAuthOption;t&&(t.signingProperties=Object.assign(t.signingProperties||{},{signing_region:i.signingRegion,signingRegion:i.signingRegion,signing_service:i.signingName,signingName:i.signingName,signingRegionSet:i.signingRegionSet},i.properties))}return r({...s})},"endpointMiddleware"),C={step:"serialize",tags:["ENDPOINT_PARAMETERS","ENDPOINT_V2","ENDPOINT"],name:"endpointV2Middleware",override:!0,relation:"before",toMiddleware:r(3255).serializerMiddlewareOption.name},O=c((e,t)=>({applyToStack:r=>{r.addRelativeTo(P({config:e,instructions:t}),C)}}),"getEndpointPlugin"),A=r(6041),x=c(e=>{const t=e.tls??!0,{endpoint:r,useDualstackEndpoint:n,useFipsEndpoint:s}=e,o=null!=r?async()=>v(await(0,E.normalizeProvider)(r)()):void 0,i=!!r,a=Object.assign(e,{endpoint:o,tls:t,isCustomEndpoint:i,useDualstackEndpoint:(0,E.normalizeProvider)(n??!1),useFipsEndpoint:(0,E.normalizeProvider)(s??!1)});let c;return a.serviceConfiguredEndpoint=async()=>(e.serviceId&&!c&&(c=(0,A.getEndpointFromConfig)(e.serviceId)),c),a},"resolveEndpointConfig"),I=c(e=>{const{endpoint:t}=e;return void 0===t&&(e.endpoint=async()=>{throw new Error("@smithy/middleware-endpoint: (default endpointRuleSet) endpoint is not set - you must configure an endpoint.")}),e},"resolveEndpointRequiredConfig")},9618:(e,t,r)=>{var n,s=Object.defineProperty,o=Object.getOwnPropertyDescriptor,i=Object.getOwnPropertyNames,a=Object.prototype.hasOwnProperty,c=(e,t)=>s(e,"name",{value:t,configurable:!0}),l={};((e,t)=>{for(var r in t)s(e,r,{get:t[r],enumerable:!0})})(l,{AdaptiveRetryStrategy:()=>_,CONFIG_MAX_ATTEMPTS:()=>E,CONFIG_RETRY_MODE:()=>A,ENV_MAX_ATTEMPTS:()=>w,ENV_RETRY_MODE:()=>O,NODE_MAX_ATTEMPT_CONFIG_OPTIONS:()=>P,NODE_RETRY_MODE_CONFIG_OPTIONS:()=>x,StandardRetryStrategy:()=>b,defaultDelayDecider:()=>f,defaultRetryDecider:()=>g,getOmitRetryHeadersPlugin:()=>T,getRetryAfterHint:()=>U,getRetryPlugin:()=>$,omitRetryHeadersMiddleware:()=>I,omitRetryHeadersMiddlewareOptions:()=>R,resolveRetryConfig:()=>C,retryMiddleware:()=>j,retryMiddlewareOptions:()=>F}),e.exports=(n=l,((e,t,r,n)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let c of i(t))a.call(e,c)||c===r||s(e,c,{get:()=>t[c],enumerable:!(n=o(t,c))||n.enumerable});return e})(s({},"__esModule",{value:!0}),n));var d=r(2356),u=r(2048),p=r(5518),h=c((e,t)=>{const r=e,n=t?.noRetryIncrement??p.NO_RETRY_INCREMENT,s=t?.retryCost??p.RETRY_COST,o=t?.timeoutRetryCost??p.TIMEOUT_RETRY_COST;let i=e;const a=c(e=>"TimeoutError"===e.name?o:s,"getCapacityAmount"),l=c(e=>a(e)<=i,"hasRetryTokens"),d=c(e=>{if(!l(e))throw new Error("No retry token available");const t=a(e);return i-=t,t},"retrieveRetryTokens"),u=c(e=>{i+=e??n,i=Math.min(i,r)},"releaseRetryTokens");return Object.freeze({hasRetryTokens:l,retrieveRetryTokens:d,releaseRetryTokens:u})},"getDefaultRetryQuota"),f=c((e,t)=>Math.floor(Math.min(p.MAXIMUM_RETRY_DELAY,Math.random()*2**t*e)),"defaultDelayDecider"),m=r(2058),g=c(e=>!!e&&((0,m.isRetryableByTrait)(e)||(0,m.isClockSkewError)(e)||(0,m.isThrottlingError)(e)||(0,m.isTransientError)(e)),"defaultRetryDecider"),y=c(e=>e instanceof Error?e:e instanceof Object?Object.assign(new Error,e):"string"==typeof e?new Error(e):new Error(`AWS SDK error wrapper for ${e}`),"asSdkError"),b=class{constructor(e,t){this.maxAttemptsProvider=e,this.mode=p.RETRY_MODES.STANDARD,this.retryDecider=t?.retryDecider??g,this.delayDecider=t?.delayDecider??f,this.retryQuota=t?.retryQuota??h(p.INITIAL_RETRY_TOKENS)}static{c(this,"StandardRetryStrategy")}shouldRetry(e,t,r){return t<r&&this.retryDecider(e)&&this.retryQuota.hasRetryTokens(e)}async getMaxAttempts(){let e;try{e=await this.maxAttemptsProvider()}catch(t){e=p.DEFAULT_MAX_ATTEMPTS}return e}async retry(e,t,r){let n,s=0,o=0;const i=await this.getMaxAttempts(),{request:a}=t;for(d.HttpRequest.isInstance(a)&&(a.headers[p.INVOCATION_ID_HEADER]=(0,u.v4)());;)try{d.HttpRequest.isInstance(a)&&(a.headers[p.REQUEST_HEADER]=`attempt=${s+1}; max=${i}`),r?.beforeRequest&&await r.beforeRequest();const{response:c,output:l}=await e(t);return r?.afterRequest&&r.afterRequest(c),this.retryQuota.releaseRetryTokens(n),l.$metadata.attempts=s+1,l.$metadata.totalRetryDelay=o,{response:c,output:l}}catch(e){const t=y(e);if(s++,this.shouldRetry(t,s,i)){n=this.retryQuota.retrieveRetryTokens(t);const e=this.delayDecider((0,m.isThrottlingError)(t)?p.THROTTLING_RETRY_DELAY_BASE:p.DEFAULT_RETRY_DELAY_BASE,s),r=v(t.$response),i=Math.max(r||0,e);o+=i,await new Promise(e=>setTimeout(e,i));continue}throw t.$metadata||(t.$metadata={}),t.$metadata.attempts=s,t.$metadata.totalRetryDelay=o,t}}},v=c(e=>{if(!d.HttpResponse.isInstance(e))return;const t=Object.keys(e.headers).find(e=>"retry-after"===e.toLowerCase());if(!t)return;const r=e.headers[t],n=Number(r);if(!Number.isNaN(n))return 1e3*n;return new Date(r).getTime()-Date.now()},"getDelayFromRetryAfterHeader"),_=class extends b{static{c(this,"AdaptiveRetryStrategy")}constructor(e,t){const{rateLimiter:r,...n}=t??{};super(e,n),this.rateLimiter=r??new p.DefaultRateLimiter,this.mode=p.RETRY_MODES.ADAPTIVE}async retry(e,t){return super.retry(e,t,{beforeRequest:async()=>this.rateLimiter.getSendToken(),afterRequest:e=>{this.rateLimiter.updateClientSendingRate(e)}})}},S=r(6324),w="AWS_MAX_ATTEMPTS",E="max_attempts",P={environmentVariableSelector:e=>{const t=e[w];if(!t)return;const r=parseInt(t);if(Number.isNaN(r))throw new Error(`Environment variable ${w} mast be a number, got "${t}"`);return r},configFileSelector:e=>{const t=e[E];if(!t)return;const r=parseInt(t);if(Number.isNaN(r))throw new Error(`Shared config file entry ${E} mast be a number, got "${t}"`);return r},default:p.DEFAULT_MAX_ATTEMPTS},C=c(e=>{const{retryStrategy:t,retryMode:r,maxAttempts:n}=e,s=(0,S.normalizeProvider)(n??p.DEFAULT_MAX_ATTEMPTS);return Object.assign(e,{maxAttempts:s,retryStrategy:async()=>{if(t)return t;return await(0,S.normalizeProvider)(r)()===p.RETRY_MODES.ADAPTIVE?new p.AdaptiveRetryStrategy(s):new p.StandardRetryStrategy(s)}})},"resolveRetryConfig"),O="AWS_RETRY_MODE",A="retry_mode",x={environmentVariableSelector:e=>e[O],configFileSelector:e=>e[A],default:p.DEFAULT_RETRY_MODE},I=c(()=>e=>async t=>{const{request:r}=t;return d.HttpRequest.isInstance(r)&&(delete r.headers[p.INVOCATION_ID_HEADER],delete r.headers[p.REQUEST_HEADER]),e(t)},"omitRetryHeadersMiddleware"),R={name:"omitRetryHeadersMiddleware",tags:["RETRY","HEADERS","OMIT_RETRY_HEADERS"],relation:"before",toMiddleware:"awsAuthMiddleware",override:!0},T=c(e=>({applyToStack:e=>{e.addRelativeTo(I(),R)}}),"getOmitRetryHeadersPlugin"),D=r(1411),N=r(9831),j=c(e=>(t,r)=>async n=>{let s=await e.retryStrategy();const o=await e.maxAttempts();if(!k(s))return s?.mode&&(r.userAgent=[...r.userAgent||[],["cfg/retry-mode",s.mode]]),s.retry(t,n);{let e=await s.acquireInitialRetryToken(r.partition_id),i=new Error,a=0,c=0;const{request:l}=n,h=d.HttpRequest.isInstance(l);for(h&&(l.headers[p.INVOCATION_ID_HEADER]=(0,u.v4)());;)try{h&&(l.headers[p.REQUEST_HEADER]=`attempt=${a+1}; max=${o}`);const{response:r,output:i}=await t(n);return s.recordSuccess(e),i.$metadata.attempts=a+1,i.$metadata.totalRetryDelay=c,{response:r,output:i}}catch(t){const n=M(t);if(i=y(t),h&&(0,N.isStreamingPayload)(l))throw(r.logger instanceof D.NoOpLogger?console:r.logger)?.warn("An error was encountered in a non-retryable streaming request."),i;try{e=await s.refreshRetryTokenForRetry(e,n)}catch(e){throw i.$metadata||(i.$metadata={}),i.$metadata.attempts=a+1,i.$metadata.totalRetryDelay=c,i}a=e.getRetryCount();const o=e.getRetryDelay();c+=o,await new Promise(e=>setTimeout(e,o))}}},"retryMiddleware"),k=c(e=>void 0!==e.acquireInitialRetryToken&&void 0!==e.refreshRetryTokenForRetry&&void 0!==e.recordSuccess,"isRetryStrategyV2"),M=c(e=>{const t={error:e,errorType:L(e)},r=U(e.$response);return r&&(t.retryAfterHint=r),t},"getRetryErrorInfo"),L=c(e=>(0,m.isThrottlingError)(e)?"THROTTLING":(0,m.isTransientError)(e)?"TRANSIENT":(0,m.isServerError)(e)?"SERVER_ERROR":"CLIENT_ERROR","getRetryErrorType"),F={name:"retryMiddleware",tags:["RETRY"],step:"finalizeRequest",priority:"high",override:!0},$=c(e=>({applyToStack:t=>{t.add(j(e),F)}}),"getRetryPlugin"),U=c(e=>{if(!d.HttpResponse.isInstance(e))return;const t=Object.keys(e.headers).find(e=>"retry-after"===e.toLowerCase());if(!t)return;const r=e.headers[t],n=Number(r);if(!Number.isNaN(n))return new Date(1e3*n);return new Date(r)},"getRetryAfterHint")},9831:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isStreamingPayload=void 0;const n=r(2203);t.isStreamingPayload=e=>(null==e?void 0:e.body)instanceof n.Readable||"undefined"!=typeof ReadableStream&&(null==e?void 0:e.body)instanceof ReadableStream},3255:(e,t,r)=>{var n,s=Object.defineProperty,o=Object.getOwnPropertyDescriptor,i=Object.getOwnPropertyNames,a=Object.prototype.hasOwnProperty,c=(e,t)=>s(e,"name",{value:t,configurable:!0}),l={};((e,t)=>{for(var r in t)s(e,r,{get:t[r],enumerable:!0})})(l,{deserializerMiddleware:()=>u,deserializerMiddlewareOption:()=>f,getSerdePlugin:()=>g,serializerMiddleware:()=>h,serializerMiddlewareOption:()=>m}),e.exports=(n=l,((e,t,r,n)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let c of i(t))a.call(e,c)||c===r||s(e,c,{get:()=>t[c],enumerable:!(n=o(t,c))||n.enumerable});return e})(s({},"__esModule",{value:!0}),n));var d=r(2356),u=c((e,t)=>(r,n)=>async s=>{const{response:o}=await r(s);try{return{response:o,output:await t(o,e)}}catch(e){if(Object.defineProperty(e,"$response",{value:o}),!("$metadata"in e)){const t="Deserialization error: to see the raw response, inspect the hidden field {error}.$response on this object.";try{e.message+="\n  "+t}catch(e){n.logger&&"NoOpLogger"!==n.logger?.constructor?.name?n.logger?.warn?.(t):console.warn(t)}void 0!==e.$responseBodyText&&e.$response&&(e.$response.body=e.$responseBodyText);try{if(d.HttpResponse.isInstance(o)){const{headers:t={}}=o,r=Object.entries(t);e.$metadata={httpStatusCode:o.statusCode,requestId:p(/^x-[\w-]+-request-?id$/,r),extendedRequestId:p(/^x-[\w-]+-id-2$/,r),cfId:p(/^x-[\w-]+-cf-id$/,r)}}}catch(e){}}throw e}},"deserializerMiddleware"),p=c((e,t)=>(t.find(([t])=>t.match(e))||[void 0,void 0])[1],"findHeader"),h=c((e,t)=>(r,n)=>async s=>{const o=e,i=n.endpointV2?.url&&o.urlParser?async()=>o.urlParser(n.endpointV2.url):o.endpoint;if(!i)throw new Error("No valid endpoint provider available.");const a=await t(s.input,{...e,endpoint:i});return r({...s,request:a})},"serializerMiddleware"),f={name:"deserializerMiddleware",step:"deserialize",tags:["DESERIALIZER"],override:!0},m={name:"serializerMiddleware",step:"serialize",tags:["SERIALIZER"],override:!0};function g(e,t,r){return{applyToStack:n=>{n.add(u(e,r),f),n.add(h(e,t),m)}}}c(g,"getSerdePlugin")},9208:e=>{var t,r=Object.defineProperty,n=Object.getOwnPropertyDescriptor,s=Object.getOwnPropertyNames,o=Object.prototype.hasOwnProperty,i=(e,t)=>r(e,"name",{value:t,configurable:!0}),a={};((e,t)=>{for(var n in t)r(e,n,{get:t[n],enumerable:!0})})(a,{constructStack:()=>d}),e.exports=(t=a,((e,t,i,a)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let c of s(t))o.call(e,c)||c===i||r(e,c,{get:()=>t[c],enumerable:!(a=n(t,c))||a.enumerable});return e})(r({},"__esModule",{value:!0}),t));var c=i((e,t)=>{const r=[];if(e&&r.push(e),t)for(const e of t)r.push(e);return r},"getAllAliases"),l=i((e,t)=>`${e||"anonymous"}${t&&t.length>0?` (a.k.a. ${t.join(",")})`:""}`,"getMiddlewareNameWithAliases"),d=i(()=>{let e=[],t=[],r=!1;const n=new Set,s=i(e=>e.sort((e,t)=>u[t.step]-u[e.step]||p[t.priority||"normal"]-p[e.priority||"normal"]),"sort"),o=i(r=>{let s=!1;const o=i(e=>{const t=c(e.name,e.aliases);if(t.includes(r)){s=!0;for(const e of t)n.delete(e);return!1}return!0},"filterCb");return e=e.filter(o),t=t.filter(o),s},"removeByName"),a=i(r=>{let s=!1;const o=i(e=>{if(e.middleware===r){s=!0;for(const t of c(e.name,e.aliases))n.delete(t);return!1}return!0},"filterCb");return e=e.filter(o),t=t.filter(o),s},"removeByReference"),h=i(r=>(e.forEach(e=>{r.add(e.middleware,{...e})}),t.forEach(e=>{r.addRelativeTo(e.middleware,{...e})}),r.identifyOnResolve?.(g.identifyOnResolve()),r),"cloneTo"),f=i(e=>{const t=[];return e.before.forEach(e=>{0===e.before.length&&0===e.after.length?t.push(e):t.push(...f(e))}),t.push(e),e.after.reverse().forEach(e=>{0===e.before.length&&0===e.after.length?t.push(e):t.push(...f(e))}),t},"expandRelativeMiddlewareList"),m=i((r=!1)=>{const n=[],o=[],i={};e.forEach(e=>{const t={...e,before:[],after:[]};for(const e of c(t.name,t.aliases))i[e]=t;n.push(t)}),t.forEach(e=>{const t={...e,before:[],after:[]};for(const e of c(t.name,t.aliases))i[e]=t;o.push(t)}),o.forEach(e=>{if(e.toMiddleware){const t=i[e.toMiddleware];if(void 0===t){if(r)return;throw new Error(`${e.toMiddleware} is not found when adding ${l(e.name,e.aliases)} middleware ${e.relation} ${e.toMiddleware}`)}"after"===e.relation&&t.after.push(e),"before"===e.relation&&t.before.push(e)}});return s(n).map(f).reduce((e,t)=>(e.push(...t),e),[])},"getMiddlewareList"),g={add:(t,r={})=>{const{name:s,override:o,aliases:i}=r,a={step:"initialize",priority:"normal",middleware:t,...r},d=c(s,i);if(d.length>0){if(d.some(e=>n.has(e))){if(!o)throw new Error(`Duplicate middleware name '${l(s,i)}'`);for(const t of d){const r=e.findIndex(e=>e.name===t||e.aliases?.some(e=>e===t));if(-1===r)continue;const n=e[r];if(n.step!==a.step||a.priority!==n.priority)throw new Error(`"${l(n.name,n.aliases)}" middleware with ${n.priority} priority in ${n.step} step cannot be overridden by "${l(s,i)}" middleware with ${a.priority} priority in ${a.step} step.`);e.splice(r,1)}}for(const e of d)n.add(e)}e.push(a)},addRelativeTo:(e,r)=>{const{name:s,override:o,aliases:i}=r,a={middleware:e,...r},d=c(s,i);if(d.length>0){if(d.some(e=>n.has(e))){if(!o)throw new Error(`Duplicate middleware name '${l(s,i)}'`);for(const e of d){const r=t.findIndex(t=>t.name===e||t.aliases?.some(t=>t===e));if(-1===r)continue;const n=t[r];if(n.toMiddleware!==a.toMiddleware||n.relation!==a.relation)throw new Error(`"${l(n.name,n.aliases)}" middleware ${n.relation} "${n.toMiddleware}" middleware cannot be overridden by "${l(s,i)}" middleware ${a.relation} "${a.toMiddleware}" middleware.`);t.splice(r,1)}}for(const e of d)n.add(e)}t.push(a)},clone:()=>h(d()),use:e=>{e.applyToStack(g)},remove:e=>"string"==typeof e?o(e):a(e),removeByTag:r=>{let s=!1;const o=i(e=>{const{tags:t,name:o,aliases:i}=e;if(t&&t.includes(r)){const e=c(o,i);for(const t of e)n.delete(t);return s=!0,!1}return!0},"filterCb");return e=e.filter(o),t=t.filter(o),s},concat:e=>{const t=h(d());return t.use(e),t.identifyOnResolve(r||t.identifyOnResolve()||(e.identifyOnResolve?.()??!1)),t},applyToStack:h,identify:()=>m(!0).map(e=>{const t=e.step??e.relation+" "+e.toMiddleware;return l(e.name,e.aliases)+" - "+t}),identifyOnResolve:e=>("boolean"==typeof e&&(r=e),r),resolve:(e,t)=>{for(const r of m().map(e=>e.middleware).reverse())e=r(e,t);return r&&console.log(g.identify()),e}};return g},"constructStack"),u={initialize:5,serialize:4,build:3,finalizeRequest:2,deserialize:1},p={high:3,normal:2,low:1}},5704:(e,t,r)=>{var n,s=Object.defineProperty,o=Object.getOwnPropertyDescriptor,i=Object.getOwnPropertyNames,a=Object.prototype.hasOwnProperty,c=(e,t)=>s(e,"name",{value:t,configurable:!0}),l={};((e,t)=>{for(var r in t)s(e,r,{get:t[r],enumerable:!0})})(l,{loadConfig:()=>y}),e.exports=(n=l,((e,t,r,n)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let c of i(t))a.call(e,c)||c===r||s(e,c,{get:()=>t[c],enumerable:!(n=o(t,c))||n.enumerable});return e})(s({},"__esModule",{value:!0}),n));var d=r(1238);function u(e){try{const t=new Set(Array.from(e.match(/([A-Z_]){3,}/g)??[]));return t.delete("CONFIG"),t.delete("CONFIG_PREFIX_SEPARATOR"),t.delete("ENV"),[...t].join(", ")}catch(t){return e}}c(u,"getSelectorName");var p=c((e,t)=>async()=>{try{const r=e(process.env,t);if(void 0===r)throw new Error;return r}catch(r){throw new d.CredentialsProviderError(r.message||`Not found in ENV: ${u(e.toString())}`,{logger:t?.logger})}},"fromEnv"),h=r(4964),f=c((e,{preferredFile:t="config",...r}={})=>async()=>{const n=(0,h.getProfileName)(r),{configFile:s,credentialsFile:o}=await(0,h.loadSharedConfigFiles)(r),i=o[n]||{},a=s[n]||{},c="config"===t?{...i,...a}:{...a,...i};try{const r=e(c,"config"===t?s:o);if(void 0===r)throw new Error;return r}catch(t){throw new d.CredentialsProviderError(t.message||`Not found in config files w/ profile [${n}]: ${u(e.toString())}`,{logger:r.logger})}},"fromSharedConfigFiles"),m=c(e=>"function"==typeof e,"isFunction"),g=c(e=>m(e)?async()=>await e():(0,d.fromStatic)(e),"fromStatic"),y=c(({environmentVariableSelector:e,configFileSelector:t,default:r},n={})=>{const{signingName:s,logger:o}=n,i={signingName:s,logger:o};return(0,d.memoize)((0,d.chain)(p(e,i),f(t,n),g(r)))},"loadConfig")},1279:(e,t,r)=>{var n,s=Object.create,o=Object.defineProperty,i=Object.getOwnPropertyDescriptor,a=Object.getOwnPropertyNames,c=Object.getPrototypeOf,l=Object.prototype.hasOwnProperty,d=(e,t)=>o(e,"name",{value:t,configurable:!0}),u=(e,t,r,n)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let s of a(t))l.call(e,s)||s===r||o(e,s,{get:()=>t[s],enumerable:!(n=i(t,s))||n.enumerable});return e},p={};((e,t)=>{for(var r in t)o(e,r,{get:t[r],enumerable:!0})})(p,{DEFAULT_REQUEST_TIMEOUT:()=>A,NodeHttp2Handler:()=>N,NodeHttpHandler:()=>x,streamCollector:()=>k}),e.exports=(n=p,u(o({},"__esModule",{value:!0}),n));var h=r(2356),f=r(8256),m=r(8611),g=r(5692),y=["ECONNRESET","EPIPE","ETIMEDOUT"],b=d(e=>{const t={};for(const r of Object.keys(e)){const n=e[r];t[r]=Array.isArray(n)?n.join(","):n}return t},"getTransformedHeaders"),v=(e,t)=>setTimeout(e,t),_=e=>clearTimeout(e),S=d((e,t,r=0)=>{if(!r)return-1;const n=d(n=>{const s=v(()=>{e.destroy(),t(Object.assign(new Error(`Socket timed out without establishing a connection within ${r} ms`),{name:"TimeoutError"}))},r-n),o=d(e=>{e?.connecting?e.on("connect",()=>{_(s)}):_(s)},"doWithSocket");e.socket?o(e.socket):e.on("socket",o)},"registerTimeout");return r<2e3?(n(0),0):v(n.bind(null,1e3),1e3)},"setConnectionTimeout"),w=d((e,{keepAlive:t,keepAliveMsecs:r},n=3e3)=>{if(!0!==t)return-1;const s=d(()=>{e.socket?e.socket.setKeepAlive(t,r||0):e.on("socket",e=>{e.setKeepAlive(t,r||0)})},"registerListener");return 0===n?(s(),0):v(s,n)},"setSocketKeepAlive"),E=d((e,t,r=A)=>{const n=d(n=>{const s=r-n,o=d(()=>{e.destroy(),t(Object.assign(new Error(`Connection timed out after ${r} ms`),{name:"TimeoutError"}))},"onTimeout");e.socket?(e.socket.setTimeout(s,o),e.on("close",()=>e.socket?.removeListener("timeout",o))):e.setTimeout(s,o)},"registerTimeout");return 0<r&&r<6e3?(n(0),0):v(n.bind(null,0===r?0:3e3),3e3)},"setSocketTimeout"),P=r(2203);async function C(e,t,r=6e3){const n=t.headers??{},s=n.Expect||n.expect;let o=-1,i=!0;"100-continue"===s&&(i=await Promise.race([new Promise(e=>{o=Number(v(()=>e(!0),Math.max(6e3,r)))}),new Promise(t=>{e.on("continue",()=>{_(o),t(!0)}),e.on("response",()=>{_(o),t(!1)}),e.on("error",()=>{_(o),t(!1)})})])),i&&O(e,t.body)}function O(e,t){if(t instanceof P.Readable)t.pipe(e);else{if(t){if(Buffer.isBuffer(t)||"string"==typeof t)return void e.end(t);const r=t;return"object"==typeof r&&r.buffer&&"number"==typeof r.byteOffset&&"number"==typeof r.byteLength?void e.end(Buffer.from(r.buffer,r.byteOffset,r.byteLength)):void e.end(Buffer.from(t))}e.end()}}d(C,"writeRequestBody"),d(O,"writeBody");var A=0,x=class e{constructor(e){this.socketWarningTimestamp=0,this.metadata={handlerProtocol:"http/1.1"},this.configProvider=new Promise((t,r)=>{"function"==typeof e?e().then(e=>{t(this.resolveDefaultConfig(e))}).catch(r):t(this.resolveDefaultConfig(e))})}static{d(this,"NodeHttpHandler")}static create(t){return"function"==typeof t?.handle?t:new e(t)}static checkSocketUsage(e,t,r=console){const{sockets:n,requests:s,maxSockets:o}=e;if("number"!=typeof o||o===1/0)return t;if(Date.now()-15e3<t)return t;if(n&&s)for(const e in n){const t=n[e]?.length??0,i=s[e]?.length??0;if(t>=o&&i>=2*o)return r?.warn?.(`@smithy/node-http-handler:WARN - socket usage at capacity=${t} and ${i} additional requests are enqueued.\nSee https://docs.aws.amazon.com/sdk-for-javascript/v3/developer-guide/node-configuring-maxsockets.html\nor increase socketAcquisitionWarningTimeout=(millis) in the NodeHttpHandler config.`),Date.now()}return t}resolveDefaultConfig(e){const{requestTimeout:t,connectionTimeout:r,socketTimeout:n,socketAcquisitionWarningTimeout:s,httpAgent:o,httpsAgent:i}=e||{},a=!0;return{connectionTimeout:r,requestTimeout:t??n,socketAcquisitionWarningTimeout:s,httpAgent:o instanceof m.Agent||"function"==typeof o?.destroy?o:new m.Agent({keepAlive:a,maxSockets:50,...o}),httpsAgent:i instanceof g.Agent||"function"==typeof i?.destroy?i:new g.Agent({keepAlive:a,maxSockets:50,...i}),logger:console}}destroy(){this.config?.httpAgent?.destroy(),this.config?.httpsAgent?.destroy()}async handle(t,{abortSignal:r,requestTimeout:n}={}){return this.config||(this.config=await this.configProvider),new Promise((s,o)=>{let i;const a=[],c=d(async e=>{await i,a.forEach(_),s(e)},"resolve"),l=d(async e=>{await i,a.forEach(_),o(e)},"reject");if(!this.config)throw new Error("Node HTTP request handler config is not resolved");if(r?.aborted){const e=new Error("Request aborted");return e.name="AbortError",void l(e)}const u="https:"===t.protocol,p=u?this.config.httpsAgent:this.config.httpAgent;a.push(v(()=>{this.socketWarningTimestamp=e.checkSocketUsage(p,this.socketWarningTimestamp,this.config.logger)},this.config.socketAcquisitionWarningTimeout??(this.config.requestTimeout??2e3)+(this.config.connectionTimeout??1e3)));const P=(0,f.buildQueryString)(t.query||{});let O;if(null!=t.username||null!=t.password){O=`${t.username??""}:${t.password??""}`}let A=t.path;P&&(A+=`?${P}`),t.fragment&&(A+=`#${t.fragment}`);let x=t.hostname??"";x="["===x[0]&&x.endsWith("]")?t.hostname.slice(1,-1):t.hostname;const I={headers:t.headers,host:x,method:t.method,path:A,port:t.port,agent:p,auth:O},R=(u?g.request:m.request)(I,e=>{const t=new h.HttpResponse({statusCode:e.statusCode||-1,reason:e.statusMessage,headers:b(e.headers),body:e});c({response:t})});if(R.on("error",e=>{y.includes(e.code)?l(Object.assign(e,{name:"TimeoutError"})):l(e)}),r){const e=d(()=>{R.destroy();const e=new Error("Request aborted");e.name="AbortError",l(e)},"onAbort");if("function"==typeof r.addEventListener){const t=r;t.addEventListener("abort",e,{once:!0}),R.once("close",()=>t.removeEventListener("abort",e))}else r.onabort=e}const T=n??this.config.requestTimeout;a.push(S(R,l,this.config.connectionTimeout)),a.push(E(R,l,T));const D=I.agent;"object"==typeof D&&"keepAlive"in D&&a.push(w(R,{keepAlive:D.keepAlive,keepAliveMsecs:D.keepAliveMsecs})),i=C(R,t,T).catch(e=>(a.forEach(_),o(e)))})}updateHttpClientConfig(e,t){this.config=void 0,this.configProvider=this.configProvider.then(r=>({...r,[e]:t}))}httpHandlerConfigs(){return this.config??{}}},I=r(5675),R=((e,t,r)=>(r=null!=e?s(c(e)):{},u(!t&&e&&e.__esModule?r:o(r,"default",{value:e,enumerable:!0}),e)))(r(5675)),T=class{constructor(e){this.sessions=[],this.sessions=e??[]}static{d(this,"NodeHttp2ConnectionPool")}poll(){if(this.sessions.length>0)return this.sessions.shift()}offerLast(e){this.sessions.push(e)}contains(e){return this.sessions.includes(e)}remove(e){this.sessions=this.sessions.filter(t=>t!==e)}[Symbol.iterator](){return this.sessions[Symbol.iterator]()}destroy(e){for(const t of this.sessions)t===e&&(t.destroyed||t.destroy())}},D=class{constructor(e){if(this.sessionCache=new Map,this.config=e,this.config.maxConcurrency&&this.config.maxConcurrency<=0)throw new RangeError("maxConcurrency must be greater than zero.")}static{d(this,"NodeHttp2ConnectionManager")}lease(e,t){const r=this.getUrlString(e),n=this.sessionCache.get(r);if(n){const e=n.poll();if(e&&!this.config.disableConcurrency)return e}const s=R.default.connect(r);this.config.maxConcurrency&&s.settings({maxConcurrentStreams:this.config.maxConcurrency},t=>{if(t)throw new Error("Fail to set maxConcurrentStreams to "+this.config.maxConcurrency+"when creating new session for "+e.destination.toString())}),s.unref();const o=d(()=>{s.destroy(),this.deleteSession(r,s)},"destroySessionCb");s.on("goaway",o),s.on("error",o),s.on("frameError",o),s.on("close",()=>this.deleteSession(r,s)),t.requestTimeout&&s.setTimeout(t.requestTimeout,o);const i=this.sessionCache.get(r)||new T;return i.offerLast(s),this.sessionCache.set(r,i),s}deleteSession(e,t){const r=this.sessionCache.get(e);r&&r.contains(t)&&(r.remove(t),this.sessionCache.set(e,r))}release(e,t){const r=this.getUrlString(e);this.sessionCache.get(r)?.offerLast(t)}destroy(){for(const[e,t]of this.sessionCache){for(const e of t)e.destroyed||e.destroy(),t.remove(e);this.sessionCache.delete(e)}}setMaxConcurrentStreams(e){if(e&&e<=0)throw new RangeError("maxConcurrentStreams must be greater than zero.");this.config.maxConcurrency=e}setDisableConcurrentStreams(e){this.config.disableConcurrency=e}getUrlString(e){return e.destination.toString()}},N=class e{constructor(e){this.metadata={handlerProtocol:"h2"},this.connectionManager=new D({}),this.configProvider=new Promise((t,r)=>{"function"==typeof e?e().then(e=>{t(e||{})}).catch(r):t(e||{})})}static{d(this,"NodeHttp2Handler")}static create(t){return"function"==typeof t?.handle?t:new e(t)}destroy(){this.connectionManager.destroy()}async handle(e,{abortSignal:t,requestTimeout:r}={}){this.config||(this.config=await this.configProvider,this.connectionManager.setDisableConcurrentStreams(this.config.disableConcurrentStreams||!1),this.config.maxConcurrentStreams&&this.connectionManager.setMaxConcurrentStreams(this.config.maxConcurrentStreams));const{requestTimeout:n,disableConcurrentStreams:s}=this.config,o=r??n;return new Promise((r,n)=>{let i,a=!1;const c=d(async e=>{await i,r(e)},"resolve"),l=d(async e=>{await i,n(e)},"reject");if(t?.aborted){a=!0;const e=new Error("Request aborted");return e.name="AbortError",void l(e)}const{hostname:u,method:p,port:m,protocol:g,query:y}=e;let v="";if(null!=e.username||null!=e.password){v=`${e.username??""}:${e.password??""}@`}const _=`${g}//${v}${u}${m?`:${m}`:""}`,S={destination:new URL(_)},w=this.connectionManager.lease(S,{requestTimeout:this.config?.sessionTimeout,disableConcurrentStreams:s||!1}),E=d(e=>{s&&this.destroySession(w),a=!0,l(e)},"rejectWithDestroy"),P=(0,f.buildQueryString)(y||{});let O=e.path;P&&(O+=`?${P}`),e.fragment&&(O+=`#${e.fragment}`);const A=w.request({...e.headers,[I.constants.HTTP2_HEADER_PATH]:O,[I.constants.HTTP2_HEADER_METHOD]:p});if(w.ref(),A.on("response",e=>{const t=new h.HttpResponse({statusCode:e[":status"]||-1,headers:b(e),body:A});a=!0,c({response:t}),s&&(w.close(),this.connectionManager.deleteSession(_,w))}),o&&A.setTimeout(o,()=>{A.close();const e=new Error(`Stream timed out because of no activity for ${o} ms`);e.name="TimeoutError",E(e)}),t){const e=d(()=>{A.close();const e=new Error("Request aborted");e.name="AbortError",E(e)},"onAbort");if("function"==typeof t.addEventListener){const r=t;r.addEventListener("abort",e,{once:!0}),A.once("close",()=>r.removeEventListener("abort",e))}else t.onabort=e}A.on("frameError",(e,t,r)=>{E(new Error(`Frame type id ${e} in stream id ${r} has failed with code ${t}.`))}),A.on("error",E),A.on("aborted",()=>{E(new Error(`HTTP/2 stream is abnormally aborted in mid-communication with result code ${A.rstCode}.`))}),A.on("close",()=>{w.unref(),s&&w.destroy(),a||E(new Error("Unexpected error: http2 request did not get a response"))}),i=C(A,e,o)})}updateHttpClientConfig(e,t){this.config=void 0,this.configProvider=this.configProvider.then(r=>({...r,[e]:t}))}httpHandlerConfigs(){return this.config??{}}destroySession(e){e.destroyed||e.destroy()}},j=class extends P.Writable{constructor(){super(...arguments),this.bufferedBytes=[]}static{d(this,"Collector")}_write(e,t,r){this.bufferedBytes.push(e),r()}},k=d(e=>M(e)?L(e):new Promise((t,r)=>{const n=new j;e.pipe(n),e.on("error",e=>{n.end(),r(e)}),n.on("error",r),n.on("finish",function(){const e=new Uint8Array(Buffer.concat(this.bufferedBytes));t(e)})}),"streamCollector"),M=d(e=>"function"==typeof ReadableStream&&e instanceof ReadableStream,"isReadableStreamInstance");async function L(e){const t=[],r=e.getReader();let n=!1,s=0;for(;!n;){const{done:e,value:o}=await r.read();o&&(t.push(o),s+=o.length),n=e}const o=new Uint8Array(s);let i=0;for(const e of t)o.set(e,i),i+=e.length;return o}d(L,"collectReadableStream")},1238:e=>{var t,r=Object.defineProperty,n=Object.getOwnPropertyDescriptor,s=Object.getOwnPropertyNames,o=Object.prototype.hasOwnProperty,i=(e,t)=>r(e,"name",{value:t,configurable:!0}),a={};((e,t)=>{for(var n in t)r(e,n,{get:t[n],enumerable:!0})})(a,{CredentialsProviderError:()=>l,ProviderError:()=>c,TokenProviderError:()=>d,chain:()=>u,fromStatic:()=>p,memoize:()=>h}),e.exports=(t=a,((e,t,i,a)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let c of s(t))o.call(e,c)||c===i||r(e,c,{get:()=>t[c],enumerable:!(a=n(t,c))||a.enumerable});return e})(r({},"__esModule",{value:!0}),t));var c=class e extends Error{constructor(t,r=!0){let n,s=!0;"boolean"==typeof r?(n=void 0,s=r):null!=r&&"object"==typeof r&&(n=r.logger,s=r.tryNextLink??!0),super(t),this.name="ProviderError",this.tryNextLink=s,Object.setPrototypeOf(this,e.prototype),n?.debug?.(`@smithy/property-provider ${s?"->":"(!)"} ${t}`)}static{i(this,"ProviderError")}static from(e,t=!0){return Object.assign(new this(e.message,t),e)}},l=class e extends c{constructor(t,r=!0){super(t,r),this.name="CredentialsProviderError",Object.setPrototypeOf(this,e.prototype)}static{i(this,"CredentialsProviderError")}},d=class e extends c{constructor(t,r=!0){super(t,r),this.name="TokenProviderError",Object.setPrototypeOf(this,e.prototype)}static{i(this,"TokenProviderError")}},u=i((...e)=>async()=>{if(0===e.length)throw new c("No providers in chain");let t;for(const r of e)try{return await r()}catch(e){if(t=e,e?.tryNextLink)continue;throw e}throw t},"chain"),p=i(e=>()=>Promise.resolve(e),"fromStatic"),h=i((e,t,r)=>{let n,s,o,a=!1;const c=i(async()=>{s||(s=e());try{n=await s,o=!0,a=!1}finally{s=void 0}return n},"coalesceProvider");return void 0===t?async e=>(o&&!e?.forceRefresh||(n=await c()),n):async e=>(o&&!e?.forceRefresh||(n=await c()),a?n:r&&!r(n)?(a=!0,n):t(n)?(await c(),n):n)},"memoize")},2356:(e,t,r)=>{var n,s=Object.defineProperty,o=Object.getOwnPropertyDescriptor,i=Object.getOwnPropertyNames,a=Object.prototype.hasOwnProperty,c=(e,t)=>s(e,"name",{value:t,configurable:!0}),l={};((e,t)=>{for(var r in t)s(e,r,{get:t[r],enumerable:!0})})(l,{Field:()=>h,Fields:()=>f,HttpRequest:()=>m,HttpResponse:()=>y,IHttpRequest:()=>p.HttpRequest,getHttpHandlerExtensionConfiguration:()=>d,isValidHostname:()=>b,resolveHttpHandlerRuntimeConfig:()=>u}),e.exports=(n=l,((e,t,r,n)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let c of i(t))a.call(e,c)||c===r||s(e,c,{get:()=>t[c],enumerable:!(n=o(t,c))||n.enumerable});return e})(s({},"__esModule",{value:!0}),n));var d=c(e=>({setHttpHandler(t){e.httpHandler=t},httpHandler:()=>e.httpHandler,updateHttpClientConfig(t,r){e.httpHandler?.updateHttpClientConfig(t,r)},httpHandlerConfigs:()=>e.httpHandler.httpHandlerConfigs()}),"getHttpHandlerExtensionConfiguration"),u=c(e=>({httpHandler:e.httpHandler()}),"resolveHttpHandlerRuntimeConfig"),p=r(690),h=class{static{c(this,"Field")}constructor({name:e,kind:t=p.FieldPosition.HEADER,values:r=[]}){this.name=e,this.kind=t,this.values=r}add(e){this.values.push(e)}set(e){this.values=e}remove(e){this.values=this.values.filter(t=>t!==e)}toString(){return this.values.map(e=>e.includes(",")||e.includes(" ")?`"${e}"`:e).join(", ")}get(){return this.values}},f=class{constructor({fields:e=[],encoding:t="utf-8"}){this.entries={},e.forEach(this.setField.bind(this)),this.encoding=t}static{c(this,"Fields")}setField(e){this.entries[e.name.toLowerCase()]=e}getField(e){return this.entries[e.toLowerCase()]}removeField(e){delete this.entries[e.toLowerCase()]}getByType(e){return Object.values(this.entries).filter(t=>t.kind===e)}},m=class e{static{c(this,"HttpRequest")}constructor(e){this.method=e.method||"GET",this.hostname=e.hostname||"localhost",this.port=e.port,this.query=e.query||{},this.headers=e.headers||{},this.body=e.body,this.protocol=e.protocol?":"!==e.protocol.slice(-1)?`${e.protocol}:`:e.protocol:"https:",this.path=e.path?"/"!==e.path.charAt(0)?`/${e.path}`:e.path:"/",this.username=e.username,this.password=e.password,this.fragment=e.fragment}static clone(t){const r=new e({...t,headers:{...t.headers}});return r.query&&(r.query=g(r.query)),r}static isInstance(e){if(!e)return!1;const t=e;return"method"in t&&"protocol"in t&&"hostname"in t&&"path"in t&&"object"==typeof t.query&&"object"==typeof t.headers}clone(){return e.clone(this)}};function g(e){return Object.keys(e).reduce((t,r)=>{const n=e[r];return{...t,[r]:Array.isArray(n)?[...n]:n}},{})}c(g,"cloneQuery");var y=class{static{c(this,"HttpResponse")}constructor(e){this.statusCode=e.statusCode,this.reason=e.reason,this.headers=e.headers||{},this.body=e.body}static isInstance(e){if(!e)return!1;const t=e;return"number"==typeof t.statusCode&&"object"==typeof t.headers}};function b(e){return/^[a-z0-9][a-z0-9\.\-]*[a-z0-9]$/.test(e)}c(b,"isValidHostname")},8256:(e,t,r)=>{var n,s=Object.defineProperty,o=Object.getOwnPropertyDescriptor,i=Object.getOwnPropertyNames,a=Object.prototype.hasOwnProperty,c={};((e,t)=>{for(var r in t)s(e,r,{get:t[r],enumerable:!0})})(c,{buildQueryString:()=>d}),e.exports=(n=c,((e,t,r,n)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let c of i(t))a.call(e,c)||c===r||s(e,c,{get:()=>t[c],enumerable:!(n=o(t,c))||n.enumerable});return e})(s({},"__esModule",{value:!0}),n));var l=r(146);function d(e){const t=[];for(let r of Object.keys(e).sort()){const n=e[r];if(r=(0,l.escapeUri)(r),Array.isArray(n))for(let e=0,s=n.length;e<s;e++)t.push(`${r}=${(0,l.escapeUri)(n[e])}`);else{let e=r;(n||"string"==typeof n)&&(e+=`=${(0,l.escapeUri)(n)}`),t.push(e)}}return t.join("&")}s(d,"name",{value:"buildQueryString",configurable:!0})},8822:e=>{var t,r=Object.defineProperty,n=Object.getOwnPropertyDescriptor,s=Object.getOwnPropertyNames,o=Object.prototype.hasOwnProperty,i={};function a(e){const t={};if(e=e.replace(/^\?/,""))for(const r of e.split("&")){let[e,n=null]=r.split("=");e=decodeURIComponent(e),n&&(n=decodeURIComponent(n)),e in t?Array.isArray(t[e])?t[e].push(n):t[e]=[t[e],n]:t[e]=n}return t}((e,t)=>{for(var n in t)r(e,n,{get:t[n],enumerable:!0})})(i,{parseQueryString:()=>a}),e.exports=(t=i,((e,t,i,a)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let c of s(t))o.call(e,c)||c===i||r(e,c,{get:()=>t[c],enumerable:!(a=n(t,c))||a.enumerable});return e})(r({},"__esModule",{value:!0}),t)),r(a,"name",{value:"parseQueryString",configurable:!0})},2058:e=>{var t,r=Object.defineProperty,n=Object.getOwnPropertyDescriptor,s=Object.getOwnPropertyNames,o=Object.prototype.hasOwnProperty,i=(e,t)=>r(e,"name",{value:t,configurable:!0}),a={};((e,t)=>{for(var n in t)r(e,n,{get:t[n],enumerable:!0})})(a,{isBrowserNetworkError:()=>y,isClockSkewCorrectedError:()=>g,isClockSkewError:()=>m,isRetryableByTrait:()=>f,isServerError:()=>_,isThrottlingError:()=>b,isTransientError:()=>v}),e.exports=(t=a,((e,t,i,a)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let c of s(t))o.call(e,c)||c===i||r(e,c,{get:()=>t[c],enumerable:!(a=n(t,c))||a.enumerable});return e})(r({},"__esModule",{value:!0}),t));var c=["AuthFailure","InvalidSignatureException","RequestExpired","RequestInTheFuture","RequestTimeTooSkewed","SignatureDoesNotMatch"],l=["BandwidthLimitExceeded","EC2ThrottledException","LimitExceededException","PriorRequestNotComplete","ProvisionedThroughputExceededException","RequestLimitExceeded","RequestThrottled","RequestThrottledException","SlowDown","ThrottledException","Throttling","ThrottlingException","TooManyRequestsException","TransactionInProgressException"],d=["TimeoutError","RequestTimeout","RequestTimeoutException"],u=[500,502,503,504],p=["ECONNRESET","ECONNREFUSED","EPIPE","ETIMEDOUT"],h=["EHOSTUNREACH","ENETUNREACH","ENOTFOUND"],f=i(e=>void 0!==e.$retryable,"isRetryableByTrait"),m=i(e=>c.includes(e.name),"isClockSkewError"),g=i(e=>e.$metadata?.clockSkewCorrected,"isClockSkewCorrectedError"),y=i(e=>!!(e&&e instanceof TypeError)&&new Set(["Failed to fetch","NetworkError when attempting to fetch resource","The Internet connection appears to be offline","Load failed","Network request failed"]).has(e.message),"isBrowserNetworkError"),b=i(e=>429===e.$metadata?.httpStatusCode||l.includes(e.name)||1==e.$retryable?.throttling,"isThrottlingError"),v=i((e,t=0)=>g(e)||d.includes(e.name)||p.includes(e?.code||"")||h.includes(e?.code||"")||u.includes(e.$metadata?.httpStatusCode||0)||y(e)||void 0!==e.cause&&t<=10&&v(e.cause,t+1),"isTransientError"),_=i(e=>{if(void 0!==e.$metadata?.httpStatusCode){const t=e.$metadata.httpStatusCode;return 500<=t&&t<=599&&!v(e)}return!1},"isServerError")},4172:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getHomeDir=void 0;const n=r(857),s=r(6928),o={};t.getHomeDir=()=>{const{HOME:e,USERPROFILE:t,HOMEPATH:r,HOMEDRIVE:i=`C:${s.sep}`}=process.env;if(e)return e;if(t)return t;if(r)return`${i}${r}`;const a=process&&process.geteuid?`${process.geteuid()}`:"DEFAULT";return o[a]||(o[a]=(0,n.homedir)()),o[a]}},269:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getSSOTokenFilepath=void 0;const n=r(6982),s=r(6928),o=r(4172);t.getSSOTokenFilepath=e=>{const t=(0,n.createHash)("sha1").update(e).digest("hex");return(0,s.join)((0,o.getHomeDir)(),".aws","sso","cache",`${t}.json`)}},1326:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getSSOTokenFromFile=void 0;const n=r(9896),s=r(269),{readFile:o}=n.promises;t.getSSOTokenFromFile=async e=>{const t=(0,s.getSSOTokenFilepath)(e),r=await o(t,"utf8");return JSON.parse(r)}},4964:(e,t,r)=>{var n,s=Object.defineProperty,o=Object.getOwnPropertyDescriptor,i=Object.getOwnPropertyNames,a=Object.prototype.hasOwnProperty,c=(e,t)=>s(e,"name",{value:t,configurable:!0}),l=(e,t,r,n)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let c of i(t))a.call(e,c)||c===r||s(e,c,{get:()=>t[c],enumerable:!(n=o(t,c))||n.enumerable});return e},d=(e,t,r)=>(l(e,t,"default"),r&&l(r,t,"default")),u={};((e,t)=>{for(var r in t)s(e,r,{get:t[r],enumerable:!0})})(u,{CONFIG_PREFIX_SEPARATOR:()=>x,DEFAULT_PROFILE:()=>h,ENV_PROFILE:()=>p,getProfileName:()=>f,loadSharedConfigFiles:()=>I,loadSsoSessionData:()=>N,parseKnownFiles:()=>k}),e.exports=(n=u,l(s({},"__esModule",{value:!0}),n)),d(u,r(4172),e.exports);var p="AWS_PROFILE",h="default",f=c(e=>e.profile||process.env[p]||h,"getProfileName");d(u,r(269),e.exports),d(u,r(1326),e.exports);var m=r(690),g=c(e=>Object.entries(e).filter(([e])=>{const t=e.indexOf(x);return-1!==t&&Object.values(m.IniSectionType).includes(e.substring(0,t))}).reduce((e,[t,r])=>{const n=t.indexOf(x);return e[t.substring(0,n)===m.IniSectionType.PROFILE?t.substring(n+1):t]=r,e},{...e.default&&{default:e.default}}),"getConfigData"),y=r(6928),b=r(4172),v=c(()=>process.env.AWS_CONFIG_FILE||(0,y.join)((0,b.getHomeDir)(),".aws","config"),"getConfigFilepath"),_=r(4172),S=c(()=>process.env.AWS_SHARED_CREDENTIALS_FILE||(0,y.join)((0,_.getHomeDir)(),".aws","credentials"),"getCredentialsFilepath"),w=r(4172),E=/^([\w-]+)\s(["'])?([\w-@\+\.%:/]+)\2$/,P=["__proto__","profile __proto__"],C=c(e=>{const t={};let r,n;for(const s of e.split(/\r?\n/)){const e=s.split(/(^|\s)[;#]/)[0].trim();if("["===e[0]&&"]"===e[e.length-1]){r=void 0,n=void 0;const t=e.substring(1,e.length-1),s=E.exec(t);if(s){const[,e,,t]=s;Object.values(m.IniSectionType).includes(e)&&(r=[e,t].join(x))}else r=t;if(P.includes(t))throw new Error(`Found invalid profile name "${t}"`)}else if(r){const o=e.indexOf("=");if(![0,-1].includes(o)){const[i,a]=[e.substring(0,o).trim(),e.substring(o+1).trim()];if(""===a)n=i;else{n&&s.trimStart()===s&&(n=void 0),t[r]=t[r]||{};const e=n?[n,i].join(x):i;t[r][e]=a}}}}return t},"parseIni"),O=r(4246),A=c(()=>({}),"swallowError"),x=".",I=c(async(e={})=>{const{filepath:t=S(),configFilepath:r=v()}=e,n=(0,w.getHomeDir)();let s=t;t.startsWith("~/")&&(s=(0,y.join)(n,t.slice(2)));let o=r;r.startsWith("~/")&&(o=(0,y.join)(n,r.slice(2)));const i=await Promise.all([(0,O.slurpFile)(o,{ignoreCache:e.ignoreCache}).then(C).then(g).catch(A),(0,O.slurpFile)(s,{ignoreCache:e.ignoreCache}).then(C).catch(A)]);return{configFile:i[0],credentialsFile:i[1]}},"loadSharedConfigFiles"),R=c(e=>Object.entries(e).filter(([e])=>e.startsWith(m.IniSectionType.SSO_SESSION+x)).reduce((e,[t,r])=>({...e,[t.substring(t.indexOf(x)+1)]:r}),{}),"getSsoSessionData"),T=r(4246),D=c(()=>({}),"swallowError"),N=c(async(e={})=>(0,T.slurpFile)(e.configFilepath??v()).then(C).then(R).catch(D),"loadSsoSessionData"),j=c((...e)=>{const t={};for(const r of e)for(const[e,n]of Object.entries(r))void 0!==t[e]?Object.assign(t[e],n):t[e]=n;return t},"mergeConfigFiles"),k=c(async e=>{const t=await I(e);return j(t.configFile,t.credentialsFile)},"parseKnownFiles")},4246:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.slurpFile=void 0;const n=r(9896),{readFile:s}=n.promises,o={};t.slurpFile=(e,t)=>(o[e]&&!(null==t?void 0:t.ignoreCache)||(o[e]=s(e,"utf8")),o[e])},5118:(e,t,r)=>{var n,s=Object.defineProperty,o=Object.getOwnPropertyDescriptor,i=Object.getOwnPropertyNames,a=Object.prototype.hasOwnProperty,c=(e,t)=>s(e,"name",{value:t,configurable:!0}),l={};((e,t)=>{for(var r in t)s(e,r,{get:t[r],enumerable:!0})})(l,{ALGORITHM_IDENTIFIER:()=>T,ALGORITHM_IDENTIFIER_V4A:()=>D,ALGORITHM_QUERY_PARAM:()=>u,ALWAYS_UNSIGNABLE_HEADERS:()=>A,AMZ_DATE_HEADER:()=>_,AMZ_DATE_QUERY_PARAM:()=>h,AUTH_HEADER:()=>v,CREDENTIAL_QUERY_PARAM:()=>p,DATE_HEADER:()=>S,EVENT_ALGORITHM_IDENTIFIER:()=>N,EXPIRES_QUERY_PARAM:()=>m,GENERATED_HEADERS:()=>w,HOST_HEADER:()=>O,KEY_TYPE_IDENTIFIER:()=>M,MAX_CACHE_SIZE:()=>k,MAX_PRESIGNED_TTL:()=>L,PROXY_HEADER_PATTERN:()=>x,REGION_SET_PARAM:()=>b,SEC_HEADER_PATTERN:()=>I,SHA256_HEADER:()=>P,SIGNATURE_HEADER:()=>E,SIGNATURE_QUERY_PARAM:()=>g,SIGNED_HEADERS_QUERY_PARAM:()=>f,SignatureV4:()=>pe,SignatureV4Base:()=>ue,TOKEN_HEADER:()=>C,TOKEN_QUERY_PARAM:()=>y,UNSIGNABLE_PATTERNS:()=>R,UNSIGNED_PAYLOAD:()=>j,clearCredentialCache:()=>z,createScope:()=>H,getCanonicalHeaders:()=>W,getCanonicalQuery:()=>ce,getPayloadHash:()=>K,getSigningKey:()=>G,hasHeader:()=>te,moveHeadersToQuery:()=>ne,prepareRequest:()=>se,signatureV4aContainer:()=>he}),e.exports=(n=l,((e,t,r,n)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let c of i(t))a.call(e,c)||c===r||s(e,c,{get:()=>t[c],enumerable:!(n=o(t,c))||n.enumerable});return e})(s({},"__esModule",{value:!0}),n));var d=r(1577),u="X-Amz-Algorithm",p="X-Amz-Credential",h="X-Amz-Date",f="X-Amz-SignedHeaders",m="X-Amz-Expires",g="X-Amz-Signature",y="X-Amz-Security-Token",b="X-Amz-Region-Set",v="authorization",_=h.toLowerCase(),S="date",w=[v,_,S],E=g.toLowerCase(),P="x-amz-content-sha256",C=y.toLowerCase(),O="host",A={authorization:!0,"cache-control":!0,connection:!0,expect:!0,from:!0,"keep-alive":!0,"max-forwards":!0,pragma:!0,referer:!0,te:!0,trailer:!0,"transfer-encoding":!0,upgrade:!0,"user-agent":!0,"x-amzn-trace-id":!0},x=/^proxy-/,I=/^sec-/,R=[/^proxy-/i,/^sec-/i],T="AWS4-HMAC-SHA256",D="AWS4-ECDSA-P256-SHA256",N="AWS4-HMAC-SHA256-PAYLOAD",j="UNSIGNED-PAYLOAD",k=50,M="aws4_request",L=604800,F=r(6435),$=r(1577),U={},B=[],H=c((e,t,r)=>`${e}/${t}/${r}/${M}`,"createScope"),G=c(async(e,t,r,n,s)=>{const o=await q(e,t.secretAccessKey,t.accessKeyId),i=`${r}:${n}:${s}:${(0,F.toHex)(o)}:${t.sessionToken}`;if(i in U)return U[i];for(B.push(i);B.length>k;)delete U[B.shift()];let a=`AWS4${t.secretAccessKey}`;for(const t of[r,n,s,M])a=await q(e,a,t);return U[i]=a},"getSigningKey"),z=c(()=>{B.length=0,Object.keys(U).forEach(e=>{delete U[e]})},"clearCredentialCache"),q=c((e,t,r)=>{const n=new e(t);return n.update((0,$.toUint8Array)(r)),n.digest()},"hmac"),W=c(({headers:e},t,r)=>{const n={};for(const s of Object.keys(e).sort()){if(null==e[s])continue;const o=s.toLowerCase();(o in A||t?.has(o)||x.test(o)||I.test(o))&&(!r||r&&!r.has(o))||(n[o]=e[s].trim().replace(/\s+/g," "))}return n},"getCanonicalHeaders"),V=r(6130),J=r(1577),K=c(async({headers:e,body:t},r)=>{for(const t of Object.keys(e))if(t.toLowerCase()===P)return e[t];if(null==t)return"e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855";if("string"==typeof t||ArrayBuffer.isView(t)||(0,V.isArrayBuffer)(t)){const e=new r;return e.update((0,J.toUint8Array)(t)),(0,F.toHex)(await e.digest())}return j},"getPayloadHash"),X=r(1577),Q=class{static{c(this,"HeaderFormatter")}format(e){const t=[];for(const r of Object.keys(e)){const n=(0,X.fromUtf8)(r);t.push(Uint8Array.from([n.byteLength]),n,this.formatHeaderValue(e[r]))}const r=new Uint8Array(t.reduce((e,t)=>e+t.byteLength,0));let n=0;for(const e of t)r.set(e,n),n+=e.byteLength;return r}formatHeaderValue(e){switch(e.type){case"boolean":return Uint8Array.from([e.value?0:1]);case"byte":return Uint8Array.from([2,e.value]);case"short":const t=new DataView(new ArrayBuffer(3));return t.setUint8(0,3),t.setInt16(1,e.value,!1),new Uint8Array(t.buffer);case"integer":const r=new DataView(new ArrayBuffer(5));return r.setUint8(0,4),r.setInt32(1,e.value,!1),new Uint8Array(r.buffer);case"long":const n=new Uint8Array(9);return n[0]=5,n.set(e.value.bytes,1),n;case"binary":const s=new DataView(new ArrayBuffer(3+e.value.byteLength));s.setUint8(0,6),s.setUint16(1,e.value.byteLength,!1);const o=new Uint8Array(s.buffer);return o.set(e.value,3),o;case"string":const i=(0,X.fromUtf8)(e.value),a=new DataView(new ArrayBuffer(3+i.byteLength));a.setUint8(0,7),a.setUint16(1,i.byteLength,!1);const c=new Uint8Array(a.buffer);return c.set(i,3),c;case"timestamp":const l=new Uint8Array(9);return l[0]=8,l.set(Z.fromNumber(e.value.valueOf()).bytes,1),l;case"uuid":if(!Y.test(e.value))throw new Error(`Invalid UUID received: ${e.value}`);const d=new Uint8Array(17);return d[0]=9,d.set((0,F.fromHex)(e.value.replace(/\-/g,"")),1),d}}},Y=/^[a-f0-9]{8}-[a-f0-9]{4}-[a-f0-9]{4}-[a-f0-9]{4}-[a-f0-9]{12}$/,Z=class e{constructor(e){if(this.bytes=e,8!==e.byteLength)throw new Error("Int64 buffers must be exactly 8 bytes")}static{c(this,"Int64")}static fromNumber(t){if(t>0x8000000000000000||t<-0x8000000000000000)throw new Error(`${t} is too large (or, if negative, too small) to represent as an Int64`);const r=new Uint8Array(8);for(let e=7,n=Math.abs(Math.round(t));e>-1&&n>0;e--,n/=256)r[e]=n;return t<0&&ee(r),new e(r)}valueOf(){const e=this.bytes.slice(0),t=128&e[0];return t&&ee(e),parseInt((0,F.toHex)(e),16)*(t?-1:1)}toString(){return String(this.valueOf())}};function ee(e){for(let t=0;t<8;t++)e[t]^=255;for(let t=7;t>-1&&(e[t]++,0===e[t]);t--);}c(ee,"negate");var te=c((e,t)=>{e=e.toLowerCase();for(const r of Object.keys(t))if(e===r.toLowerCase())return!0;return!1},"hasHeader"),re=r(2356),ne=c((e,t={})=>{const{headers:r,query:n={}}=re.HttpRequest.clone(e);for(const e of Object.keys(r)){const s=e.toLowerCase();("x-amz-"===s.slice(0,6)&&!t.unhoistableHeaders?.has(s)||t.hoistableHeaders?.has(s))&&(n[e]=r[e],delete r[e])}return{...e,headers:r,query:n}},"moveHeadersToQuery"),se=c(e=>{e=re.HttpRequest.clone(e);for(const t of Object.keys(e.headers))w.indexOf(t.toLowerCase())>-1&&delete e.headers[t];return e},"prepareRequest"),oe=r(6324),ie=r(1577),ae=r(146),ce=c(({query:e={}})=>{const t=[],r={};for(const n of Object.keys(e)){if(n.toLowerCase()===E)continue;const s=(0,ae.escapeUri)(n);t.push(s);const o=e[n];"string"==typeof o?r[s]=`${s}=${(0,ae.escapeUri)(o)}`:Array.isArray(o)&&(r[s]=o.slice(0).reduce((e,t)=>e.concat([`${s}=${(0,ae.escapeUri)(t)}`]),[]).sort().join("&"))}return t.sort().map(e=>r[e]).filter(e=>e).join("&")},"getCanonicalQuery"),le=c(e=>de(e).toISOString().replace(/\.\d{3}Z$/,"Z"),"iso8601"),de=c(e=>"number"==typeof e?new Date(1e3*e):"string"==typeof e?Number(e)?new Date(1e3*Number(e)):new Date(e):e,"toDate"),ue=class{static{c(this,"SignatureV4Base")}constructor({applyChecksum:e,credentials:t,region:r,service:n,sha256:s,uriEscapePath:o=!0}){this.service=n,this.sha256=s,this.uriEscapePath=o,this.applyChecksum="boolean"!=typeof e||e,this.regionProvider=(0,oe.normalizeProvider)(r),this.credentialProvider=(0,oe.normalizeProvider)(t)}createCanonicalRequest(e,t,r){const n=Object.keys(t).sort();return`${e.method}\n${this.getCanonicalPath(e)}\n${ce(e)}\n${n.map(e=>`${e}:${t[e]}`).join("\n")}\n\n${n.join(";")}\n${r}`}async createStringToSign(e,t,r,n){const s=new this.sha256;s.update((0,ie.toUint8Array)(r));const o=await s.digest();return`${n}\n${e}\n${t}\n${(0,F.toHex)(o)}`}getCanonicalPath({path:e}){if(this.uriEscapePath){const t=[];for(const r of e.split("/"))0!==r?.length&&"."!==r&&(".."===r?t.pop():t.push(r));const r=`${e?.startsWith("/")?"/":""}${t.join("/")}${t.length>0&&e?.endsWith("/")?"/":""}`;return(0,ae.escapeUri)(r).replace(/%2F/g,"/")}return e}validateResolvedCredentials(e){if("object"!=typeof e||"string"!=typeof e.accessKeyId||"string"!=typeof e.secretAccessKey)throw new Error("Resolved credential object is not valid")}formatDate(e){const t=le(e).replace(/[\-:]/g,"");return{longDate:t,shortDate:t.slice(0,8)}}getCanonicalHeaderList(e){return Object.keys(e).sort().join(";")}},pe=class extends ue{constructor({applyChecksum:e,credentials:t,region:r,service:n,sha256:s,uriEscapePath:o=!0}){super({applyChecksum:e,credentials:t,region:r,service:n,sha256:s,uriEscapePath:o}),this.headerFormatter=new Q}static{c(this,"SignatureV4")}async presign(e,t={}){const{signingDate:r=new Date,expiresIn:n=3600,unsignableHeaders:s,unhoistableHeaders:o,signableHeaders:i,hoistableHeaders:a,signingRegion:c,signingService:l}=t,d=await this.credentialProvider();this.validateResolvedCredentials(d);const b=c??await this.regionProvider(),{longDate:v,shortDate:_}=this.formatDate(r);if(n>L)return Promise.reject("Signature version 4 presigned URLs must have an expiration date less than one week in the future");const S=H(_,b,l??this.service),w=ne(se(e),{unhoistableHeaders:o,hoistableHeaders:a});d.sessionToken&&(w.query[y]=d.sessionToken),w.query[u]=T,w.query[p]=`${d.accessKeyId}/${S}`,w.query[h]=v,w.query[m]=n.toString(10);const E=W(w,s,i);return w.query[f]=this.getCanonicalHeaderList(E),w.query[g]=await this.getSignature(v,S,this.getSigningKey(d,b,_,l),this.createCanonicalRequest(w,E,await K(e,this.sha256))),w}async sign(e,t){return"string"==typeof e?this.signString(e,t):e.headers&&e.payload?this.signEvent(e,t):e.message?this.signMessage(e,t):this.signRequest(e,t)}async signEvent({headers:e,payload:t},{signingDate:r=new Date,priorSignature:n,signingRegion:s,signingService:o}){const i=s??await this.regionProvider(),{shortDate:a,longDate:c}=this.formatDate(r),l=H(a,i,o??this.service),d=await K({headers:{},body:t},this.sha256),u=new this.sha256;u.update(e);const p=(0,F.toHex)(await u.digest()),h=[N,c,l,n,p,d].join("\n");return this.signString(h,{signingDate:r,signingRegion:i,signingService:o})}async signMessage(e,{signingDate:t=new Date,signingRegion:r,signingService:n}){return this.signEvent({headers:this.headerFormatter.format(e.message.headers),payload:e.message.body},{signingDate:t,signingRegion:r,signingService:n,priorSignature:e.priorSignature}).then(t=>({message:e.message,signature:t}))}async signString(e,{signingDate:t=new Date,signingRegion:r,signingService:n}={}){const s=await this.credentialProvider();this.validateResolvedCredentials(s);const o=r??await this.regionProvider(),{shortDate:i}=this.formatDate(t),a=new this.sha256(await this.getSigningKey(s,o,i,n));return a.update((0,d.toUint8Array)(e)),(0,F.toHex)(await a.digest())}async signRequest(e,{signingDate:t=new Date,signableHeaders:r,unsignableHeaders:n,signingRegion:s,signingService:o}={}){const i=await this.credentialProvider();this.validateResolvedCredentials(i);const a=s??await this.regionProvider(),c=se(e),{longDate:l,shortDate:d}=this.formatDate(t),u=H(d,a,o??this.service);c.headers[_]=l,i.sessionToken&&(c.headers[C]=i.sessionToken);const p=await K(c,this.sha256);!te(P,c.headers)&&this.applyChecksum&&(c.headers[P]=p);const h=W(c,n,r),f=await this.getSignature(l,u,this.getSigningKey(i,a,d,o),this.createCanonicalRequest(c,h,p));return c.headers[v]=`${T} Credential=${i.accessKeyId}/${u}, SignedHeaders=${this.getCanonicalHeaderList(h)}, Signature=${f}`,c}async getSignature(e,t,r,n){const s=await this.createStringToSign(e,t,n,T),o=new this.sha256(await r);return o.update((0,d.toUint8Array)(s)),(0,F.toHex)(await o.digest())}getSigningKey(e,t,r,n){return G(this.sha256,e,r,t,n||this.service)}},he={SignatureV4a:null}},1411:(e,t,r)=>{var n,s=Object.defineProperty,o=Object.getOwnPropertyDescriptor,i=Object.getOwnPropertyNames,a=Object.prototype.hasOwnProperty,c=(e,t)=>s(e,"name",{value:t,configurable:!0}),l=(e,t,r,n)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let c of i(t))a.call(e,c)||c===r||s(e,c,{get:()=>t[c],enumerable:!(n=o(t,c))||n.enumerable});return e},d={};((e,t)=>{for(var r in t)s(e,r,{get:t[r],enumerable:!0})})(d,{Client:()=>p,Command:()=>m,NoOpLogger:()=>L,SENSITIVE_STRING:()=>y,ServiceException:()=>v,_json:()=>V,collectBody:()=>h.collectBody,convertMap:()=>$,createAggregatedClient:()=>b,decorateServiceException:()=>_,emitWarningIfUnsupportedVersion:()=>O,extendedEncodeURIComponent:()=>h.extendedEncodeURIComponent,getArrayIfSingleItem:()=>j,getDefaultClientConfiguration:()=>D,getDefaultExtensionConfiguration:()=>T,getValueFromTextNode:()=>k,isSerializableHeaderValue:()=>M,loadConfigsForDefaultMode:()=>P,map:()=>F,resolveDefaultRuntimeConfig:()=>N,resolvedPath:()=>h.resolvedPath,serializeDateTime:()=>W,serializeFloat:()=>q,take:()=>U,throwDefaultError:()=>S,withBaseException:()=>w}),e.exports=(n=d,l(s({},"__esModule",{value:!0}),n));var u=r(9208),p=class{constructor(e){this.config=e,this.middlewareStack=(0,u.constructStack)()}static{c(this,"Client")}send(e,t,r){const n="function"!=typeof t?t:void 0,s="function"==typeof t?t:r;let o;if(void 0===n&&!0===this.config.cacheMiddleware){this.handlers||(this.handlers=new WeakMap);const t=this.handlers;t.has(e.constructor)?o=t.get(e.constructor):(o=e.resolveMiddleware(this.middlewareStack,this.config,n),t.set(e.constructor,o))}else delete this.handlers,o=e.resolveMiddleware(this.middlewareStack,this.config,n);if(!s)return o(e).then(e=>e.output);o(e).then(e=>s(null,e.output),e=>s(e)).catch(()=>{})}destroy(){this.config?.requestHandler?.destroy?.(),delete this.handlers}},h=r(3422),f=r(690),m=class{constructor(){this.middlewareStack=(0,u.constructStack)()}static{c(this,"Command")}static classBuilder(){return new g}resolveMiddlewareWithContext(e,t,r,{middlewareFn:n,clientName:s,commandName:o,inputFilterSensitiveLog:i,outputFilterSensitiveLog:a,smithyContext:c,additionalContext:l,CommandCtor:d}){for(const s of n.bind(this)(d,e,t,r))this.middlewareStack.use(s);const u=e.concat(this.middlewareStack),{logger:p}=t,h={logger:p,clientName:s,commandName:o,inputFilterSensitiveLog:i,outputFilterSensitiveLog:a,[f.SMITHY_CONTEXT_KEY]:{commandInstance:this,...c},...l},{requestHandler:m}=t;return u.resolve(e=>m.handle(e.request,r||{}),h)}},g=class{constructor(){this._init=()=>{},this._ep={},this._middlewareFn=()=>[],this._commandName="",this._clientName="",this._additionalContext={},this._smithyContext={},this._inputFilterSensitiveLog=e=>e,this._outputFilterSensitiveLog=e=>e,this._serializer=null,this._deserializer=null}static{c(this,"ClassBuilder")}init(e){this._init=e}ep(e){return this._ep=e,this}m(e){return this._middlewareFn=e,this}s(e,t,r={}){return this._smithyContext={service:e,operation:t,...r},this}c(e={}){return this._additionalContext=e,this}n(e,t){return this._clientName=e,this._commandName=t,this}f(e=e=>e,t=e=>e){return this._inputFilterSensitiveLog=e,this._outputFilterSensitiveLog=t,this}ser(e){return this._serializer=e,this}de(e){return this._deserializer=e,this}sc(e){return this._operationSchema=e,this._smithyContext.operationSchema=e,this}build(){const e=this;let t;return t=class extends m{constructor(...[t]){super(),this.serialize=e._serializer,this.deserialize=e._deserializer,this.input=t??{},e._init(this),this.schema=e._operationSchema}static{c(this,"CommandRef")}static getEndpointParameterInstructions(){return e._ep}resolveMiddleware(r,n,s){return this.resolveMiddlewareWithContext(r,n,s,{CommandCtor:t,middlewareFn:e._middlewareFn,clientName:e._clientName,commandName:e._commandName,inputFilterSensitiveLog:e._inputFilterSensitiveLog,outputFilterSensitiveLog:e._outputFilterSensitiveLog,smithyContext:e._smithyContext,additionalContext:e._additionalContext})}}}},y="***SensitiveInformation***",b=c((e,t)=>{for(const r of Object.keys(e)){const n=e[r],s=c(async function(e,t,r){const s=new n(e);if("function"==typeof t)this.send(s,t);else{if("function"!=typeof r)return this.send(s,t);if("object"!=typeof t)throw new Error("Expected http options but got "+typeof t);this.send(s,t||{},r)}},"methodImpl"),o=(r[0].toLowerCase()+r.slice(1)).replace(/Command$/,"");t.prototype[o]=s}},"createAggregatedClient"),v=class e extends Error{static{c(this,"ServiceException")}constructor(e){super(e.message),Object.setPrototypeOf(this,Object.getPrototypeOf(this).constructor.prototype),this.name=e.name,this.$fault=e.$fault,this.$metadata=e.$metadata}static isInstance(t){if(!t)return!1;const r=t;return e.prototype.isPrototypeOf(r)||Boolean(r.$fault)&&Boolean(r.$metadata)&&("client"===r.$fault||"server"===r.$fault)}static[Symbol.hasInstance](t){if(!t)return!1;const r=t;return this===e?e.isInstance(t):!!e.isInstance(t)&&(r.name&&this.name?this.prototype.isPrototypeOf(t)||r.name===this.name:this.prototype.isPrototypeOf(t))}},_=c((e,t={})=>{Object.entries(t).filter(([,e])=>void 0!==e).forEach(([t,r])=>{null!=e[t]&&""!==e[t]||(e[t]=r)});const r=e.message||e.Message||"UnknownError";return e.message=r,delete e.Message,e},"decorateServiceException"),S=c(({output:e,parsedBody:t,exceptionCtor:r,errorCode:n})=>{const s=E(e),o=s.httpStatusCode?s.httpStatusCode+"":void 0,i=new r({name:t?.code||t?.Code||n||o||"UnknownError",$fault:"client",$metadata:s});throw _(i,t)},"throwDefaultError"),w=c(e=>({output:t,parsedBody:r,errorCode:n})=>{S({output:t,parsedBody:r,exceptionCtor:e,errorCode:n})},"withBaseException"),E=c(e=>({httpStatusCode:e.statusCode,requestId:e.headers["x-amzn-requestid"]??e.headers["x-amzn-request-id"]??e.headers["x-amz-request-id"],extendedRequestId:e.headers["x-amz-id-2"],cfId:e.headers["x-amz-cf-id"]}),"deserializeMetadata"),P=c(e=>{switch(e){case"standard":case"cross-region":return{retryMode:"standard",connectionTimeout:3100};case"in-region":return{retryMode:"standard",connectionTimeout:1100};case"mobile":return{retryMode:"standard",connectionTimeout:3e4};default:return{}}},"loadConfigsForDefaultMode"),C=!1,O=c(e=>{e&&!C&&parseInt(e.substring(1,e.indexOf(".")))<16&&(C=!0)},"emitWarningIfUnsupportedVersion"),A=c(e=>{const t=[];for(const r in f.AlgorithmId){const n=f.AlgorithmId[r];void 0!==e[n]&&t.push({algorithmId:()=>n,checksumConstructor:()=>e[n]})}return{addChecksumAlgorithm(e){t.push(e)},checksumAlgorithms:()=>t}},"getChecksumConfiguration"),x=c(e=>{const t={};return e.checksumAlgorithms().forEach(e=>{t[e.algorithmId()]=e.checksumConstructor()}),t},"resolveChecksumRuntimeConfig"),I=c(e=>({setRetryStrategy(t){e.retryStrategy=t},retryStrategy:()=>e.retryStrategy}),"getRetryConfiguration"),R=c(e=>{const t={};return t.retryStrategy=e.retryStrategy(),t},"resolveRetryRuntimeConfig"),T=c(e=>Object.assign(A(e),I(e)),"getDefaultExtensionConfiguration"),D=T,N=c(e=>Object.assign(x(e),R(e)),"resolveDefaultRuntimeConfig"),j=c(e=>Array.isArray(e)?e:[e],"getArrayIfSingleItem"),k=c(e=>{const t="#text";for(const r in e)e.hasOwnProperty(r)&&void 0!==e[r][t]?e[r]=e[r][t]:"object"==typeof e[r]&&null!==e[r]&&(e[r]=k(e[r]));return e},"getValueFromTextNode"),M=c(e=>null!=e,"isSerializableHeaderValue"),L=class{static{c(this,"NoOpLogger")}trace(){}debug(){}info(){}warn(){}error(){}};function F(e,t,r){let n,s,o;if(void 0===t&&void 0===r)n={},o=e;else{if(n=e,"function"==typeof t)return s=t,o=r,B(n,s,o);o=t}for(const e of Object.keys(o))Array.isArray(o[e])?H(n,null,o,e):n[e]=o[e];return n}c(F,"map");var $=c(e=>{const t={};for(const[r,n]of Object.entries(e||{}))t[r]=[,n];return t},"convertMap"),U=c((e,t)=>{const r={};for(const n in t)H(r,e,t,n);return r},"take"),B=c((e,t,r)=>F(e,Object.entries(r).reduce((e,[r,n])=>(Array.isArray(n)?e[r]=n:e[r]="function"==typeof n?[t,n()]:[t,n],e),{})),"mapWithFilter"),H=c((e,t,r,n)=>{if(null!==t){let s=r[n];"function"==typeof s&&(s=[,s]);const[o=G,i=z,a=n]=s;return void(("function"==typeof o&&o(t[a])||"function"!=typeof o&&o)&&(e[n]=i(t[a])))}let[s,o]=r[n];if("function"==typeof o){let t;const r=void 0===s&&null!=(t=o()),i="function"==typeof s&&!!s(void 0)||"function"!=typeof s&&!!s;r?e[n]=t:i&&(e[n]=o())}else{const t=void 0===s&&null!=o,r="function"==typeof s&&!!s(o)||"function"!=typeof s&&!!s;(t||r)&&(e[n]=o)}},"applyInstruction"),G=c(e=>null!=e,"nonNullish"),z=c(e=>e,"pass"),q=c(e=>{if(e!=e)return"NaN";switch(e){case 1/0:return"Infinity";case-1/0:return"-Infinity";default:return e}},"serializeFloat"),W=c(e=>e.toISOString().replace(".000Z","Z"),"serializeDateTime"),V=c(e=>{if(null==e)return{};if(Array.isArray(e))return e.filter(e=>null!=e).map(V);if("object"==typeof e){const t={};for(const r of Object.keys(e))null!=e[r]&&(t[r]=V(e[r]));return t}return e},"_json");((e,t,r)=>{l(e,t,"default"),r&&l(r,t,"default")})(d,r(2430),e.exports)},690:e=>{var t,r=Object.defineProperty,n=Object.getOwnPropertyDescriptor,s=Object.getOwnPropertyNames,o=Object.prototype.hasOwnProperty,i=(e,t)=>r(e,"name",{value:t,configurable:!0}),a={};((e,t)=>{for(var n in t)r(e,n,{get:t[n],enumerable:!0})})(a,{AlgorithmId:()=>u,EndpointURLScheme:()=>d,FieldPosition:()=>g,HttpApiKeyAuthLocation:()=>l,HttpAuthLocation:()=>c,IniSectionType:()=>b,RequestHandlerProtocol:()=>v,SMITHY_CONTEXT_KEY:()=>y,getDefaultClientConfiguration:()=>f,resolveDefaultRuntimeConfig:()=>m}),e.exports=(t=a,((e,t,i,a)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let c of s(t))o.call(e,c)||c===i||r(e,c,{get:()=>t[c],enumerable:!(a=n(t,c))||a.enumerable});return e})(r({},"__esModule",{value:!0}),t));var c=(e=>(e.HEADER="header",e.QUERY="query",e))(c||{}),l=(e=>(e.HEADER="header",e.QUERY="query",e))(l||{}),d=(e=>(e.HTTP="http",e.HTTPS="https",e))(d||{}),u=(e=>(e.MD5="md5",e.CRC32="crc32",e.CRC32C="crc32c",e.SHA1="sha1",e.SHA256="sha256",e))(u||{}),p=i(e=>{const t=[];return void 0!==e.sha256&&t.push({algorithmId:()=>"sha256",checksumConstructor:()=>e.sha256}),null!=e.md5&&t.push({algorithmId:()=>"md5",checksumConstructor:()=>e.md5}),{addChecksumAlgorithm(e){t.push(e)},checksumAlgorithms:()=>t}},"getChecksumConfiguration"),h=i(e=>{const t={};return e.checksumAlgorithms().forEach(e=>{t[e.algorithmId()]=e.checksumConstructor()}),t},"resolveChecksumRuntimeConfig"),f=i(e=>p(e),"getDefaultClientConfiguration"),m=i(e=>h(e),"resolveDefaultRuntimeConfig"),g=(e=>(e[e.HEADER=0]="HEADER",e[e.TRAILER=1]="TRAILER",e))(g||{}),y="__smithy_context",b=(e=>(e.PROFILE="profile",e.SSO_SESSION="sso-session",e.SERVICES="services",e))(b||{}),v=(e=>(e.HTTP_0_9="http/0.9",e.HTTP_1_0="http/1.0",e.TDS_8_0="tds/8.0",e))(v||{})},4494:(e,t,r)=>{var n,s=Object.defineProperty,o=Object.getOwnPropertyDescriptor,i=Object.getOwnPropertyNames,a=Object.prototype.hasOwnProperty,c=(e,t)=>s(e,"name",{value:t,configurable:!0}),l={};((e,t)=>{for(var r in t)s(e,r,{get:t[r],enumerable:!0})})(l,{parseUrl:()=>u}),e.exports=(n=l,((e,t,r,n)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let c of i(t))a.call(e,c)||c===r||s(e,c,{get:()=>t[c],enumerable:!(n=o(t,c))||n.enumerable});return e})(s({},"__esModule",{value:!0}),n));var d=r(8822),u=c(e=>{if("string"==typeof e)return u(new URL(e));const{hostname:t,pathname:r,port:n,protocol:s,search:o}=e;let i;return o&&(i=(0,d.parseQueryString)(o)),{hostname:t,port:n?parseInt(n):void 0,protocol:s,path:r,query:i}},"parseUrl")},2674:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.fromBase64=void 0;const n=r(4151),s=/^[A-Za-z0-9+/]*={0,2}$/;t.fromBase64=e=>{if(3*e.length%4!=0)throw new TypeError("Incorrect padding on base64 string.");if(!s.exec(e))throw new TypeError("Invalid base64 string.");const t=(0,n.fromString)(e,"base64");return new Uint8Array(t.buffer,t.byteOffset,t.byteLength)}},8385:(e,t,r)=>{var n,s=Object.defineProperty,o=Object.getOwnPropertyDescriptor,i=Object.getOwnPropertyNames,a=Object.prototype.hasOwnProperty,c=(e,t,r,n)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let c of i(t))a.call(e,c)||c===r||s(e,c,{get:()=>t[c],enumerable:!(n=o(t,c))||n.enumerable});return e},l=(e,t,r)=>(c(e,t,"default"),r&&c(r,t,"default")),d={};e.exports=(n=d,c(s({},"__esModule",{value:!0}),n)),l(d,r(2674),e.exports),l(d,r(4871),e.exports)},4871:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.toBase64=void 0;const n=r(4151),s=r(1577);t.toBase64=e=>{let t;if(t="string"==typeof e?(0,s.fromUtf8)(e):e,"object"!=typeof t||"number"!=typeof t.byteOffset||"number"!=typeof t.byteLength)throw new Error("@smithy/util-base64: toBase64 encoder function only accepts string | Uint8Array.");return(0,n.fromArrayBuffer)(t.buffer,t.byteOffset,t.byteLength).toString("base64")}},2098:e=>{var t,r=Object.defineProperty,n=Object.getOwnPropertyDescriptor,s=Object.getOwnPropertyNames,o=Object.prototype.hasOwnProperty,i=(e,t)=>r(e,"name",{value:t,configurable:!0}),a={};((e,t)=>{for(var n in t)r(e,n,{get:t[n],enumerable:!0})})(a,{calculateBodyLength:()=>l}),e.exports=(t=a,((e,t,i,a)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let c of s(t))o.call(e,c)||c===i||r(e,c,{get:()=>t[c],enumerable:!(a=n(t,c))||a.enumerable});return e})(r({},"__esModule",{value:!0}),t));var c="function"==typeof TextEncoder?new TextEncoder:null,l=i(e=>{if("string"==typeof e){if(c)return c.encode(e).byteLength;let t=e.length;for(let r=t-1;r>=0;r--){const n=e.charCodeAt(r);n>127&&n<=2047?t++:n>2047&&n<=65535&&(t+=2),n>=56320&&n<=57343&&r--}return t}if("number"==typeof e.byteLength)return e.byteLength;if("number"==typeof e.size)return e.size;throw new Error(`Body Length computation failed for ${e}`)},"calculateBodyLength")},3638:(e,t,r)=>{var n,s=Object.defineProperty,o=Object.getOwnPropertyDescriptor,i=Object.getOwnPropertyNames,a=Object.prototype.hasOwnProperty,c=(e,t)=>s(e,"name",{value:t,configurable:!0}),l={};((e,t)=>{for(var r in t)s(e,r,{get:t[r],enumerable:!0})})(l,{calculateBodyLength:()=>u}),e.exports=(n=l,((e,t,r,n)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let c of i(t))a.call(e,c)||c===r||s(e,c,{get:()=>t[c],enumerable:!(n=o(t,c))||n.enumerable});return e})(s({},"__esModule",{value:!0}),n));var d=r(9896),u=c(e=>{if(!e)return 0;if("string"==typeof e)return Buffer.byteLength(e);if("number"==typeof e.byteLength)return e.byteLength;if("number"==typeof e.size)return e.size;if("number"==typeof e.start&&"number"==typeof e.end)return e.end+1-e.start;if("string"==typeof e.path||Buffer.isBuffer(e.path))return(0,d.lstatSync)(e.path).size;if("number"==typeof e.fd)return(0,d.fstatSync)(e.fd).size;throw new Error(`Body Length computation failed for ${e}`)},"calculateBodyLength")},4151:(e,t,r)=>{var n,s=Object.defineProperty,o=Object.getOwnPropertyDescriptor,i=Object.getOwnPropertyNames,a=Object.prototype.hasOwnProperty,c=(e,t)=>s(e,"name",{value:t,configurable:!0}),l={};((e,t)=>{for(var r in t)s(e,r,{get:t[r],enumerable:!0})})(l,{fromArrayBuffer:()=>p,fromString:()=>h}),e.exports=(n=l,((e,t,r,n)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let c of i(t))a.call(e,c)||c===r||s(e,c,{get:()=>t[c],enumerable:!(n=o(t,c))||n.enumerable});return e})(s({},"__esModule",{value:!0}),n));var d=r(6130),u=r(181),p=c((e,t=0,r=e.byteLength-t)=>{if(!(0,d.isArrayBuffer)(e))throw new TypeError(`The "input" argument must be ArrayBuffer. Received type ${typeof e} (${e})`);return u.Buffer.from(e,t,r)},"fromArrayBuffer"),h=c((e,t)=>{if("string"!=typeof e)throw new TypeError(`The "input" argument must be of type string. Received type ${typeof e} (${e})`);return t?u.Buffer.from(e,t):u.Buffer.from(e)},"fromString")},6716:e=>{var t,r=Object.defineProperty,n=Object.getOwnPropertyDescriptor,s=Object.getOwnPropertyNames,o=Object.prototype.hasOwnProperty,i=(e,t)=>r(e,"name",{value:t,configurable:!0}),a={};((e,t)=>{for(var n in t)r(e,n,{get:t[n],enumerable:!0})})(a,{SelectorType:()=>d,booleanSelector:()=>c,numberSelector:()=>l}),e.exports=(t=a,((e,t,i,a)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let c of s(t))o.call(e,c)||c===i||r(e,c,{get:()=>t[c],enumerable:!(a=n(t,c))||a.enumerable});return e})(r({},"__esModule",{value:!0}),t));var c=i((e,t,r)=>{if(t in e){if("true"===e[t])return!0;if("false"===e[t])return!1;throw new Error(`Cannot load ${r} "${t}". Expected "true" or "false", got ${e[t]}.`)}},"booleanSelector"),l=i((e,t,r)=>{if(!(t in e))return;const n=parseInt(e[t],10);if(Number.isNaN(n))throw new TypeError(`Cannot load ${r} '${t}'. Expected number, got '${e[t]}'.`);return n},"numberSelector"),d=(e=>(e.ENV="env",e.CONFIG="shared config entry",e))(d||{})},5435:(e,t,r)=>{var n,s=Object.create,o=Object.defineProperty,i=Object.getOwnPropertyDescriptor,a=Object.getOwnPropertyNames,c=Object.getPrototypeOf,l=Object.prototype.hasOwnProperty,d=(e,t)=>o(e,"name",{value:t,configurable:!0}),u=(e,t,r,n)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let s of a(t))l.call(e,s)||s===r||o(e,s,{get:()=>t[s],enumerable:!(n=i(t,s))||n.enumerable});return e},p={};((e,t)=>{for(var r in t)o(e,r,{get:t[r],enumerable:!0})})(p,{resolveDefaultsModeConfig:()=>_}),e.exports=(n=p,u(o({},"__esModule",{value:!0}),n));var h=r(9316),f=r(5704),m=r(1238),g="AWS_REGION",y="AWS_DEFAULT_REGION",b=["in-region","cross-region","mobile","standard","legacy"],v={environmentVariableSelector:e=>e.AWS_DEFAULTS_MODE,configFileSelector:e=>e.defaults_mode,default:"legacy"},_=d(({region:e=(0,f.loadConfig)(h.NODE_REGION_CONFIG_OPTIONS),defaultsMode:t=(0,f.loadConfig)(v)}={})=>(0,m.memoize)(async()=>{const r="function"==typeof t?await t():t;switch(r?.toLowerCase()){case"auto":return S(e);case"in-region":case"cross-region":case"mobile":case"standard":case"legacy":return Promise.resolve(r?.toLocaleLowerCase());case void 0:return Promise.resolve("legacy");default:throw new Error(`Invalid parameter for "defaultsMode", expect ${b.join(", ")}, got ${r}`)}}),"resolveDefaultsModeConfig"),S=d(async e=>{if(e){const t="function"==typeof e?await e():e,r=await w();return r?t===r?"in-region":"cross-region":"standard"}return"standard"},"resolveNodeDefaultsModeAuto"),w=d(async()=>{if(process.env.AWS_EXECUTION_ENV&&(process.env[g]||process.env[y]))return process.env[g]??process.env[y];if(!process.env.AWS_EC2_METADATA_DISABLED)try{const{getInstanceMetadataEndpoint:e,httpRequest:t}=await Promise.resolve().then(()=>((e,t,r)=>(r=null!=e?s(c(e)):{},u(!t&&e&&e.__esModule?r:o(r,"default",{value:e,enumerable:!0}),e)))(r(566))),n=await e();return(await t({...n,path:"/latest/meta-data/placement/region"})).toString()}catch(e){}},"inferPhysicalRegion")},9674:(e,t,r)=>{var n,s=Object.defineProperty,o=Object.getOwnPropertyDescriptor,i=Object.getOwnPropertyNames,a=Object.prototype.hasOwnProperty,c=(e,t)=>s(e,"name",{value:t,configurable:!0}),l={};((e,t)=>{for(var r in t)s(e,r,{get:t[r],enumerable:!0})})(l,{EndpointCache:()=>d,EndpointError:()=>b,customEndpointFunctions:()=>m,isIpAddress:()=>p,isValidHostLabel:()=>f,resolveEndpoint:()=>B}),e.exports=(n=l,((e,t,r,n)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let c of i(t))a.call(e,c)||c===r||s(e,c,{get:()=>t[c],enumerable:!(n=o(t,c))||n.enumerable});return e})(s({},"__esModule",{value:!0}),n));var d=class{constructor({size:e,params:t}){this.data=new Map,this.parameters=[],this.capacity=e??50,t&&(this.parameters=t)}static{c(this,"EndpointCache")}get(e,t){const r=this.hash(e);if(!1===r)return t();if(!this.data.has(r)){if(this.data.size>this.capacity+10){const e=this.data.keys();let t=0;for(;;){const{value:r,done:n}=e.next();if(this.data.delete(r),n||++t>10)break}}this.data.set(r,t())}return this.data.get(r)}size(){return this.data.size}hash(e){let t="";const{parameters:r}=this;if(0===r.length)return!1;for(const n of r){const r=String(e[n]??"");if(r.includes("|;"))return!1;t+=r+"|;"}return t}},u=new RegExp("^(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)){3}$"),p=c(e=>u.test(e)||e.startsWith("[")&&e.endsWith("]"),"isIpAddress"),h=new RegExp("^(?!.*-$)(?!-)[a-zA-Z0-9-]{1,63}$"),f=c((e,t=!1)=>{if(!t)return h.test(e);const r=e.split(".");for(const e of r)if(!f(e))return!1;return!0},"isValidHostLabel"),m={},g="endpoints";function y(e){return"object"!=typeof e||null==e?e:"ref"in e?`$${y(e.ref)}`:"fn"in e?`${e.fn}(${(e.argv||[]).map(y).join(", ")})`:JSON.stringify(e,null,2)}c(y,"toDebugString");var b=class extends Error{static{c(this,"EndpointError")}constructor(e){super(e),this.name="EndpointError"}},v=c((e,t)=>e===t,"booleanEquals"),_=c(e=>{const t=e.split("."),r=[];for(const n of t){const t=n.indexOf("[");if(-1!==t){if(n.indexOf("]")!==n.length-1)throw new b(`Path: '${e}' does not end with ']'`);const s=n.slice(t+1,-1);if(Number.isNaN(parseInt(s)))throw new b(`Invalid array index: '${s}' in path: '${e}'`);0!==t&&r.push(n.slice(0,t)),r.push(s)}else r.push(n)}return r},"getAttrPathList"),S=c((e,t)=>_(t).reduce((r,n)=>{if("object"!=typeof r)throw new b(`Index '${n}' in '${t}' not found in '${JSON.stringify(e)}'`);return Array.isArray(r)?r[parseInt(n)]:r[n]},e),"getAttr"),w=c(e=>null!=e,"isSet"),E=c(e=>!e,"not"),P=r(690),C={[P.EndpointURLScheme.HTTP]:80,[P.EndpointURLScheme.HTTPS]:443},O={booleanEquals:v,getAttr:S,isSet:w,isValidHostLabel:f,not:E,parseURL:c(e=>{const t=(()=>{try{if(e instanceof URL)return e;if("object"==typeof e&&"hostname"in e){const{hostname:t,port:r,protocol:n="",path:s="",query:o={}}=e,i=new URL(`${n}//${t}${r?`:${r}`:""}${s}`);return i.search=Object.entries(o).map(([e,t])=>`${e}=${t}`).join("&"),i}return new URL(e)}catch(e){return null}})();if(!t)return console.error(`Unable to parse ${JSON.stringify(e)} as a whatwg URL.`),null;const r=t.href,{host:n,hostname:s,pathname:o,protocol:i,search:a}=t;if(a)return null;const c=i.slice(0,-1);if(!Object.values(P.EndpointURLScheme).includes(c))return null;const l=p(s);return{scheme:c,authority:`${n}${r.includes(`${n}:${C[c]}`)||"string"==typeof e&&e.includes(`${n}:${C[c]}`)?`:${C[c]}`:""}`,path:o,normalizedPath:o.endsWith("/")?o:`${o}/`,isIp:l}},"parseURL"),stringEquals:c((e,t)=>e===t,"stringEquals"),substring:c((e,t,r,n)=>t>=r||e.length<r?null:n?e.substring(e.length-r,e.length-t):e.substring(t,r),"substring"),uriEncode:c(e=>encodeURIComponent(e).replace(/[!*'()]/g,e=>`%${e.charCodeAt(0).toString(16).toUpperCase()}`),"uriEncode")},A=c((e,t)=>{const r=[],n={...t.endpointParams,...t.referenceRecord};let s=0;for(;s<e.length;){const t=e.indexOf("{",s);if(-1===t){r.push(e.slice(s));break}r.push(e.slice(s,t));const o=e.indexOf("}",t);if(-1===o){r.push(e.slice(t));break}"{"===e[t+1]&&"}"===e[o+1]&&(r.push(e.slice(t+1,o)),s=o+2);const i=e.substring(t+1,o);if(i.includes("#")){const[e,t]=i.split("#");r.push(S(n[e],t))}else r.push(n[i]);s=o+1}return r.join("")},"evaluateTemplate"),x=c(({ref:e},t)=>({...t.endpointParams,...t.referenceRecord}[e]),"getReferenceValue"),I=c((e,t,r)=>{if("string"==typeof e)return A(e,r);if(e.fn)return R(e,r);if(e.ref)return x(e,r);throw new b(`'${t}': ${String(e)} is not a string, function or reference.`)},"evaluateExpression"),R=c(({fn:e,argv:t},r)=>{const n=t.map(e=>["boolean","number"].includes(typeof e)?e:I(e,"arg",r)),s=e.split(".");return s[0]in m&&null!=s[1]?m[s[0]][s[1]](...n):O[e](...n)},"callFunction"),T=c(({assign:e,...t},r)=>{if(e&&e in r.referenceRecord)throw new b(`'${e}' is already defined in Reference Record.`);const n=R(t,r);return r.logger?.debug?.(`${g} evaluateCondition: ${y(t)} = ${y(n)}`),{result:""===n||!!n,...null!=e&&{toAssign:{name:e,value:n}}}},"evaluateCondition"),D=c((e=[],t)=>{const r={};for(const n of e){const{result:e,toAssign:s}=T(n,{...t,referenceRecord:{...t.referenceRecord,...r}});if(!e)return{result:e};s&&(r[s.name]=s.value,t.logger?.debug?.(`${g} assign: ${s.name} := ${y(s.value)}`))}return{result:!0,referenceRecord:r}},"evaluateConditions"),N=c((e,t)=>Object.entries(e).reduce((e,[r,n])=>({...e,[r]:n.map(e=>{const n=I(e,"Header value entry",t);if("string"!=typeof n)throw new b(`Header '${r}' value '${n}' is not a string`);return n})}),{}),"getEndpointHeaders"),j=c((e,t)=>{if(Array.isArray(e))return e.map(e=>j(e,t));switch(typeof e){case"string":return A(e,t);case"object":if(null===e)throw new b(`Unexpected endpoint property: ${e}`);return k(e,t);case"boolean":return e;default:throw new b("Unexpected endpoint property type: "+typeof e)}},"getEndpointProperty"),k=c((e,t)=>Object.entries(e).reduce((e,[r,n])=>({...e,[r]:j(n,t)}),{}),"getEndpointProperties"),M=c((e,t)=>{const r=I(e,"Endpoint URL",t);if("string"==typeof r)try{return new URL(r)}catch(e){throw console.error(`Failed to construct URL with ${r}`,e),e}throw new b("Endpoint URL must be a string, got "+typeof r)},"getEndpointUrl"),L=c((e,t)=>{const{conditions:r,endpoint:n}=e,{result:s,referenceRecord:o}=D(r,t);if(!s)return;const i={...t,referenceRecord:{...t.referenceRecord,...o}},{url:a,properties:c,headers:l}=n;return t.logger?.debug?.(`${g} Resolving endpoint from template: ${y(n)}`),{...null!=l&&{headers:N(l,i)},...null!=c&&{properties:k(c,i)},url:M(a,i)}},"evaluateEndpointRule"),F=c((e,t)=>{const{conditions:r,error:n}=e,{result:s,referenceRecord:o}=D(r,t);if(s)throw new b(I(n,"Error",{...t,referenceRecord:{...t.referenceRecord,...o}}))},"evaluateErrorRule"),$=c((e,t)=>{const{conditions:r,rules:n}=e,{result:s,referenceRecord:o}=D(r,t);if(s)return U(n,{...t,referenceRecord:{...t.referenceRecord,...o}})},"evaluateTreeRule"),U=c((e,t)=>{for(const r of e)if("endpoint"===r.type){const e=L(r,t);if(e)return e}else if("error"===r.type)F(r,t);else{if("tree"!==r.type)throw new b(`Unknown endpoint rule: ${r}`);{const e=$(r,t);if(e)return e}}throw new b("Rules evaluation failed")},"evaluateRules"),B=c((e,t)=>{const{endpointParams:r,logger:n}=t,{parameters:s,rules:o}=e;t.logger?.debug?.(`${g} Initial EndpointParams: ${y(r)}`);const i=Object.entries(s).filter(([,e])=>null!=e.default).map(([e,t])=>[e,t.default]);if(i.length>0)for(const[e,t]of i)r[e]=r[e]??t;const a=Object.entries(s).filter(([,e])=>e.required).map(([e])=>e);for(const e of a)if(null==r[e])throw new b(`Missing required parameter: '${e}'`);const c=U(o,{endpointParams:r,logger:n,referenceRecord:{}});return t.logger?.debug?.(`${g} Resolved endpoint: ${y(c)}`),c},"resolveEndpoint")},6435:e=>{var t,r=Object.defineProperty,n=Object.getOwnPropertyDescriptor,s=Object.getOwnPropertyNames,o=Object.prototype.hasOwnProperty,i=(e,t)=>r(e,"name",{value:t,configurable:!0}),a={};((e,t)=>{for(var n in t)r(e,n,{get:t[n],enumerable:!0})})(a,{fromHex:()=>d,toHex:()=>u}),e.exports=(t=a,((e,t,i,a)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let c of s(t))o.call(e,c)||c===i||r(e,c,{get:()=>t[c],enumerable:!(a=n(t,c))||a.enumerable});return e})(r({},"__esModule",{value:!0}),t));var c={},l={};for(let e=0;e<256;e++){let t=e.toString(16).toLowerCase();1===t.length&&(t=`0${t}`),c[e]=t,l[t]=e}function d(e){if(e.length%2!=0)throw new Error("Hex encoded strings must have an even number length");const t=new Uint8Array(e.length/2);for(let r=0;r<e.length;r+=2){const n=e.slice(r,r+2).toLowerCase();if(!(n in l))throw new Error(`Cannot decode unrecognized sequence ${n} as hexadecimal`);t[r/2]=l[n]}return t}function u(e){let t="";for(let r=0;r<e.byteLength;r++)t+=c[e[r]];return t}i(d,"fromHex"),i(u,"toHex")},6324:(e,t,r)=>{var n,s=Object.defineProperty,o=Object.getOwnPropertyDescriptor,i=Object.getOwnPropertyNames,a=Object.prototype.hasOwnProperty,c=(e,t)=>s(e,"name",{value:t,configurable:!0}),l={};((e,t)=>{for(var r in t)s(e,r,{get:t[r],enumerable:!0})})(l,{getSmithyContext:()=>u,normalizeProvider:()=>p}),e.exports=(n=l,((e,t,r,n)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let c of i(t))a.call(e,c)||c===r||s(e,c,{get:()=>t[c],enumerable:!(n=o(t,c))||n.enumerable});return e})(s({},"__esModule",{value:!0}),n));var d=r(690),u=c(e=>e[d.SMITHY_CONTEXT_KEY]||(e[d.SMITHY_CONTEXT_KEY]={}),"getSmithyContext"),p=c(e=>{if("function"==typeof e)return e;const t=Promise.resolve(e);return()=>t},"normalizeProvider")},5518:(e,t,r)=>{var n,s=Object.defineProperty,o=Object.getOwnPropertyDescriptor,i=Object.getOwnPropertyNames,a=Object.prototype.hasOwnProperty,c=(e,t)=>s(e,"name",{value:t,configurable:!0}),l={};((e,t)=>{for(var r in t)s(e,r,{get:t[r],enumerable:!0})})(l,{AdaptiveRetryStrategy:()=>A,ConfiguredRetryStrategy:()=>x,DEFAULT_MAX_ATTEMPTS:()=>u,DEFAULT_RETRY_DELAY_BASE:()=>m,DEFAULT_RETRY_MODE:()=>p,DefaultRateLimiter:()=>f,INITIAL_RETRY_TOKENS:()=>b,INVOCATION_ID_HEADER:()=>w,MAXIMUM_RETRY_DELAY:()=>g,NO_RETRY_INCREMENT:()=>S,REQUEST_HEADER:()=>E,RETRY_COST:()=>v,RETRY_MODES:()=>d,StandardRetryStrategy:()=>O,THROTTLING_RETRY_DELAY_BASE:()=>y,TIMEOUT_RETRY_COST:()=>_}),e.exports=(n=l,((e,t,r,n)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let c of i(t))a.call(e,c)||c===r||s(e,c,{get:()=>t[c],enumerable:!(n=o(t,c))||n.enumerable});return e})(s({},"__esModule",{value:!0}),n));var d=(e=>(e.STANDARD="standard",e.ADAPTIVE="adaptive",e))(d||{}),u=3,p="standard",h=r(2058),f=class e{constructor(e){this.currentCapacity=0,this.enabled=!1,this.lastMaxRate=0,this.measuredTxRate=0,this.requestCount=0,this.lastTimestamp=0,this.timeWindow=0,this.beta=e?.beta??.7,this.minCapacity=e?.minCapacity??1,this.minFillRate=e?.minFillRate??.5,this.scaleConstant=e?.scaleConstant??.4,this.smooth=e?.smooth??.8;const t=this.getCurrentTimeInSeconds();this.lastThrottleTime=t,this.lastTxRateBucket=Math.floor(this.getCurrentTimeInSeconds()),this.fillRate=this.minFillRate,this.maxCapacity=this.minCapacity}static{c(this,"DefaultRateLimiter")}static{this.setTimeoutFn=setTimeout}getCurrentTimeInSeconds(){return Date.now()/1e3}async getSendToken(){return this.acquireTokenBucket(1)}async acquireTokenBucket(t){if(this.enabled){if(this.refillTokenBucket(),t>this.currentCapacity){const r=(t-this.currentCapacity)/this.fillRate*1e3;await new Promise(t=>e.setTimeoutFn(t,r))}this.currentCapacity=this.currentCapacity-t}}refillTokenBucket(){const e=this.getCurrentTimeInSeconds();if(!this.lastTimestamp)return void(this.lastTimestamp=e);const t=(e-this.lastTimestamp)*this.fillRate;this.currentCapacity=Math.min(this.maxCapacity,this.currentCapacity+t),this.lastTimestamp=e}updateClientSendingRate(e){let t;if(this.updateMeasuredRate(),(0,h.isThrottlingError)(e)){const e=this.enabled?Math.min(this.measuredTxRate,this.fillRate):this.measuredTxRate;this.lastMaxRate=e,this.calculateTimeWindow(),this.lastThrottleTime=this.getCurrentTimeInSeconds(),t=this.cubicThrottle(e),this.enableTokenBucket()}else this.calculateTimeWindow(),t=this.cubicSuccess(this.getCurrentTimeInSeconds());const r=Math.min(t,2*this.measuredTxRate);this.updateTokenBucketRate(r)}calculateTimeWindow(){this.timeWindow=this.getPrecise(Math.pow(this.lastMaxRate*(1-this.beta)/this.scaleConstant,1/3))}cubicThrottle(e){return this.getPrecise(e*this.beta)}cubicSuccess(e){return this.getPrecise(this.scaleConstant*Math.pow(e-this.lastThrottleTime-this.timeWindow,3)+this.lastMaxRate)}enableTokenBucket(){this.enabled=!0}updateTokenBucketRate(e){this.refillTokenBucket(),this.fillRate=Math.max(e,this.minFillRate),this.maxCapacity=Math.max(e,this.minCapacity),this.currentCapacity=Math.min(this.currentCapacity,this.maxCapacity)}updateMeasuredRate(){const e=this.getCurrentTimeInSeconds(),t=Math.floor(2*e)/2;if(this.requestCount++,t>this.lastTxRateBucket){const e=this.requestCount/(t-this.lastTxRateBucket);this.measuredTxRate=this.getPrecise(e*this.smooth+this.measuredTxRate*(1-this.smooth)),this.requestCount=0,this.lastTxRateBucket=t}}getPrecise(e){return parseFloat(e.toFixed(8))}},m=100,g=2e4,y=500,b=500,v=5,_=10,S=1,w="amz-sdk-invocation-id",E="amz-sdk-request",P=c(()=>{let e=m;return{computeNextBackoffDelay:c(t=>Math.floor(Math.min(g,Math.random()*2**t*e)),"computeNextBackoffDelay"),setDelayBase:c(t=>{e=t},"setDelayBase")}},"getDefaultRetryBackoffStrategy"),C=c(({retryDelay:e,retryCount:t,retryCost:r})=>({getRetryCount:c(()=>t,"getRetryCount"),getRetryDelay:c(()=>Math.min(g,e),"getRetryDelay"),getRetryCost:c(()=>r,"getRetryCost")}),"createDefaultRetryToken"),O=class{constructor(e){this.maxAttempts=e,this.mode="standard",this.capacity=b,this.retryBackoffStrategy=P(),this.maxAttemptsProvider="function"==typeof e?e:async()=>e}static{c(this,"StandardRetryStrategy")}async acquireInitialRetryToken(e){return C({retryDelay:m,retryCount:0})}async refreshRetryTokenForRetry(e,t){const r=await this.getMaxAttempts();if(this.shouldRetry(e,t,r)){const r=t.errorType;this.retryBackoffStrategy.setDelayBase("THROTTLING"===r?y:m);const n=this.retryBackoffStrategy.computeNextBackoffDelay(e.getRetryCount()),s=t.retryAfterHint?Math.max(t.retryAfterHint.getTime()-Date.now()||0,n):n,o=this.getCapacityCost(r);return this.capacity-=o,C({retryDelay:s,retryCount:e.getRetryCount()+1,retryCost:o})}throw new Error("No retry token available")}recordSuccess(e){this.capacity=Math.max(b,this.capacity+(e.getRetryCost()??S))}getCapacity(){return this.capacity}async getMaxAttempts(){try{return await this.maxAttemptsProvider()}catch(e){return console.warn(`Max attempts provider could not resolve. Using default of ${u}`),u}}shouldRetry(e,t,r){return e.getRetryCount()+1<r&&this.capacity>=this.getCapacityCost(t.errorType)&&this.isRetryableError(t.errorType)}getCapacityCost(e){return"TRANSIENT"===e?_:v}isRetryableError(e){return"THROTTLING"===e||"TRANSIENT"===e}},A=class{constructor(e,t){this.maxAttemptsProvider=e,this.mode="adaptive";const{rateLimiter:r}=t??{};this.rateLimiter=r??new f,this.standardRetryStrategy=new O(e)}static{c(this,"AdaptiveRetryStrategy")}async acquireInitialRetryToken(e){return await this.rateLimiter.getSendToken(),this.standardRetryStrategy.acquireInitialRetryToken(e)}async refreshRetryTokenForRetry(e,t){return this.rateLimiter.updateClientSendingRate(t),this.standardRetryStrategy.refreshRetryTokenForRetry(e,t)}recordSuccess(e){this.rateLimiter.updateClientSendingRate({}),this.standardRetryStrategy.recordSuccess(e)}},x=class extends O{static{c(this,"ConfiguredRetryStrategy")}constructor(e,t=m){super("function"==typeof e?e:async()=>e),this.computeNextBackoffDelay="number"==typeof t?()=>t:t}async refreshRetryTokenForRetry(e,t){const r=await super.refreshRetryTokenForRetry(e,t);return r.getRetryDelay=()=>this.computeNextBackoffDelay(r.getRetryCount()),r}}},9351:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ByteArrayCollector=void 0;t.ByteArrayCollector=class{constructor(e){this.allocByteArray=e,this.byteLength=0,this.byteArrays=[]}push(e){this.byteArrays.push(e),this.byteLength+=e.byteLength}flush(){if(1===this.byteArrays.length){const e=this.byteArrays[0];return this.reset(),e}const e=this.allocByteArray(this.byteLength);let t=0;for(let r=0;r<this.byteArrays.length;++r){const n=this.byteArrays[r];e.set(n,t),t+=n.byteLength}return this.reset(),e}reset(){this.byteArrays=[],this.byteLength=0}}},7753:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ChecksumStream=void 0;const r="function"==typeof ReadableStream?ReadableStream:function(){};t.ChecksumStream=class extends r{}},1775:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ChecksumStream=void 0;const n=r(8385),s=r(2203);class o extends s.Duplex{constructor({expectedChecksum:e,checksum:t,source:r,checksumSourceLocation:s,base64Encoder:o}){var i,a;if(super(),"function"!=typeof r.pipe)throw new Error(`@smithy/util-stream: unsupported source type ${null!==(a=null===(i=null==r?void 0:r.constructor)||void 0===i?void 0:i.name)&&void 0!==a?a:r} in ChecksumStream.`);this.source=r,this.base64Encoder=null!=o?o:n.toBase64,this.expectedChecksum=e,this.checksum=t,this.checksumSourceLocation=s,this.source.pipe(this)}_read(e){}_write(e,t,r){try{this.checksum.update(e),this.push(e)}catch(e){return r(e)}return r()}async _final(e){try{const t=await this.checksum.digest(),r=this.base64Encoder(t);if(this.expectedChecksum!==r)return e(new Error(`Checksum mismatch: expected "${this.expectedChecksum}" but received "${r}" in response header "${this.checksumSourceLocation}".`))}catch(t){return e(t)}return this.push(null),e()}}t.ChecksumStream=o},4129:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createChecksumStream=void 0;const n=r(8385),s=r(4414),o=r(7753);t.createChecksumStream=({expectedChecksum:e,checksum:t,source:r,checksumSourceLocation:i,base64Encoder:a})=>{var c,l;if(!(0,s.isReadableStream)(r))throw new Error(`@smithy/util-stream: unsupported source type ${null!==(l=null===(c=null==r?void 0:r.constructor)||void 0===c?void 0:c.name)&&void 0!==l?l:r} in ChecksumStream.`);const d=null!=a?a:n.toBase64;if("function"!=typeof TransformStream)throw new Error("@smithy/util-stream: unable to instantiate ChecksumStream because API unavailable: ReadableStream/TransformStream.");const u=new TransformStream({start(){},async transform(e,r){t.update(e),r.enqueue(e)},async flush(r){const n=await t.digest(),s=d(n);if(e!==s){const t=new Error(`Checksum mismatch: expected "${e}" but received "${s}" in response header "${i}".`);r.error(t)}else r.terminate()}});r.pipeThrough(u);const p=u.readable;return Object.setPrototypeOf(p,o.ChecksumStream.prototype),p}},5639:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createChecksumStream=function(e){if("function"==typeof ReadableStream&&(0,n.isReadableStream)(e.source))return(0,o.createChecksumStream)(e);return new s.ChecksumStream(e)};const n=r(4414),s=r(1775),o=r(4129)},2005:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createBufferedReadable=function(e,t,r){if((0,i.isReadableStream)(e))return(0,o.createBufferedReadableStream)(e,t,r);const a=new n.Readable({read(){}});let c=!1,l=0;const d=["",new s.ByteArrayCollector(e=>new Uint8Array(e)),new s.ByteArrayCollector(e=>Buffer.from(new Uint8Array(e)))];let u=-1;return e.on("data",e=>{const n=(0,o.modeOf)(e,!0);if(u!==n&&(u>=0&&a.push((0,o.flush)(d,u)),u=n),-1===u)return void a.push(e);const s=(0,o.sizeOf)(e);l+=s;const i=(0,o.sizeOf)(d[u]);if(s>=t&&0===i)a.push(e);else{const n=(0,o.merge)(d,u,e);!c&&l>2*t&&(c=!0,null==r||r.warn(`@smithy/util-stream - stream chunk size ${s} is below threshold of ${t}, automatically buffering.`)),n>=t&&a.push((0,o.flush)(d,u))}}),e.on("end",()=>{if(-1!==u){const e=(0,o.flush)(d,u);(0,o.sizeOf)(e)>0&&a.push(e)}a.push(null)}),a};const n=r(7075),s=r(9351),o=r(8213),i=r(4414)},8213:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createBufferedReadable=void 0,t.createBufferedReadableStream=s,t.merge=o,t.flush=i,t.sizeOf=a,t.modeOf=c;const n=r(9351);function s(e,t,r){const s=e.getReader();let l=!1,d=0;const u=["",new n.ByteArrayCollector(e=>new Uint8Array(e))];let p=-1;const h=async e=>{const{value:n,done:f}=await s.read(),m=n;if(f){if(-1!==p){const t=i(u,p);a(t)>0&&e.enqueue(t)}e.close()}else{const n=c(m,!1);if(p!==n&&(p>=0&&e.enqueue(i(u,p)),p=n),-1===p)return void e.enqueue(m);const s=a(m);d+=s;const f=a(u[p]);if(s>=t&&0===f)e.enqueue(m);else{const n=o(u,p,m);!l&&d>2*t&&(l=!0,null==r||r.warn(`@smithy/util-stream - stream chunk size ${s} is below threshold of ${t}, automatically buffering.`)),n>=t?e.enqueue(i(u,p)):await h(e)}}};return new ReadableStream({pull:h})}function o(e,t,r){switch(t){case 0:return e[0]+=r,a(e[0]);case 1:case 2:return e[t].push(r),a(e[t])}}function i(e,t){switch(t){case 0:const r=e[0];return e[0]="",r;case 1:case 2:return e[t].flush()}throw new Error(`@smithy/util-stream - invalid index ${t} given to flush()`)}function a(e){var t,r;return null!==(r=null!==(t=null==e?void 0:e.byteLength)&&void 0!==t?t:null==e?void 0:e.length)&&void 0!==r?r:0}function c(e,t=!0){return t&&"undefined"!=typeof Buffer&&e instanceof Buffer?2:e instanceof Uint8Array?1:"string"==typeof e?0:-1}t.createBufferedReadable=s},6522:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getAwsChunkedEncodingStream=void 0;const n=r(2203);t.getAwsChunkedEncodingStream=(e,t)=>{const{base64Encoder:r,bodyLengthChecker:s,checksumAlgorithmFn:o,checksumLocationName:i,streamHasher:a}=t,c=void 0!==r&&void 0!==o&&void 0!==i&&void 0!==a,l=c?a(o,e):void 0,d=new n.Readable({read:()=>{}});return e.on("data",e=>{const t=s(e)||0;d.push(`${t.toString(16)}\r\n`),d.push(e),d.push("\r\n")}),e.on("end",async()=>{if(d.push("0\r\n"),c){const e=r(await l);d.push(`${i}:${e}\r\n`),d.push("\r\n")}d.push(null)}),d}},66:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.headStream=async function(e,t){var r;let n=0;const s=[],o=e.getReader();let i=!1;for(;!i;){const{done:e,value:a}=await o.read();if(a&&(s.push(a),n+=null!==(r=null==a?void 0:a.byteLength)&&void 0!==r?r:0),n>=t)break;i=e}o.releaseLock();const a=new Uint8Array(Math.min(t,n));let c=0;for(const e of s){if(e.byteLength>a.byteLength-c){a.set(e.subarray(0,a.byteLength-c),c);break}a.set(e,c),c+=e.length}return a}},8412:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.headStream=void 0;const n=r(2203),s=r(66),o=r(4414);t.headStream=(e,t)=>(0,o.isReadableStream)(e)?(0,s.headStream)(e,t):new Promise((r,n)=>{const s=new i;s.limit=t,e.pipe(s),e.on("error",e=>{s.end(),n(e)}),s.on("error",n),s.on("finish",function(){const e=new Uint8Array(Buffer.concat(this.buffers));r(e)})});class i extends n.Writable{constructor(){super(...arguments),this.buffers=[],this.limit=1/0,this.bytesBuffered=0}_write(e,t,r){var n;if(this.buffers.push(e),this.bytesBuffered+=null!==(n=e.byteLength)&&void 0!==n?n:0,this.bytesBuffered>=this.limit){const e=this.bytesBuffered-this.limit,t=this.buffers[this.buffers.length-1];this.buffers[this.buffers.length-1]=t.subarray(0,t.byteLength-e),this.emit("finish")}r()}}},4252:(e,t,r)=>{var n,s=Object.defineProperty,o=Object.getOwnPropertyDescriptor,i=Object.getOwnPropertyNames,a=Object.prototype.hasOwnProperty,c=(e,t)=>s(e,"name",{value:t,configurable:!0}),l=(e,t,r,n)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let c of i(t))a.call(e,c)||c===r||s(e,c,{get:()=>t[c],enumerable:!(n=o(t,c))||n.enumerable});return e},d=(e,t,r)=>(l(e,t,"default"),r&&l(r,t,"default")),u={};((e,t)=>{for(var r in t)s(e,r,{get:t[r],enumerable:!0})})(u,{Uint8ArrayBlobAdapter:()=>g}),e.exports=(n=u,l(s({},"__esModule",{value:!0}),n));var p=r(8385),h=r(1577);function f(e,t="utf-8"){return"base64"===t?(0,p.toBase64)(e):(0,h.toUtf8)(e)}function m(e,t){return"base64"===t?g.mutate((0,p.fromBase64)(e)):g.mutate((0,h.fromUtf8)(e))}c(f,"transformToString"),c(m,"transformFromString");var g=class e extends Uint8Array{static{c(this,"Uint8ArrayBlobAdapter")}static fromString(e,t="utf-8"){if("string"==typeof e)return m(e,t);throw new Error(`Unsupported conversion from ${typeof e} to Uint8ArrayBlobAdapter.`)}static mutate(t){return Object.setPrototypeOf(t,e.prototype),t}transformToString(e="utf-8"){return f(this,e)}};d(u,r(1775),e.exports),d(u,r(5639),e.exports),d(u,r(2005),e.exports),d(u,r(6522),e.exports),d(u,r(8412),e.exports),d(u,r(7201),e.exports),d(u,r(2108),e.exports),d(u,r(4414),e.exports)},2207:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.sdkStreamMixin=void 0;const n=r(7809),s=r(8385),o=r(6435),i=r(1577),a=r(4414),c="The stream has already been transformed.";t.sdkStreamMixin=e=>{var t,r;if(!l(e)&&!(0,a.isReadableStream)(e)){const n=(null===(r=null===(t=null==e?void 0:e.__proto__)||void 0===t?void 0:t.constructor)||void 0===r?void 0:r.name)||e;throw new Error(`Unexpected stream implementation, expect Blob or ReadableStream, got ${n}`)}let d=!1;const u=async()=>{if(d)throw new Error(c);return d=!0,await(0,n.streamCollector)(e)};return Object.assign(e,{transformToByteArray:u,transformToString:async e=>{const t=await u();if("base64"===e)return(0,s.toBase64)(t);if("hex"===e)return(0,o.toHex)(t);if(void 0===e||"utf8"===e||"utf-8"===e)return(0,i.toUtf8)(t);if("function"==typeof TextDecoder)return new TextDecoder(e).decode(t);throw new Error("TextDecoder is not available, please make sure polyfill is provided.")},transformToWebStream:()=>{if(d)throw new Error(c);if(d=!0,l(e))return(e=>{if("function"!=typeof e.stream)throw new Error("Cannot transform payload Blob to web stream. Please make sure the Blob.stream() is polyfilled.\nIf you are using React Native, this API is not yet supported, see: https://react-native.canny.io/feature-requests/p/fetch-streaming-body");return e.stream()})(e);if((0,a.isReadableStream)(e))return e;throw new Error(`Cannot transform payload to web stream, got ${e}`)}})};const l=e=>"function"==typeof Blob&&e instanceof Blob},7201:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.sdkStreamMixin=void 0;const n=r(1279),s=r(4151),o=r(2203),i=r(2207),a="The stream has already been transformed.";t.sdkStreamMixin=e=>{var t,r;if(!(e instanceof o.Readable))try{return(0,i.sdkStreamMixin)(e)}catch(n){const s=(null===(r=null===(t=null==e?void 0:e.__proto__)||void 0===t?void 0:t.constructor)||void 0===r?void 0:r.name)||e;throw new Error(`Unexpected stream implementation, expect Stream.Readable instance, got ${s}`)}let c=!1;const l=async()=>{if(c)throw new Error(a);return c=!0,await(0,n.streamCollector)(e)};return Object.assign(e,{transformToByteArray:l,transformToString:async e=>{const t=await l();if(void 0===e||Buffer.isEncoding(e))return(0,s.fromArrayBuffer)(t.buffer,t.byteOffset,t.byteLength).toString(e);return new TextDecoder(e).decode(t)},transformToWebStream:()=>{if(c)throw new Error(a);if(null!==e.readableFlowing)throw new Error("The stream has been consumed by other callbacks.");if("function"!=typeof o.Readable.toWeb)throw new Error("Readable.toWeb() is not supported. Please ensure a polyfill is available.");return c=!0,o.Readable.toWeb(e)}})}},7570:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.splitStream=async function(e){"function"==typeof e.stream&&(e=e.stream());return e.tee()}},2108:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.splitStream=async function(e){if((0,o.isReadableStream)(e)||(0,o.isBlob)(e))return(0,s.splitStream)(e);const t=new n.PassThrough,r=new n.PassThrough;return e.pipe(t),e.pipe(r),[t,r]};const n=r(2203),s=r(7570),o=r(4414)},4414:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isBlob=t.isReadableStream=void 0;t.isReadableStream=e=>{var t;return"function"==typeof ReadableStream&&((null===(t=null==e?void 0:e.constructor)||void 0===t?void 0:t.name)===ReadableStream.name||e instanceof ReadableStream)};t.isBlob=e=>{var t;return"function"==typeof Blob&&((null===(t=null==e?void 0:e.constructor)||void 0===t?void 0:t.name)===Blob.name||e instanceof Blob)}},146:e=>{var t,r=Object.defineProperty,n=Object.getOwnPropertyDescriptor,s=Object.getOwnPropertyNames,o=Object.prototype.hasOwnProperty,i=(e,t)=>r(e,"name",{value:t,configurable:!0}),a={};((e,t)=>{for(var n in t)r(e,n,{get:t[n],enumerable:!0})})(a,{escapeUri:()=>c,escapeUriPath:()=>d}),e.exports=(t=a,((e,t,i,a)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let c of s(t))o.call(e,c)||c===i||r(e,c,{get:()=>t[c],enumerable:!(a=n(t,c))||a.enumerable});return e})(r({},"__esModule",{value:!0}),t));var c=i(e=>encodeURIComponent(e).replace(/[!'()*]/g,l),"escapeUri"),l=i(e=>`%${e.charCodeAt(0).toString(16).toUpperCase()}`,"hexEncode"),d=i(e=>e.split("/").map(c).join("/"),"escapeUriPath")},1577:(e,t,r)=>{var n,s=Object.defineProperty,o=Object.getOwnPropertyDescriptor,i=Object.getOwnPropertyNames,a=Object.prototype.hasOwnProperty,c=(e,t)=>s(e,"name",{value:t,configurable:!0}),l={};((e,t)=>{for(var r in t)s(e,r,{get:t[r],enumerable:!0})})(l,{fromUtf8:()=>u,toUint8Array:()=>p,toUtf8:()=>h}),e.exports=(n=l,((e,t,r,n)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let c of i(t))a.call(e,c)||c===r||s(e,c,{get:()=>t[c],enumerable:!(n=o(t,c))||n.enumerable});return e})(s({},"__esModule",{value:!0}),n));var d=r(4151),u=c(e=>{const t=(0,d.fromString)(e,"utf8");return new Uint8Array(t.buffer,t.byteOffset,t.byteLength/Uint8Array.BYTES_PER_ELEMENT)},"fromUtf8"),p=c(e=>"string"==typeof e?u(e):ArrayBuffer.isView(e)?new Uint8Array(e.buffer,e.byteOffset,e.byteLength/Uint8Array.BYTES_PER_ELEMENT):new Uint8Array(e),"toUint8Array"),h=c(e=>{if("string"==typeof e)return e;if("object"!=typeof e||"number"!=typeof e.byteOffset||"number"!=typeof e.byteLength)throw new Error("@smithy/util-utf8: toUtf8 encoder function only accepts string | Uint8Array.");return(0,d.fromArrayBuffer)(e.buffer,e.byteOffset,e.byteLength).toString("utf8")},"toUtf8")},1860:e=>{var t,r,n,s,o,i,a,c,l,d,u,p,h,f,m,g,y,b,v,_,S,w,E,P,C,O,A,x,I,R,T,D;!function(t){var r="object"==typeof global?global:"object"==typeof self?self:"object"==typeof this?this:{};function n(e,t){return e!==r&&("function"==typeof Object.create?Object.defineProperty(e,"__esModule",{value:!0}):e.__esModule=!0),function(r,n){return e[r]=t?t(r,n):n}}"function"==typeof define&&define.amd?define("tslib",["exports"],function(e){t(n(r,n(e)))}):"object"==typeof e.exports?t(n(r,n(e.exports))):t(n(r))}(function(e){var N=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])};t=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}N(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},r=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var s in t=arguments[r])Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s]);return e},n=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var s=0;for(n=Object.getOwnPropertySymbols(e);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(e,n[s])&&(r[n[s]]=e[n[s]])}return r},s=function(e,t,r,n){var s,o=arguments.length,i=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(s=e[a])&&(i=(o<3?s(i):o>3?s(t,r,i):s(t,r))||i);return o>3&&i&&Object.defineProperty(t,r,i),i},o=function(e,t){return function(r,n){t(r,n,e)}},i=function(e,t,r,n,s,o){function i(e){if(void 0!==e&&"function"!=typeof e)throw new TypeError("Function expected");return e}for(var a,c=n.kind,l="getter"===c?"get":"setter"===c?"set":"value",d=!t&&e?n.static?e:e.prototype:null,u=t||(d?Object.getOwnPropertyDescriptor(d,n.name):{}),p=!1,h=r.length-1;h>=0;h--){var f={};for(var m in n)f[m]="access"===m?{}:n[m];for(var m in n.access)f.access[m]=n.access[m];f.addInitializer=function(e){if(p)throw new TypeError("Cannot add initializers after decoration has completed");o.push(i(e||null))};var g=(0,r[h])("accessor"===c?{get:u.get,set:u.set}:u[l],f);if("accessor"===c){if(void 0===g)continue;if(null===g||"object"!=typeof g)throw new TypeError("Object expected");(a=i(g.get))&&(u.get=a),(a=i(g.set))&&(u.set=a),(a=i(g.init))&&s.unshift(a)}else(a=i(g))&&("field"===c?s.unshift(a):u[l]=a)}d&&Object.defineProperty(d,n.name,u),p=!0},a=function(e,t,r){for(var n=arguments.length>2,s=0;s<t.length;s++)r=n?t[s].call(e,r):t[s].call(e);return n?r:void 0},c=function(e){return"symbol"==typeof e?e:"".concat(e)},l=function(e,t,r){return"symbol"==typeof t&&(t=t.description?"[".concat(t.description,"]"):""),Object.defineProperty(e,"name",{configurable:!0,value:r?"".concat(r," ",t):t})},d=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},u=function(e,t,r,n){return new(r||(r=Promise))(function(s,o){function i(e){try{c(n.next(e))}catch(e){o(e)}}function a(e){try{c(n.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?s(e.value):(t=e.value,t instanceof r?t:new r(function(e){e(t)})).then(i,a)}c((n=n.apply(e,t||[])).next())})},p=function(e,t){var r,n,s,o={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]},i=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return i.next=a(0),i.throw=a(1),i.return=a(2),"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(a){return function(c){return function(a){if(r)throw new TypeError("Generator is already executing.");for(;i&&(i=0,a[0]&&(o=0)),o;)try{if(r=1,n&&(s=2&a[0]?n.return:a[0]?n.throw||((s=n.return)&&s.call(n),0):n.next)&&!(s=s.call(n,a[1])).done)return s;switch(n=0,s&&(a=[2&a[0],s.value]),a[0]){case 0:case 1:s=a;break;case 4:return o.label++,{value:a[1],done:!1};case 5:o.label++,n=a[1],a=[0];continue;case 7:a=o.ops.pop(),o.trys.pop();continue;default:if(!(s=o.trys,(s=s.length>0&&s[s.length-1])||6!==a[0]&&2!==a[0])){o=0;continue}if(3===a[0]&&(!s||a[1]>s[0]&&a[1]<s[3])){o.label=a[1];break}if(6===a[0]&&o.label<s[1]){o.label=s[1],s=a;break}if(s&&o.label<s[2]){o.label=s[2],o.ops.push(a);break}s[2]&&o.ops.pop(),o.trys.pop();continue}a=t.call(e,o)}catch(e){a=[6,e],n=0}finally{r=s=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,c])}}},h=function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||I(t,e,r)},I=Object.create?function(e,t,r,n){void 0===n&&(n=r);var s=Object.getOwnPropertyDescriptor(t,r);s&&!("get"in s?!t.__esModule:s.writable||s.configurable)||(s={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,s)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]},f=function(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},m=function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,s,o=r.call(e),i=[];try{for(;(void 0===t||t-- >0)&&!(n=o.next()).done;)i.push(n.value)}catch(e){s={error:e}}finally{try{n&&!n.done&&(r=o.return)&&r.call(o)}finally{if(s)throw s.error}}return i},g=function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(m(arguments[t]));return e},y=function(){for(var e=0,t=0,r=arguments.length;t<r;t++)e+=arguments[t].length;var n=Array(e),s=0;for(t=0;t<r;t++)for(var o=arguments[t],i=0,a=o.length;i<a;i++,s++)n[s]=o[i];return n},b=function(e,t,r){if(r||2===arguments.length)for(var n,s=0,o=t.length;s<o;s++)!n&&s in t||(n||(n=Array.prototype.slice.call(t,0,s)),n[s]=t[s]);return e.concat(n||Array.prototype.slice.call(t))},v=function(e){return this instanceof v?(this.v=e,this):new v(e)},_=function(e,t,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n,s=r.apply(e,t||[]),o=[];return n=Object.create(("function"==typeof AsyncIterator?AsyncIterator:Object).prototype),i("next"),i("throw"),i("return",function(e){return function(t){return Promise.resolve(t).then(e,l)}}),n[Symbol.asyncIterator]=function(){return this},n;function i(e,t){s[e]&&(n[e]=function(t){return new Promise(function(r,n){o.push([e,t,r,n])>1||a(e,t)})},t&&(n[e]=t(n[e])))}function a(e,t){try{(r=s[e](t)).value instanceof v?Promise.resolve(r.value.v).then(c,l):d(o[0][2],r)}catch(e){d(o[0][3],e)}var r}function c(e){a("next",e)}function l(e){a("throw",e)}function d(e,t){e(t),o.shift(),o.length&&a(o[0][0],o[0][1])}},S=function(e){var t,r;return t={},n("next"),n("throw",function(e){throw e}),n("return"),t[Symbol.iterator]=function(){return this},t;function n(n,s){t[n]=e[n]?function(t){return(r=!r)?{value:v(e[n](t)),done:!1}:s?s(t):t}:s}},w=function(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,r=e[Symbol.asyncIterator];return r?r.call(e):(e=f(e),t={},n("next"),n("throw"),n("return"),t[Symbol.asyncIterator]=function(){return this},t);function n(r){t[r]=e[r]&&function(t){return new Promise(function(n,s){(function(e,t,r,n){Promise.resolve(n).then(function(t){e({value:t,done:r})},t)})(n,s,(t=e[r](t)).done,t.value)})}}},E=function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e};var j=Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t},k=function(e){return k=Object.getOwnPropertyNames||function(e){var t=[];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[t.length]=r);return t},k(e)};P=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r=k(e),n=0;n<r.length;n++)"default"!==r[n]&&I(t,e,r[n]);return j(t,e),t},C=function(e){return e&&e.__esModule?e:{default:e}},O=function(e,t,r,n){if("a"===r&&!n)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?n:"a"===r?n.call(e):n?n.value:t.get(e)},A=function(e,t,r,n,s){if("m"===n)throw new TypeError("Private method is not writable");if("a"===n&&!s)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===n?s.call(e,r):s?s.value=r:t.set(e,r),r},x=function(e,t){if(null===t||"object"!=typeof t&&"function"!=typeof t)throw new TypeError("Cannot use 'in' operator on non-object");return"function"==typeof e?t===e:e.has(t)},R=function(e,t,r){if(null!=t){if("object"!=typeof t&&"function"!=typeof t)throw new TypeError("Object expected.");var n,s;if(r){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");n=t[Symbol.asyncDispose]}if(void 0===n){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");n=t[Symbol.dispose],r&&(s=n)}if("function"!=typeof n)throw new TypeError("Object not disposable.");s&&(n=function(){try{s.call(this)}catch(e){return Promise.reject(e)}}),e.stack.push({value:t,dispose:n,async:r})}else r&&e.stack.push({async:!0});return t};var M="function"==typeof SuppressedError?SuppressedError:function(e,t,r){var n=new Error(r);return n.name="SuppressedError",n.error=e,n.suppressed=t,n};T=function(e){function t(t){e.error=e.hasError?new M(t,e.error,"An error was suppressed during disposal."):t,e.hasError=!0}var r,n=0;return function s(){for(;r=e.stack.pop();)try{if(!r.async&&1===n)return n=0,e.stack.push(r),Promise.resolve().then(s);if(r.dispose){var o=r.dispose.call(r.value);if(r.async)return n|=2,Promise.resolve(o).then(s,function(e){return t(e),s()})}else n|=1}catch(e){t(e)}if(1===n)return e.hasError?Promise.reject(e.error):Promise.resolve();if(e.hasError)throw e.error}()},D=function(e,t){return"string"==typeof e&&/^\.\.?\//.test(e)?e.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function(e,r,n,s,o){return r?t?".jsx":".js":!n||s&&o?n+s+"."+o.toLowerCase()+"js":e}):e},e("__extends",t),e("__assign",r),e("__rest",n),e("__decorate",s),e("__param",o),e("__esDecorate",i),e("__runInitializers",a),e("__propKey",c),e("__setFunctionName",l),e("__metadata",d),e("__awaiter",u),e("__generator",p),e("__exportStar",h),e("__createBinding",I),e("__values",f),e("__read",m),e("__spread",g),e("__spreadArrays",y),e("__spreadArray",b),e("__await",v),e("__asyncGenerator",_),e("__asyncDelegator",S),e("__asyncValues",w),e("__makeTemplateObject",E),e("__importStar",P),e("__importDefault",C),e("__classPrivateFieldGet",O),e("__classPrivateFieldSet",A),e("__classPrivateFieldIn",x),e("__addDisposableResource",R),e("__disposeResources",T),e("__rewriteRelativeImportExtension",D)})},770:(e,t,r)=>{e.exports=r(218)},218:(e,t,r)=>{"use strict";r(9278);var n,s=r(4756),o=r(8611),i=r(5692),a=r(4434),c=(r(2613),r(9023));function l(e){var t=this;t.options=e||{},t.proxyOptions=t.options.proxy||{},t.maxSockets=t.options.maxSockets||o.Agent.defaultMaxSockets,t.requests=[],t.sockets=[],t.on("free",function(e,r,n,s){for(var o=u(r,n,s),i=0,a=t.requests.length;i<a;++i){var c=t.requests[i];if(c.host===o.host&&c.port===o.port)return t.requests.splice(i,1),void c.request.onSocket(e)}e.destroy(),t.removeSocket(e)})}function d(e,t){var r=this;l.prototype.createSocket.call(r,e,function(n){var o=e.request.getHeader("host"),i=p({},r.options,{socket:n,servername:o?o.replace(/:.*$/,""):e.host}),a=s.connect(0,i);r.sockets[r.sockets.indexOf(n)]=a,t(a)})}function u(e,t,r){return"string"==typeof e?{host:e,port:t,localAddress:r}:e}function p(e){for(var t=1,r=arguments.length;t<r;++t){var n=arguments[t];if("object"==typeof n)for(var s=Object.keys(n),o=0,i=s.length;o<i;++o){var a=s[o];void 0!==n[a]&&(e[a]=n[a])}}return e}t.httpOverHttp=function(e){var t=new l(e);return t.request=o.request,t},t.httpsOverHttp=function(e){var t=new l(e);return t.request=o.request,t.createSocket=d,t.defaultPort=443,t},t.httpOverHttps=function(e){var t=new l(e);return t.request=i.request,t},t.httpsOverHttps=function(e){var t=new l(e);return t.request=i.request,t.createSocket=d,t.defaultPort=443,t},c.inherits(l,a.EventEmitter),l.prototype.addRequest=function(e,t,r,n){var s=this,o=p({request:e},s.options,u(t,r,n));s.sockets.length>=this.maxSockets?s.requests.push(o):s.createSocket(o,function(t){function r(){s.emit("free",t,o)}function n(e){s.removeSocket(t),t.removeListener("free",r),t.removeListener("close",n),t.removeListener("agentRemove",n)}t.on("free",r),t.on("close",n),t.on("agentRemove",n),e.onSocket(t)})},l.prototype.createSocket=function(e,t){var r=this,s={};r.sockets.push(s);var o=p({},r.proxyOptions,{method:"CONNECT",path:e.host+":"+e.port,agent:!1,headers:{host:e.host+":"+e.port}});e.localAddress&&(o.localAddress=e.localAddress),o.proxyAuth&&(o.headers=o.headers||{},o.headers["Proxy-Authorization"]="Basic "+new Buffer(o.proxyAuth).toString("base64")),n("making CONNECT request");var i=r.request(o);function a(o,a,c){var l;return i.removeAllListeners(),a.removeAllListeners(),200!==o.statusCode?(n("tunneling socket could not be established, statusCode=%d",o.statusCode),a.destroy(),(l=new Error("tunneling socket could not be established, statusCode="+o.statusCode)).code="ECONNRESET",e.request.emit("error",l),void r.removeSocket(s)):c.length>0?(n("got illegal response body from proxy"),a.destroy(),(l=new Error("got illegal response body from proxy")).code="ECONNRESET",e.request.emit("error",l),void r.removeSocket(s)):(n("tunneling connection has established"),r.sockets[r.sockets.indexOf(s)]=a,t(a))}i.useChunkedEncodingByDefault=!1,i.once("response",function(e){e.upgrade=!0}),i.once("upgrade",function(e,t,r){process.nextTick(function(){a(e,t,r)})}),i.once("connect",a),i.once("error",function(t){i.removeAllListeners(),n("tunneling socket could not be established, cause=%s\n",t.message,t.stack);var o=new Error("tunneling socket could not be established, cause="+t.message);o.code="ECONNRESET",e.request.emit("error",o),r.removeSocket(s)}),i.end()},l.prototype.removeSocket=function(e){var t=this.sockets.indexOf(e);if(-1!==t){this.sockets.splice(t,1);var r=this.requests.shift();r&&this.createSocket(r,function(e){r.request.onSocket(e)})}},n=process.env.NODE_DEBUG&&/\btunnel\b/.test(process.env.NODE_DEBUG)?function(){var e=Array.prototype.slice.call(arguments);"string"==typeof e[0]?e[0]="TUNNEL: "+e[0]:e.unshift("TUNNEL:"),console.error.apply(console,e)}:function(){},t.debug=n},2048:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"NIL",{enumerable:!0,get:function(){return a.default}}),Object.defineProperty(t,"parse",{enumerable:!0,get:function(){return u.default}}),Object.defineProperty(t,"stringify",{enumerable:!0,get:function(){return d.default}}),Object.defineProperty(t,"v1",{enumerable:!0,get:function(){return n.default}}),Object.defineProperty(t,"v3",{enumerable:!0,get:function(){return s.default}}),Object.defineProperty(t,"v4",{enumerable:!0,get:function(){return o.default}}),Object.defineProperty(t,"v5",{enumerable:!0,get:function(){return i.default}}),Object.defineProperty(t,"validate",{enumerable:!0,get:function(){return l.default}}),Object.defineProperty(t,"version",{enumerable:!0,get:function(){return c.default}});var n=p(r(6415)),s=p(r(1697)),o=p(r(4676)),i=p(r(9771)),a=p(r(7723)),c=p(r(5868)),l=p(r(6200)),d=p(r(7597)),u=p(r(7267));function p(e){return e&&e.__esModule?e:{default:e}}},216:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n,s=(n=r(6982))&&n.__esModule?n:{default:n};var o=function(e){return Array.isArray(e)?e=Buffer.from(e):"string"==typeof e&&(e=Buffer.from(e,"utf8")),s.default.createHash("md5").update(e).digest()};t.default=o},4221:(e,t,r)=>{"use strict";var n;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s={randomUUID:((n=r(6982))&&n.__esModule?n:{default:n}).default.randomUUID};t.default=s},7723:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default="00000000-0000-0000-0000-000000000000"},7267:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n,s=(n=r(6200))&&n.__esModule?n:{default:n};var o=function(e){if(!(0,s.default)(e))throw TypeError("Invalid UUID");let t;const r=new Uint8Array(16);return r[0]=(t=parseInt(e.slice(0,8),16))>>>24,r[1]=t>>>16&255,r[2]=t>>>8&255,r[3]=255&t,r[4]=(t=parseInt(e.slice(9,13),16))>>>8,r[5]=255&t,r[6]=(t=parseInt(e.slice(14,18),16))>>>8,r[7]=255&t,r[8]=(t=parseInt(e.slice(19,23),16))>>>8,r[9]=255&t,r[10]=(t=parseInt(e.slice(24,36),16))/1099511627776&255,r[11]=t/4294967296&255,r[12]=t>>>24&255,r[13]=t>>>16&255,r[14]=t>>>8&255,r[15]=255&t,r};t.default=o},7879:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i},2973:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){i>o.length-16&&(s.default.randomFillSync(o),i=0);return o.slice(i,i+=16)};var n,s=(n=r(6982))&&n.__esModule?n:{default:n};const o=new Uint8Array(256);let i=o.length},507:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n,s=(n=r(6982))&&n.__esModule?n:{default:n};var o=function(e){return Array.isArray(e)?e=Buffer.from(e):"string"==typeof e&&(e=Buffer.from(e,"utf8")),s.default.createHash("sha1").update(e).digest()};t.default=o},7597:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,t.unsafeStringify=i;var n,s=(n=r(6200))&&n.__esModule?n:{default:n};const o=[];for(let e=0;e<256;++e)o.push((e+256).toString(16).slice(1));function i(e,t=0){return o[e[t+0]]+o[e[t+1]]+o[e[t+2]]+o[e[t+3]]+"-"+o[e[t+4]]+o[e[t+5]]+"-"+o[e[t+6]]+o[e[t+7]]+"-"+o[e[t+8]]+o[e[t+9]]+"-"+o[e[t+10]]+o[e[t+11]]+o[e[t+12]]+o[e[t+13]]+o[e[t+14]]+o[e[t+15]]}var a=function(e,t=0){const r=i(e,t);if(!(0,s.default)(r))throw TypeError("Stringified UUID is invalid");return r};t.default=a},6415:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n,s=(n=r(2973))&&n.__esModule?n:{default:n},o=r(7597);let i,a,c=0,l=0;var d=function(e,t,r){let n=t&&r||0;const d=t||new Array(16);let u=(e=e||{}).node||i,p=void 0!==e.clockseq?e.clockseq:a;if(null==u||null==p){const t=e.random||(e.rng||s.default)();null==u&&(u=i=[1|t[0],t[1],t[2],t[3],t[4],t[5]]),null==p&&(p=a=16383&(t[6]<<8|t[7]))}let h=void 0!==e.msecs?e.msecs:Date.now(),f=void 0!==e.nsecs?e.nsecs:l+1;const m=h-c+(f-l)/1e4;if(m<0&&void 0===e.clockseq&&(p=p+1&16383),(m<0||h>c)&&void 0===e.nsecs&&(f=0),f>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");c=h,l=f,a=p,h+=122192928e5;const g=(1e4*(268435455&h)+f)%4294967296;d[n++]=g>>>24&255,d[n++]=g>>>16&255,d[n++]=g>>>8&255,d[n++]=255&g;const y=h/4294967296*1e4&268435455;d[n++]=y>>>8&255,d[n++]=255&y,d[n++]=y>>>24&15|16,d[n++]=y>>>16&255,d[n++]=p>>>8|128,d[n++]=255&p;for(let e=0;e<6;++e)d[n+e]=u[e];return t||(0,o.unsafeStringify)(d)};t.default=d},1697:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=o(r(2930)),s=o(r(216));function o(e){return e&&e.__esModule?e:{default:e}}var i=(0,n.default)("v3",48,s.default);t.default=i},2930:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.URL=t.DNS=void 0,t.default=function(e,t,r){function n(e,n,i,a){var c;if("string"==typeof e&&(e=function(e){e=unescape(encodeURIComponent(e));const t=[];for(let r=0;r<e.length;++r)t.push(e.charCodeAt(r));return t}(e)),"string"==typeof n&&(n=(0,o.default)(n)),16!==(null===(c=n)||void 0===c?void 0:c.length))throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");let l=new Uint8Array(16+e.length);if(l.set(n),l.set(e,n.length),l=r(l),l[6]=15&l[6]|t,l[8]=63&l[8]|128,i){a=a||0;for(let e=0;e<16;++e)i[a+e]=l[e];return i}return(0,s.unsafeStringify)(l)}try{n.name=e}catch(e){}return n.DNS=i,n.URL=a,n};var n,s=r(7597),o=(n=r(7267))&&n.__esModule?n:{default:n};const i="6ba7b810-9dad-11d1-80b4-00c04fd430c8";t.DNS=i;const a="6ba7b811-9dad-11d1-80b4-00c04fd430c8";t.URL=a},4676:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=i(r(4221)),s=i(r(2973)),o=r(7597);function i(e){return e&&e.__esModule?e:{default:e}}var a=function(e,t,r){if(n.default.randomUUID&&!t&&!e)return n.default.randomUUID();const i=(e=e||{}).random||(e.rng||s.default)();if(i[6]=15&i[6]|64,i[8]=63&i[8]|128,t){r=r||0;for(let e=0;e<16;++e)t[r+e]=i[e];return t}return(0,o.unsafeStringify)(i)};t.default=a},9771:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=o(r(2930)),s=o(r(507));function o(e){return e&&e.__esModule?e:{default:e}}var i=(0,n.default)("v5",80,s.default);t.default=i},6200:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n,s=(n=r(7879))&&n.__esModule?n:{default:n};var o=function(e){return"string"==typeof e&&s.default.test(e)};t.default=o},5868:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n,s=(n=r(6200))&&n.__esModule?n:{default:n};var o=function(e){if(!(0,s.default)(e))throw TypeError("Invalid UUID");return parseInt(e.slice(14,15),16)};t.default=o},8206:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var s=Object.getOwnPropertyDescriptor(t,r);s&&!("get"in s?!t.__esModule:s.writable||s.configurable)||(s={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,s)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),s=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&n(t,e,r);return s(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.ContextManager=void 0;const i=o(r(1943)),a=o(r(7484));t.ContextManager=class{contextPath=".llm/service_context.md";contextJsonPath=".llm/context.json";async loadContext(){a.info("Loading context...");try{a.info(`Reading markdown context from: ${this.contextPath}`);const e=await i.readFile(this.contextPath,"utf-8");a.info("Markdown context read successfully.");let t={};try{a.info(`Reading JSON context from: ${this.contextJsonPath}`);const e=await i.readFile(this.contextJsonPath,"utf-8");t=JSON.parse(e),a.info("JSON context loaded and parsed.")}catch{a.info("JSON context not found, initializing new context."),t={jobIterations:0,history:[],status:"active"}}a.info("Parsing markdown content...");const r=this.parseMarkdown(e);a.info("Markdown content parsed.");const n={...r,...t,jobIterations:t.jobIterations||0,history:t.history||[],status:t.status||"active"};return a.info(`Context loaded successfully: ${JSON.stringify(n,null,2)}`),n}catch(e){throw a.error(`Failed to load context: ${e}`),e}}async updateContext(e){a.info("Updating context...");try{await i.writeFile(this.contextJsonPath,JSON.stringify(e,null,2)),a.info(`Context updated successfully at: ${this.contextJsonPath}`)}catch(e){throw a.error(`Failed to update context: ${e}`),e}}async appendFindings(e){a.info("Appending findings...");try{const t=await this.loadContext();t.history.push({timestamp:(new Date).toISOString(),findings:e,actions:[]}),t.history.length>20&&(a.info("History exceeds 20 entries, trimming..."),t.history=t.history.slice(-20)),await this.updateContext(t),a.info("Findings appended successfully.")}catch(e){throw a.error(`Failed to append findings: ${e}`),e}}parseMarkdown(e){a.info("Parsing markdown...");const t={},r=e.split("\n");let n="",s=[];for(const e of r)e.startsWith("# ")?(n&&s.length>0&&(t[n]=s.join("\n").trim()),n=e.substring(2).toLowerCase().replace(/\s+/g,"_"),s=[]):s.push(e);n&&s.length>0&&(t[n]=s.join("\n").trim());const o={goal:t.goal||"",platformDescription:t.platform_description||"",workflowDescription:t.workflow_description||"",focusAreas:(t.focus_areas||"").split("\n").filter(Boolean)};return a.info(`Markdown parsed: ${JSON.stringify(o,null,2)}`),o}}},9248:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var s=Object.getOwnPropertyDescriptor(t,r);s&&!("get"in s?!t.__esModule:s.writable||s.configurable)||(s={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,s)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),s=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&n(t,e,r);return s(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.GitManager=void 0;const i=o(r(5236)),a=o(r(7484));t.GitManager=class{async hasChanges(){a.info("Checking for git changes...");const e=(await i.getExecOutput("git",["status","--porcelain"],{silent:!0})).stdout.trim().length>0;return a.info(e?"Git changes detected.":"No git changes."),e}async commitAndPush(e){a.info(`Attempting to commit and push with message: "${e}"`);try{a.info("Configuring git user..."),await i.exec("git",["config","user.name","LLM Agent"]),await i.exec("git",["config","user.email","llm-agent@github-actions"]),a.info("Git user configured."),a.info("Adding all changes..."),await i.exec("git",["add","-A"]),a.info("Changes added."),a.info("Committing changes..."),await i.exec("git",["commit","-m",e]),a.info("Changes committed."),a.info("Pushing changes..."),await i.exec("git",["push"]),a.info(`Committed and pushed successfully: ${e}`)}catch(e){throw a.error(`Git operations failed: ${e}`),e}}}},9407:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var s=Object.getOwnPropertyDescriptor(t,r);s&&!("get"in s?!t.__esModule:s.writable||s.configurable)||(s={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,s)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),s=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&n(t,e,r);return s(t,e),t};Object.defineProperty(t,"__esModule",{value:!0});const i=o(r(7484)),a=r(8206),c=r(1732),l=r(9248),d=r(1908);async function u(e,t){i.info("Gathering current state...");const r={context:e,previousStepsLogs:await t.getPreviousStepsLogs(),testResults:await t.getTestResults(),deploymentStatus:await t.checkAWSDeployment(),sourceCode:await t.getRelevantSourceCode(e.focusAreas),timestamp:(new Date).toISOString()};return i.info("Finished gathering current state."),r}async function p(e,t,r){switch(i.info(`Executing action: ${e.type}`),e.type){case"modify_code":i.info(`Modifying code in file: ${e.file}`),await t.modifyCode(e.file,e.changes);break;case"run_test":i.info(`Running test: ${e.testCommand}`),await t.runTest(e.testCommand);break;case"check_aws":i.info(`Checking AWS resource: ${e.resource}`),await t.checkAWSResource(e.resource);break;case"update_config":i.info(`Updating config file: ${e.configFile}`),await t.updateConfig(e.configFile,e.updates);break;default:i.warning(`Unknown action type: ${e.type}`)}i.info(`Finished executing action: ${e.type}`)}!async function(){try{i.info("Starting AI Agent Dev workflow.");const e=i.getInput("llm-provider");i.info(`LLM Provider: ${e}`);const t=parseInt(i.getInput("max-iterations"));i.info(`Max Iterations: ${t}`);const r=parseInt(i.getInput("max-job-iterations"));i.info(`Max Job Iterations: ${r}`);const n=new a.ContextManager,s=new c.ToolExecutor,o=new l.GitManager,h=new d.LLMAgent({provider:e,apiKey:i.getInput(`${e}-api-key`)});i.info("Loading context...");const f=await n.loadContext();if(i.info(`Context loaded: ${JSON.stringify(f,null,2)}`),f.jobIterations>=r)return i.info("Maximum job iterations reached. Exiting."),void await n.updateContext({...f,status:"max_iterations_reached"});let m=0,g=!0,y="continue";for(;g&&m<t;){m++,i.info(`Starting iteration ${m}/${t}`),i.info("Gathering current state...");const e=await u(f,s);i.info(`Current state gathered: ${JSON.stringify(e,null,2)}`),i.info("Analyzing current state with LLM...");const r=await h.analyze(e);i.info(`LLM response: ${JSON.stringify(r,null,2)}`),i.info("Executing suggested actions...");for(const e of r.actions)await p(e,s,o);i.info("Finished executing actions."),i.info("Appending findings to context..."),await n.appendFindings(r.findings),i.info("Findings appended."),y=r.nextAction,i.info(`Next action determined by LLM: ${y}`),"continue"===y?i.info("Continuing local debugging..."):"redeploy"===y?(i.info("Local tests passed. Triggering redeploy..."),g=!1):"complete"===y&&(i.info("Goal achieved! Completing workflow."),g=!1)}i.info("Updating context for next run..."),await n.updateContext({...f,jobIterations:f.jobIterations+1,lastAction:y,lastRun:(new Date).toISOString()}),i.info("Context updated."),i.info("Checking for changes..."),await o.hasChanges()?(i.info("Changes detected. Committing and pushing..."),await o.commitAndPush(`[LLM Agent] Iteration ${f.jobIterations+1}: ${y}`),i.info("Commit and push successful."),"redeploy"===y&&(i.info("Setting output to trigger redeploy."),i.setOutput("trigger_redeploy","true"))):i.info("No changes detected."),i.info("Setting outputs..."),i.setOutput("next_action",y),i.setOutput("iterations_used",m.toString()),i.info("Workflow finished successfully.")}catch(e){i.setFailed(`Action failed: ${e}`)}}()},1908:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var s=Object.getOwnPropertyDescriptor(t,r);s&&!("get"in s?!t.__esModule:s.writable||s.configurable)||(s={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,s)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),s=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&n(t,e,r);return s(t,e),t},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.LLMAgent=void 0;const a=i(r(2583)),c=r(7656),l=i(r(121)),d=o(r(7484));t.LLMAgent=class{client;provider;constructor(e){switch(this.provider=e.provider,d.info(`Initializing LLM provider: ${this.provider}`),e.provider){case"openai":this.client=new a.default({apiKey:e.apiKey}),d.info("OpenAI client initialized.");break;case"gemini":this.client=new c.GoogleGenerativeAI(e.apiKey),d.info("Gemini client initialized.");break;case"claude":this.client=new l.default({apiKey:e.apiKey}),d.info("Claude client initialized.");break;default:throw d.error(`Unknown LLM provider: ${e.provider}`),new Error(`Unknown provider: ${e.provider}`)}}async analyze(e){d.info("Building prompt for LLM...");const t=this.buildPrompt(e);let r;switch(d.info(`Prompt built: ${t}`),d.info(`Calling LLM provider: ${this.provider}`),this.provider){case"openai":r=await this.callOpenAI(t);break;case"gemini":r=await this.callGemini(t);break;case"claude":r=await this.callClaude(t);break;default:throw d.error(`Unknown provider: ${this.provider}`),new Error(`Unknown provider: ${this.provider}`)}d.info(`LLM response received: ${r}`),d.info("Parsing LLM response...");const n=this.parseResponse(r);return d.info(`LLM response parsed: ${JSON.stringify(n,null,2)}`),n}buildPrompt(e){return`\nYou are an AI debugging agent running in a GitHub Actions workflow. Your goal is to analyze the current state, identify issues, and determine the next actions.\n\nCurrent State:\n${JSON.stringify(e,null,2)}\n\nBased on the context, logs, test results, and deployment status:\n1. Identify any issues or problems\n2. Suggest specific actions to fix them\n3. Determine the next step: continue (more local debugging), redeploy (trigger full workflow), or complete (goal achieved)\n\nRespond in JSON format:\n{\n  "actions": [\n    {\n      "type": "modify_code|run_test|check_aws|update_config",\n      "file": "path/to/file",\n      "changes": "description or code",\n      ...\n    }\n  ],\n  "findings": "Summary of what was found and fixed",\n  "nextAction": "continue|redeploy|complete",\n  "reasoning": "Explanation of decisions"\n}\n`}async callOpenAI(e){d.info("Calling OpenAI API...");const t=(await this.client.chat.completions.create({model:"gpt-4-turbo-preview",messages:[{role:"system",content:e}],response_format:{type:"json_object"}})).choices[0].message.content||"{}";return d.info("OpenAI API call successful."),t}async callGemini(e){d.info("Calling Gemini API...");const t=this.client.getGenerativeModel({model:"gemini-pro"}),r=(await t.generateContent(e)).response.text();return d.info("Gemini API call successful."),r}async callClaude(e){d.info("Calling Claude API...");const t=(await this.client.messages.create({model:"claude-3-opus-20240229",max_tokens:4096,messages:[{role:"user",content:e}]})).content[0].text;return d.info("Claude API call successful."),t}parseResponse(e){try{return JSON.parse(e)}catch(e){return d.error(`Failed to parse LLM response: ${e}`),{actions:[],findings:"Failed to parse LLM response",nextAction:"continue",reasoning:"Error in parsing"}}}}},1732:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var s=Object.getOwnPropertyDescriptor(t,r);s&&!("get"in s?!t.__esModule:s.writable||s.configurable)||(s={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,s)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),s=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&n(t,e,r);return s(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.ToolExecutor=void 0;const i=o(r(5236)),a=o(r(1943)),c=o(r(7484)),l=r(1695),d=r(303);t.ToolExecutor=class{awsRegion;constructor(){this.awsRegion=process.env.AWS_REGION||"us-east-1",c.info(`ToolExecutor initialized with AWS region: ${this.awsRegion}`)}async getPreviousStepsLogs(){const e=process.env.GITHUB_STEP_SUMMARY||"";c.info(`Attempting to read previous step logs from: ${e}`);try{if(e){const t=await a.readFile(e,"utf-8");return c.info("Successfully read previous step logs."),t}}catch(e){c.warning(`Could not read step logs: ${e}`)}return c.info("No previous logs available."),"No previous logs available"}async getTestResults(){c.info("Searching for test result files...");const e=["test-results.json","coverage/coverage-summary.json","test-report.xml"];for(const t of e)try{c.info(`Checking for test result file at: ${t}`);const e=await a.readFile(t,"utf-8");return c.info(`Found and read test result file: ${t}`),{path:t,content:e}}catch{c.info(`Test result file not found at: ${t}`)}return c.info("No test results found."),{message:"No test results found"}}async checkAWSDeployment(){c.info("Checking AWS deployment status...");try{c.info("Verifying AWS credentials via STS...");const e=new l.STSClient({region:this.awsRegion}),t=await e.send(new l.GetCallerIdentityCommand({}));c.info(`AWS identity confirmed for account: ${t.Account}`),c.info("Checking CloudWatch logs...");const r=new d.CloudWatchLogsClient({region:this.awsRegion}),n=process.env.LOG_GROUP_NAME||"/aws/lambda/your-function";c.info(`Using log group: ${n}`);try{const e=await r.send(new d.GetLogEventsCommand({logGroupName:n,logStreamName:"latest",limit:50}));return c.info("Successfully fetched recent CloudWatch logs."),{accountId:t.Account,status:"connected",recentLogs:e.events?.map(e=>e.message)}}catch(e){return c.warning(`Could not fetch CloudWatch logs: ${e}`),{accountId:t.Account,status:"connected",error:`Could not fetch logs: ${e}`}}}catch(e){return c.error(`AWS connection failed: ${e}`),{status:"error",error:`AWS connection failed: ${e}`}}}async checkAWSResource(e){c.info(`Checking AWS resource: ${e}`);const t=await i.getExecOutput("aws",["s3","ls","--region",this.awsRegion],{silent:!0});return c.info(`AWS CLI output for resource check: ${t.stdout}`),{resource:e,output:t.stdout}}async getRelevantSourceCode(e){c.info(`Getting relevant source code from focus areas: ${e.join(", ")}`);const t={};for(const r of e)try{c.info(`Reading source code from: ${r}`);const e=await a.readFile(r,"utf-8");t[r]=e,c.info(`Successfully read source code from: ${r}`)}catch(e){c.error(`Error reading file ${r}: ${e}`),t[r]=`Error reading file: ${e}`}return t}async modifyCode(e,t){c.info(`Modifying code in file: ${e}`);const r=await a.readFile(e,"utf-8");c.info(`Current content length: ${r.length}`),c.info(`Applying changes: ${t}`),await a.writeFile(e,t),c.info(`Successfully modified file: ${e}`)}async runTest(e){c.info(`Running test command: npm run ${e}`);try{const t=await i.getExecOutput("npm",["run",e],{silent:!0});return c.info(`Test command finished with exit code: ${t.exitCode}`),{success:0===t.exitCode,stdout:t.stdout,stderr:t.stderr}}catch(e){return c.error(`Test command failed: ${e}`),{success:!1,error:e}}}async updateConfig(e,t){c.info(`Updating config file: ${e}`);const r=await a.readFile(e,"utf-8");let n;try{n=JSON.parse(r),c.info("Config file is JSON, parsed successfully.")}catch{c.info("Config file is not JSON, treating as plain text."),n=r}"object"==typeof n?(Object.assign(n,t),await a.writeFile(e,JSON.stringify(n,null,2)),c.info("Successfully updated JSON config file.")):(await a.writeFile(e,t),c.info("Successfully updated plain text config file.")),c.info(`Finished updating config: ${e}`)}}},2613:e=>{"use strict";e.exports=require("assert")},181:e=>{"use strict";e.exports=require("buffer")},5317:e=>{"use strict";e.exports=require("child_process")},6982:e=>{"use strict";e.exports=require("crypto")},4434:e=>{"use strict";e.exports=require("events")},9896:e=>{"use strict";e.exports=require("fs")},1943:e=>{"use strict";e.exports=require("fs/promises")},8611:e=>{"use strict";e.exports=require("http")},5675:e=>{"use strict";e.exports=require("http2")},5692:e=>{"use strict";e.exports=require("https")},9278:e=>{"use strict";e.exports=require("net")},7075:e=>{"use strict";e.exports=require("node:stream")},857:e=>{"use strict";e.exports=require("os")},6928:e=>{"use strict";e.exports=require("path")},932:e=>{"use strict";e.exports=require("process")},2203:e=>{"use strict";e.exports=require("stream")},3193:e=>{"use strict";e.exports=require("string_decoder")},3557:e=>{"use strict";e.exports=require("timers")},4756:e=>{"use strict";e.exports=require("tls")},7016:e=>{"use strict";e.exports=require("url")},9023:e=>{"use strict";e.exports=require("util")},6757:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.partialParse=void 0;const r=e=>{if(0===e.length)return e;let t=e[e.length-1];switch(t.type){case"separator":return e=e.slice(0,e.length-1),r(e);case"number":let n=t.value[t.value.length-1];if("."===n||"-"===n)return e=e.slice(0,e.length-1),r(e);case"string":let s=e[e.length-2];if("delimiter"===s?.type)return e=e.slice(0,e.length-1),r(e);if("brace"===s?.type&&"{"===s.value)return e=e.slice(0,e.length-1),r(e);break;case"delimiter":return e=e.slice(0,e.length-1),r(e)}return e};t.partialParse=e=>JSON.parse((e=>{let t="";return e.map(e=>{"string"===e.type?t+='"'+e.value+'"':t+=e.value}),t})((e=>{let t=[];return e.map(e=>{"brace"===e.type&&("{"===e.value?t.push("}"):t.splice(t.lastIndexOf("}"),1)),"paren"===e.type&&("["===e.value?t.push("]"):t.splice(t.lastIndexOf("]"),1))}),t.length>0&&t.reverse().map(t=>{"}"===t?e.push({type:"brace",value:"}"}):"]"===t&&e.push({type:"paren",value:"]"})}),e})(r((e=>{let t=0,r=[];for(;t<e.length;){let n=e[t];if("\\"===n){t++;continue}if("{"===n){r.push({type:"brace",value:"{"}),t++;continue}if("}"===n){r.push({type:"brace",value:"}"}),t++;continue}if("["===n){r.push({type:"paren",value:"["}),t++;continue}if("]"===n){r.push({type:"paren",value:"]"}),t++;continue}if(":"===n){r.push({type:"separator",value:":"}),t++;continue}if(","===n){r.push({type:"delimiter",value:","}),t++;continue}if('"'===n){let s="",o=!1;for(n=e[++t];'"'!==n;){if(t===e.length){o=!0;break}if("\\"===n){if(t++,t===e.length){o=!0;break}s+=n+e[t],n=e[++t]}else s+=n,n=e[++t]}n=e[++t],o||r.push({type:"string",value:s});continue}if(n&&/\s/.test(n)){t++;continue}let s=/[0-9]/;if(n&&s.test(n)||"-"===n||"."===n){let o="";for("-"===n&&(o+=n,n=e[++t]);n&&s.test(n)||"."===n;)o+=n,n=e[++t];r.push({type:"number",value:o});continue}let o=/[a-z]/i;if(n&&o.test(n)){let s="";for(;n&&o.test(n)&&t!==e.length;)s+=n,n=e[++t];if("true"!=s&&"false"!=s&&"null"!==s){t++;continue}r.push({type:"name",value:s});continue}t++}return r})(e)))))},9026:(e,t,r)=>{"use strict";var n,s,o,i;Object.defineProperty(t,"__esModule",{value:!0}),t.AI_PROMPT=t.HUMAN_PROMPT=t.Anthropic=t.BaseAnthropic=void 0;const a=r(5219),c=r(4458),l=r(9171),d=r(8994),u=r(6604),p=r(9558),h=a.__importStar(r(1689)),f=a.__importStar(r(8429)),m=r(953),g=a.__importStar(r(5063)),y=a.__importStar(r(2065)),b=a.__importStar(r(4703)),v=a.__importStar(r(2039)),_=r(8597),S=r(3880),w=r(9665),E=r(834),P=r(2982),C=r(9558),O=r(2709),A=r(6482),x=r(5296),I=r(9171);class R{constructor({baseURL:e=(0,A.readEnv)("ANTHROPIC_BASE_URL"),apiKey:t=(0,A.readEnv)("ANTHROPIC_API_KEY")??null,authToken:r=(0,A.readEnv)("ANTHROPIC_AUTH_TOKEN")??null,...i}={}){n.add(this),o.set(this,void 0);const c={apiKey:t,authToken:r,...i,baseURL:e||"https://api.anthropic.com"};if(!c.dangerouslyAllowBrowser&&(0,C.isRunningInBrowser)())throw new g.AnthropicError("It looks like you're running in a browser-like environment.\n\nThis is disabled by default, as it risks exposing your secret API credentials to attackers.\nIf you understand the risks and have appropriate mitigations in place,\nyou can set the `dangerouslyAllowBrowser` option to `true`, e.g.,\n\nnew Anthropic({ apiKey, dangerouslyAllowBrowser: true });\n");this.baseURL=c.baseURL,this.timeout=c.timeout??s.DEFAULT_TIMEOUT,this.logger=c.logger??console;const l="warn";this.logLevel=l,this.logLevel=(0,x.parseLogLevel)(c.logLevel,"ClientOptions.logLevel",this)??(0,x.parseLogLevel)((0,A.readEnv)("ANTHROPIC_LOG"),"process.env['ANTHROPIC_LOG']",this)??l,this.fetchOptions=c.fetchOptions,this.maxRetries=c.maxRetries??2,this.fetch=c.fetch??h.getDefaultFetch(),a.__classPrivateFieldSet(this,o,f.FallbackEncoder,"f"),this._options=c,this.apiKey=t,this.authToken=r}withOptions(e){return new this.constructor({...this._options,baseURL:this.baseURL,maxRetries:this.maxRetries,timeout:this.timeout,logger:this.logger,logLevel:this.logLevel,fetch:this.fetch,fetchOptions:this.fetchOptions,apiKey:this.apiKey,authToken:this.authToken,...e})}defaultQuery(){return this._options.defaultQuery}validateHeaders({values:e,nulls:t}){if(!(this.apiKey&&e.get("x-api-key")||t.has("x-api-key")||this.authToken&&e.get("authorization")||t.has("authorization")))throw new Error('Could not resolve authentication method. Expected either apiKey or authToken to be set. Or for one of the "X-Api-Key" or "Authorization" headers to be explicitly omitted')}async authHeaders(e){return(0,O.buildHeaders)([await this.apiKeyAuth(e),await this.bearerAuth(e)])}async apiKeyAuth(e){if(null!=this.apiKey)return(0,O.buildHeaders)([{"X-Api-Key":this.apiKey}])}async bearerAuth(e){if(null!=this.authToken)return(0,O.buildHeaders)([{Authorization:`Bearer ${this.authToken}`}])}stringifyQuery(e){return Object.entries(e).filter(([e,t])=>void 0!==t).map(([e,t])=>{if("string"==typeof t||"number"==typeof t||"boolean"==typeof t)return`${encodeURIComponent(e)}=${encodeURIComponent(t)}`;if(null===t)return`${encodeURIComponent(e)}=`;throw new g.AnthropicError(`Cannot stringify type ${typeof t}; Expected string, number, boolean, or null. If you need to pass nested query parameters, you can manually encode them, e.g. { query: { 'foo[key1]': value1, 'foo[key2]': value2 } }, and please open a GitHub issue requesting better support for your use case.`)}).join("&")}getUserAgent(){return`${this.constructor.name}/JS ${m.VERSION}`}defaultIdempotencyKey(){return`stainless-node-retry-${(0,c.uuid4)()}`}makeStatusError(e,t,r,n){return g.APIError.generate(e,t,r,n)}buildURL(e,t,r){const s=!a.__classPrivateFieldGet(this,n,"m",i).call(this)&&r||this.baseURL,o=(0,l.isAbsoluteURL)(e)?new URL(e):new URL(s+(s.endsWith("/")&&e.startsWith("/")?e.slice(1):e)),c=this.defaultQuery();return(0,I.isEmptyObj)(c)||(t={...c,...t}),"object"==typeof t&&t&&!Array.isArray(t)&&(o.search=this.stringifyQuery(t)),o.toString()}_calculateNonstreamingTimeout(e){if(3600*e/128e3>600)throw new g.AnthropicError("Streaming is required for operations that may take longer than 10 minutes. See https://github.com/anthropics/anthropic-sdk-typescript#streaming-responses for more details");return 6e5}async prepareOptions(e){}async prepareRequest(e,{url:t,options:r}){}get(e,t){return this.methodRequest("get",e,t)}post(e,t){return this.methodRequest("post",e,t)}patch(e,t){return this.methodRequest("patch",e,t)}put(e,t){return this.methodRequest("put",e,t)}delete(e,t){return this.methodRequest("delete",e,t)}methodRequest(e,t,r){return this.request(Promise.resolve(r).then(r=>({method:e,path:t,...r})))}request(e,t=null){return new _.APIPromise(this,this.makeRequest(e,t,void 0))}async makeRequest(e,t,r){const n=await e,s=n.maxRetries??this.maxRetries;null==t&&(t=s),await this.prepareOptions(n);const{req:o,url:i,timeout:a}=await this.buildRequest(n,{retryCount:s-t});await this.prepareRequest(o,{url:i,options:n});const c="log_"+(Math.random()*(1<<24)|0).toString(16).padStart(6,"0"),d=void 0===r?"":`, retryOf: ${r}`,p=Date.now();if((0,x.loggerFor)(this).debug(`[${c}] sending request`,(0,x.formatRequestDetails)({retryOfRequestLogID:r,method:n.method,url:i,options:n,headers:o.headers})),n.signal?.aborted)throw new g.APIUserAbortError;const f=new AbortController,m=await this.fetchWithTimeout(i,o,a,f).catch(u.castToError),y=Date.now();if(m instanceof Error){const e=`retrying, ${t} attempts remaining`;if(n.signal?.aborted)throw new g.APIUserAbortError;const s=(0,u.isAbortError)(m)||/timed? ?out/i.test(String(m)+("cause"in m?String(m.cause):""));if(t)return(0,x.loggerFor)(this).info(`[${c}] connection ${s?"timed out":"failed"} - ${e}`),(0,x.loggerFor)(this).debug(`[${c}] connection ${s?"timed out":"failed"} (${e})`,(0,x.formatRequestDetails)({retryOfRequestLogID:r,url:i,durationMs:y-p,message:m.message})),this.retryRequest(n,t,r??c);if((0,x.loggerFor)(this).info(`[${c}] connection ${s?"timed out":"failed"} - error; no more retries left`),(0,x.loggerFor)(this).debug(`[${c}] connection ${s?"timed out":"failed"} (error; no more retries left)`,(0,x.formatRequestDetails)({retryOfRequestLogID:r,url:i,durationMs:y-p,message:m.message})),s)throw new g.APIConnectionTimeoutError;throw new g.APIConnectionError({cause:m})}const b=`[${c}${d}${[...m.headers.entries()].filter(([e])=>"request-id"===e).map(([e,t])=>", "+e+": "+JSON.stringify(t)).join("")}] ${o.method} ${i} ${m.ok?"succeeded":"failed"} with status ${m.status} in ${y-p}ms`;if(!m.ok){const e=await this.shouldRetry(m);if(t&&e){const e=`retrying, ${t} attempts remaining`;return await h.CancelReadableStream(m.body),(0,x.loggerFor)(this).info(`${b} - ${e}`),(0,x.loggerFor)(this).debug(`[${c}] response error (${e})`,(0,x.formatRequestDetails)({retryOfRequestLogID:r,url:m.url,status:m.status,headers:m.headers,durationMs:y-p})),this.retryRequest(n,t,r??c,m.headers)}const s=e?"error; no more retries left":"error; not retryable";(0,x.loggerFor)(this).info(`${b} - ${s}`);const o=await m.text().catch(e=>(0,u.castToError)(e).message),i=(0,l.safeJSON)(o),a=i?void 0:o;(0,x.loggerFor)(this).debug(`[${c}] response error (${s})`,(0,x.formatRequestDetails)({retryOfRequestLogID:r,url:m.url,status:m.status,headers:m.headers,message:a,durationMs:Date.now()-p}));throw this.makeStatusError(m.status,i,a,m.headers)}return(0,x.loggerFor)(this).info(b),(0,x.loggerFor)(this).debug(`[${c}] response start`,(0,x.formatRequestDetails)({retryOfRequestLogID:r,url:m.url,status:m.status,headers:m.headers,durationMs:y-p})),{response:m,options:n,controller:f,requestLogID:c,retryOfRequestLogID:r,startTime:p}}getAPIList(e,t,r){return this.requestAPIList(t,{method:"get",path:e,...r})}requestAPIList(e,t){const r=this.makeRequest(t,null,void 0);return new y.PagePromise(this,r,e)}async fetchWithTimeout(e,t,r,n){const{signal:s,method:o,...i}=t||{};s&&s.addEventListener("abort",()=>n.abort());const a=setTimeout(()=>n.abort(),r),c=globalThis.ReadableStream&&i.body instanceof globalThis.ReadableStream||"object"==typeof i.body&&null!==i.body&&Symbol.asyncIterator in i.body,l={signal:n.signal,...c?{duplex:"half"}:{},method:"GET",...i};o&&(l.method=o.toUpperCase());try{return await this.fetch.call(void 0,e,l)}finally{clearTimeout(a)}}async shouldRetry(e){const t=e.headers.get("x-should-retry");return"true"===t||"false"!==t&&(408===e.status||(409===e.status||(429===e.status||e.status>=500)))}async retryRequest(e,t,r,n){let s;const o=n?.get("retry-after-ms");if(o){const e=parseFloat(o);Number.isNaN(e)||(s=e)}const i=n?.get("retry-after");if(i&&!s){const e=parseFloat(i);s=Number.isNaN(e)?Date.parse(i)-Date.now():1e3*e}if(!(s&&0<=s&&s<6e4)){const r=e.maxRetries??this.maxRetries;s=this.calculateDefaultRetryTimeoutMillis(t,r)}return await(0,d.sleep)(s),this.makeRequest(e,t-1,r)}calculateDefaultRetryTimeoutMillis(e,t){const r=t-e;return Math.min(.5*Math.pow(2,r),8)*(1-.25*Math.random())*1e3}calculateNonstreamingTimeout(e,t){const r=6e5;if(36e5*e/128e3>r||null!=t&&e>t)throw new g.AnthropicError("Streaming is required for operations that may take longer than 10 minutes. See https://github.com/anthropics/anthropic-sdk-typescript#long-requests for more details");return r}async buildRequest(e,{retryCount:t=0}={}){const r={...e},{method:n,path:s,query:o,defaultBaseURL:i}=r,a=this.buildURL(s,o,i);"timeout"in r&&(0,l.validatePositiveInteger)("timeout",r.timeout),r.timeout=r.timeout??this.timeout;const{bodyHeaders:c,body:d}=this.buildBody({options:r});return{req:{method:n,headers:await this.buildHeaders({options:e,method:n,bodyHeaders:c,retryCount:t}),...r.signal&&{signal:r.signal},...globalThis.ReadableStream&&d instanceof globalThis.ReadableStream&&{duplex:"half"},...d&&{body:d},...this.fetchOptions??{},...r.fetchOptions??{}},url:a,timeout:r.timeout}}async buildHeaders({options:e,method:t,bodyHeaders:r,retryCount:n}){let s={};this.idempotencyHeader&&"get"!==t&&(e.idempotencyKey||(e.idempotencyKey=this.defaultIdempotencyKey()),s[this.idempotencyHeader]=e.idempotencyKey);const o=(0,O.buildHeaders)([s,{Accept:"application/json","User-Agent":this.getUserAgent(),"X-Stainless-Retry-Count":String(n),...e.timeout?{"X-Stainless-Timeout":String(Math.trunc(e.timeout/1e3))}:{},...(0,p.getPlatformHeaders)(),...this._options.dangerouslyAllowBrowser?{"anthropic-dangerous-direct-browser-access":"true"}:void 0,"anthropic-version":"2023-06-01"},await this.authHeaders(e),this._options.defaultHeaders,r,e.headers]);return this.validateHeaders(o),o.values}buildBody({options:{body:e,headers:t}}){if(!e)return{bodyHeaders:void 0,body:void 0};const r=(0,O.buildHeaders)([t]);return ArrayBuffer.isView(e)||e instanceof ArrayBuffer||e instanceof DataView||"string"==typeof e&&r.values.has("content-type")||e instanceof Blob||e instanceof FormData||e instanceof URLSearchParams||globalThis.ReadableStream&&e instanceof globalThis.ReadableStream?{bodyHeaders:void 0,body:e}:"object"==typeof e&&(Symbol.asyncIterator in e||Symbol.iterator in e&&"next"in e&&"function"==typeof e.next)?{bodyHeaders:void 0,body:h.ReadableStreamFrom(e)}:a.__classPrivateFieldGet(this,o,"f").call(this,{body:e,headers:r})}}t.BaseAnthropic=R,s=R,o=new WeakMap,n=new WeakSet,i=function(){return"https://api.anthropic.com"!==this.baseURL},R.Anthropic=s,R.HUMAN_PROMPT="\n\nHuman:",R.AI_PROMPT="\n\nAssistant:",R.DEFAULT_TIMEOUT=6e5,R.AnthropicError=g.AnthropicError,R.APIError=g.APIError,R.APIConnectionError=g.APIConnectionError,R.APIConnectionTimeoutError=g.APIConnectionTimeoutError,R.APIUserAbortError=g.APIUserAbortError,R.NotFoundError=g.NotFoundError,R.ConflictError=g.ConflictError,R.RateLimitError=g.RateLimitError,R.BadRequestError=g.BadRequestError,R.AuthenticationError=g.AuthenticationError,R.InternalServerError=g.InternalServerError,R.PermissionDeniedError=g.PermissionDeniedError,R.UnprocessableEntityError=g.UnprocessableEntityError,R.toFile=b.toFile;class T extends R{constructor(){super(...arguments),this.completions=new v.Completions(this),this.messages=new v.Messages(this),this.models=new v.Models(this),this.beta=new v.Beta(this)}}t.Anthropic=T,T.Completions=S.Completions,T.Messages=P.Messages,T.Models=w.Models,T.Beta=E.Beta,t.HUMAN_PROMPT=T.HUMAN_PROMPT,t.AI_PROMPT=T.AI_PROMPT},8597:(e,t,r)=>{"use strict";var n;Object.defineProperty(t,"__esModule",{value:!0}),t.APIPromise=void 0;const s=r(5219),o=r(3964);class i extends Promise{constructor(e,t,r=o.defaultParseResponse){super(e=>{e(null)}),this.responsePromise=t,this.parseResponse=r,n.set(this,void 0),s.__classPrivateFieldSet(this,n,e,"f")}_thenUnwrap(e){return new i(s.__classPrivateFieldGet(this,n,"f"),this.responsePromise,async(t,r)=>(0,o.addRequestID)(e(await this.parseResponse(t,r),r),r.response))}asResponse(){return this.responsePromise.then(e=>e.response)}async withResponse(){const[e,t]=await Promise.all([this.parse(),this.asResponse()]);return{data:e,response:t,request_id:t.headers.get("request-id")}}parse(){return this.parsedPromise||(this.parsedPromise=this.responsePromise.then(e=>this.parseResponse(s.__classPrivateFieldGet(this,n,"f"),e))),this.parsedPromise}then(e,t){return this.parse().then(e,t)}catch(e){return this.parse().catch(e)}finally(e){return this.parse().finally(e)}}t.APIPromise=i,n=new WeakMap},5063:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.InternalServerError=t.RateLimitError=t.UnprocessableEntityError=t.ConflictError=t.NotFoundError=t.PermissionDeniedError=t.AuthenticationError=t.BadRequestError=t.APIConnectionTimeoutError=t.APIConnectionError=t.APIUserAbortError=t.APIError=t.AnthropicError=void 0;const n=r(6604);class s extends Error{}t.AnthropicError=s;class o extends s{constructor(e,t,r,n){super(`${o.makeMessage(e,t,r)}`),this.status=e,this.headers=n,this.requestID=n?.get("request-id"),this.error=t}static makeMessage(e,t,r){const n=t?.message?"string"==typeof t.message?t.message:JSON.stringify(t.message):t?JSON.stringify(t):r;return e&&n?`${e} ${n}`:e?`${e} status code (no body)`:n||"(no status code or body)"}static generate(e,t,r,s){if(!e||!s)return new i({message:r,cause:(0,n.castToError)(t)});const m=t;return 400===e?new a(e,m,r,s):401===e?new c(e,m,r,s):403===e?new l(e,m,r,s):404===e?new d(e,m,r,s):409===e?new u(e,m,r,s):422===e?new p(e,m,r,s):429===e?new h(e,m,r,s):e>=500?new f(e,m,r,s):new o(e,m,r,s)}}t.APIError=o;t.APIUserAbortError=class extends o{constructor({message:e}={}){super(void 0,void 0,e||"Request was aborted.",void 0)}};class i extends o{constructor({message:e,cause:t}){super(void 0,void 0,e||"Connection error.",void 0),t&&(this.cause=t)}}t.APIConnectionError=i;t.APIConnectionTimeoutError=class extends i{constructor({message:e}={}){super({message:e??"Request timed out."})}};class a extends o{}t.BadRequestError=a;class c extends o{}t.AuthenticationError=c;class l extends o{}t.PermissionDeniedError=l;class d extends o{}t.NotFoundError=d;class u extends o{}t.ConflictError=u;class p extends o{}t.UnprocessableEntityError=p;class h extends o{}t.RateLimitError=h;class f extends o{}t.InternalServerError=f},2065:(e,t,r)=>{"use strict";var n;Object.defineProperty(t,"__esModule",{value:!0}),t.Page=t.PagePromise=t.AbstractPage=void 0;const s=r(5219),o=r(5063),i=r(3964),a=r(8597),c=r(9171);class l{constructor(e,t,r,o){n.set(this,void 0),s.__classPrivateFieldSet(this,n,e,"f"),this.options=o,this.response=t,this.body=r}hasNextPage(){return!!this.getPaginatedItems().length&&null!=this.nextPageRequestOptions()}async getNextPage(){const e=this.nextPageRequestOptions();if(!e)throw new o.AnthropicError("No next page expected; please check `.hasNextPage()` before calling `.getNextPage()`.");return await s.__classPrivateFieldGet(this,n,"f").requestAPIList(this.constructor,e)}async*iterPages(){let e=this;for(yield e;e.hasNextPage();)e=await e.getNextPage(),yield e}async*[(n=new WeakMap,Symbol.asyncIterator)](){for await(const e of this.iterPages())for(const t of e.getPaginatedItems())yield t}}t.AbstractPage=l;class d extends a.APIPromise{constructor(e,t,r){super(e,t,async(e,t)=>new r(e,t.response,await(0,i.defaultParseResponse)(e,t),t.options))}async*[Symbol.asyncIterator](){const e=await(this);for await(const t of e)yield t}}t.PagePromise=d;t.Page=class extends l{constructor(e,t,r,n){super(e,t,r,n),this.data=r.data||[],this.has_more=r.has_more||!1,this.first_id=r.first_id||null,this.last_id=r.last_id||null}getPaginatedItems(){return this.data??[]}hasNextPage(){return!1!==this.has_more&&super.hasNextPage()}nextPageRequestOptions(){if(this.options.query?.before_id){const e=this.first_id;return e?{...this.options,query:{...(0,c.maybeObj)(this.options.query),before_id:e}}:null}const e=this.last_id;return e?{...this.options,query:{...(0,c.maybeObj)(this.options.query),after_id:e}}:null}}},6169:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.APIResource=void 0;t.APIResource=class{constructor(e){this._client=e}}},4138:(e,t,r)=>{"use strict";var n;Object.defineProperty(t,"__esModule",{value:!0}),t.Stream=void 0,t._iterSSEMessages=m;const s=r(5219),o=r(5063),i=r(1689),a=r(1759),c=r(1689),l=r(6604),d=r(9171),u=r(6822),p=r(5296),h=r(5063);class f{constructor(e,t,r){this.iterator=e,n.set(this,void 0),this.controller=t,s.__classPrivateFieldSet(this,n,r,"f")}static fromSSEResponse(e,t,r){let n=!1;const s=r?(0,p.loggerFor)(r):console;return new f(async function*(){if(n)throw new o.AnthropicError("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");n=!0;let r=!1;try{for await(const r of m(e,t)){if("completion"===r.event)try{yield JSON.parse(r.data)}catch(e){throw s.error("Could not parse message into JSON:",r.data),s.error("From chunk:",r.raw),e}if("message_start"===r.event||"message_delta"===r.event||"message_stop"===r.event||"content_block_start"===r.event||"content_block_delta"===r.event||"content_block_stop"===r.event)try{yield JSON.parse(r.data)}catch(e){throw s.error("Could not parse message into JSON:",r.data),s.error("From chunk:",r.raw),e}if("ping"!==r.event&&"error"===r.event)throw new h.APIError(void 0,(0,d.safeJSON)(r.data)??r.data,void 0,e.headers)}r=!0}catch(e){if((0,l.isAbortError)(e))return;throw e}finally{r||t.abort()}},t,r)}static fromReadableStream(e,t,r){let n=!1;return new f(async function*(){if(n)throw new o.AnthropicError("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");n=!0;let r=!1;try{for await(const t of async function*(){const t=new a.LineDecoder,r=(0,c.ReadableStreamToAsyncIterable)(e);for await(const e of r)for(const r of t.decode(e))yield r;for(const e of t.flush())yield e}())r||t&&(yield JSON.parse(t));r=!0}catch(e){if((0,l.isAbortError)(e))return;throw e}finally{r||t.abort()}},t,r)}[(n=new WeakMap,Symbol.asyncIterator)](){return this.iterator()}tee(){const e=[],t=[],r=this.iterator(),o=n=>({next:()=>{if(0===n.length){const n=r.next();e.push(n),t.push(n)}return n.shift()}});return[new f(()=>o(e),this.controller,s.__classPrivateFieldGet(this,n,"f")),new f(()=>o(t),this.controller,s.__classPrivateFieldGet(this,n,"f"))]}toReadableStream(){const e=this;let t;return(0,i.makeReadableStream)({async start(){t=e[Symbol.asyncIterator]()},async pull(e){try{const{value:r,done:n}=await t.next();if(n)return e.close();const s=(0,u.encodeUTF8)(JSON.stringify(r)+"\n");e.enqueue(s)}catch(t){e.error(t)}},async cancel(){await(t.return?.())}})}}async function*m(e,t){if(!e.body){if(t.abort(),void 0!==globalThis.navigator&&"ReactNative"===globalThis.navigator.product)throw new o.AnthropicError("The default react-native fetch implementation does not support streaming. Please use expo/fetch: https://docs.expo.dev/versions/latest/sdk/expo/#expofetch-api");throw new o.AnthropicError("Attempted to iterate over a response with no body")}const r=new g,n=new a.LineDecoder,s=(0,c.ReadableStreamToAsyncIterable)(e.body);for await(const e of async function*(e){let t=new Uint8Array;for await(const r of e){if(null==r)continue;const e=r instanceof ArrayBuffer?new Uint8Array(r):"string"==typeof r?(0,u.encodeUTF8)(r):r;let n,s=new Uint8Array(t.length+e.length);for(s.set(t),s.set(e,t.length),t=s;-1!==(n=(0,a.findDoubleNewlineIndex)(t));)yield t.slice(0,n),t=t.slice(n)}t.length>0&&(yield t)}(s))for(const t of n.decode(e)){const e=r.decode(t);e&&(yield e)}for(const e of n.flush()){const t=r.decode(e);t&&(yield t)}}t.Stream=f;class g{constructor(){this.event=null,this.data=[],this.chunks=[]}decode(e){if(e.endsWith("\r")&&(e=e.substring(0,e.length-1)),!e){if(!this.event&&!this.data.length)return null;const e={event:this.event,data:this.data.join("\n"),raw:this.chunks};return this.event=null,this.data=[],this.chunks=[],e}if(this.chunks.push(e),e.startsWith(":"))return null;let[t,r,n]=function(e,t){const r=e.indexOf(t);if(-1!==r)return[e.substring(0,r),t,e.substring(r+t.length)];return[e,"",""]}(e,":");return n.startsWith(" ")&&(n=n.substring(1)),"event"===t?this.event=n:"data"===t&&this.data.push(n),null}}},4703:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.toFile=void 0;var n=r(3621);Object.defineProperty(t,"toFile",{enumerable:!0,get:function(){return n.toFile}})},8955:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});r(5219).__exportStar(r(5063),t)},121:(e,t,r)=>{"use strict";t=e.exports=function(...e){return new t.default(...e)},Object.defineProperty(t,"__esModule",{value:!0}),t.UnprocessableEntityError=t.PermissionDeniedError=t.InternalServerError=t.AuthenticationError=t.BadRequestError=t.RateLimitError=t.ConflictError=t.NotFoundError=t.APIUserAbortError=t.APIConnectionTimeoutError=t.APIConnectionError=t.APIError=t.AnthropicError=t.PagePromise=t.AI_PROMPT=t.HUMAN_PROMPT=t.Anthropic=t.BaseAnthropic=t.APIPromise=t.toFile=t.default=void 0;var n=r(9026);Object.defineProperty(t,"default",{enumerable:!0,get:function(){return n.Anthropic}});var s=r(4703);Object.defineProperty(t,"toFile",{enumerable:!0,get:function(){return s.toFile}});var o=r(8597);Object.defineProperty(t,"APIPromise",{enumerable:!0,get:function(){return o.APIPromise}});var i=r(9026);Object.defineProperty(t,"BaseAnthropic",{enumerable:!0,get:function(){return i.BaseAnthropic}}),Object.defineProperty(t,"Anthropic",{enumerable:!0,get:function(){return i.Anthropic}}),Object.defineProperty(t,"HUMAN_PROMPT",{enumerable:!0,get:function(){return i.HUMAN_PROMPT}}),Object.defineProperty(t,"AI_PROMPT",{enumerable:!0,get:function(){return i.AI_PROMPT}});var a=r(2065);Object.defineProperty(t,"PagePromise",{enumerable:!0,get:function(){return a.PagePromise}});var c=r(5063);Object.defineProperty(t,"AnthropicError",{enumerable:!0,get:function(){return c.AnthropicError}}),Object.defineProperty(t,"APIError",{enumerable:!0,get:function(){return c.APIError}}),Object.defineProperty(t,"APIConnectionError",{enumerable:!0,get:function(){return c.APIConnectionError}}),Object.defineProperty(t,"APIConnectionTimeoutError",{enumerable:!0,get:function(){return c.APIConnectionTimeoutError}}),Object.defineProperty(t,"APIUserAbortError",{enumerable:!0,get:function(){return c.APIUserAbortError}}),Object.defineProperty(t,"NotFoundError",{enumerable:!0,get:function(){return c.NotFoundError}}),Object.defineProperty(t,"ConflictError",{enumerable:!0,get:function(){return c.ConflictError}}),Object.defineProperty(t,"RateLimitError",{enumerable:!0,get:function(){return c.RateLimitError}}),Object.defineProperty(t,"BadRequestError",{enumerable:!0,get:function(){return c.BadRequestError}}),Object.defineProperty(t,"AuthenticationError",{enumerable:!0,get:function(){return c.AuthenticationError}}),Object.defineProperty(t,"InternalServerError",{enumerable:!0,get:function(){return c.InternalServerError}}),Object.defineProperty(t,"PermissionDeniedError",{enumerable:!0,get:function(){return c.PermissionDeniedError}}),Object.defineProperty(t,"UnprocessableEntityError",{enumerable:!0,get:function(){return c.UnprocessableEntityError}})},3574:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MODEL_NONSTREAMING_TOKENS=void 0,t.MODEL_NONSTREAMING_TOKENS={"claude-opus-4-20250514":8192,"claude-opus-4-0":8192,"claude-4-opus-20250514":8192,"anthropic.claude-opus-4-20250514-v1:0":8192,"claude-opus-4@20250514":8192,"claude-opus-4-1-20250805":8192,"anthropic.claude-opus-4-1-20250805-v1:0":8192,"claude-opus-4-1@20250805":8192}},4663:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.JSONLDecoder=void 0;const n=r(5063),s=r(1689),o=r(1759);class i{constructor(e,t){this.iterator=e,this.controller=t}async*decoder(){const e=new o.LineDecoder;for await(const t of this.iterator)for(const r of e.decode(t))yield JSON.parse(r);for(const t of e.flush())yield JSON.parse(t)}[Symbol.asyncIterator](){return this.decoder()}static fromResponse(e,t){if(!e.body){if(t.abort(),void 0!==globalThis.navigator&&"ReactNative"===globalThis.navigator.product)throw new n.AnthropicError("The default react-native fetch implementation does not support streaming. Please use expo/fetch: https://docs.expo.dev/versions/latest/sdk/expo/#expofetch-api");throw new n.AnthropicError("Attempted to iterate over a response with no body")}return new i((0,s.ReadableStreamToAsyncIterable)(e.body),t)}}t.JSONLDecoder=i},1759:(e,t,r)=>{"use strict";var n,s;Object.defineProperty(t,"__esModule",{value:!0}),t.LineDecoder=void 0,t.findDoubleNewlineIndex=function(e){for(let t=0;t<e.length-1;t++){if(10===e[t]&&10===e[t+1])return t+2;if(13===e[t]&&13===e[t+1])return t+2;if(13===e[t]&&10===e[t+1]&&t+3<e.length&&13===e[t+2]&&10===e[t+3])return t+4}return-1};const o=r(5219),i=r(6822);class a{constructor(){n.set(this,void 0),s.set(this,void 0),o.__classPrivateFieldSet(this,n,new Uint8Array,"f"),o.__classPrivateFieldSet(this,s,null,"f")}decode(e){if(null==e)return[];const t=e instanceof ArrayBuffer?new Uint8Array(e):"string"==typeof e?(0,i.encodeUTF8)(e):e;o.__classPrivateFieldSet(this,n,(0,i.concatBytes)([o.__classPrivateFieldGet(this,n,"f"),t]),"f");const r=[];let a;for(;null!=(a=c(o.__classPrivateFieldGet(this,n,"f"),o.__classPrivateFieldGet(this,s,"f")));){if(a.carriage&&null==o.__classPrivateFieldGet(this,s,"f")){o.__classPrivateFieldSet(this,s,a.index,"f");continue}if(null!=o.__classPrivateFieldGet(this,s,"f")&&(a.index!==o.__classPrivateFieldGet(this,s,"f")+1||a.carriage)){r.push((0,i.decodeUTF8)(o.__classPrivateFieldGet(this,n,"f").subarray(0,o.__classPrivateFieldGet(this,s,"f")-1))),o.__classPrivateFieldSet(this,n,o.__classPrivateFieldGet(this,n,"f").subarray(o.__classPrivateFieldGet(this,s,"f")),"f"),o.__classPrivateFieldSet(this,s,null,"f");continue}const e=null!==o.__classPrivateFieldGet(this,s,"f")?a.preceding-1:a.preceding,t=(0,i.decodeUTF8)(o.__classPrivateFieldGet(this,n,"f").subarray(0,e));r.push(t),o.__classPrivateFieldSet(this,n,o.__classPrivateFieldGet(this,n,"f").subarray(a.index),"f"),o.__classPrivateFieldSet(this,s,null,"f")}return r}flush(){return o.__classPrivateFieldGet(this,n,"f").length?this.decode("\n"):[]}}function c(e,t){for(let r=t??0;r<e.length;r++){if(10===e[r])return{preceding:r,index:r+1,carriage:!1};if(13===e[r])return{preceding:r,index:r+1,carriage:!0}}return null}t.LineDecoder=a,n=new WeakMap,s=new WeakMap,a.NEWLINE_CHARS=new Set(["\n","\r"]),a.NEWLINE_REGEXP=/\r\n|[\n\r]/g},9558:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getPlatformHeaders=t.isRunningInBrowser=void 0;const n=r(953);t.isRunningInBrowser=()=>"undefined"!=typeof window&&void 0!==window.document&&"undefined"!=typeof navigator;const s=()=>{const e="undefined"!=typeof Deno&&null!=Deno.build?"deno":"undefined"!=typeof EdgeRuntime?"edge":"[object process]"===Object.prototype.toString.call(void 0!==globalThis.process?globalThis.process:0)?"node":"unknown";if("deno"===e)return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":n.VERSION,"X-Stainless-OS":i(Deno.build.os),"X-Stainless-Arch":o(Deno.build.arch),"X-Stainless-Runtime":"deno","X-Stainless-Runtime-Version":"string"==typeof Deno.version?Deno.version:Deno.version?.deno??"unknown"};if("undefined"!=typeof EdgeRuntime)return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":n.VERSION,"X-Stainless-OS":"Unknown","X-Stainless-Arch":`other:${EdgeRuntime}`,"X-Stainless-Runtime":"edge","X-Stainless-Runtime-Version":globalThis.process.version};if("node"===e)return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":n.VERSION,"X-Stainless-OS":i(globalThis.process.platform??"unknown"),"X-Stainless-Arch":o(globalThis.process.arch??"unknown"),"X-Stainless-Runtime":"node","X-Stainless-Runtime-Version":globalThis.process.version??"unknown"};const t=function(){if("undefined"==typeof navigator||!navigator)return null;const e=[{key:"edge",pattern:/Edge(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/MSIE(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/Trident(?:.*rv\:(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"chrome",pattern:/Chrome(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"firefox",pattern:/Firefox(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"safari",pattern:/(?:Version\W+(\d+)\.(\d+)(?:\.(\d+))?)?(?:\W+Mobile\S*)?\W+Safari/}];for(const{key:t,pattern:r}of e){const e=r.exec(navigator.userAgent);if(e){return{browser:t,version:`${e[1]||0}.${e[2]||0}.${e[3]||0}`}}}return null}();return t?{"X-Stainless-Lang":"js","X-Stainless-Package-Version":n.VERSION,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":`browser:${t.browser}`,"X-Stainless-Runtime-Version":t.version}:{"X-Stainless-Lang":"js","X-Stainless-Package-Version":n.VERSION,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":"unknown","X-Stainless-Runtime-Version":"unknown"}};const o=e=>"x32"===e?"x32":"x86_64"===e||"x64"===e?"x64":"arm"===e?"arm":"aarch64"===e||"arm64"===e?"arm64":e?`other:${e}`:"unknown",i=e=>(e=e.toLowerCase()).includes("ios")?"iOS":"android"===e?"Android":"darwin"===e?"MacOS":"win32"===e?"Windows":"freebsd"===e?"FreeBSD":"openbsd"===e?"OpenBSD":"linux"===e?"Linux":e?`Other:${e}`:"Unknown";let a;t.getPlatformHeaders=()=>a??(a=s())},6604:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.castToError=void 0,t.isAbortError=function(e){return"object"==typeof e&&null!==e&&("name"in e&&"AbortError"===e.name||"message"in e&&String(e.message).includes("FetchRequestCanceledException"))};t.castToError=e=>{if(e instanceof Error)return e;if("object"==typeof e&&null!==e){try{if("[object Error]"===Object.prototype.toString.call(e)){const t=new Error(e.message,e.cause?{cause:e.cause}:{});return e.stack&&(t.stack=e.stack),e.cause&&!t.cause&&(t.cause=e.cause),e.name&&(t.name=e.name),t}}catch{}try{return new Error(JSON.stringify(e))}catch{}}return new Error(e)}},2709:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isEmptyHeaders=t.buildHeaders=void 0;const n=r(9171),s=Symbol.for("brand.privateNullableHeaders");function*o(e){if(!e)return;if(s in e){const{values:t,nulls:r}=e;yield*t.entries();for(const e of r)yield[e,null];return}let t,r=!1;e instanceof Headers?t=e.entries():(0,n.isReadonlyArray)(e)?t=e:(r=!0,t=Object.entries(e??{}));for(let e of t){const t=e[0];if("string"!=typeof t)throw new TypeError("expected header name to be a string");const s=(0,n.isReadonlyArray)(e[1])?e[1]:[e[1]];let o=!1;for(const e of s)void 0!==e&&(r&&!o&&(o=!0,yield[t,null]),yield[t,e])}}t.buildHeaders=e=>{const t=new Headers,r=new Set;for(const n of e){const e=new Set;for(const[s,i]of o(n)){const n=s.toLowerCase();e.has(n)||(t.delete(s),e.add(n)),null===i?(t.delete(s),r.add(n)):(t.append(s,i),r.delete(n))}}return{[s]:!0,values:t,nulls:r}};t.isEmptyHeaders=e=>{for(const t of o(e))return!1;return!0}},3964:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.defaultParseResponse=async function(e,t){const{response:r,requestLogID:i,retryOfRequestLogID:a,startTime:c}=t,l=await(async()=>{if(t.options.stream)return(0,s.loggerFor)(e).debug("response",r.status,r.url,r.headers,r.body),t.options.__streamClass?t.options.__streamClass.fromSSEResponse(r,t.controller):n.Stream.fromSSEResponse(r,t.controller);if(204===r.status)return null;if(t.options.__binaryResponse)return r;const i=r.headers.get("content-type"),a=i?.split(";")[0]?.trim();if(a?.includes("application/json")||a?.endsWith("+json")){return o(await r.json(),r)}return await r.text()})();return(0,s.loggerFor)(e).debug(`[${i}] response parsed`,(0,s.formatRequestDetails)({retryOfRequestLogID:a,url:r.url,status:r.status,body:l,durationMs:Date.now()-c})),l},t.addRequestID=o;const n=r(4138),s=r(5296);function o(e,t){return!e||"object"!=typeof e||Array.isArray(e)?e:Object.defineProperty(e,"_request_id",{value:t.headers.get("request-id"),enumerable:!1})}},8429:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.FallbackEncoder=void 0;t.FallbackEncoder=({headers:e,body:t})=>({bodyHeaders:{"content-type":"application/json"},body:JSON.stringify(t)})},1689:(e,t)=>{"use strict";function r(...e){const t=globalThis.ReadableStream;if(void 0===t)throw new Error("`ReadableStream` is not defined as a global; You will need to polyfill it, `globalThis.ReadableStream = ReadableStream`");return new t(...e)}Object.defineProperty(t,"__esModule",{value:!0}),t.getDefaultFetch=function(){if("undefined"!=typeof fetch)return fetch;throw new Error("`fetch` is not defined as a global; Either pass `fetch` to the client, `new Anthropic({ fetch })` or polyfill the global, `globalThis.fetch = fetch`")},t.makeReadableStream=r,t.ReadableStreamFrom=function(e){let t=Symbol.asyncIterator in e?e[Symbol.asyncIterator]():e[Symbol.iterator]();return r({start(){},async pull(e){const{done:r,value:n}=await t.next();r?e.close():e.enqueue(n)},async cancel(){await(t.return?.())}})},t.ReadableStreamToAsyncIterable=function(e){if(e[Symbol.asyncIterator])return e;const t=e.getReader();return{async next(){try{const e=await t.read();return e?.done&&t.releaseLock(),e}catch(e){throw t.releaseLock(),e}},async return(){const e=t.cancel();return t.releaseLock(),await e,{done:!0,value:void 0}},[Symbol.asyncIterator](){return this}}},t.CancelReadableStream=async function(e){if(null===e||"object"!=typeof e)return;if(e[Symbol.asyncIterator])return void await(e[Symbol.asyncIterator]().return?.());const t=e.getReader(),r=t.cancel();t.releaseLock(),await r}},3621:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.toFile=async function(e,t,r){if((0,s.checkFileSupport)(),e=await e,t||(t=(0,n.getName)(e)),i(e))return e instanceof File&&null==t&&null==r?e:(0,n.makeFile)([await e.arrayBuffer()],t??e.name,{type:e.type,lastModified:e.lastModified,...r});if(a(e)){const s=await e.blob();return t||(t=new URL(e.url).pathname.split(/[\\/]/).pop()),(0,n.makeFile)(await c(s),t,r)}const o=await c(e);if(!r?.type){const e=o.find(e=>"object"==typeof e&&"type"in e&&e.type);"string"==typeof e&&(r={...r,type:e})}return(0,n.makeFile)(o,t,r)};const n=r(2505),s=r(2505),o=e=>null!=e&&"object"==typeof e&&"number"==typeof e.size&&"string"==typeof e.type&&"function"==typeof e.text&&"function"==typeof e.slice&&"function"==typeof e.arrayBuffer,i=e=>null!=e&&"object"==typeof e&&"string"==typeof e.name&&"number"==typeof e.lastModified&&o(e),a=e=>null!=e&&"object"==typeof e&&"string"==typeof e.url&&"function"==typeof e.blob;async function c(e){let t=[];if("string"==typeof e||ArrayBuffer.isView(e)||e instanceof ArrayBuffer)t.push(e);else if(o(e))t.push(e instanceof Blob?e:await e.arrayBuffer());else{if(!(0,n.isAsyncIterable)(e)){const t=e?.constructor?.name;throw new Error(`Unexpected data type: ${typeof e}${t?`; constructor: ${t}`:""}${function(e){if("object"!=typeof e||null===e)return"";const t=Object.getOwnPropertyNames(e);return`; props: [${t.map(e=>`"${e}"`).join(", ")}]`}(e)}`)}for await(const r of e)t.push(...await c(r))}return t}},5219:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.__setModuleDefault=t.__createBinding=void 0,t.__classPrivateFieldSet=function(e,t,r,n,s){if("m"===n)throw new TypeError("Private method is not writable");if("a"===n&&!s)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===n?s.call(e,r):s?s.value=r:t.set(e,r),r},t.__classPrivateFieldGet=function(e,t,r,n){if("a"===r&&!n)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?n:"a"===r?n.call(e):n?n.value:t.get(e)},t.__exportStar=function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)},t.__importStar=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var o=s(e),i=0;i<o.length;i++)"default"!==o[i]&&r(t,e,o[i]);return n(t,e),t};var r=Object.create?function(e,t,r,n){void 0===n&&(n=r);var s=Object.getOwnPropertyDescriptor(t,r);s&&!("get"in s?!t.__esModule:s.writable||s.configurable)||(s={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,s)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]};t.__createBinding=r;var n=Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t};t.__setModuleDefault=n;var s=function(e){return(s=Object.getOwnPropertyNames||function(e){var t=[];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[t.length]=r);return t})(e)}},2505:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createForm=t.multipartFormRequestOptions=t.maybeMultipartFormRequestOptions=t.isAsyncIterable=t.checkFileSupport=void 0,t.makeFile=s,t.getName=o;const n=r(1689);function s(e,r,n){return(0,t.checkFileSupport)(),new File(e,r??"unknown_file",n)}function o(e){return("object"==typeof e&&null!==e&&("name"in e&&e.name&&String(e.name)||"url"in e&&e.url&&String(e.url)||"filename"in e&&e.filename&&String(e.filename)||"path"in e&&e.path&&String(e.path))||"").split(/[\\/]/).pop()||void 0}t.checkFileSupport=()=>{if("undefined"==typeof File){const{process:e}=globalThis,t="string"==typeof e?.versions?.node&&parseInt(e.versions.node.split("."))<20;throw new Error("`File` is not defined as a global, which is required for file uploads."+(t?" Update to Node 20 LTS or newer, or set `globalThis.File` to `import('node:buffer').File`.":""))}};t.isAsyncIterable=e=>null!=e&&"object"==typeof e&&"function"==typeof e[Symbol.asyncIterator];t.maybeMultipartFormRequestOptions=async(e,r)=>c(e.body)?{...e,body:await(0,t.createForm)(e.body,r)}:e;t.multipartFormRequestOptions=async(e,r)=>({...e,body:await(0,t.createForm)(e.body,r)});const i=new WeakMap;t.createForm=async(e,t)=>{if(!await function(e){const t="function"==typeof e?e:e.fetch,r=i.get(t);if(r)return r;const n=(async()=>{try{const e="Response"in t?t.Response:(await t("data:,")).constructor,r=new FormData;return r.toString()!==await new e(r).text()}catch{return!0}})();return i.set(t,n),n}(t))throw new TypeError("The provided fetch function does not support file uploads with the current global FormData class.");const r=new FormData;return await Promise.all(Object.entries(e||{}).map(([e,t])=>l(r,e,t))),r};const a=e=>e instanceof Blob&&"name"in e,c=e=>{if((e=>"object"==typeof e&&null!==e&&(e instanceof Response||(0,t.isAsyncIterable)(e)||a(e)))(e))return!0;if(Array.isArray(e))return e.some(c);if(e&&"object"==typeof e)for(const t in e)if(c(e[t]))return!0;return!1},l=async(e,r,i)=>{if(void 0!==i){if(null==i)throw new TypeError(`Received null for "${r}"; to pass null in FormData, you must use the string 'null'`);if("string"==typeof i||"number"==typeof i||"boolean"==typeof i)e.append(r,String(i));else if(i instanceof Response){let t={};const n=i.headers.get("Content-Type");n&&(t={type:n}),e.append(r,s([await i.blob()],o(i),t))}else if((0,t.isAsyncIterable)(i))e.append(r,s([await new Response((0,n.ReadableStreamFrom)(i)).blob()],o(i)));else if(a(i))e.append(r,s([i],o(i),{type:i.type}));else if(Array.isArray(i))await Promise.all(i.map(t=>l(e,r+"[]",t)));else{if("object"!=typeof i)throw new TypeError(`Invalid value given to form, expected a string, number, boolean, object, Array, File or Blob but got ${i} instead`);await Promise.all(Object.entries(i).map(([t,n])=>l(e,`${r}[${t}]`,n)))}}}},6822:(e,t)=>{"use strict";let r,n;Object.defineProperty(t,"__esModule",{value:!0}),t.concatBytes=function(e){let t=0;for(const r of e)t+=r.length;const r=new Uint8Array(t);let n=0;for(const t of e)r.set(t,n),n+=t.length;return r},t.encodeUTF8=function(e){let t;return(r??(t=new globalThis.TextEncoder,r=t.encode.bind(t)))(e)},t.decodeUTF8=function(e){let t;return(n??(t=new globalThis.TextDecoder,n=t.decode.bind(t)))(e)}},6482:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.readEnv=void 0;t.readEnv=e=>void 0!==globalThis.process?globalThis.process.env?.[e]?.trim()??void 0:void 0!==globalThis.Deno?globalThis.Deno.env?.get?.(e)?.trim():void 0},5296:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.formatRequestDetails=t.parseLogLevel=void 0,t.loggerFor=l;const n=r(9171),s={off:0,error:200,warn:300,info:400,debug:500};function o(){}function i(e,t,r){return!t||s[e]>s[r]?o:t[e].bind(t)}t.parseLogLevel=(e,t,r)=>{if(e)return(0,n.hasOwn)(s,e)?e:void l(r).warn(`${t} was set to ${JSON.stringify(e)}, expected one of ${JSON.stringify(Object.keys(s))}`)};const a={error:o,warn:o,info:o,debug:o};let c=new WeakMap;function l(e){const t=e.logger,r=e.logLevel??"off";if(!t)return a;const n=c.get(t);if(n&&n[0]===r)return n[1];const s={error:i("error",t,r),warn:i("warn",t,r),info:i("info",t,r),debug:i("debug",t,r)};return c.set(t,[r,s]),s}t.formatRequestDetails=e=>(e.options&&(e.options={...e.options},delete e.options.headers),e.headers&&(e.headers=Object.fromEntries((e.headers instanceof Headers?[...e.headers]:Object.entries(e.headers)).map(([e,t])=>[e,"x-api-key"===e.toLowerCase()||"authorization"===e.toLowerCase()||"cookie"===e.toLowerCase()||"set-cookie"===e.toLowerCase()?"***":t]))),"retryOfRequestLogID"in e&&(e.retryOfRequestLogID&&(e.retryOf=e.retryOfRequestLogID),delete e.retryOfRequestLogID),e)},390:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.path=t.createPathTagFunction=void 0,t.encodeURIPath=s;const n=r(5063);function s(e){return e.replace(/[^A-Za-z0-9\-._~!$&'()*+,;=:@]+/g,encodeURIComponent)}const o=Object.freeze(Object.create(null));t.createPathTagFunction=(e=s)=>function(t,...r){if(1===t.length)return t[0];let s=!1;const i=[],a=t.reduce((t,n,a)=>{/[?#]/.test(n)&&(s=!0);const c=r[a];let l=(s?encodeURIComponent:e)(""+c);return a!==r.length&&(null==c||"object"==typeof c&&c.toString===Object.getPrototypeOf(Object.getPrototypeOf(c.hasOwnProperty??o)??o)?.toString)&&(l=c+"",i.push({start:t.length+n.length,length:l.length,error:`Value of type ${Object.prototype.toString.call(c).slice(8,-1)} is not a valid path parameter`})),t+n+(a===r.length?"":l)},""),c=a.split(/[?#]/,1)[0],l=/(?<=^|\/)(?:\.|%2e){1,2}(?=\/|$)/gi;let d;for(;null!==(d=l.exec(c));)i.push({start:d.index,length:d[0].length,error:`Value "${d[0]}" can't be safely passed as a path parameter`});if(i.sort((e,t)=>e.start-t.start),i.length>0){let e=0;const t=i.reduce((t,r)=>{const n=" ".repeat(r.start-e),s="^".repeat(r.length);return e=r.start+r.length,t+n+s},"");throw new n.AnthropicError(`Path parameters result in path with invalid segments:\n${i.map(e=>e.error).join("\n")}\n${a}\n${t}`)}return a},t.path=(0,t.createPathTagFunction)(s)},8994:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.sleep=void 0;t.sleep=e=>new Promise(t=>setTimeout(t,e))},4458:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.uuid4=void 0;t.uuid4=function(){const{crypto:e}=globalThis;if(e?.randomUUID)return t.uuid4=e.randomUUID.bind(e),e.randomUUID();const r=new Uint8Array(1),n=e?()=>e.getRandomValues(r)[0]:()=>255*Math.random()&255;return"10000000-1000-4000-8000-100000000000".replace(/[018]/g,e=>(+e^n()&15>>+e/4).toString(16))}},9171:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.safeJSON=t.maybeCoerceBoolean=t.maybeCoerceFloat=t.maybeCoerceInteger=t.coerceBoolean=t.coerceFloat=t.coerceInteger=t.validatePositiveInteger=t.ensurePresent=t.isReadonlyArray=t.isArray=t.isAbsoluteURL=void 0,t.maybeObj=function(e){if("object"!=typeof e)return{};return e??{}},t.isEmptyObj=function(e){if(!e)return!0;for(const t in e)return!1;return!0},t.hasOwn=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.isObj=function(e){return null!=e&&"object"==typeof e&&!Array.isArray(e)};const n=r(5063),s=/^[a-z][a-z0-9+.-]*:/i;t.isAbsoluteURL=e=>s.test(e);t.isArray=e=>(t.isArray=Array.isArray,(0,t.isArray)(e)),t.isReadonlyArray=t.isArray;t.ensurePresent=e=>{if(null==e)throw new n.AnthropicError(`Expected a value to be given but received ${e} instead.`);return e};t.validatePositiveInteger=(e,t)=>{if("number"!=typeof t||!Number.isInteger(t))throw new n.AnthropicError(`${e} must be an integer`);if(t<0)throw new n.AnthropicError(`${e} must be a positive integer`);return t};t.coerceInteger=e=>{if("number"==typeof e)return Math.round(e);if("string"==typeof e)return parseInt(e,10);throw new n.AnthropicError(`Could not coerce ${e} (type: ${typeof e}) into a number`)};t.coerceFloat=e=>{if("number"==typeof e)return e;if("string"==typeof e)return parseFloat(e);throw new n.AnthropicError(`Could not coerce ${e} (type: ${typeof e}) into a number`)};t.coerceBoolean=e=>"boolean"==typeof e?e:"string"==typeof e?"true"===e:Boolean(e);t.maybeCoerceInteger=e=>{if(void 0!==e)return(0,t.coerceInteger)(e)};t.maybeCoerceFloat=e=>{if(void 0!==e)return(0,t.coerceFloat)(e)};t.maybeCoerceBoolean=e=>{if(void 0!==e)return(0,t.coerceBoolean)(e)};t.safeJSON=e=>{try{return JSON.parse(e)}catch(e){return}}},1940:(e,t,r)=>{"use strict";var n,s,o,i,a,c,l,d,u,p,h,f,m,g,y,b,v,_,S,w,E,P;Object.defineProperty(t,"__esModule",{value:!0}),t.BetaMessageStream=void 0;const C=r(5219),O=r(6604),A=r(8955),x=r(297),I=r(6757),R="__json_buf";function T(e){return"tool_use"===e.type||"server_tool_use"===e.type||"mcp_tool_use"===e.type}class D{constructor(){n.add(this),this.messages=[],this.receivedMessages=[],s.set(this,void 0),this.controller=new AbortController,o.set(this,void 0),i.set(this,()=>{}),a.set(this,()=>{}),c.set(this,void 0),l.set(this,()=>{}),d.set(this,()=>{}),u.set(this,{}),p.set(this,!1),h.set(this,!1),f.set(this,!1),m.set(this,!1),g.set(this,void 0),y.set(this,void 0),_.set(this,e=>{if(C.__classPrivateFieldSet(this,h,!0,"f"),(0,O.isAbortError)(e)&&(e=new A.APIUserAbortError),e instanceof A.APIUserAbortError)return C.__classPrivateFieldSet(this,f,!0,"f"),this._emit("abort",e);if(e instanceof A.AnthropicError)return this._emit("error",e);if(e instanceof Error){const t=new A.AnthropicError(e.message);return t.cause=e,this._emit("error",t)}return this._emit("error",new A.AnthropicError(String(e)))}),C.__classPrivateFieldSet(this,o,new Promise((e,t)=>{C.__classPrivateFieldSet(this,i,e,"f"),C.__classPrivateFieldSet(this,a,t,"f")}),"f"),C.__classPrivateFieldSet(this,c,new Promise((e,t)=>{C.__classPrivateFieldSet(this,l,e,"f"),C.__classPrivateFieldSet(this,d,t,"f")}),"f"),C.__classPrivateFieldGet(this,o,"f").catch(()=>{}),C.__classPrivateFieldGet(this,c,"f").catch(()=>{})}get response(){return C.__classPrivateFieldGet(this,g,"f")}get request_id(){return C.__classPrivateFieldGet(this,y,"f")}async withResponse(){const e=await C.__classPrivateFieldGet(this,o,"f");if(!e)throw new Error("Could not resolve a `Response` object");return{data:this,response:e,request_id:e.headers.get("request-id")}}static fromReadableStream(e){const t=new D;return t._run(()=>t._fromReadableStream(e)),t}static createMessage(e,t,r){const n=new D;for(const e of t.messages)n._addMessageParam(e);return n._run(()=>n._createMessage(e,{...t,stream:!0},{...r,headers:{...r?.headers,"X-Stainless-Helper-Method":"stream"}})),n}_run(e){e().then(()=>{this._emitFinal(),this._emit("end")},C.__classPrivateFieldGet(this,_,"f"))}_addMessageParam(e){this.messages.push(e)}_addMessage(e,t=!0){this.receivedMessages.push(e),t&&this._emit("message",e)}async _createMessage(e,t,r){const s=r?.signal;let o;s&&(s.aborted&&this.controller.abort(),o=this.controller.abort.bind(this.controller),s.addEventListener("abort",o));try{C.__classPrivateFieldGet(this,n,"m",S).call(this);const{response:s,data:o}=await e.create({...t,stream:!0},{...r,signal:this.controller.signal}).withResponse();this._connected(s);for await(const e of o)C.__classPrivateFieldGet(this,n,"m",w).call(this,e);if(o.controller.signal?.aborted)throw new A.APIUserAbortError;C.__classPrivateFieldGet(this,n,"m",E).call(this)}finally{s&&o&&s.removeEventListener("abort",o)}}_connected(e){this.ended||(C.__classPrivateFieldSet(this,g,e,"f"),C.__classPrivateFieldSet(this,y,e?.headers.get("request-id"),"f"),C.__classPrivateFieldGet(this,i,"f").call(this,e),this._emit("connect"))}get ended(){return C.__classPrivateFieldGet(this,p,"f")}get errored(){return C.__classPrivateFieldGet(this,h,"f")}get aborted(){return C.__classPrivateFieldGet(this,f,"f")}abort(){this.controller.abort()}on(e,t){return(C.__classPrivateFieldGet(this,u,"f")[e]||(C.__classPrivateFieldGet(this,u,"f")[e]=[])).push({listener:t}),this}off(e,t){const r=C.__classPrivateFieldGet(this,u,"f")[e];if(!r)return this;const n=r.findIndex(e=>e.listener===t);return n>=0&&r.splice(n,1),this}once(e,t){return(C.__classPrivateFieldGet(this,u,"f")[e]||(C.__classPrivateFieldGet(this,u,"f")[e]=[])).push({listener:t,once:!0}),this}emitted(e){return new Promise((t,r)=>{C.__classPrivateFieldSet(this,m,!0,"f"),"error"!==e&&this.once("error",r),this.once(e,t)})}async done(){C.__classPrivateFieldSet(this,m,!0,"f"),await C.__classPrivateFieldGet(this,c,"f")}get currentMessage(){return C.__classPrivateFieldGet(this,s,"f")}async finalMessage(){return await this.done(),C.__classPrivateFieldGet(this,n,"m",b).call(this)}async finalText(){return await this.done(),C.__classPrivateFieldGet(this,n,"m",v).call(this)}_emit(e,...t){if(C.__classPrivateFieldGet(this,p,"f"))return;"end"===e&&(C.__classPrivateFieldSet(this,p,!0,"f"),C.__classPrivateFieldGet(this,l,"f").call(this));const r=C.__classPrivateFieldGet(this,u,"f")[e];if(r&&(C.__classPrivateFieldGet(this,u,"f")[e]=r.filter(e=>!e.once),r.forEach(({listener:e})=>e(...t))),"abort"===e){const e=t[0];return C.__classPrivateFieldGet(this,m,"f")||r?.length||Promise.reject(e),C.__classPrivateFieldGet(this,a,"f").call(this,e),C.__classPrivateFieldGet(this,d,"f").call(this,e),void this._emit("end")}if("error"===e){const e=t[0];C.__classPrivateFieldGet(this,m,"f")||r?.length||Promise.reject(e),C.__classPrivateFieldGet(this,a,"f").call(this,e),C.__classPrivateFieldGet(this,d,"f").call(this,e),this._emit("end")}}_emitFinal(){this.receivedMessages.at(-1)&&this._emit("finalMessage",C.__classPrivateFieldGet(this,n,"m",b).call(this))}async _fromReadableStream(e,t){const r=t?.signal;let s;r&&(r.aborted&&this.controller.abort(),s=this.controller.abort.bind(this.controller),r.addEventListener("abort",s));try{C.__classPrivateFieldGet(this,n,"m",S).call(this),this._connected(null);const t=x.Stream.fromReadableStream(e,this.controller);for await(const e of t)C.__classPrivateFieldGet(this,n,"m",w).call(this,e);if(t.controller.signal?.aborted)throw new A.APIUserAbortError;C.__classPrivateFieldGet(this,n,"m",E).call(this)}finally{r&&s&&r.removeEventListener("abort",s)}}[(s=new WeakMap,o=new WeakMap,i=new WeakMap,a=new WeakMap,c=new WeakMap,l=new WeakMap,d=new WeakMap,u=new WeakMap,p=new WeakMap,h=new WeakMap,f=new WeakMap,m=new WeakMap,g=new WeakMap,y=new WeakMap,_=new WeakMap,n=new WeakSet,b=function(){if(0===this.receivedMessages.length)throw new A.AnthropicError("stream ended without producing a Message with role=assistant");return this.receivedMessages.at(-1)},v=function(){if(0===this.receivedMessages.length)throw new A.AnthropicError("stream ended without producing a Message with role=assistant");const e=this.receivedMessages.at(-1).content.filter(e=>"text"===e.type).map(e=>e.text);if(0===e.length)throw new A.AnthropicError("stream ended without producing a content block with type=text");return e.join(" ")},S=function(){this.ended||C.__classPrivateFieldSet(this,s,void 0,"f")},w=function(e){if(this.ended)return;const t=C.__classPrivateFieldGet(this,n,"m",P).call(this,e);switch(this._emit("streamEvent",e,t),e.type){case"content_block_delta":{const r=t.content.at(-1);switch(e.delta.type){case"text_delta":"text"===r.type&&this._emit("text",e.delta.text,r.text||"");break;case"citations_delta":"text"===r.type&&this._emit("citation",e.delta.citation,r.citations??[]);break;case"input_json_delta":T(r)&&r.input&&this._emit("inputJson",e.delta.partial_json,r.input);break;case"thinking_delta":"thinking"===r.type&&this._emit("thinking",e.delta.thinking,r.thinking);break;case"signature_delta":"thinking"===r.type&&this._emit("signature",r.signature);break;default:e.delta}break}case"message_stop":this._addMessageParam(t),this._addMessage(t,!0);break;case"content_block_stop":this._emit("contentBlock",t.content.at(-1));break;case"message_start":C.__classPrivateFieldSet(this,s,t,"f")}},E=function(){if(this.ended)throw new A.AnthropicError("stream has ended, this shouldn't happen");const e=C.__classPrivateFieldGet(this,s,"f");if(!e)throw new A.AnthropicError("request ended without sending any chunks");return C.__classPrivateFieldSet(this,s,void 0,"f"),e},P=function(e){let t=C.__classPrivateFieldGet(this,s,"f");if("message_start"===e.type){if(t)throw new A.AnthropicError(`Unexpected event order, got ${e.type} before receiving "message_stop"`);return e.message}if(!t)throw new A.AnthropicError(`Unexpected event order, got ${e.type} before "message_start"`);switch(e.type){case"message_stop":case"content_block_stop":return t;case"message_delta":return t.container=e.delta.container,t.stop_reason=e.delta.stop_reason,t.stop_sequence=e.delta.stop_sequence,t.usage.output_tokens=e.usage.output_tokens,null!=e.usage.input_tokens&&(t.usage.input_tokens=e.usage.input_tokens),null!=e.usage.cache_creation_input_tokens&&(t.usage.cache_creation_input_tokens=e.usage.cache_creation_input_tokens),null!=e.usage.cache_read_input_tokens&&(t.usage.cache_read_input_tokens=e.usage.cache_read_input_tokens),null!=e.usage.server_tool_use&&(t.usage.server_tool_use=e.usage.server_tool_use),t;case"content_block_start":return t.content.push(e.content_block),t;case"content_block_delta":{const r=t.content.at(e.index);switch(e.delta.type){case"text_delta":"text"===r?.type&&(t.content[e.index]={...r,text:(r.text||"")+e.delta.text});break;case"citations_delta":"text"===r?.type&&(t.content[e.index]={...r,citations:[...r.citations??[],e.delta.citation]});break;case"input_json_delta":if(r&&T(r)){let n=r[R]||"";n+=e.delta.partial_json;const s={...r};if(Object.defineProperty(s,R,{value:n,enumerable:!1,writable:!0}),n)try{s.input=(0,I.partialParse)(n)}catch(e){const t=new A.AnthropicError(`Unable to parse tool parameter JSON from model. Please retry your request or adjust your prompt. Error: ${e}. JSON: ${n}`);C.__classPrivateFieldGet(this,_,"f").call(this,t)}t.content[e.index]=s}break;case"thinking_delta":"thinking"===r?.type&&(t.content[e.index]={...r,thinking:r.thinking+e.delta.thinking});break;case"signature_delta":"thinking"===r?.type&&(t.content[e.index]={...r,signature:e.delta.signature});break;default:e.delta}return t}}},Symbol.asyncIterator)](){const e=[],t=[];let r=!1;return this.on("streamEvent",r=>{const n=t.shift();n?n.resolve(r):e.push(r)}),this.on("end",()=>{r=!0;for(const e of t)e.resolve(void 0);t.length=0}),this.on("abort",e=>{r=!0;for(const r of t)r.reject(e);t.length=0}),this.on("error",e=>{r=!0;for(const r of t)r.reject(e);t.length=0}),{next:async()=>{if(!e.length)return r?{value:void 0,done:!0}:new Promise((e,r)=>t.push({resolve:e,reject:r})).then(e=>e?{value:e,done:!1}:{value:void 0,done:!0});return{value:e.shift(),done:!1}},return:async()=>(this.abort(),{value:void 0,done:!0})}}toReadableStream(){return new x.Stream(this[Symbol.asyncIterator].bind(this),this.controller).toReadableStream()}}t.BetaMessageStream=D},5258:(e,t,r)=>{"use strict";var n,s,o,i,a,c,l,d,u,p,h,f,m,g,y,b,v,_,S,w,E,P;Object.defineProperty(t,"__esModule",{value:!0}),t.MessageStream=void 0;const C=r(5219),O=r(6604),A=r(8955),x=r(297),I=r(6757),R="__json_buf";function T(e){return"tool_use"===e.type||"server_tool_use"===e.type}class D{constructor(){n.add(this),this.messages=[],this.receivedMessages=[],s.set(this,void 0),this.controller=new AbortController,o.set(this,void 0),i.set(this,()=>{}),a.set(this,()=>{}),c.set(this,void 0),l.set(this,()=>{}),d.set(this,()=>{}),u.set(this,{}),p.set(this,!1),h.set(this,!1),f.set(this,!1),m.set(this,!1),g.set(this,void 0),y.set(this,void 0),_.set(this,e=>{if(C.__classPrivateFieldSet(this,h,!0,"f"),(0,O.isAbortError)(e)&&(e=new A.APIUserAbortError),e instanceof A.APIUserAbortError)return C.__classPrivateFieldSet(this,f,!0,"f"),this._emit("abort",e);if(e instanceof A.AnthropicError)return this._emit("error",e);if(e instanceof Error){const t=new A.AnthropicError(e.message);return t.cause=e,this._emit("error",t)}return this._emit("error",new A.AnthropicError(String(e)))}),C.__classPrivateFieldSet(this,o,new Promise((e,t)=>{C.__classPrivateFieldSet(this,i,e,"f"),C.__classPrivateFieldSet(this,a,t,"f")}),"f"),C.__classPrivateFieldSet(this,c,new Promise((e,t)=>{C.__classPrivateFieldSet(this,l,e,"f"),C.__classPrivateFieldSet(this,d,t,"f")}),"f"),C.__classPrivateFieldGet(this,o,"f").catch(()=>{}),C.__classPrivateFieldGet(this,c,"f").catch(()=>{})}get response(){return C.__classPrivateFieldGet(this,g,"f")}get request_id(){return C.__classPrivateFieldGet(this,y,"f")}async withResponse(){const e=await C.__classPrivateFieldGet(this,o,"f");if(!e)throw new Error("Could not resolve a `Response` object");return{data:this,response:e,request_id:e.headers.get("request-id")}}static fromReadableStream(e){const t=new D;return t._run(()=>t._fromReadableStream(e)),t}static createMessage(e,t,r){const n=new D;for(const e of t.messages)n._addMessageParam(e);return n._run(()=>n._createMessage(e,{...t,stream:!0},{...r,headers:{...r?.headers,"X-Stainless-Helper-Method":"stream"}})),n}_run(e){e().then(()=>{this._emitFinal(),this._emit("end")},C.__classPrivateFieldGet(this,_,"f"))}_addMessageParam(e){this.messages.push(e)}_addMessage(e,t=!0){this.receivedMessages.push(e),t&&this._emit("message",e)}async _createMessage(e,t,r){const s=r?.signal;let o;s&&(s.aborted&&this.controller.abort(),o=this.controller.abort.bind(this.controller),s.addEventListener("abort",o));try{C.__classPrivateFieldGet(this,n,"m",S).call(this);const{response:s,data:o}=await e.create({...t,stream:!0},{...r,signal:this.controller.signal}).withResponse();this._connected(s);for await(const e of o)C.__classPrivateFieldGet(this,n,"m",w).call(this,e);if(o.controller.signal?.aborted)throw new A.APIUserAbortError;C.__classPrivateFieldGet(this,n,"m",E).call(this)}finally{s&&o&&s.removeEventListener("abort",o)}}_connected(e){this.ended||(C.__classPrivateFieldSet(this,g,e,"f"),C.__classPrivateFieldSet(this,y,e?.headers.get("request-id"),"f"),C.__classPrivateFieldGet(this,i,"f").call(this,e),this._emit("connect"))}get ended(){return C.__classPrivateFieldGet(this,p,"f")}get errored(){return C.__classPrivateFieldGet(this,h,"f")}get aborted(){return C.__classPrivateFieldGet(this,f,"f")}abort(){this.controller.abort()}on(e,t){return(C.__classPrivateFieldGet(this,u,"f")[e]||(C.__classPrivateFieldGet(this,u,"f")[e]=[])).push({listener:t}),this}off(e,t){const r=C.__classPrivateFieldGet(this,u,"f")[e];if(!r)return this;const n=r.findIndex(e=>e.listener===t);return n>=0&&r.splice(n,1),this}once(e,t){return(C.__classPrivateFieldGet(this,u,"f")[e]||(C.__classPrivateFieldGet(this,u,"f")[e]=[])).push({listener:t,once:!0}),this}emitted(e){return new Promise((t,r)=>{C.__classPrivateFieldSet(this,m,!0,"f"),"error"!==e&&this.once("error",r),this.once(e,t)})}async done(){C.__classPrivateFieldSet(this,m,!0,"f"),await C.__classPrivateFieldGet(this,c,"f")}get currentMessage(){return C.__classPrivateFieldGet(this,s,"f")}async finalMessage(){return await this.done(),C.__classPrivateFieldGet(this,n,"m",b).call(this)}async finalText(){return await this.done(),C.__classPrivateFieldGet(this,n,"m",v).call(this)}_emit(e,...t){if(C.__classPrivateFieldGet(this,p,"f"))return;"end"===e&&(C.__classPrivateFieldSet(this,p,!0,"f"),C.__classPrivateFieldGet(this,l,"f").call(this));const r=C.__classPrivateFieldGet(this,u,"f")[e];if(r&&(C.__classPrivateFieldGet(this,u,"f")[e]=r.filter(e=>!e.once),r.forEach(({listener:e})=>e(...t))),"abort"===e){const e=t[0];return C.__classPrivateFieldGet(this,m,"f")||r?.length||Promise.reject(e),C.__classPrivateFieldGet(this,a,"f").call(this,e),C.__classPrivateFieldGet(this,d,"f").call(this,e),void this._emit("end")}if("error"===e){const e=t[0];C.__classPrivateFieldGet(this,m,"f")||r?.length||Promise.reject(e),C.__classPrivateFieldGet(this,a,"f").call(this,e),C.__classPrivateFieldGet(this,d,"f").call(this,e),this._emit("end")}}_emitFinal(){this.receivedMessages.at(-1)&&this._emit("finalMessage",C.__classPrivateFieldGet(this,n,"m",b).call(this))}async _fromReadableStream(e,t){const r=t?.signal;let s;r&&(r.aborted&&this.controller.abort(),s=this.controller.abort.bind(this.controller),r.addEventListener("abort",s));try{C.__classPrivateFieldGet(this,n,"m",S).call(this),this._connected(null);const t=x.Stream.fromReadableStream(e,this.controller);for await(const e of t)C.__classPrivateFieldGet(this,n,"m",w).call(this,e);if(t.controller.signal?.aborted)throw new A.APIUserAbortError;C.__classPrivateFieldGet(this,n,"m",E).call(this)}finally{r&&s&&r.removeEventListener("abort",s)}}[(s=new WeakMap,o=new WeakMap,i=new WeakMap,a=new WeakMap,c=new WeakMap,l=new WeakMap,d=new WeakMap,u=new WeakMap,p=new WeakMap,h=new WeakMap,f=new WeakMap,m=new WeakMap,g=new WeakMap,y=new WeakMap,_=new WeakMap,n=new WeakSet,b=function(){if(0===this.receivedMessages.length)throw new A.AnthropicError("stream ended without producing a Message with role=assistant");return this.receivedMessages.at(-1)},v=function(){if(0===this.receivedMessages.length)throw new A.AnthropicError("stream ended without producing a Message with role=assistant");const e=this.receivedMessages.at(-1).content.filter(e=>"text"===e.type).map(e=>e.text);if(0===e.length)throw new A.AnthropicError("stream ended without producing a content block with type=text");return e.join(" ")},S=function(){this.ended||C.__classPrivateFieldSet(this,s,void 0,"f")},w=function(e){if(this.ended)return;const t=C.__classPrivateFieldGet(this,n,"m",P).call(this,e);switch(this._emit("streamEvent",e,t),e.type){case"content_block_delta":{const r=t.content.at(-1);switch(e.delta.type){case"text_delta":"text"===r.type&&this._emit("text",e.delta.text,r.text||"");break;case"citations_delta":"text"===r.type&&this._emit("citation",e.delta.citation,r.citations??[]);break;case"input_json_delta":T(r)&&r.input&&this._emit("inputJson",e.delta.partial_json,r.input);break;case"thinking_delta":"thinking"===r.type&&this._emit("thinking",e.delta.thinking,r.thinking);break;case"signature_delta":"thinking"===r.type&&this._emit("signature",r.signature);break;default:e.delta}break}case"message_stop":this._addMessageParam(t),this._addMessage(t,!0);break;case"content_block_stop":this._emit("contentBlock",t.content.at(-1));break;case"message_start":C.__classPrivateFieldSet(this,s,t,"f")}},E=function(){if(this.ended)throw new A.AnthropicError("stream has ended, this shouldn't happen");const e=C.__classPrivateFieldGet(this,s,"f");if(!e)throw new A.AnthropicError("request ended without sending any chunks");return C.__classPrivateFieldSet(this,s,void 0,"f"),e},P=function(e){let t=C.__classPrivateFieldGet(this,s,"f");if("message_start"===e.type){if(t)throw new A.AnthropicError(`Unexpected event order, got ${e.type} before receiving "message_stop"`);return e.message}if(!t)throw new A.AnthropicError(`Unexpected event order, got ${e.type} before "message_start"`);switch(e.type){case"message_stop":case"content_block_stop":return t;case"message_delta":return t.stop_reason=e.delta.stop_reason,t.stop_sequence=e.delta.stop_sequence,t.usage.output_tokens=e.usage.output_tokens,null!=e.usage.input_tokens&&(t.usage.input_tokens=e.usage.input_tokens),null!=e.usage.cache_creation_input_tokens&&(t.usage.cache_creation_input_tokens=e.usage.cache_creation_input_tokens),null!=e.usage.cache_read_input_tokens&&(t.usage.cache_read_input_tokens=e.usage.cache_read_input_tokens),null!=e.usage.server_tool_use&&(t.usage.server_tool_use=e.usage.server_tool_use),t;case"content_block_start":return t.content.push({...e.content_block}),t;case"content_block_delta":{const r=t.content.at(e.index);switch(e.delta.type){case"text_delta":"text"===r?.type&&(t.content[e.index]={...r,text:(r.text||"")+e.delta.text});break;case"citations_delta":"text"===r?.type&&(t.content[e.index]={...r,citations:[...r.citations??[],e.delta.citation]});break;case"input_json_delta":if(r&&T(r)){let n=r[R]||"";n+=e.delta.partial_json;const s={...r};Object.defineProperty(s,R,{value:n,enumerable:!1,writable:!0}),n&&(s.input=(0,I.partialParse)(n)),t.content[e.index]=s}break;case"thinking_delta":"thinking"===r?.type&&(t.content[e.index]={...r,thinking:r.thinking+e.delta.thinking});break;case"signature_delta":"thinking"===r?.type&&(t.content[e.index]={...r,signature:e.delta.signature});break;default:e.delta}return t}}},Symbol.asyncIterator)](){const e=[],t=[];let r=!1;return this.on("streamEvent",r=>{const n=t.shift();n?n.resolve(r):e.push(r)}),this.on("end",()=>{r=!0;for(const e of t)e.resolve(void 0);t.length=0}),this.on("abort",e=>{r=!0;for(const r of t)r.reject(e);t.length=0}),this.on("error",e=>{r=!0;for(const r of t)r.reject(e);t.length=0}),{next:async()=>{if(!e.length)return r?{value:void 0,done:!0}:new Promise((e,r)=>t.push({resolve:e,reject:r})).then(e=>e?{value:e,done:!1}:{value:void 0,done:!0});return{value:e.shift(),done:!1}},return:async()=>(this.abort(),{value:void 0,done:!0})}}toReadableStream(){return new x.Stream(this[Symbol.asyncIterator].bind(this),this.controller).toReadableStream()}}t.MessageStream=D},834:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Beta=void 0;const n=r(5219),s=r(6169),o=n.__importStar(r(6365)),i=r(6365),a=n.__importStar(r(1786)),c=r(1786),l=n.__importStar(r(2231)),d=r(2231);class u extends s.APIResource{constructor(){super(...arguments),this.models=new a.Models(this._client),this.messages=new l.Messages(this._client),this.files=new o.Files(this._client)}}t.Beta=u,u.Models=c.Models,u.Messages=d.Messages,u.Files=i.Files},6365:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Files=void 0;const n=r(6169),s=r(2065),o=r(2709),i=r(2505),a=r(390);class c extends n.APIResource{list(e={},t){const{betas:r,...n}=e??{};return this._client.getAPIList("/v1/files",s.Page,{query:n,...t,headers:(0,o.buildHeaders)([{"anthropic-beta":[...r??[],"files-api-2025-04-14"].toString()},t?.headers])})}delete(e,t={},r){const{betas:n}=t??{};return this._client.delete(a.path`/v1/files/${e}`,{...r,headers:(0,o.buildHeaders)([{"anthropic-beta":[...n??[],"files-api-2025-04-14"].toString()},r?.headers])})}download(e,t={},r){const{betas:n}=t??{};return this._client.get(a.path`/v1/files/${e}/content`,{...r,headers:(0,o.buildHeaders)([{"anthropic-beta":[...n??[],"files-api-2025-04-14"].toString(),Accept:"application/binary"},r?.headers]),__binaryResponse:!0})}retrieveMetadata(e,t={},r){const{betas:n}=t??{};return this._client.get(a.path`/v1/files/${e}`,{...r,headers:(0,o.buildHeaders)([{"anthropic-beta":[...n??[],"files-api-2025-04-14"].toString()},r?.headers])})}upload(e,t){const{betas:r,...n}=e;return this._client.post("/v1/files",(0,i.multipartFormRequestOptions)({body:n,...t,headers:(0,o.buildHeaders)([{"anthropic-beta":[...r??[],"files-api-2025-04-14"].toString()},t?.headers])},this._client))}}t.Files=c},1479:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Batches=void 0;const n=r(6169),s=r(2065),o=r(2709),i=r(4663),a=r(8955),c=r(390);class l extends n.APIResource{create(e,t){const{betas:r,...n}=e;return this._client.post("/v1/messages/batches?beta=true",{body:n,...t,headers:(0,o.buildHeaders)([{"anthropic-beta":[...r??[],"message-batches-2024-09-24"].toString()},t?.headers])})}retrieve(e,t={},r){const{betas:n}=t??{};return this._client.get(c.path`/v1/messages/batches/${e}?beta=true`,{...r,headers:(0,o.buildHeaders)([{"anthropic-beta":[...n??[],"message-batches-2024-09-24"].toString()},r?.headers])})}list(e={},t){const{betas:r,...n}=e??{};return this._client.getAPIList("/v1/messages/batches?beta=true",s.Page,{query:n,...t,headers:(0,o.buildHeaders)([{"anthropic-beta":[...r??[],"message-batches-2024-09-24"].toString()},t?.headers])})}delete(e,t={},r){const{betas:n}=t??{};return this._client.delete(c.path`/v1/messages/batches/${e}?beta=true`,{...r,headers:(0,o.buildHeaders)([{"anthropic-beta":[...n??[],"message-batches-2024-09-24"].toString()},r?.headers])})}cancel(e,t={},r){const{betas:n}=t??{};return this._client.post(c.path`/v1/messages/batches/${e}/cancel?beta=true`,{...r,headers:(0,o.buildHeaders)([{"anthropic-beta":[...n??[],"message-batches-2024-09-24"].toString()},r?.headers])})}async results(e,t={},r){const n=await this.retrieve(e);if(!n.results_url)throw new a.AnthropicError(`No batch \`results_url\`; Has it finished processing? ${n.processing_status} - ${n.id}`);const{betas:s}=t??{};return this._client.get(n.results_url,{...r,headers:(0,o.buildHeaders)([{"anthropic-beta":[...s??[],"message-batches-2024-09-24"].toString(),Accept:"application/binary"},r?.headers]),stream:!0,__binaryResponse:!0})._thenUnwrap((e,t)=>i.JSONLDecoder.fromResponse(t.response,t.controller))}}t.Batches=l},2231:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Messages=void 0;const n=r(5219),s=r(6169),o=n.__importStar(r(1479)),i=r(1479),a=r(2709),c=r(1940),l={"claude-1.3":"November 6th, 2024","claude-1.3-100k":"November 6th, 2024","claude-instant-1.1":"November 6th, 2024","claude-instant-1.1-100k":"November 6th, 2024","claude-instant-1.2":"November 6th, 2024","claude-3-sonnet-20240229":"July 21st, 2025","claude-3-opus-20240229":"January 5th, 2026","claude-2.1":"July 21st, 2025","claude-2.0":"July 21st, 2025","claude-3-5-sonnet-20241022":"October 22, 2025","claude-3-5-sonnet-20240620":"October 22, 2025"},d=r(3574);class u extends s.APIResource{constructor(){super(...arguments),this.batches=new o.Batches(this._client)}create(e,t){const{betas:r,...n}=e;n.model in l&&console.warn(`The model '${n.model}' is deprecated and will reach end-of-life on ${l[n.model]}\nPlease migrate to a newer model. Visit https://docs.anthropic.com/en/docs/resources/model-deprecations for more information.`);let s=this._client._options.timeout;if(!n.stream&&null==s){const e=d.MODEL_NONSTREAMING_TOKENS[n.model]??void 0;s=this._client.calculateNonstreamingTimeout(n.max_tokens,e)}return this._client.post("/v1/messages?beta=true",{body:n,timeout:s??6e5,...t,headers:(0,a.buildHeaders)([{...null!=r?.toString()?{"anthropic-beta":r?.toString()}:void 0},t?.headers]),stream:e.stream??!1})}stream(e,t){return c.BetaMessageStream.createMessage(this,e,t)}countTokens(e,t){const{betas:r,...n}=e;return this._client.post("/v1/messages/count_tokens?beta=true",{body:n,...t,headers:(0,a.buildHeaders)([{"anthropic-beta":[...r??[],"token-counting-2024-11-01"].toString()},t?.headers])})}}t.Messages=u,u.Batches=i.Batches},1786:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Models=void 0;const n=r(6169),s=r(2065),o=r(2709),i=r(390);class a extends n.APIResource{retrieve(e,t={},r){const{betas:n}=t??{};return this._client.get(i.path`/v1/models/${e}?beta=true`,{...r,headers:(0,o.buildHeaders)([{...null!=n?.toString()?{"anthropic-beta":n?.toString()}:void 0},r?.headers])})}list(e={},t){const{betas:r,...n}=e??{};return this._client.getAPIList("/v1/models?beta=true",s.Page,{query:n,...t,headers:(0,o.buildHeaders)([{...null!=r?.toString()?{"anthropic-beta":r?.toString()}:void 0},t?.headers])})}}t.Models=a},3880:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Completions=void 0;const n=r(6169),s=r(2709);class o extends n.APIResource{create(e,t){const{betas:r,...n}=e;return this._client.post("/v1/complete",{body:n,timeout:this._client._options.timeout??6e5,...t,headers:(0,s.buildHeaders)([{...null!=r?.toString()?{"anthropic-beta":r?.toString()}:void 0},t?.headers]),stream:e.stream??!1})}}t.Completions=o},2039:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Models=t.Messages=t.Completions=t.Beta=void 0;r(5219).__exportStar(r(3138),t);var n=r(834);Object.defineProperty(t,"Beta",{enumerable:!0,get:function(){return n.Beta}});var s=r(3880);Object.defineProperty(t,"Completions",{enumerable:!0,get:function(){return s.Completions}});var o=r(2982);Object.defineProperty(t,"Messages",{enumerable:!0,get:function(){return o.Messages}});var i=r(9665);Object.defineProperty(t,"Models",{enumerable:!0,get:function(){return i.Models}})},1352:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Batches=void 0;const n=r(6169),s=r(2065),o=r(2709),i=r(4663),a=r(8955),c=r(390);class l extends n.APIResource{create(e,t){return this._client.post("/v1/messages/batches",{body:e,...t})}retrieve(e,t){return this._client.get(c.path`/v1/messages/batches/${e}`,t)}list(e={},t){return this._client.getAPIList("/v1/messages/batches",s.Page,{query:e,...t})}delete(e,t){return this._client.delete(c.path`/v1/messages/batches/${e}`,t)}cancel(e,t){return this._client.post(c.path`/v1/messages/batches/${e}/cancel`,t)}async results(e,t){const r=await this.retrieve(e);if(!r.results_url)throw new a.AnthropicError(`No batch \`results_url\`; Has it finished processing? ${r.processing_status} - ${r.id}`);return this._client.get(r.results_url,{...t,headers:(0,o.buildHeaders)([{Accept:"application/binary"},t?.headers]),stream:!0,__binaryResponse:!0})._thenUnwrap((e,t)=>i.JSONLDecoder.fromResponse(t.response,t.controller))}}t.Batches=l},2982:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Messages=void 0;const n=r(5219),s=r(6169),o=r(5258),i=n.__importStar(r(1352)),a=r(1352),c=r(3574);class l extends s.APIResource{constructor(){super(...arguments),this.batches=new i.Batches(this._client)}create(e,t){e.model in d&&console.warn(`The model '${e.model}' is deprecated and will reach end-of-life on ${d[e.model]}\nPlease migrate to a newer model. Visit https://docs.anthropic.com/en/docs/resources/model-deprecations for more information.`);let r=this._client._options.timeout;if(!e.stream&&null==r){const t=c.MODEL_NONSTREAMING_TOKENS[e.model]??void 0;r=this._client.calculateNonstreamingTimeout(e.max_tokens,t)}return this._client.post("/v1/messages",{body:e,timeout:r??6e5,...t,stream:e.stream??!1})}stream(e,t){return o.MessageStream.createMessage(this,e,t)}countTokens(e,t){return this._client.post("/v1/messages/count_tokens",{body:e,...t})}}t.Messages=l;const d={"claude-1.3":"November 6th, 2024","claude-1.3-100k":"November 6th, 2024","claude-instant-1.1":"November 6th, 2024","claude-instant-1.1-100k":"November 6th, 2024","claude-instant-1.2":"November 6th, 2024","claude-3-sonnet-20240229":"July 21st, 2025","claude-3-opus-20240229":"January 5th, 2026","claude-2.1":"July 21st, 2025","claude-2.0":"July 21st, 2025","claude-3-5-sonnet-20241022":"October 22, 2025","claude-3-5-sonnet-20240620":"October 22, 2025"};l.Batches=a.Batches},9665:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Models=void 0;const n=r(6169),s=r(2065),o=r(2709),i=r(390);class a extends n.APIResource{retrieve(e,t={},r){const{betas:n}=t??{};return this._client.get(i.path`/v1/models/${e}`,{...r,headers:(0,o.buildHeaders)([{...null!=n?.toString()?{"anthropic-beta":n?.toString()}:void 0},r?.headers])})}list(e={},t){const{betas:r,...n}=e??{};return this._client.getAPIList("/v1/models",s.Page,{query:n,...t,headers:(0,o.buildHeaders)([{...null!=r?.toString()?{"anthropic-beta":r?.toString()}:void 0},t?.headers])})}}t.Models=a},3138:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},297:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});r(5219).__exportStar(r(4138),t)},953:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.VERSION=void 0,t.VERSION="0.60.0"},6107:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MalformedJSON=t.PartialJSON=t.partialParse=void 0;const r=1,n=2,s=4,o=8,i=16,a=32,c=64,l=128,d=256,u=511;class p extends Error{}t.PartialJSON=p;class h extends Error{}t.MalformedJSON=h;const f=(e,t)=>{const u=e.length;let f=0;const m=e=>{throw new p(`${e} at position ${f}`)},g=e=>{throw new h(`${e} at position ${f}`)},y=()=>(w(),f>=u&&m("Unexpected end of input"),'"'===e[f]?b():"{"===e[f]?v():"["===e[f]?_():"null"===e.substring(f,f+4)||i&t&&u-f<4&&"null".startsWith(e.substring(f))?(f+=4,null):"true"===e.substring(f,f+4)||a&t&&u-f<4&&"true".startsWith(e.substring(f))?(f+=4,!0):"false"===e.substring(f,f+5)||a&t&&u-f<5&&"false".startsWith(e.substring(f))?(f+=5,!1):"Infinity"===e.substring(f,f+8)||l&t&&u-f<8&&"Infinity".startsWith(e.substring(f))?(f+=8,1/0):"-Infinity"===e.substring(f,f+9)||d&t&&1<u-f&&u-f<9&&"-Infinity".startsWith(e.substring(f))?(f+=9,-1/0):"NaN"===e.substring(f,f+3)||c&t&&u-f<3&&"NaN".startsWith(e.substring(f))?(f+=3,NaN):S()),b=()=>{const n=f;let s=!1;for(f++;f<u&&('"'!==e[f]||s&&"\\"===e[f-1]);)s="\\"===e[f]&&!s,f++;if('"'==e.charAt(f))try{return JSON.parse(e.substring(n,++f-Number(s)))}catch(e){g(String(e))}else if(r&t)try{return JSON.parse(e.substring(n,f-Number(s))+'"')}catch(t){return JSON.parse(e.substring(n,e.lastIndexOf("\\"))+'"')}m("Unterminated string literal")},v=()=>{f++,w();const r={};try{for(;"}"!==e[f];){if(w(),f>=u&&o&t)return r;const n=b();w(),f++;try{const e=y();Object.defineProperty(r,n,{value:e,writable:!0,enumerable:!0,configurable:!0})}catch(e){if(o&t)return r;throw e}w(),","===e[f]&&f++}}catch(e){if(o&t)return r;m("Expected '}' at end of object")}return f++,r},_=()=>{f++;const r=[];try{for(;"]"!==e[f];)r.push(y()),w(),","===e[f]&&f++}catch(e){if(s&t)return r;m("Expected ']' at end of array")}return f++,r},S=()=>{if(0===f){"-"===e&&n&t&&m("Not sure what '-' is");try{return JSON.parse(e)}catch(r){if(n&t)try{return"."===e[e.length-1]?JSON.parse(e.substring(0,e.lastIndexOf("."))):JSON.parse(e.substring(0,e.lastIndexOf("e")))}catch(e){}g(String(r))}}const r=f;for("-"===e[f]&&f++;e[f]&&!",]}".includes(e[f]);)f++;f!=u||n&t||m("Unterminated number literal");try{return JSON.parse(e.substring(r,f))}catch(s){"-"===e.substring(r,f)&&n&t&&m("Not sure what '-' is");try{return JSON.parse(e.substring(r,e.lastIndexOf("e")))}catch(e){g(String(e))}}},w=()=>{for(;f<u&&" \n\r\t".includes(e[f]);)f++};return y()};t.partialParse=e=>function(e,t=u){if("string"!=typeof e)throw new TypeError("expecting str, got "+typeof e);if(!e.trim())throw new Error(`${e} is empty`);return f(e.trim(),t)}(e,u^n)},8952:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AzureOpenAI=void 0;const n=r(2345).__importStar(r(3269)),s=r(2152),o=r(9664),i=r(9267);class a extends o.OpenAI{constructor({baseURL:e=(0,s.readEnv)("OPENAI_BASE_URL"),apiKey:t=(0,s.readEnv)("AZURE_OPENAI_API_KEY"),apiVersion:r=(0,s.readEnv)("OPENAI_API_VERSION"),endpoint:o,deployment:i,azureADTokenProvider:a,dangerouslyAllowBrowser:c,...d}={}){if(!r)throw new n.OpenAIError("The OPENAI_API_VERSION environment variable is missing or empty; either provide it, or instantiate the AzureOpenAI client with an apiVersion option, like new AzureOpenAI({ apiVersion: 'My API Version' }).");if("function"==typeof a&&(c=!0),!a&&!t)throw new n.OpenAIError("Missing credentials. Please pass one of `apiKey` and `azureADTokenProvider`, or set the `AZURE_OPENAI_API_KEY` environment variable.");if(a&&t)throw new n.OpenAIError("The `apiKey` and `azureADTokenProvider` arguments are mutually exclusive; only one can be passed at a time.");if(t??(t=l),d.defaultQuery={...d.defaultQuery,"api-version":r},e){if(o)throw new n.OpenAIError("baseURL and endpoint are mutually exclusive")}else{if(o||(o=process.env.AZURE_OPENAI_ENDPOINT),!o)throw new n.OpenAIError("Must provide one of the `baseURL` or `endpoint` arguments, or the `AZURE_OPENAI_ENDPOINT` environment variable");e=`${o}/openai`}super({apiKey:t,baseURL:e,...d,...void 0!==c?{dangerouslyAllowBrowser:c}:{}}),this.apiVersion="",this._azureADTokenProvider=a,this.apiVersion=r,this.deploymentName=i}async buildRequest(e,t={}){if(c.has(e.path)&&"post"===e.method&&void 0!==e.body){if(!(0,s.isObj)(e.body))throw new Error("Expected request body to be an object");const t=this.deploymentName||e.body.model||e.__metadata?.model;void 0===t||this.baseURL.includes("/deployments")||(e.path=`/deployments/${t}${e.path}`)}return super.buildRequest(e,t)}async _getAzureADToken(){if("function"==typeof this._azureADTokenProvider){const e=await this._azureADTokenProvider();if(!e||"string"!=typeof e)throw new n.OpenAIError(`Expected 'azureADTokenProvider' argument to return a string but it returned ${e}`);return e}}async authHeaders(e){}async prepareOptions(e){if(e.headers=(0,i.buildHeaders)([e.headers]),e.headers.values.get("Authorization")||e.headers.values.get("api-key"))return super.prepareOptions(e);const t=await this._getAzureADToken();if(t)e.headers.values.set("Authorization",`Bearer ${t}`);else{if(this.apiKey===l)throw new n.OpenAIError("Unable to handle auth");e.headers.values.set("api-key",this.apiKey)}return super.prepareOptions(e)}}t.AzureOpenAI=a;const c=new Set(["/completions","/chat/completions","/embeddings","/audio/transcriptions","/audio/translations","/audio/speech","/images/generations","/batches","/images/edits"]),l="<Missing Key>"},9664:(e,t,r)=>{"use strict";var n,s,o,i;Object.defineProperty(t,"__esModule",{value:!0}),t.OpenAI=void 0;const a=r(2345),c=r(660),l=r(7325),d=r(5668),u=r(7698),p=r(8132),h=a.__importStar(r(7831)),f=a.__importStar(r(3347)),m=a.__importStar(r(9198)),g=r(3287),y=a.__importStar(r(5093)),b=a.__importStar(r(2155)),v=a.__importStar(r(7013)),_=a.__importStar(r(6889)),S=r(1999),w=r(257),E=r(4066),P=r(7435),C=r(9230),O=r(1395),A=r(2123),x=r(8328),I=r(5143),R=r(1257),T=r(8852),D=r(3164),N=r(5764),j=r(4466),k=r(198),M=r(7882),L=r(1470),F=r(9962),$=r(9494),U=r(8132),B=r(9267),H=r(3432),G=r(6273),z=r(7325);class q{constructor({baseURL:e=(0,H.readEnv)("OPENAI_BASE_URL"),apiKey:t=(0,H.readEnv)("OPENAI_API_KEY"),organization:r=(0,H.readEnv)("OPENAI_ORG_ID")??null,project:i=(0,H.readEnv)("OPENAI_PROJECT_ID")??null,webhookSecret:c=(0,H.readEnv)("OPENAI_WEBHOOK_SECRET")??null,...l}={}){if(n.add(this),o.set(this,void 0),this.completions=new _.Completions(this),this.chat=new _.Chat(this),this.embeddings=new _.Embeddings(this),this.files=new _.Files(this),this.images=new _.Images(this),this.audio=new _.Audio(this),this.moderations=new _.Moderations(this),this.models=new _.Models(this),this.fineTuning=new _.FineTuning(this),this.graders=new _.Graders(this),this.vectorStores=new _.VectorStores(this),this.webhooks=new _.Webhooks(this),this.beta=new _.Beta(this),this.batches=new _.Batches(this),this.uploads=new _.Uploads(this),this.responses=new _.Responses(this),this.evals=new _.Evals(this),this.containers=new _.Containers(this),void 0===t)throw new y.OpenAIError("The OPENAI_API_KEY environment variable is missing or empty; either provide it, or instantiate the OpenAI client with an apiKey option, like new OpenAI({ apiKey: 'My API Key' }).");const d={apiKey:t,organization:r,project:i,webhookSecret:c,...l,baseURL:e||"https://api.openai.com/v1"};if(!d.dangerouslyAllowBrowser&&(0,U.isRunningInBrowser)())throw new y.OpenAIError("It looks like you're running in a browser-like environment.\n\nThis is disabled by default, as it risks exposing your secret API credentials to attackers.\nIf you understand the risks and have appropriate mitigations in place,\nyou can set the `dangerouslyAllowBrowser` option to `true`, e.g.,\n\nnew OpenAI({ apiKey, dangerouslyAllowBrowser: true });\n\nhttps://help.openai.com/en/articles/5112595-best-practices-for-api-key-safety\n");this.baseURL=d.baseURL,this.timeout=d.timeout??s.DEFAULT_TIMEOUT,this.logger=d.logger??console;const u="warn";this.logLevel=u,this.logLevel=(0,G.parseLogLevel)(d.logLevel,"ClientOptions.logLevel",this)??(0,G.parseLogLevel)((0,H.readEnv)("OPENAI_LOG"),"process.env['OPENAI_LOG']",this)??u,this.fetchOptions=d.fetchOptions,this.maxRetries=d.maxRetries??2,this.fetch=d.fetch??h.getDefaultFetch(),a.__classPrivateFieldSet(this,o,f.FallbackEncoder,"f"),this._options=d,this.apiKey=t,this.organization=r,this.project=i,this.webhookSecret=c}withOptions(e){return new this.constructor({...this._options,baseURL:this.baseURL,maxRetries:this.maxRetries,timeout:this.timeout,logger:this.logger,logLevel:this.logLevel,fetch:this.fetch,fetchOptions:this.fetchOptions,apiKey:this.apiKey,organization:this.organization,project:this.project,webhookSecret:this.webhookSecret,...e})}defaultQuery(){return this._options.defaultQuery}validateHeaders({values:e,nulls:t}){}async authHeaders(e){return(0,B.buildHeaders)([{Authorization:`Bearer ${this.apiKey}`}])}stringifyQuery(e){return m.stringify(e,{arrayFormat:"brackets"})}getUserAgent(){return`${this.constructor.name}/JS ${g.VERSION}`}defaultIdempotencyKey(){return`stainless-node-retry-${(0,c.uuid4)()}`}makeStatusError(e,t,r,n){return y.APIError.generate(e,t,r,n)}buildURL(e,t,r){const s=!a.__classPrivateFieldGet(this,n,"m",i).call(this)&&r||this.baseURL,o=(0,l.isAbsoluteURL)(e)?new URL(e):new URL(s+(s.endsWith("/")&&e.startsWith("/")?e.slice(1):e)),c=this.defaultQuery();return(0,z.isEmptyObj)(c)||(t={...c,...t}),"object"==typeof t&&t&&!Array.isArray(t)&&(o.search=this.stringifyQuery(t)),o.toString()}async prepareOptions(e){}async prepareRequest(e,{url:t,options:r}){}get(e,t){return this.methodRequest("get",e,t)}post(e,t){return this.methodRequest("post",e,t)}patch(e,t){return this.methodRequest("patch",e,t)}put(e,t){return this.methodRequest("put",e,t)}delete(e,t){return this.methodRequest("delete",e,t)}methodRequest(e,t,r){return this.request(Promise.resolve(r).then(r=>({method:e,path:t,...r})))}request(e,t=null){return new S.APIPromise(this,this.makeRequest(e,t,void 0))}async makeRequest(e,t,r){const n=await e,s=n.maxRetries??this.maxRetries;null==t&&(t=s),await this.prepareOptions(n);const{req:o,url:i,timeout:a}=await this.buildRequest(n,{retryCount:s-t});await this.prepareRequest(o,{url:i,options:n});const c="log_"+(Math.random()*(1<<24)|0).toString(16).padStart(6,"0"),d=void 0===r?"":`, retryOf: ${r}`,p=Date.now();if((0,G.loggerFor)(this).debug(`[${c}] sending request`,(0,G.formatRequestDetails)({retryOfRequestLogID:r,method:n.method,url:i,options:n,headers:o.headers})),n.signal?.aborted)throw new y.APIUserAbortError;const f=new AbortController,m=await this.fetchWithTimeout(i,o,a,f).catch(u.castToError),g=Date.now();if(m instanceof Error){const e=`retrying, ${t} attempts remaining`;if(n.signal?.aborted)throw new y.APIUserAbortError;const s=(0,u.isAbortError)(m)||/timed? ?out/i.test(String(m)+("cause"in m?String(m.cause):""));if(t)return(0,G.loggerFor)(this).info(`[${c}] connection ${s?"timed out":"failed"} - ${e}`),(0,G.loggerFor)(this).debug(`[${c}] connection ${s?"timed out":"failed"} (${e})`,(0,G.formatRequestDetails)({retryOfRequestLogID:r,url:i,durationMs:g-p,message:m.message})),this.retryRequest(n,t,r??c);if((0,G.loggerFor)(this).info(`[${c}] connection ${s?"timed out":"failed"} - error; no more retries left`),(0,G.loggerFor)(this).debug(`[${c}] connection ${s?"timed out":"failed"} (error; no more retries left)`,(0,G.formatRequestDetails)({retryOfRequestLogID:r,url:i,durationMs:g-p,message:m.message})),s)throw new y.APIConnectionTimeoutError;throw new y.APIConnectionError({cause:m})}const b=`[${c}${d}${[...m.headers.entries()].filter(([e])=>"x-request-id"===e).map(([e,t])=>", "+e+": "+JSON.stringify(t)).join("")}] ${o.method} ${i} ${m.ok?"succeeded":"failed"} with status ${m.status} in ${g-p}ms`;if(!m.ok){const e=await this.shouldRetry(m);if(t&&e){const e=`retrying, ${t} attempts remaining`;return await h.CancelReadableStream(m.body),(0,G.loggerFor)(this).info(`${b} - ${e}`),(0,G.loggerFor)(this).debug(`[${c}] response error (${e})`,(0,G.formatRequestDetails)({retryOfRequestLogID:r,url:m.url,status:m.status,headers:m.headers,durationMs:g-p})),this.retryRequest(n,t,r??c,m.headers)}const s=e?"error; no more retries left":"error; not retryable";(0,G.loggerFor)(this).info(`${b} - ${s}`);const o=await m.text().catch(e=>(0,u.castToError)(e).message),i=(0,l.safeJSON)(o),a=i?void 0:o;(0,G.loggerFor)(this).debug(`[${c}] response error (${s})`,(0,G.formatRequestDetails)({retryOfRequestLogID:r,url:m.url,status:m.status,headers:m.headers,message:a,durationMs:Date.now()-p}));throw this.makeStatusError(m.status,i,a,m.headers)}return(0,G.loggerFor)(this).info(b),(0,G.loggerFor)(this).debug(`[${c}] response start`,(0,G.formatRequestDetails)({retryOfRequestLogID:r,url:m.url,status:m.status,headers:m.headers,durationMs:g-p})),{response:m,options:n,controller:f,requestLogID:c,retryOfRequestLogID:r,startTime:p}}getAPIList(e,t,r){return this.requestAPIList(t,{method:"get",path:e,...r})}requestAPIList(e,t){const r=this.makeRequest(t,null,void 0);return new b.PagePromise(this,r,e)}async fetchWithTimeout(e,t,r,n){const{signal:s,method:o,...i}=t||{};s&&s.addEventListener("abort",()=>n.abort());const a=setTimeout(()=>n.abort(),r),c=globalThis.ReadableStream&&i.body instanceof globalThis.ReadableStream||"object"==typeof i.body&&null!==i.body&&Symbol.asyncIterator in i.body,l={signal:n.signal,...c?{duplex:"half"}:{},method:"GET",...i};o&&(l.method=o.toUpperCase());try{return await this.fetch.call(void 0,e,l)}finally{clearTimeout(a)}}async shouldRetry(e){const t=e.headers.get("x-should-retry");return"true"===t||"false"!==t&&(408===e.status||(409===e.status||(429===e.status||e.status>=500)))}async retryRequest(e,t,r,n){let s;const o=n?.get("retry-after-ms");if(o){const e=parseFloat(o);Number.isNaN(e)||(s=e)}const i=n?.get("retry-after");if(i&&!s){const e=parseFloat(i);s=Number.isNaN(e)?Date.parse(i)-Date.now():1e3*e}if(!(s&&0<=s&&s<6e4)){const r=e.maxRetries??this.maxRetries;s=this.calculateDefaultRetryTimeoutMillis(t,r)}return await(0,d.sleep)(s),this.makeRequest(e,t-1,r)}calculateDefaultRetryTimeoutMillis(e,t){const r=t-e;return Math.min(.5*Math.pow(2,r),8)*(1-.25*Math.random())*1e3}async buildRequest(e,{retryCount:t=0}={}){const r={...e},{method:n,path:s,query:o,defaultBaseURL:i}=r,a=this.buildURL(s,o,i);"timeout"in r&&(0,l.validatePositiveInteger)("timeout",r.timeout),r.timeout=r.timeout??this.timeout;const{bodyHeaders:c,body:d}=this.buildBody({options:r});return{req:{method:n,headers:await this.buildHeaders({options:e,method:n,bodyHeaders:c,retryCount:t}),...r.signal&&{signal:r.signal},...globalThis.ReadableStream&&d instanceof globalThis.ReadableStream&&{duplex:"half"},...d&&{body:d},...this.fetchOptions??{},...r.fetchOptions??{}},url:a,timeout:r.timeout}}async buildHeaders({options:e,method:t,bodyHeaders:r,retryCount:n}){let s={};this.idempotencyHeader&&"get"!==t&&(e.idempotencyKey||(e.idempotencyKey=this.defaultIdempotencyKey()),s[this.idempotencyHeader]=e.idempotencyKey);const o=(0,B.buildHeaders)([s,{Accept:"application/json","User-Agent":this.getUserAgent(),"X-Stainless-Retry-Count":String(n),...e.timeout?{"X-Stainless-Timeout":String(Math.trunc(e.timeout/1e3))}:{},...(0,p.getPlatformHeaders)(),"OpenAI-Organization":this.organization,"OpenAI-Project":this.project},await this.authHeaders(e),this._options.defaultHeaders,r,e.headers]);return this.validateHeaders(o),o.values}buildBody({options:{body:e,headers:t}}){if(!e)return{bodyHeaders:void 0,body:void 0};const r=(0,B.buildHeaders)([t]);return ArrayBuffer.isView(e)||e instanceof ArrayBuffer||e instanceof DataView||"string"==typeof e&&r.values.has("content-type")||e instanceof Blob||e instanceof FormData||e instanceof URLSearchParams||globalThis.ReadableStream&&e instanceof globalThis.ReadableStream?{bodyHeaders:void 0,body:e}:"object"==typeof e&&(Symbol.asyncIterator in e||Symbol.iterator in e&&"next"in e&&"function"==typeof e.next)?{bodyHeaders:void 0,body:h.ReadableStreamFrom(e)}:a.__classPrivateFieldGet(this,o,"f").call(this,{body:e,headers:r})}}t.OpenAI=q,s=q,o=new WeakMap,n=new WeakSet,i=function(){return"https://api.openai.com/v1"!==this.baseURL},q.OpenAI=s,q.DEFAULT_TIMEOUT=6e5,q.OpenAIError=y.OpenAIError,q.APIError=y.APIError,q.APIConnectionError=y.APIConnectionError,q.APIConnectionTimeoutError=y.APIConnectionTimeoutError,q.APIUserAbortError=y.APIUserAbortError,q.NotFoundError=y.NotFoundError,q.ConflictError=y.ConflictError,q.RateLimitError=y.RateLimitError,q.BadRequestError=y.BadRequestError,q.AuthenticationError=y.AuthenticationError,q.InternalServerError=y.InternalServerError,q.PermissionDeniedError=y.PermissionDeniedError,q.UnprocessableEntityError=y.UnprocessableEntityError,q.InvalidWebhookSignatureError=y.InvalidWebhookSignatureError,q.toFile=v.toFile,q.Completions=E.Completions,q.Chat=D.Chat,q.Embeddings=P.Embeddings,q.Files=C.Files,q.Images=O.Images,q.Audio=R.Audio,q.Moderations=x.Moderations,q.Models=A.Models,q.FineTuning=k.FineTuning,q.Graders=M.Graders,q.VectorStores=$.VectorStores,q.Webhooks=I.Webhooks,q.Beta=T.Beta,q.Batches=w.Batches,q.Uploads=F.Uploads,q.Responses=L.Responses,q.Evals=j.Evals,q.Containers=N.Containers},1999:(e,t,r)=>{"use strict";var n;Object.defineProperty(t,"__esModule",{value:!0}),t.APIPromise=void 0;const s=r(2345),o=r(3426);class i extends Promise{constructor(e,t,r=o.defaultParseResponse){super(e=>{e(null)}),this.responsePromise=t,this.parseResponse=r,n.set(this,void 0),s.__classPrivateFieldSet(this,n,e,"f")}_thenUnwrap(e){return new i(s.__classPrivateFieldGet(this,n,"f"),this.responsePromise,async(t,r)=>(0,o.addRequestID)(e(await this.parseResponse(t,r),r),r.response))}asResponse(){return this.responsePromise.then(e=>e.response)}async withResponse(){const[e,t]=await Promise.all([this.parse(),this.asResponse()]);return{data:e,response:t,request_id:t.headers.get("x-request-id")}}parse(){return this.parsedPromise||(this.parsedPromise=this.responsePromise.then(e=>this.parseResponse(s.__classPrivateFieldGet(this,n,"f"),e))),this.parsedPromise}then(e,t){return this.parse().then(e,t)}catch(e){return this.parse().catch(e)}finally(e){return this.parse().finally(e)}}t.APIPromise=i,n=new WeakMap},5093:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.InvalidWebhookSignatureError=t.ContentFilterFinishReasonError=t.LengthFinishReasonError=t.InternalServerError=t.RateLimitError=t.UnprocessableEntityError=t.ConflictError=t.NotFoundError=t.PermissionDeniedError=t.AuthenticationError=t.BadRequestError=t.APIConnectionTimeoutError=t.APIConnectionError=t.APIUserAbortError=t.APIError=t.OpenAIError=void 0;const n=r(7698);class s extends Error{}t.OpenAIError=s;class o extends s{constructor(e,t,r,n){super(`${o.makeMessage(e,t,r)}`),this.status=e,this.headers=n,this.requestID=n?.get("x-request-id"),this.error=t;const s=t;this.code=s?.code,this.param=s?.param,this.type=s?.type}static makeMessage(e,t,r){const n=t?.message?"string"==typeof t.message?t.message:JSON.stringify(t.message):t?JSON.stringify(t):r;return e&&n?`${e} ${n}`:e?`${e} status code (no body)`:n||"(no status code or body)"}static generate(e,t,r,s){if(!e||!s)return new i({message:r,cause:(0,n.castToError)(t)});const m=t?.error;return 400===e?new a(e,m,r,s):401===e?new c(e,m,r,s):403===e?new l(e,m,r,s):404===e?new d(e,m,r,s):409===e?new u(e,m,r,s):422===e?new p(e,m,r,s):429===e?new h(e,m,r,s):e>=500?new f(e,m,r,s):new o(e,m,r,s)}}t.APIError=o;t.APIUserAbortError=class extends o{constructor({message:e}={}){super(void 0,void 0,e||"Request was aborted.",void 0)}};class i extends o{constructor({message:e,cause:t}){super(void 0,void 0,e||"Connection error.",void 0),t&&(this.cause=t)}}t.APIConnectionError=i;t.APIConnectionTimeoutError=class extends i{constructor({message:e}={}){super({message:e??"Request timed out."})}};class a extends o{}t.BadRequestError=a;class c extends o{}t.AuthenticationError=c;class l extends o{}t.PermissionDeniedError=l;class d extends o{}t.NotFoundError=d;class u extends o{}t.ConflictError=u;class p extends o{}t.UnprocessableEntityError=p;class h extends o{}t.RateLimitError=h;class f extends o{}t.InternalServerError=f;t.LengthFinishReasonError=class extends s{constructor(){super("Could not parse response content as the length limit was reached")}};t.ContentFilterFinishReasonError=class extends s{constructor(){super("Could not parse response content as the request was rejected by the content filter")}};class m extends Error{constructor(e){super(e)}}t.InvalidWebhookSignatureError=m},2155:(e,t,r)=>{"use strict";var n;Object.defineProperty(t,"__esModule",{value:!0}),t.CursorPage=t.Page=t.PagePromise=t.AbstractPage=void 0;const s=r(2345),o=r(5093),i=r(3426),a=r(1999),c=r(7325);class l{constructor(e,t,r,o){n.set(this,void 0),s.__classPrivateFieldSet(this,n,e,"f"),this.options=o,this.response=t,this.body=r}hasNextPage(){return!!this.getPaginatedItems().length&&null!=this.nextPageRequestOptions()}async getNextPage(){const e=this.nextPageRequestOptions();if(!e)throw new o.OpenAIError("No next page expected; please check `.hasNextPage()` before calling `.getNextPage()`.");return await s.__classPrivateFieldGet(this,n,"f").requestAPIList(this.constructor,e)}async*iterPages(){let e=this;for(yield e;e.hasNextPage();)e=await e.getNextPage(),yield e}async*[(n=new WeakMap,Symbol.asyncIterator)](){for await(const e of this.iterPages())for(const t of e.getPaginatedItems())yield t}}t.AbstractPage=l;class d extends a.APIPromise{constructor(e,t,r){super(e,t,async(e,t)=>new r(e,t.response,await(0,i.defaultParseResponse)(e,t),t.options))}async*[Symbol.asyncIterator](){const e=await(this);for await(const t of e)yield t}}t.PagePromise=d;t.Page=class extends l{constructor(e,t,r,n){super(e,t,r,n),this.data=r.data||[],this.object=r.object}getPaginatedItems(){return this.data??[]}nextPageRequestOptions(){return null}};t.CursorPage=class extends l{constructor(e,t,r,n){super(e,t,r,n),this.data=r.data||[],this.has_more=r.has_more||!1}getPaginatedItems(){return this.data??[]}hasNextPage(){return!1!==this.has_more&&super.hasNextPage()}nextPageRequestOptions(){const e=this.getPaginatedItems(),t=e[e.length-1]?.id;return t?{...this.options,query:{...(0,c.maybeObj)(this.options.query),after:t}}:null}}},9487:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.APIResource=void 0;t.APIResource=class{constructor(e){this._client=e}}},7787:(e,t,r)=>{"use strict";var n;Object.defineProperty(t,"__esModule",{value:!0}),t.Stream=void 0,t._iterSSEMessages=f;const s=r(2345),o=r(5093),i=r(7831),a=r(717),c=r(7831),l=r(7698),d=r(9948),u=r(6273),p=r(5093);class h{constructor(e,t,r){this.iterator=e,n.set(this,void 0),this.controller=t,s.__classPrivateFieldSet(this,n,r,"f")}static fromSSEResponse(e,t,r){let n=!1;const s=r?(0,u.loggerFor)(r):console;return new h(async function*(){if(n)throw new o.OpenAIError("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");n=!0;let r=!1;try{for await(const n of f(e,t))if(!r)if(n.data.startsWith("[DONE]"))r=!0;else if(null!==n.event&&n.event.startsWith("thread.")){let e;try{e=JSON.parse(n.data)}catch(e){throw console.error("Could not parse message into JSON:",n.data),console.error("From chunk:",n.raw),e}if("error"==n.event)throw new p.APIError(void 0,e.error,e.message,void 0);yield{event:n.event,data:e}}else{let t;try{t=JSON.parse(n.data)}catch(e){throw s.error("Could not parse message into JSON:",n.data),s.error("From chunk:",n.raw),e}if(t&&t.error)throw new p.APIError(void 0,t.error,void 0,e.headers);yield t}r=!0}catch(e){if((0,l.isAbortError)(e))return;throw e}finally{r||t.abort()}},t,r)}static fromReadableStream(e,t,r){let n=!1;return new h(async function*(){if(n)throw new o.OpenAIError("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");n=!0;let r=!1;try{for await(const t of async function*(){const t=new a.LineDecoder,r=(0,c.ReadableStreamToAsyncIterable)(e);for await(const e of r)for(const r of t.decode(e))yield r;for(const e of t.flush())yield e}())r||t&&(yield JSON.parse(t));r=!0}catch(e){if((0,l.isAbortError)(e))return;throw e}finally{r||t.abort()}},t,r)}[(n=new WeakMap,Symbol.asyncIterator)](){return this.iterator()}tee(){const e=[],t=[],r=this.iterator(),o=n=>({next:()=>{if(0===n.length){const n=r.next();e.push(n),t.push(n)}return n.shift()}});return[new h(()=>o(e),this.controller,s.__classPrivateFieldGet(this,n,"f")),new h(()=>o(t),this.controller,s.__classPrivateFieldGet(this,n,"f"))]}toReadableStream(){const e=this;let t;return(0,i.makeReadableStream)({async start(){t=e[Symbol.asyncIterator]()},async pull(e){try{const{value:r,done:n}=await t.next();if(n)return e.close();const s=(0,d.encodeUTF8)(JSON.stringify(r)+"\n");e.enqueue(s)}catch(t){e.error(t)}},async cancel(){await(t.return?.())}})}}async function*f(e,t){if(!e.body){if(t.abort(),void 0!==globalThis.navigator&&"ReactNative"===globalThis.navigator.product)throw new o.OpenAIError("The default react-native fetch implementation does not support streaming. Please use expo/fetch: https://docs.expo.dev/versions/latest/sdk/expo/#expofetch-api");throw new o.OpenAIError("Attempted to iterate over a response with no body")}const r=new m,n=new a.LineDecoder,s=(0,c.ReadableStreamToAsyncIterable)(e.body);for await(const e of async function*(e){let t=new Uint8Array;for await(const r of e){if(null==r)continue;const e=r instanceof ArrayBuffer?new Uint8Array(r):"string"==typeof r?(0,d.encodeUTF8)(r):r;let n,s=new Uint8Array(t.length+e.length);for(s.set(t),s.set(e,t.length),t=s;-1!==(n=(0,a.findDoubleNewlineIndex)(t));)yield t.slice(0,n),t=t.slice(n)}t.length>0&&(yield t)}(s))for(const t of n.decode(e)){const e=r.decode(t);e&&(yield e)}for(const e of n.flush()){const t=r.decode(e);t&&(yield t)}}t.Stream=h;class m{constructor(){this.event=null,this.data=[],this.chunks=[]}decode(e){if(e.endsWith("\r")&&(e=e.substring(0,e.length-1)),!e){if(!this.event&&!this.data.length)return null;const e={event:this.event,data:this.data.join("\n"),raw:this.chunks};return this.event=null,this.data=[],this.chunks=[],e}if(this.chunks.push(e),e.startsWith(":"))return null;let[t,r,n]=function(e,t){const r=e.indexOf(t);if(-1!==r)return[e.substring(0,r),t,e.substring(r+t.length)];return[e,"",""]}(e,":");return n.startsWith(" ")&&(n=n.substring(1)),"event"===t?this.event=n:"data"===t&&this.data.push(n),null}}},7013:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.toFile=void 0;var n=r(7219);Object.defineProperty(t,"toFile",{enumerable:!0,get:function(){return n.toFile}})},3269:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});r(2345).__exportStar(r(5093),t)},2583:(e,t,r)=>{"use strict";t=e.exports=function(...e){return new t.default(...e)},Object.defineProperty(t,"__esModule",{value:!0}),t.AzureOpenAI=t.InvalidWebhookSignatureError=t.UnprocessableEntityError=t.PermissionDeniedError=t.InternalServerError=t.AuthenticationError=t.BadRequestError=t.RateLimitError=t.ConflictError=t.NotFoundError=t.APIUserAbortError=t.APIConnectionTimeoutError=t.APIConnectionError=t.APIError=t.OpenAIError=t.PagePromise=t.OpenAI=t.APIPromise=t.toFile=t.default=void 0;var n=r(9664);Object.defineProperty(t,"default",{enumerable:!0,get:function(){return n.OpenAI}});var s=r(7013);Object.defineProperty(t,"toFile",{enumerable:!0,get:function(){return s.toFile}});var o=r(1999);Object.defineProperty(t,"APIPromise",{enumerable:!0,get:function(){return o.APIPromise}});var i=r(9664);Object.defineProperty(t,"OpenAI",{enumerable:!0,get:function(){return i.OpenAI}});var a=r(2155);Object.defineProperty(t,"PagePromise",{enumerable:!0,get:function(){return a.PagePromise}});var c=r(5093);Object.defineProperty(t,"OpenAIError",{enumerable:!0,get:function(){return c.OpenAIError}}),Object.defineProperty(t,"APIError",{enumerable:!0,get:function(){return c.APIError}}),Object.defineProperty(t,"APIConnectionError",{enumerable:!0,get:function(){return c.APIConnectionError}}),Object.defineProperty(t,"APIConnectionTimeoutError",{enumerable:!0,get:function(){return c.APIConnectionTimeoutError}}),Object.defineProperty(t,"APIUserAbortError",{enumerable:!0,get:function(){return c.APIUserAbortError}}),Object.defineProperty(t,"NotFoundError",{enumerable:!0,get:function(){return c.NotFoundError}}),Object.defineProperty(t,"ConflictError",{enumerable:!0,get:function(){return c.ConflictError}}),Object.defineProperty(t,"RateLimitError",{enumerable:!0,get:function(){return c.RateLimitError}}),Object.defineProperty(t,"BadRequestError",{enumerable:!0,get:function(){return c.BadRequestError}}),Object.defineProperty(t,"AuthenticationError",{enumerable:!0,get:function(){return c.AuthenticationError}}),Object.defineProperty(t,"InternalServerError",{enumerable:!0,get:function(){return c.InternalServerError}}),Object.defineProperty(t,"PermissionDeniedError",{enumerable:!0,get:function(){return c.PermissionDeniedError}}),Object.defineProperty(t,"UnprocessableEntityError",{enumerable:!0,get:function(){return c.UnprocessableEntityError}}),Object.defineProperty(t,"InvalidWebhookSignatureError",{enumerable:!0,get:function(){return c.InvalidWebhookSignatureError}});var l=r(8952);Object.defineProperty(t,"AzureOpenAI",{enumerable:!0,get:function(){return l.AzureOpenAI}})},717:(e,t,r)=>{"use strict";var n,s;Object.defineProperty(t,"__esModule",{value:!0}),t.LineDecoder=void 0,t.findDoubleNewlineIndex=function(e){for(let t=0;t<e.length-1;t++){if(10===e[t]&&10===e[t+1])return t+2;if(13===e[t]&&13===e[t+1])return t+2;if(13===e[t]&&10===e[t+1]&&t+3<e.length&&13===e[t+2]&&10===e[t+3])return t+4}return-1};const o=r(2345),i=r(9948);class a{constructor(){n.set(this,void 0),s.set(this,void 0),o.__classPrivateFieldSet(this,n,new Uint8Array,"f"),o.__classPrivateFieldSet(this,s,null,"f")}decode(e){if(null==e)return[];const t=e instanceof ArrayBuffer?new Uint8Array(e):"string"==typeof e?(0,i.encodeUTF8)(e):e;o.__classPrivateFieldSet(this,n,(0,i.concatBytes)([o.__classPrivateFieldGet(this,n,"f"),t]),"f");const r=[];let a;for(;null!=(a=c(o.__classPrivateFieldGet(this,n,"f"),o.__classPrivateFieldGet(this,s,"f")));){if(a.carriage&&null==o.__classPrivateFieldGet(this,s,"f")){o.__classPrivateFieldSet(this,s,a.index,"f");continue}if(null!=o.__classPrivateFieldGet(this,s,"f")&&(a.index!==o.__classPrivateFieldGet(this,s,"f")+1||a.carriage)){r.push((0,i.decodeUTF8)(o.__classPrivateFieldGet(this,n,"f").subarray(0,o.__classPrivateFieldGet(this,s,"f")-1))),o.__classPrivateFieldSet(this,n,o.__classPrivateFieldGet(this,n,"f").subarray(o.__classPrivateFieldGet(this,s,"f")),"f"),o.__classPrivateFieldSet(this,s,null,"f");continue}const e=null!==o.__classPrivateFieldGet(this,s,"f")?a.preceding-1:a.preceding,t=(0,i.decodeUTF8)(o.__classPrivateFieldGet(this,n,"f").subarray(0,e));r.push(t),o.__classPrivateFieldSet(this,n,o.__classPrivateFieldGet(this,n,"f").subarray(a.index),"f"),o.__classPrivateFieldSet(this,s,null,"f")}return r}flush(){return o.__classPrivateFieldGet(this,n,"f").length?this.decode("\n"):[]}}function c(e,t){for(let r=t??0;r<e.length;r++){if(10===e[r])return{preceding:r,index:r+1,carriage:!1};if(13===e[r])return{preceding:r,index:r+1,carriage:!0}}return null}t.LineDecoder=a,n=new WeakMap,s=new WeakMap,a.NEWLINE_CHARS=new Set(["\n","\r"]),a.NEWLINE_REGEXP=/\r\n|[\n\r]/g},8132:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getPlatformHeaders=t.isRunningInBrowser=void 0;const n=r(3287);t.isRunningInBrowser=()=>"undefined"!=typeof window&&void 0!==window.document&&"undefined"!=typeof navigator;const s=()=>{const e="undefined"!=typeof Deno&&null!=Deno.build?"deno":"undefined"!=typeof EdgeRuntime?"edge":"[object process]"===Object.prototype.toString.call(void 0!==globalThis.process?globalThis.process:0)?"node":"unknown";if("deno"===e)return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":n.VERSION,"X-Stainless-OS":i(Deno.build.os),"X-Stainless-Arch":o(Deno.build.arch),"X-Stainless-Runtime":"deno","X-Stainless-Runtime-Version":"string"==typeof Deno.version?Deno.version:Deno.version?.deno??"unknown"};if("undefined"!=typeof EdgeRuntime)return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":n.VERSION,"X-Stainless-OS":"Unknown","X-Stainless-Arch":`other:${EdgeRuntime}`,"X-Stainless-Runtime":"edge","X-Stainless-Runtime-Version":globalThis.process.version};if("node"===e)return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":n.VERSION,"X-Stainless-OS":i(globalThis.process.platform??"unknown"),"X-Stainless-Arch":o(globalThis.process.arch??"unknown"),"X-Stainless-Runtime":"node","X-Stainless-Runtime-Version":globalThis.process.version??"unknown"};const t=function(){if("undefined"==typeof navigator||!navigator)return null;const e=[{key:"edge",pattern:/Edge(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/MSIE(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/Trident(?:.*rv\:(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"chrome",pattern:/Chrome(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"firefox",pattern:/Firefox(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"safari",pattern:/(?:Version\W+(\d+)\.(\d+)(?:\.(\d+))?)?(?:\W+Mobile\S*)?\W+Safari/}];for(const{key:t,pattern:r}of e){const e=r.exec(navigator.userAgent);if(e){return{browser:t,version:`${e[1]||0}.${e[2]||0}.${e[3]||0}`}}}return null}();return t?{"X-Stainless-Lang":"js","X-Stainless-Package-Version":n.VERSION,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":`browser:${t.browser}`,"X-Stainless-Runtime-Version":t.version}:{"X-Stainless-Lang":"js","X-Stainless-Package-Version":n.VERSION,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":"unknown","X-Stainless-Runtime-Version":"unknown"}};const o=e=>"x32"===e?"x32":"x86_64"===e||"x64"===e?"x64":"arm"===e?"arm":"aarch64"===e||"arm64"===e?"arm64":e?`other:${e}`:"unknown",i=e=>(e=e.toLowerCase()).includes("ios")?"iOS":"android"===e?"Android":"darwin"===e?"MacOS":"win32"===e?"Windows":"freebsd"===e?"FreeBSD":"openbsd"===e?"OpenBSD":"linux"===e?"Linux":e?`Other:${e}`:"Unknown";let a;t.getPlatformHeaders=()=>a??(a=s())},7698:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.castToError=void 0,t.isAbortError=function(e){return"object"==typeof e&&null!==e&&("name"in e&&"AbortError"===e.name||"message"in e&&String(e.message).includes("FetchRequestCanceledException"))};t.castToError=e=>{if(e instanceof Error)return e;if("object"==typeof e&&null!==e){try{if("[object Error]"===Object.prototype.toString.call(e)){const t=new Error(e.message,e.cause?{cause:e.cause}:{});return e.stack&&(t.stack=e.stack),e.cause&&!t.cause&&(t.cause=e.cause),e.name&&(t.name=e.name),t}}catch{}try{return new Error(JSON.stringify(e))}catch{}}return new Error(e)}},9267:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isEmptyHeaders=t.buildHeaders=void 0;const n=r(7325),s=Symbol("brand.privateNullableHeaders");function*o(e){if(!e)return;if(s in e){const{values:t,nulls:r}=e;yield*t.entries();for(const e of r)yield[e,null];return}let t,r=!1;e instanceof Headers?t=e.entries():(0,n.isReadonlyArray)(e)?t=e:(r=!0,t=Object.entries(e??{}));for(let e of t){const t=e[0];if("string"!=typeof t)throw new TypeError("expected header name to be a string");const s=(0,n.isReadonlyArray)(e[1])?e[1]:[e[1]];let o=!1;for(const e of s)void 0!==e&&(r&&!o&&(o=!0,yield[t,null]),yield[t,e])}}t.buildHeaders=e=>{const t=new Headers,r=new Set;for(const n of e){const e=new Set;for(const[s,i]of o(n)){const n=s.toLowerCase();e.has(n)||(t.delete(s),e.add(n)),null===i?(t.delete(s),r.add(n)):(t.append(s,i),r.delete(n))}}return{[s]:!0,values:t,nulls:r}};t.isEmptyHeaders=e=>{for(const t of o(e))return!1;return!0}},3426:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.defaultParseResponse=async function(e,t){const{response:r,requestLogID:i,retryOfRequestLogID:a,startTime:c}=t,l=await(async()=>{if(t.options.stream)return(0,s.loggerFor)(e).debug("response",r.status,r.url,r.headers,r.body),t.options.__streamClass?t.options.__streamClass.fromSSEResponse(r,t.controller,e):n.Stream.fromSSEResponse(r,t.controller,e);if(204===r.status)return null;if(t.options.__binaryResponse)return r;const i=r.headers.get("content-type"),a=i?.split(";")[0]?.trim();if(a?.includes("application/json")||a?.endsWith("+json")){return o(await r.json(),r)}return await r.text()})();return(0,s.loggerFor)(e).debug(`[${i}] response parsed`,(0,s.formatRequestDetails)({retryOfRequestLogID:a,url:r.url,status:r.status,body:l,durationMs:Date.now()-c})),l},t.addRequestID=o;const n=r(7787),s=r(6273);function o(e,t){return!e||"object"!=typeof e||Array.isArray(e)?e:Object.defineProperty(e,"_request_id",{value:t.headers.get("x-request-id"),enumerable:!1})}},6250:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.RFC3986=t.RFC1738=t.formatters=t.default_formatter=t.default_format=void 0,t.default_format="RFC3986";t.default_formatter=e=>String(e),t.formatters={RFC1738:e=>String(e).replace(/%20/g,"+"),RFC3986:t.default_formatter},t.RFC1738="RFC1738",t.RFC3986="RFC3986"},9198:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.formats=t.stringify=void 0;const n=r(6250),s={formatters:n.formatters,RFC1738:n.RFC1738,RFC3986:n.RFC3986,default:n.default_format};t.formats=s;var o=r(1123);Object.defineProperty(t,"stringify",{enumerable:!0,get:function(){return o.stringify}})},1123:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.stringify=function(e,t={}){let r=e;const c=function(e=l){if(void 0!==e.allowEmptyArrays&&"boolean"!=typeof e.allowEmptyArrays)throw new TypeError("`allowEmptyArrays` option can only be `true` or `false`, when provided");if(void 0!==e.encodeDotInKeys&&"boolean"!=typeof e.encodeDotInKeys)throw new TypeError("`encodeDotInKeys` option can only be `true` or `false`, when provided");if(null!==e.encoder&&void 0!==e.encoder&&"function"!=typeof e.encoder)throw new TypeError("Encoder has to be a function.");const t=e.charset||l.charset;if(void 0!==e.charset&&"utf-8"!==e.charset&&"iso-8859-1"!==e.charset)throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");let r=s.default_format;if(void 0!==e.format){if(!(0,n.has)(s.formatters,e.format))throw new TypeError("Unknown format option provided.");r=e.format}const a=s.formatters[r];let c,d=l.filter;("function"==typeof e.filter||(0,o.isArray)(e.filter))&&(d=e.filter);c=e.arrayFormat&&e.arrayFormat in i?e.arrayFormat:"indices"in e?e.indices?"indices":"repeat":l.arrayFormat;if("commaRoundTrip"in e&&"boolean"!=typeof e.commaRoundTrip)throw new TypeError("`commaRoundTrip` must be a boolean, or absent");const u=void 0===e.allowDots?!0==!!e.encodeDotInKeys||l.allowDots:!!e.allowDots;return{addQueryPrefix:"boolean"==typeof e.addQueryPrefix?e.addQueryPrefix:l.addQueryPrefix,allowDots:u,allowEmptyArrays:"boolean"==typeof e.allowEmptyArrays?!!e.allowEmptyArrays:l.allowEmptyArrays,arrayFormat:c,charset:t,charsetSentinel:"boolean"==typeof e.charsetSentinel?e.charsetSentinel:l.charsetSentinel,commaRoundTrip:!!e.commaRoundTrip,delimiter:void 0===e.delimiter?l.delimiter:e.delimiter,encode:"boolean"==typeof e.encode?e.encode:l.encode,encodeDotInKeys:"boolean"==typeof e.encodeDotInKeys?e.encodeDotInKeys:l.encodeDotInKeys,encoder:"function"==typeof e.encoder?e.encoder:l.encoder,encodeValuesOnly:"boolean"==typeof e.encodeValuesOnly?e.encodeValuesOnly:l.encodeValuesOnly,filter:d,format:r,formatter:a,serializeDate:"function"==typeof e.serializeDate?e.serializeDate:l.serializeDate,skipNulls:"boolean"==typeof e.skipNulls?e.skipNulls:l.skipNulls,sort:"function"==typeof e.sort?e.sort:null,strictNullHandling:"boolean"==typeof e.strictNullHandling?e.strictNullHandling:l.strictNullHandling}}(t);let d,p;"function"==typeof c.filter?(p=c.filter,r=p("",r)):(0,o.isArray)(c.filter)&&(p=c.filter,d=p);const h=[];if("object"!=typeof r||null===r)return"";const f=i[c.arrayFormat],m="comma"===f&&c.commaRoundTrip;d||(d=Object.keys(r));c.sort&&d.sort(c.sort);const g=new WeakMap;for(let e=0;e<d.length;++e){const t=d[e];c.skipNulls&&null===r[t]||a(h,u(r[t],t,f,m,c.allowEmptyArrays,c.strictNullHandling,c.skipNulls,c.encodeDotInKeys,c.encode?c.encoder:null,c.filter,c.sort,c.allowDots,c.serializeDate,c.format,c.formatter,c.encodeValuesOnly,c.charset,g))}const y=h.join(c.delimiter);let b=!0===c.addQueryPrefix?"?":"";c.charsetSentinel&&("iso-8859-1"===c.charset?b+="utf8=%26%2310003%3B&":b+="utf8=%E2%9C%93&");return y.length>0?b+y:""};const n=r(2847),s=r(6250),o=r(7325),i={brackets:e=>String(e)+"[]",comma:"comma",indices:(e,t)=>String(e)+"["+t+"]",repeat:e=>String(e)},a=function(e,t){Array.prototype.push.apply(e,(0,o.isArray)(t)?t:[t])};let c;const l={addQueryPrefix:!1,allowDots:!1,allowEmptyArrays:!1,arrayFormat:"indices",charset:"utf-8",charsetSentinel:!1,delimiter:"&",encode:!0,encodeDotInKeys:!1,encoder:n.encode,encodeValuesOnly:!1,format:s.default_format,formatter:s.default_formatter,indices:!1,serializeDate:e=>(c??(c=Function.prototype.call.bind(Date.prototype.toISOString)))(e),skipNulls:!1,strictNullHandling:!1};const d={};function u(e,t,r,s,i,c,p,h,f,m,g,y,b,v,_,S,w,E){let P=e,C=E,O=0,A=!1;for(;void 0!==(C=C.get(d))&&!A;){const t=C.get(e);if(O+=1,void 0!==t){if(t===O)throw new RangeError("Cyclic object value");A=!0}void 0===C.get(d)&&(O=0)}if("function"==typeof m?P=m(t,P):P instanceof Date?P=b?.(P):"comma"===r&&(0,o.isArray)(P)&&(P=(0,n.maybe_map)(P,function(e){return e instanceof Date?b?.(e):e})),null===P){if(c)return f&&!S?f(t,l.encoder,w,"key",v):t;P=""}if("string"==typeof(x=P)||"number"==typeof x||"boolean"==typeof x||"symbol"==typeof x||"bigint"==typeof x||(0,n.is_buffer)(P)){if(f){const e=S?t:f(t,l.encoder,w,"key",v);return[_?.(e)+"="+_?.(f(P,l.encoder,w,"value",v))]}return[_?.(t)+"="+_?.(String(P))]}var x;const I=[];if(void 0===P)return I;let R;if("comma"===r&&(0,o.isArray)(P))S&&f&&(P=(0,n.maybe_map)(P,f)),R=[{value:P.length>0?P.join(",")||null:void 0}];else if((0,o.isArray)(m))R=m;else{const e=Object.keys(P);R=g?e.sort(g):e}const T=h?String(t).replace(/\./g,"%2E"):String(t),D=s&&(0,o.isArray)(P)&&1===P.length?T+"[]":T;if(i&&(0,o.isArray)(P)&&0===P.length)return D+"[]";for(let t=0;t<R.length;++t){const n=R[t],l="object"==typeof n&&void 0!==n.value?n.value:P[n];if(p&&null===l)continue;const C=y&&h?n.replace(/\./g,"%2E"):n,A=(0,o.isArray)(P)?"function"==typeof r?r(D,C):D:D+(y?"."+C:"["+C+"]");E.set(e,O);const x=new WeakMap;x.set(d,E),a(I,u(l,A,r,s,i,c,p,h,"comma"===r&&S&&(0,o.isArray)(P)?null:f,m,g,y,b,v,_,S,w,x))}return I}},2847:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.encode=t.has=void 0,t.merge=function e(r,n,o={}){if(!n)return r;if("object"!=typeof n){if((0,s.isArray)(r))r.push(n);else{if(!r||"object"!=typeof r)return[r,n];(o&&(o.plainObjects||o.allowPrototypes)||!(0,t.has)(Object.prototype,n))&&(r[n]=!0)}return r}if(!r||"object"!=typeof r)return[r].concat(n);let i=r;(0,s.isArray)(r)&&!(0,s.isArray)(n)&&(i=function(e,t){const r=t&&t.plainObjects?Object.create(null):{};for(let t=0;t<e.length;++t)void 0!==e[t]&&(r[t]=e[t]);return r}(r,o));if((0,s.isArray)(r)&&(0,s.isArray)(n))return n.forEach(function(n,s){if((0,t.has)(r,s)){const t=r[s];t&&"object"==typeof t&&n&&"object"==typeof n?r[s]=e(t,n,o):r.push(n)}else r[s]=n}),r;return Object.keys(n).reduce(function(r,s){const i=n[s];return(0,t.has)(r,s)?r[s]=e(r[s],i,o):r[s]=i,r},i)},t.assign_single_source=function(e,t){return Object.keys(t).reduce(function(e,r){return e[r]=t[r],e},e)},t.decode=function(e,t,r){const n=e.replace(/\+/g," ");if("iso-8859-1"===r)return n.replace(/%[0-9a-f]{2}/gi,unescape);try{return decodeURIComponent(n)}catch(e){return n}},t.compact=function(e){const t=[{obj:{o:e},prop:"o"}],r=[];for(let e=0;e<t.length;++e){const n=t[e],s=n.obj[n.prop],o=Object.keys(s);for(let e=0;e<o.length;++e){const n=o[e],i=s[n];"object"==typeof i&&null!==i&&-1===r.indexOf(i)&&(t.push({obj:s,prop:n}),r.push(i))}}return function(e){for(;e.length>1;){const t=e.pop();if(!t)continue;const r=t.obj[t.prop];if((0,s.isArray)(r)){const e=[];for(let t=0;t<r.length;++t)void 0!==r[t]&&e.push(r[t]);t.obj[t.prop]=e}}}(t),e},t.is_regexp=function(e){return"[object RegExp]"===Object.prototype.toString.call(e)},t.is_buffer=function(e){if(!e||"object"!=typeof e)return!1;return!!(e.constructor&&e.constructor.isBuffer&&e.constructor.isBuffer(e))},t.combine=function(e,t){return[].concat(e,t)},t.maybe_map=function(e,t){if((0,s.isArray)(e)){const r=[];for(let n=0;n<e.length;n+=1)r.push(t(e[n]));return r}return t(e)};const n=r(6250),s=r(7325);t.has=(e,r)=>(t.has=Object.hasOwn??Function.prototype.call.bind(Object.prototype.hasOwnProperty),(0,t.has)(e,r));const o=(()=>{const e=[];for(let t=0;t<256;++t)e.push("%"+((t<16?"0":"")+t.toString(16)).toUpperCase());return e})();const i=1024;t.encode=(e,t,r,s,a)=>{if(0===e.length)return e;let c=e;if("symbol"==typeof e?c=Symbol.prototype.toString.call(e):"string"!=typeof e&&(c=String(e)),"iso-8859-1"===r)return escape(c).replace(/%u[0-9a-f]{4}/gi,function(e){return"%26%23"+parseInt(e.slice(2),16)+"%3B"});let l="";for(let e=0;e<c.length;e+=i){const t=c.length>=i?c.slice(e,e+i):c,r=[];for(let e=0;e<t.length;++e){let s=t.charCodeAt(e);45===s||46===s||95===s||126===s||s>=48&&s<=57||s>=65&&s<=90||s>=97&&s<=122||a===n.RFC1738&&(40===s||41===s)?r[r.length]=t.charAt(e):s<128?r[r.length]=o[s]:s<2048?r[r.length]=o[192|s>>6]+o[128|63&s]:s<55296||s>=57344?r[r.length]=o[224|s>>12]+o[128|s>>6&63]+o[128|63&s]:(e+=1,s=65536+((1023&s)<<10|1023&t.charCodeAt(e)),r[r.length]=o[240|s>>18]+o[128|s>>12&63]+o[128|s>>6&63]+o[128|63&s])}l+=r.join("")}return l}},3347:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.FallbackEncoder=void 0;t.FallbackEncoder=({headers:e,body:t})=>({bodyHeaders:{"content-type":"application/json"},body:JSON.stringify(t)})},7831:(e,t)=>{"use strict";function r(...e){const t=globalThis.ReadableStream;if(void 0===t)throw new Error("`ReadableStream` is not defined as a global; You will need to polyfill it, `globalThis.ReadableStream = ReadableStream`");return new t(...e)}Object.defineProperty(t,"__esModule",{value:!0}),t.getDefaultFetch=function(){if("undefined"!=typeof fetch)return fetch;throw new Error("`fetch` is not defined as a global; Either pass `fetch` to the client, `new OpenAI({ fetch })` or polyfill the global, `globalThis.fetch = fetch`")},t.makeReadableStream=r,t.ReadableStreamFrom=function(e){let t=Symbol.asyncIterator in e?e[Symbol.asyncIterator]():e[Symbol.iterator]();return r({start(){},async pull(e){const{done:r,value:n}=await t.next();r?e.close():e.enqueue(n)},async cancel(){await(t.return?.())}})},t.ReadableStreamToAsyncIterable=function(e){if(e[Symbol.asyncIterator])return e;const t=e.getReader();return{async next(){try{const e=await t.read();return e?.done&&t.releaseLock(),e}catch(e){throw t.releaseLock(),e}},async return(){const e=t.cancel();return t.releaseLock(),await e,{done:!0,value:void 0}},[Symbol.asyncIterator](){return this}}},t.CancelReadableStream=async function(e){if(null===e||"object"!=typeof e)return;if(e[Symbol.asyncIterator])return void await(e[Symbol.asyncIterator]().return?.());const t=e.getReader(),r=t.cancel();t.releaseLock(),await r}},7219:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.toFile=async function(e,t,r){if((0,s.checkFileSupport)(),e=await e,i(e))return e instanceof File?e:(0,n.makeFile)([await e.arrayBuffer()],e.name);if(a(e)){const s=await e.blob();return t||(t=new URL(e.url).pathname.split(/[\\/]/).pop()),(0,n.makeFile)(await c(s),t,r)}const o=await c(e);if(t||(t=(0,n.getName)(e)),!r?.type){const e=o.find(e=>"object"==typeof e&&"type"in e&&e.type);"string"==typeof e&&(r={...r,type:e})}return(0,n.makeFile)(o,t,r)};const n=r(5887),s=r(5887),o=e=>null!=e&&"object"==typeof e&&"number"==typeof e.size&&"string"==typeof e.type&&"function"==typeof e.text&&"function"==typeof e.slice&&"function"==typeof e.arrayBuffer,i=e=>null!=e&&"object"==typeof e&&"string"==typeof e.name&&"number"==typeof e.lastModified&&o(e),a=e=>null!=e&&"object"==typeof e&&"string"==typeof e.url&&"function"==typeof e.blob;async function c(e){let t=[];if("string"==typeof e||ArrayBuffer.isView(e)||e instanceof ArrayBuffer)t.push(e);else if(o(e))t.push(e instanceof Blob?e:await e.arrayBuffer());else{if(!(0,n.isAsyncIterable)(e)){const t=e?.constructor?.name;throw new Error(`Unexpected data type: ${typeof e}${t?`; constructor: ${t}`:""}${function(e){if("object"!=typeof e||null===e)return"";const t=Object.getOwnPropertyNames(e);return`; props: [${t.map(e=>`"${e}"`).join(", ")}]`}(e)}`)}for await(const r of e)t.push(...await c(r))}return t}},2345:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.__setModuleDefault=t.__createBinding=void 0,t.__classPrivateFieldSet=function(e,t,r,n,s){if("m"===n)throw new TypeError("Private method is not writable");if("a"===n&&!s)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===n?s.call(e,r):s?s.value=r:t.set(e,r),r},t.__classPrivateFieldGet=function(e,t,r,n){if("a"===r&&!n)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?n:"a"===r?n.call(e):n?n.value:t.get(e)},t.__exportStar=function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)},t.__importStar=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var o=s(e),i=0;i<o.length;i++)"default"!==o[i]&&r(t,e,o[i]);return n(t,e),t};var r=Object.create?function(e,t,r,n){void 0===n&&(n=r);var s=Object.getOwnPropertyDescriptor(t,r);s&&!("get"in s?!t.__esModule:s.writable||s.configurable)||(s={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,s)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]};t.__createBinding=r;var n=Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t};t.__setModuleDefault=n;var s=function(e){return(s=Object.getOwnPropertyNames||function(e){var t=[];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[t.length]=r);return t})(e)}},5887:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createForm=t.multipartFormRequestOptions=t.maybeMultipartFormRequestOptions=t.isAsyncIterable=t.checkFileSupport=void 0,t.makeFile=s,t.getName=o;const n=r(7831);function s(e,r,n){return(0,t.checkFileSupport)(),new File(e,r??"unknown_file",n)}function o(e){return("object"==typeof e&&null!==e&&("name"in e&&e.name&&String(e.name)||"url"in e&&e.url&&String(e.url)||"filename"in e&&e.filename&&String(e.filename)||"path"in e&&e.path&&String(e.path))||"").split(/[\\/]/).pop()||void 0}t.checkFileSupport=()=>{if("undefined"==typeof File){const{process:e}=globalThis,t="string"==typeof e?.versions?.node&&parseInt(e.versions.node.split("."))<20;throw new Error("`File` is not defined as a global, which is required for file uploads."+(t?" Update to Node 20 LTS or newer, or set `globalThis.File` to `import('node:buffer').File`.":""))}};t.isAsyncIterable=e=>null!=e&&"object"==typeof e&&"function"==typeof e[Symbol.asyncIterator];t.maybeMultipartFormRequestOptions=async(e,r)=>c(e.body)?{...e,body:await(0,t.createForm)(e.body,r)}:e;t.multipartFormRequestOptions=async(e,r)=>({...e,body:await(0,t.createForm)(e.body,r)});const i=new WeakMap;t.createForm=async(e,t)=>{if(!await function(e){const t="function"==typeof e?e:e.fetch,r=i.get(t);if(r)return r;const n=(async()=>{try{const e="Response"in t?t.Response:(await t("data:,")).constructor,r=new FormData;return r.toString()!==await new e(r).text()}catch{return!0}})();return i.set(t,n),n}(t))throw new TypeError("The provided fetch function does not support file uploads with the current global FormData class.");const r=new FormData;return await Promise.all(Object.entries(e||{}).map(([e,t])=>l(r,e,t))),r};const a=e=>e instanceof Blob&&"name"in e,c=e=>{if((e=>"object"==typeof e&&null!==e&&(e instanceof Response||(0,t.isAsyncIterable)(e)||a(e)))(e))return!0;if(Array.isArray(e))return e.some(c);if(e&&"object"==typeof e)for(const t in e)if(c(e[t]))return!0;return!1},l=async(e,r,i)=>{if(void 0!==i){if(null==i)throw new TypeError(`Received null for "${r}"; to pass null in FormData, you must use the string 'null'`);if("string"==typeof i||"number"==typeof i||"boolean"==typeof i)e.append(r,String(i));else if(i instanceof Response)e.append(r,s([await i.blob()],o(i)));else if((0,t.isAsyncIterable)(i))e.append(r,s([await new Response((0,n.ReadableStreamFrom)(i)).blob()],o(i)));else if(a(i))e.append(r,i,o(i));else if(Array.isArray(i))await Promise.all(i.map(t=>l(e,r+"[]",t)));else{if("object"!=typeof i)throw new TypeError(`Invalid value given to form, expected a string, number, boolean, object, Array, File or Blob but got ${i} instead`);await Promise.all(Object.entries(i).map(([t,n])=>l(e,`${r}[${t}]`,n)))}}}},2152:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(2345);n.__exportStar(r(7325),t),n.__exportStar(r(1040),t),n.__exportStar(r(3432),t),n.__exportStar(r(6273),t),n.__exportStar(r(660),t),n.__exportStar(r(5668),t)},1040:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.toFloat32Array=t.fromBase64=t.toBase64=void 0;const n=r(5093),s=r(9948);t.toBase64=e=>{if(!e)return"";if(void 0!==globalThis.Buffer)return globalThis.Buffer.from(e).toString("base64");if("string"==typeof e&&(e=(0,s.encodeUTF8)(e)),"undefined"!=typeof btoa)return btoa(String.fromCharCode.apply(null,e));throw new n.OpenAIError("Cannot generate base64 string; Expected `Buffer` or `btoa` to be defined")};t.fromBase64=e=>{if(void 0!==globalThis.Buffer){const t=globalThis.Buffer.from(e,"base64");return new Uint8Array(t.buffer,t.byteOffset,t.byteLength)}if("undefined"!=typeof atob){const t=atob(e),r=new Uint8Array(t.length);for(let e=0;e<t.length;e++)r[e]=t.charCodeAt(e);return r}throw new n.OpenAIError("Cannot decode base64 string; Expected `Buffer` or `atob` to be defined")};t.toFloat32Array=e=>{if("undefined"!=typeof Buffer){const t=Buffer.from(e,"base64");return Array.from(new Float32Array(t.buffer,t.byteOffset,t.length/Float32Array.BYTES_PER_ELEMENT))}{const t=atob(e),r=t.length,n=new Uint8Array(r);for(let e=0;e<r;e++)n[e]=t.charCodeAt(e);return Array.from(new Float32Array(n.buffer))}}},9948:(e,t)=>{"use strict";let r,n;Object.defineProperty(t,"__esModule",{value:!0}),t.concatBytes=function(e){let t=0;for(const r of e)t+=r.length;const r=new Uint8Array(t);let n=0;for(const t of e)r.set(t,n),n+=t.length;return r},t.encodeUTF8=function(e){let t;return(r??(t=new globalThis.TextEncoder,r=t.encode.bind(t)))(e)},t.decodeUTF8=function(e){let t;return(n??(t=new globalThis.TextDecoder,n=t.decode.bind(t)))(e)}},3432:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.readEnv=void 0;t.readEnv=e=>void 0!==globalThis.process?globalThis.process.env?.[e]?.trim()??void 0:void 0!==globalThis.Deno?globalThis.Deno.env?.get?.(e)?.trim():void 0},6273:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.formatRequestDetails=t.parseLogLevel=void 0,t.loggerFor=l;const n=r(7325),s={off:0,error:200,warn:300,info:400,debug:500};function o(){}function i(e,t,r){return!t||s[e]>s[r]?o:t[e].bind(t)}t.parseLogLevel=(e,t,r)=>{if(e)return(0,n.hasOwn)(s,e)?e:void l(r).warn(`${t} was set to ${JSON.stringify(e)}, expected one of ${JSON.stringify(Object.keys(s))}`)};const a={error:o,warn:o,info:o,debug:o};let c=new WeakMap;function l(e){const t=e.logger,r=e.logLevel??"off";if(!t)return a;const n=c.get(t);if(n&&n[0]===r)return n[1];const s={error:i("error",t,r),warn:i("warn",t,r),info:i("info",t,r),debug:i("debug",t,r)};return c.set(t,[r,s]),s}t.formatRequestDetails=e=>(e.options&&(e.options={...e.options},delete e.options.headers),e.headers&&(e.headers=Object.fromEntries((e.headers instanceof Headers?[...e.headers]:Object.entries(e.headers)).map(([e,t])=>[e,"authorization"===e.toLowerCase()||"cookie"===e.toLowerCase()||"set-cookie"===e.toLowerCase()?"***":t]))),"retryOfRequestLogID"in e&&(e.retryOfRequestLogID&&(e.retryOf=e.retryOfRequestLogID),delete e.retryOfRequestLogID),e)},2704:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.path=t.createPathTagFunction=void 0,t.encodeURIPath=s;const n=r(5093);function s(e){return e.replace(/[^A-Za-z0-9\-._~!$&'()*+,;=:@]+/g,encodeURIComponent)}const o=Object.freeze(Object.create(null));t.createPathTagFunction=(e=s)=>function(t,...r){if(1===t.length)return t[0];let s=!1;const i=[],a=t.reduce((t,n,a)=>{/[?#]/.test(n)&&(s=!0);const c=r[a];let l=(s?encodeURIComponent:e)(""+c);return a!==r.length&&(null==c||"object"==typeof c&&c.toString===Object.getPrototypeOf(Object.getPrototypeOf(c.hasOwnProperty??o)??o)?.toString)&&(l=c+"",i.push({start:t.length+n.length,length:l.length,error:`Value of type ${Object.prototype.toString.call(c).slice(8,-1)} is not a valid path parameter`})),t+n+(a===r.length?"":l)},""),c=a.split(/[?#]/,1)[0],l=/(?<=^|\/)(?:\.|%2e){1,2}(?=\/|$)/gi;let d;for(;null!==(d=l.exec(c));)i.push({start:d.index,length:d[0].length,error:`Value "${d[0]}" can't be safely passed as a path parameter`});if(i.sort((e,t)=>e.start-t.start),i.length>0){let e=0;const t=i.reduce((t,r)=>{const n=" ".repeat(r.start-e),s="^".repeat(r.length);return e=r.start+r.length,t+n+s},"");throw new n.OpenAIError(`Path parameters result in path with invalid segments:\n${i.map(e=>e.error).join("\n")}\n${a}\n${t}`)}return a},t.path=(0,t.createPathTagFunction)(s)},5668:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.sleep=void 0;t.sleep=e=>new Promise(t=>setTimeout(t,e))},660:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.uuid4=void 0;t.uuid4=function(){const{crypto:e}=globalThis;if(e?.randomUUID)return t.uuid4=e.randomUUID.bind(e),e.randomUUID();const r=new Uint8Array(1),n=e?()=>e.getRandomValues(r)[0]:()=>255*Math.random()&255;return"10000000-1000-4000-8000-100000000000".replace(/[018]/g,e=>(+e^n()&15>>+e/4).toString(16))}},7325:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.safeJSON=t.maybeCoerceBoolean=t.maybeCoerceFloat=t.maybeCoerceInteger=t.coerceBoolean=t.coerceFloat=t.coerceInteger=t.validatePositiveInteger=t.ensurePresent=t.isReadonlyArray=t.isArray=t.isAbsoluteURL=void 0,t.maybeObj=function(e){if("object"!=typeof e)return{};return e??{}},t.isEmptyObj=function(e){if(!e)return!0;for(const t in e)return!1;return!0},t.hasOwn=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.isObj=function(e){return null!=e&&"object"==typeof e&&!Array.isArray(e)};const n=r(5093),s=/^[a-z][a-z0-9+.-]*:/i;t.isAbsoluteURL=e=>s.test(e);t.isArray=e=>(t.isArray=Array.isArray,(0,t.isArray)(e)),t.isReadonlyArray=t.isArray;t.ensurePresent=e=>{if(null==e)throw new n.OpenAIError(`Expected a value to be given but received ${e} instead.`);return e};t.validatePositiveInteger=(e,t)=>{if("number"!=typeof t||!Number.isInteger(t))throw new n.OpenAIError(`${e} must be an integer`);if(t<0)throw new n.OpenAIError(`${e} must be a positive integer`);return t};t.coerceInteger=e=>{if("number"==typeof e)return Math.round(e);if("string"==typeof e)return parseInt(e,10);throw new n.OpenAIError(`Could not coerce ${e} (type: ${typeof e}) into a number`)};t.coerceFloat=e=>{if("number"==typeof e)return e;if("string"==typeof e)return parseFloat(e);throw new n.OpenAIError(`Could not coerce ${e} (type: ${typeof e}) into a number`)};t.coerceBoolean=e=>"boolean"==typeof e?e:"string"==typeof e?"true"===e:Boolean(e);t.maybeCoerceInteger=e=>{if(void 0!==e)return(0,t.coerceInteger)(e)};t.maybeCoerceFloat=e=>{if(void 0!==e)return(0,t.coerceFloat)(e)};t.maybeCoerceBoolean=e=>{if(void 0!==e)return(0,t.coerceBoolean)(e)};t.safeJSON=e=>{try{return JSON.parse(e)}catch(e){return}}},2883:(e,t,r)=>{"use strict";var n,s,o,i,a,c,l,d;Object.defineProperty(t,"__esModule",{value:!0}),t.AbstractChatCompletionRunner=void 0;const u=r(2345),p=r(3269),h=r(1368),f=r(1582),m=r(4283),g=r(9802),y=10;class b extends m.EventStream{constructor(){super(...arguments),n.add(this),this._chatCompletions=[],this.messages=[]}_addChatCompletion(e){this._chatCompletions.push(e),this._emit("chatCompletion",e);const t=e.choices[0]?.message;return t&&this._addMessage(t),e}_addMessage(e,t=!0){if("content"in e||(e.content=null),this.messages.push(e),t)if(this._emit("message",e),(0,f.isToolMessage)(e)&&e.content)this._emit("functionToolCallResult",e.content);else if((0,f.isAssistantMessage)(e)&&e.tool_calls)for(const t of e.tool_calls)"function"===t.type&&this._emit("functionToolCall",t.function)}async finalChatCompletion(){await this.done();const e=this._chatCompletions[this._chatCompletions.length-1];if(!e)throw new p.OpenAIError("stream ended without producing a ChatCompletion");return e}async finalContent(){return await this.done(),u.__classPrivateFieldGet(this,n,"m",s).call(this)}async finalMessage(){return await this.done(),u.__classPrivateFieldGet(this,n,"m",o).call(this)}async finalFunctionToolCall(){return await this.done(),u.__classPrivateFieldGet(this,n,"m",i).call(this)}async finalFunctionToolCallResult(){return await this.done(),u.__classPrivateFieldGet(this,n,"m",a).call(this)}async totalUsage(){return await this.done(),u.__classPrivateFieldGet(this,n,"m",c).call(this)}allChatCompletions(){return[...this._chatCompletions]}_emitFinal(){const e=this._chatCompletions[this._chatCompletions.length-1];e&&this._emit("finalChatCompletion",e);const t=u.__classPrivateFieldGet(this,n,"m",o).call(this);t&&this._emit("finalMessage",t);const r=u.__classPrivateFieldGet(this,n,"m",s).call(this);r&&this._emit("finalContent",r);const l=u.__classPrivateFieldGet(this,n,"m",i).call(this);l&&this._emit("finalFunctionToolCall",l);const d=u.__classPrivateFieldGet(this,n,"m",a).call(this);null!=d&&this._emit("finalFunctionToolCallResult",d),this._chatCompletions.some(e=>e.usage)&&this._emit("totalUsage",u.__classPrivateFieldGet(this,n,"m",c).call(this))}async _createChatCompletion(e,t,r){const s=r?.signal;s&&(s.aborted&&this.controller.abort(),s.addEventListener("abort",()=>this.controller.abort())),u.__classPrivateFieldGet(this,n,"m",l).call(this,t);const o=await e.chat.completions.create({...t,stream:!1},{...r,signal:this.controller.signal});return this._connected(),this._addChatCompletion((0,h.parseChatCompletion)(o,t))}async _runChatCompletion(e,t,r){for(const e of t.messages)this._addMessage(e,!1);return await this._createChatCompletion(e,t,r)}async _runTools(e,t,r){const s="tool",{tool_choice:o="auto",stream:i,...a}=t,c="string"!=typeof o&&"function"===o.type&&o?.function?.name,{maxChatCompletions:l=y}=r||{},f=t.tools.map(e=>{if((0,h.isAutoParsableTool)(e)){if(!e.$callback)throw new p.OpenAIError("Tool given to `.runTools()` that does not have an associated function");return{type:"function",function:{function:e.$callback,name:e.function.name,description:e.function.description||"",parameters:e.function.parameters,parse:e.$parseRaw,strict:!0}}}return e}),m={};for(const e of f)"function"===e.type&&(m[e.function.name||e.function.function.name]=e.function);const b="tools"in t?f.map(e=>"function"===e.type?{type:"function",function:{name:e.function.name||e.function.function.name,parameters:e.function.parameters,description:e.function.description,strict:e.function.strict}}:e):void 0;for(const e of t.messages)this._addMessage(e,!1);for(let t=0;t<l;++t){const t=await this._createChatCompletion(e,{...a,tool_choice:o,tools:b,messages:[...this.messages]},r),i=t.choices[0]?.message;if(!i)throw new p.OpenAIError("missing message in ChatCompletion response");if(!i.tool_calls?.length)return;for(const e of i.tool_calls){if("function"!==e.type)continue;const t=e.id,{name:r,arguments:o}=e.function,i=m[r];if(!i){const e=`Invalid tool_call: ${JSON.stringify(r)}. Available options are: ${Object.keys(m).map(e=>JSON.stringify(e)).join(", ")}. Please try again`;this._addMessage({role:s,tool_call_id:t,content:e});continue}if(c&&c!==r){const e=`Invalid tool_call: ${JSON.stringify(r)}. ${JSON.stringify(c)} requested. Please try again`;this._addMessage({role:s,tool_call_id:t,content:e});continue}let a;try{a=(0,g.isRunnableFunctionWithParse)(i)?await i.parse(o):o}catch(e){const r=e instanceof Error?e.message:String(e);this._addMessage({role:s,tool_call_id:t,content:r});continue}const l=await i.function(a,this),p=u.__classPrivateFieldGet(this,n,"m",d).call(this,l);if(this._addMessage({role:s,tool_call_id:t,content:p}),c)return}}}}t.AbstractChatCompletionRunner=b,n=new WeakSet,s=function(){return u.__classPrivateFieldGet(this,n,"m",o).call(this).content??null},o=function(){let e=this.messages.length;for(;e-- >0;){const t=this.messages[e];if((0,f.isAssistantMessage)(t)){return{...t,content:t.content??null,refusal:t.refusal??null}}}throw new p.OpenAIError("stream ended without producing a ChatCompletionMessage with role=assistant")},i=function(){for(let e=this.messages.length-1;e>=0;e--){const t=this.messages[e];if((0,f.isAssistantMessage)(t)&&t?.tool_calls?.length)return t.tool_calls.filter(e=>"function"===e.type).at(-1)?.function}},a=function(){for(let e=this.messages.length-1;e>=0;e--){const t=this.messages[e];if((0,f.isToolMessage)(t)&&null!=t.content&&"string"==typeof t.content&&this.messages.some(e=>"assistant"===e.role&&e.tool_calls?.some(e=>"function"===e.type&&e.id===t.tool_call_id)))return t.content}},c=function(){const e={completion_tokens:0,prompt_tokens:0,total_tokens:0};for(const{usage:t}of this._chatCompletions)t&&(e.completion_tokens+=t.completion_tokens,e.prompt_tokens+=t.prompt_tokens,e.total_tokens+=t.total_tokens);return e},l=function(e){if(null!=e.n&&e.n>1)throw new p.OpenAIError("ChatCompletion convenience helpers only support n=1 at this time. To use n>1, please use chat.completions.create() directly.")},d=function(e){return"string"==typeof e?e:void 0===e?"undefined":JSON.stringify(e)}},723:(e,t,r)=>{"use strict";var n,s,o,i,a,c,l,d,u,p,h,f,m,g,y,b,v,_,S,w,E,P,C;Object.defineProperty(t,"__esModule",{value:!0}),t.AssistantStream=void 0;const O=r(2345),A=r(1835),x=r(3269),I=r(4283),R=r(2152);class T extends I.EventStream{constructor(){super(...arguments),n.add(this),o.set(this,[]),i.set(this,{}),a.set(this,{}),c.set(this,void 0),l.set(this,void 0),d.set(this,void 0),u.set(this,void 0),p.set(this,void 0),h.set(this,void 0),f.set(this,void 0),m.set(this,void 0),g.set(this,void 0)}[(o=new WeakMap,i=new WeakMap,a=new WeakMap,c=new WeakMap,l=new WeakMap,d=new WeakMap,u=new WeakMap,p=new WeakMap,h=new WeakMap,f=new WeakMap,m=new WeakMap,g=new WeakMap,n=new WeakSet,Symbol.asyncIterator)](){const e=[],t=[];let r=!1;return this.on("event",r=>{const n=t.shift();n?n.resolve(r):e.push(r)}),this.on("end",()=>{r=!0;for(const e of t)e.resolve(void 0);t.length=0}),this.on("abort",e=>{r=!0;for(const r of t)r.reject(e);t.length=0}),this.on("error",e=>{r=!0;for(const r of t)r.reject(e);t.length=0}),{next:async()=>{if(!e.length)return r?{value:void 0,done:!0}:new Promise((e,r)=>t.push({resolve:e,reject:r})).then(e=>e?{value:e,done:!1}:{value:void 0,done:!0});return{value:e.shift(),done:!1}},return:async()=>(this.abort(),{value:void 0,done:!0})}}static fromReadableStream(e){const t=new s;return t._run(()=>t._fromReadableStream(e)),t}async _fromReadableStream(e,t){const r=t?.signal;r&&(r.aborted&&this.controller.abort(),r.addEventListener("abort",()=>this.controller.abort())),this._connected();const s=A.Stream.fromReadableStream(e,this.controller);for await(const e of s)O.__classPrivateFieldGet(this,n,"m",y).call(this,e);if(s.controller.signal?.aborted)throw new x.APIUserAbortError;return this._addRun(O.__classPrivateFieldGet(this,n,"m",b).call(this))}toReadableStream(){return new A.Stream(this[Symbol.asyncIterator].bind(this),this.controller).toReadableStream()}static createToolAssistantStream(e,t,r,n){const o=new s;return o._run(()=>o._runToolAssistantStream(e,t,r,{...n,headers:{...n?.headers,"X-Stainless-Helper-Method":"stream"}})),o}async _createToolAssistantStream(e,t,r,s){const o=s?.signal;o&&(o.aborted&&this.controller.abort(),o.addEventListener("abort",()=>this.controller.abort()));const i={...r,stream:!0},a=await e.submitToolOutputs(t,i,{...s,signal:this.controller.signal});this._connected();for await(const e of a)O.__classPrivateFieldGet(this,n,"m",y).call(this,e);if(a.controller.signal?.aborted)throw new x.APIUserAbortError;return this._addRun(O.__classPrivateFieldGet(this,n,"m",b).call(this))}static createThreadAssistantStream(e,t,r){const n=new s;return n._run(()=>n._threadAssistantStream(e,t,{...r,headers:{...r?.headers,"X-Stainless-Helper-Method":"stream"}})),n}static createAssistantStream(e,t,r,n){const o=new s;return o._run(()=>o._runAssistantStream(e,t,r,{...n,headers:{...n?.headers,"X-Stainless-Helper-Method":"stream"}})),o}currentEvent(){return O.__classPrivateFieldGet(this,f,"f")}currentRun(){return O.__classPrivateFieldGet(this,m,"f")}currentMessageSnapshot(){return O.__classPrivateFieldGet(this,c,"f")}currentRunStepSnapshot(){return O.__classPrivateFieldGet(this,g,"f")}async finalRunSteps(){return await this.done(),Object.values(O.__classPrivateFieldGet(this,i,"f"))}async finalMessages(){return await this.done(),Object.values(O.__classPrivateFieldGet(this,a,"f"))}async finalRun(){if(await this.done(),!O.__classPrivateFieldGet(this,l,"f"))throw Error("Final run was not received.");return O.__classPrivateFieldGet(this,l,"f")}async _createThreadAssistantStream(e,t,r){const s=r?.signal;s&&(s.aborted&&this.controller.abort(),s.addEventListener("abort",()=>this.controller.abort()));const o={...t,stream:!0},i=await e.createAndRun(o,{...r,signal:this.controller.signal});this._connected();for await(const e of i)O.__classPrivateFieldGet(this,n,"m",y).call(this,e);if(i.controller.signal?.aborted)throw new x.APIUserAbortError;return this._addRun(O.__classPrivateFieldGet(this,n,"m",b).call(this))}async _createAssistantStream(e,t,r,s){const o=s?.signal;o&&(o.aborted&&this.controller.abort(),o.addEventListener("abort",()=>this.controller.abort()));const i={...r,stream:!0},a=await e.create(t,i,{...s,signal:this.controller.signal});this._connected();for await(const e of a)O.__classPrivateFieldGet(this,n,"m",y).call(this,e);if(a.controller.signal?.aborted)throw new x.APIUserAbortError;return this._addRun(O.__classPrivateFieldGet(this,n,"m",b).call(this))}static accumulateDelta(e,t){for(const[r,n]of Object.entries(t)){if(!e.hasOwnProperty(r)){e[r]=n;continue}let t=e[r];if(null!=t)if("index"!==r&&"type"!==r){if("string"==typeof t&&"string"==typeof n)t+=n;else if("number"==typeof t&&"number"==typeof n)t+=n;else{if(!(0,R.isObj)(t)||!(0,R.isObj)(n)){if(Array.isArray(t)&&Array.isArray(n)){if(t.every(e=>"string"==typeof e||"number"==typeof e)){t.push(...n);continue}for(const e of n){if(!(0,R.isObj)(e))throw new Error(`Expected array delta entry to be an object but got: ${e}`);const r=e.index;if(null==r)throw console.error(e),new Error("Expected array delta entry to have an `index` property");if("number"!=typeof r)throw new Error(`Expected array delta entry \`index\` property to be a number but got ${r}`);const n=t[r];null==n?t.push(e):t[r]=this.accumulateDelta(n,e)}continue}throw Error(`Unhandled record type: ${r}, deltaValue: ${n}, accValue: ${t}`)}t=this.accumulateDelta(t,n)}e[r]=t}else e[r]=n;else e[r]=n}return e}_addRun(e){return e}async _threadAssistantStream(e,t,r){return await this._createThreadAssistantStream(t,e,r)}async _runAssistantStream(e,t,r,n){return await this._createAssistantStream(t,e,r,n)}async _runToolAssistantStream(e,t,r,n){return await this._createToolAssistantStream(t,e,r,n)}}t.AssistantStream=T,s=T,y=function(e){if(!this.ended)switch(O.__classPrivateFieldSet(this,f,e,"f"),O.__classPrivateFieldGet(this,n,"m",S).call(this,e),e.event){case"thread.created":break;case"thread.run.created":case"thread.run.queued":case"thread.run.in_progress":case"thread.run.requires_action":case"thread.run.completed":case"thread.run.incomplete":case"thread.run.failed":case"thread.run.cancelling":case"thread.run.cancelled":case"thread.run.expired":O.__classPrivateFieldGet(this,n,"m",C).call(this,e);break;case"thread.run.step.created":case"thread.run.step.in_progress":case"thread.run.step.delta":case"thread.run.step.completed":case"thread.run.step.failed":case"thread.run.step.cancelled":case"thread.run.step.expired":O.__classPrivateFieldGet(this,n,"m",_).call(this,e);break;case"thread.message.created":case"thread.message.in_progress":case"thread.message.delta":case"thread.message.completed":case"thread.message.incomplete":O.__classPrivateFieldGet(this,n,"m",v).call(this,e);break;case"error":throw new Error("Encountered an error event in event processing - errors should be processed earlier")}},b=function(){if(this.ended)throw new x.OpenAIError("stream has ended, this shouldn't happen");if(!O.__classPrivateFieldGet(this,l,"f"))throw Error("Final run has not been received");return O.__classPrivateFieldGet(this,l,"f")},v=function(e){const[t,r]=O.__classPrivateFieldGet(this,n,"m",E).call(this,e,O.__classPrivateFieldGet(this,c,"f"));O.__classPrivateFieldSet(this,c,t,"f"),O.__classPrivateFieldGet(this,a,"f")[t.id]=t;for(const e of r){const r=t.content[e.index];"text"==r?.type&&this._emit("textCreated",r.text)}switch(e.event){case"thread.message.created":this._emit("messageCreated",e.data);break;case"thread.message.in_progress":break;case"thread.message.delta":if(this._emit("messageDelta",e.data.delta,t),e.data.delta.content)for(const r of e.data.delta.content){if("text"==r.type&&r.text){let e=r.text,n=t.content[r.index];if(!n||"text"!=n.type)throw Error("The snapshot associated with this text delta is not text or missing");this._emit("textDelta",e,n.text)}if(r.index!=O.__classPrivateFieldGet(this,d,"f")){if(O.__classPrivateFieldGet(this,u,"f"))switch(O.__classPrivateFieldGet(this,u,"f").type){case"text":this._emit("textDone",O.__classPrivateFieldGet(this,u,"f").text,O.__classPrivateFieldGet(this,c,"f"));break;case"image_file":this._emit("imageFileDone",O.__classPrivateFieldGet(this,u,"f").image_file,O.__classPrivateFieldGet(this,c,"f"))}O.__classPrivateFieldSet(this,d,r.index,"f")}O.__classPrivateFieldSet(this,u,t.content[r.index],"f")}break;case"thread.message.completed":case"thread.message.incomplete":if(void 0!==O.__classPrivateFieldGet(this,d,"f")){const t=e.data.content[O.__classPrivateFieldGet(this,d,"f")];if(t)switch(t.type){case"image_file":this._emit("imageFileDone",t.image_file,O.__classPrivateFieldGet(this,c,"f"));break;case"text":this._emit("textDone",t.text,O.__classPrivateFieldGet(this,c,"f"))}}O.__classPrivateFieldGet(this,c,"f")&&this._emit("messageDone",e.data),O.__classPrivateFieldSet(this,c,void 0,"f")}},_=function(e){const t=O.__classPrivateFieldGet(this,n,"m",w).call(this,e);switch(O.__classPrivateFieldSet(this,g,t,"f"),e.event){case"thread.run.step.created":this._emit("runStepCreated",e.data);break;case"thread.run.step.delta":const r=e.data.delta;if(r.step_details&&"tool_calls"==r.step_details.type&&r.step_details.tool_calls&&"tool_calls"==t.step_details.type)for(const e of r.step_details.tool_calls)e.index==O.__classPrivateFieldGet(this,p,"f")?this._emit("toolCallDelta",e,t.step_details.tool_calls[e.index]):(O.__classPrivateFieldGet(this,h,"f")&&this._emit("toolCallDone",O.__classPrivateFieldGet(this,h,"f")),O.__classPrivateFieldSet(this,p,e.index,"f"),O.__classPrivateFieldSet(this,h,t.step_details.tool_calls[e.index],"f"),O.__classPrivateFieldGet(this,h,"f")&&this._emit("toolCallCreated",O.__classPrivateFieldGet(this,h,"f")));this._emit("runStepDelta",e.data.delta,t);break;case"thread.run.step.completed":case"thread.run.step.failed":case"thread.run.step.cancelled":case"thread.run.step.expired":O.__classPrivateFieldSet(this,g,void 0,"f");"tool_calls"==e.data.step_details.type&&O.__classPrivateFieldGet(this,h,"f")&&(this._emit("toolCallDone",O.__classPrivateFieldGet(this,h,"f")),O.__classPrivateFieldSet(this,h,void 0,"f")),this._emit("runStepDone",e.data,t)}},S=function(e){O.__classPrivateFieldGet(this,o,"f").push(e),this._emit("event",e)},w=function(e){switch(e.event){case"thread.run.step.created":return O.__classPrivateFieldGet(this,i,"f")[e.data.id]=e.data,e.data;case"thread.run.step.delta":let t=O.__classPrivateFieldGet(this,i,"f")[e.data.id];if(!t)throw Error("Received a RunStepDelta before creation of a snapshot");let r=e.data;if(r.delta){const n=s.accumulateDelta(t,r.delta);O.__classPrivateFieldGet(this,i,"f")[e.data.id]=n}return O.__classPrivateFieldGet(this,i,"f")[e.data.id];case"thread.run.step.completed":case"thread.run.step.failed":case"thread.run.step.cancelled":case"thread.run.step.expired":case"thread.run.step.in_progress":O.__classPrivateFieldGet(this,i,"f")[e.data.id]=e.data}if(O.__classPrivateFieldGet(this,i,"f")[e.data.id])return O.__classPrivateFieldGet(this,i,"f")[e.data.id];throw new Error("No snapshot available")},E=function(e,t){let r=[];switch(e.event){case"thread.message.created":return[e.data,r];case"thread.message.delta":if(!t)throw Error("Received a delta with no existing snapshot (there should be one from message creation)");let s=e.data;if(s.delta.content)for(const e of s.delta.content)if(e.index in t.content){let r=t.content[e.index];t.content[e.index]=O.__classPrivateFieldGet(this,n,"m",P).call(this,e,r)}else t.content[e.index]=e,r.push(e);return[t,r];case"thread.message.in_progress":case"thread.message.completed":case"thread.message.incomplete":if(t)return[t,r];throw Error("Received thread message event with no existing snapshot")}throw Error("Tried to accumulate a non-message event")},P=function(e,t){return s.accumulateDelta(t,e)},C=function(e){switch(O.__classPrivateFieldSet(this,m,e.data,"f"),e.event){case"thread.run.created":case"thread.run.queued":case"thread.run.in_progress":case"thread.run.cancelling":break;case"thread.run.requires_action":case"thread.run.cancelled":case"thread.run.failed":case"thread.run.completed":case"thread.run.expired":case"thread.run.incomplete":O.__classPrivateFieldSet(this,l,e.data,"f"),O.__classPrivateFieldGet(this,h,"f")&&(this._emit("toolCallDone",O.__classPrivateFieldGet(this,h,"f")),O.__classPrivateFieldSet(this,h,void 0,"f"))}}},2509:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ChatCompletionRunner=void 0;const n=r(2883),s=r(1582);class o extends n.AbstractChatCompletionRunner{static runTools(e,t,r){const n=new o,s={...r,headers:{...r?.headers,"X-Stainless-Helper-Method":"runTools"}};return n._run(()=>n._runTools(e,t,s)),n}_addMessage(e,t=!0){super._addMessage(e,t),(0,s.isAssistantMessage)(e)&&e.content&&this._emit("content",e.content)}}t.ChatCompletionRunner=o},3559:(e,t,r)=>{"use strict";var n,s,o,i,a,c,l,d,u,p,h,f;Object.defineProperty(t,"__esModule",{value:!0}),t.ChatCompletionStream=void 0;const m=r(2345),g=r(6107),y=r(3269),b=r(1368),v=r(1835),_=r(2883);class S extends _.AbstractChatCompletionRunner{constructor(e){super(),n.add(this),s.set(this,void 0),o.set(this,void 0),i.set(this,void 0),m.__classPrivateFieldSet(this,s,e,"f"),m.__classPrivateFieldSet(this,o,[],"f")}get currentChatCompletionSnapshot(){return m.__classPrivateFieldGet(this,i,"f")}static fromReadableStream(e){const t=new S(null);return t._run(()=>t._fromReadableStream(e)),t}static createChatCompletion(e,t,r){const n=new S(t);return n._run(()=>n._runChatCompletion(e,{...t,stream:!0},{...r,headers:{...r?.headers,"X-Stainless-Helper-Method":"stream"}})),n}async _createChatCompletion(e,t,r){super._createChatCompletion;const s=r?.signal;s&&(s.aborted&&this.controller.abort(),s.addEventListener("abort",()=>this.controller.abort())),m.__classPrivateFieldGet(this,n,"m",a).call(this);const o=await e.chat.completions.create({...t,stream:!0},{...r,signal:this.controller.signal});this._connected();for await(const e of o)m.__classPrivateFieldGet(this,n,"m",l).call(this,e);if(o.controller.signal?.aborted)throw new y.APIUserAbortError;return this._addChatCompletion(m.__classPrivateFieldGet(this,n,"m",p).call(this))}async _fromReadableStream(e,t){const r=t?.signal;r&&(r.aborted&&this.controller.abort(),r.addEventListener("abort",()=>this.controller.abort())),m.__classPrivateFieldGet(this,n,"m",a).call(this),this._connected();const s=v.Stream.fromReadableStream(e,this.controller);let o;for await(const e of s)o&&o!==e.id&&this._addChatCompletion(m.__classPrivateFieldGet(this,n,"m",p).call(this)),m.__classPrivateFieldGet(this,n,"m",l).call(this,e),o=e.id;if(s.controller.signal?.aborted)throw new y.APIUserAbortError;return this._addChatCompletion(m.__classPrivateFieldGet(this,n,"m",p).call(this))}[(s=new WeakMap,o=new WeakMap,i=new WeakMap,n=new WeakSet,a=function(){this.ended||m.__classPrivateFieldSet(this,i,void 0,"f")},c=function(e){let t=m.__classPrivateFieldGet(this,o,"f")[e.index];return t||(t={content_done:!1,refusal_done:!1,logprobs_content_done:!1,logprobs_refusal_done:!1,done_tool_calls:new Set,current_tool_call_index:null},m.__classPrivateFieldGet(this,o,"f")[e.index]=t,t)},l=function(e){if(this.ended)return;const t=m.__classPrivateFieldGet(this,n,"m",f).call(this,e);this._emit("chunk",e,t);for(const r of e.choices){const e=t.choices[r.index];null!=r.delta.content&&"assistant"===e.message?.role&&e.message?.content&&(this._emit("content",r.delta.content,e.message.content),this._emit("content.delta",{delta:r.delta.content,snapshot:e.message.content,parsed:e.message.parsed})),null!=r.delta.refusal&&"assistant"===e.message?.role&&e.message?.refusal&&this._emit("refusal.delta",{delta:r.delta.refusal,snapshot:e.message.refusal}),null!=r.logprobs?.content&&"assistant"===e.message?.role&&this._emit("logprobs.content.delta",{content:r.logprobs?.content,snapshot:e.logprobs?.content??[]}),null!=r.logprobs?.refusal&&"assistant"===e.message?.role&&this._emit("logprobs.refusal.delta",{refusal:r.logprobs?.refusal,snapshot:e.logprobs?.refusal??[]});const s=m.__classPrivateFieldGet(this,n,"m",c).call(this,e);e.finish_reason&&(m.__classPrivateFieldGet(this,n,"m",u).call(this,e),null!=s.current_tool_call_index&&m.__classPrivateFieldGet(this,n,"m",d).call(this,e,s.current_tool_call_index));for(const t of r.delta.tool_calls??[])s.current_tool_call_index!==t.index&&(m.__classPrivateFieldGet(this,n,"m",u).call(this,e),null!=s.current_tool_call_index&&m.__classPrivateFieldGet(this,n,"m",d).call(this,e,s.current_tool_call_index)),s.current_tool_call_index=t.index;for(const t of r.delta.tool_calls??[]){const r=e.message.tool_calls?.[t.index];r?.type&&("function"===r?.type?this._emit("tool_calls.function.arguments.delta",{name:r.function?.name,index:t.index,arguments:r.function.arguments,parsed_arguments:r.function.parsed_arguments,arguments_delta:t.function?.arguments??""}):P(r?.type))}}},d=function(e,t){if(m.__classPrivateFieldGet(this,n,"m",c).call(this,e).done_tool_calls.has(t))return;const r=e.message.tool_calls?.[t];if(!r)throw new Error("no tool call snapshot");if(!r.type)throw new Error("tool call snapshot missing `type`");if("function"===r.type){const e=m.__classPrivateFieldGet(this,s,"f")?.tools?.find(e=>(0,b.isChatCompletionFunctionTool)(e)&&e.function.name===r.function.name);this._emit("tool_calls.function.arguments.done",{name:r.function.name,index:t,arguments:r.function.arguments,parsed_arguments:(0,b.isAutoParsableTool)(e)?e.$parseRaw(r.function.arguments):e?.function.strict?JSON.parse(r.function.arguments):null})}else r.type},u=function(e){const t=m.__classPrivateFieldGet(this,n,"m",c).call(this,e);if(e.message.content&&!t.content_done){t.content_done=!0;const r=m.__classPrivateFieldGet(this,n,"m",h).call(this);this._emit("content.done",{content:e.message.content,parsed:r?r.$parseRaw(e.message.content):null})}e.message.refusal&&!t.refusal_done&&(t.refusal_done=!0,this._emit("refusal.done",{refusal:e.message.refusal})),e.logprobs?.content&&!t.logprobs_content_done&&(t.logprobs_content_done=!0,this._emit("logprobs.content.done",{content:e.logprobs.content})),e.logprobs?.refusal&&!t.logprobs_refusal_done&&(t.logprobs_refusal_done=!0,this._emit("logprobs.refusal.done",{refusal:e.logprobs.refusal}))},p=function(){if(this.ended)throw new y.OpenAIError("stream has ended, this shouldn't happen");const e=m.__classPrivateFieldGet(this,i,"f");if(!e)throw new y.OpenAIError("request ended without sending any chunks");return m.__classPrivateFieldSet(this,i,void 0,"f"),m.__classPrivateFieldSet(this,o,[],"f"),function(e,t){const{id:r,choices:n,created:s,model:o,system_fingerprint:i,...a}=e,c={...a,id:r,choices:n.map(({message:t,finish_reason:r,index:n,logprobs:s,...o})=>{if(!r)throw new y.OpenAIError(`missing finish_reason for choice ${n}`);const{content:i=null,function_call:a,tool_calls:c,...l}=t,d=t.role;if(!d)throw new y.OpenAIError(`missing role for choice ${n}`);if(a){const{arguments:e,name:c}=a;if(null==e)throw new y.OpenAIError(`missing function_call.arguments for choice ${n}`);if(!c)throw new y.OpenAIError(`missing function_call.name for choice ${n}`);return{...o,message:{content:i,function_call:{arguments:e,name:c},role:d,refusal:t.refusal??null},finish_reason:r,index:n,logprobs:s}}return c?{...o,index:n,finish_reason:r,logprobs:s,message:{...l,role:d,content:i,refusal:t.refusal??null,tool_calls:c.map((t,r)=>{const{function:s,type:o,id:i,...a}=t,{arguments:c,name:l,...d}=s||{};if(null==i)throw new y.OpenAIError(`missing choices[${n}].tool_calls[${r}].id\n${w(e)}`);if(null==o)throw new y.OpenAIError(`missing choices[${n}].tool_calls[${r}].type\n${w(e)}`);if(null==l)throw new y.OpenAIError(`missing choices[${n}].tool_calls[${r}].function.name\n${w(e)}`);if(null==c)throw new y.OpenAIError(`missing choices[${n}].tool_calls[${r}].function.arguments\n${w(e)}`);return{...a,id:i,type:o,function:{...d,name:l,arguments:c}}})}}:{...o,message:{...l,content:i,role:d,refusal:t.refusal??null},finish_reason:r,index:n,logprobs:s}}),created:s,model:o,object:"chat.completion",...i?{system_fingerprint:i}:{}};return(0,b.maybeParseChatCompletion)(c,t)}(e,m.__classPrivateFieldGet(this,s,"f"))},h=function(){const e=m.__classPrivateFieldGet(this,s,"f")?.response_format;return(0,b.isAutoParsableResponseFormat)(e)?e:null},f=function(e){var t,r,o,a;let c=m.__classPrivateFieldGet(this,i,"f");const{choices:l,...d}=e;c?Object.assign(c,d):c=m.__classPrivateFieldSet(this,i,{...d,choices:[]},"f");for(const{delta:i,finish_reason:l,index:d,logprobs:u=null,...p}of e.choices){let e=c.choices[d];if(e||(e=c.choices[d]={finish_reason:l,index:d,message:{},logprobs:u,...p}),u)if(e.logprobs){const{content:n,refusal:s,...o}=u;E(o),Object.assign(e.logprobs,o),n&&((t=e.logprobs).content??(t.content=[]),e.logprobs.content.push(...n)),s&&((r=e.logprobs).refusal??(r.refusal=[]),e.logprobs.refusal.push(...s))}else e.logprobs=Object.assign({},u);if(l&&(e.finish_reason=l,m.__classPrivateFieldGet(this,s,"f")&&(0,b.hasAutoParseableInput)(m.__classPrivateFieldGet(this,s,"f")))){if("length"===l)throw new y.LengthFinishReasonError;if("content_filter"===l)throw new y.ContentFilterFinishReasonError}if(Object.assign(e,p),!i)continue;const{content:f,refusal:v,function_call:_,role:S,tool_calls:w,...P}=i;if(E(P),Object.assign(e.message,P),v&&(e.message.refusal=(e.message.refusal||"")+v),S&&(e.message.role=S),_&&(e.message.function_call?(_.name&&(e.message.function_call.name=_.name),_.arguments&&((o=e.message.function_call).arguments??(o.arguments=""),e.message.function_call.arguments+=_.arguments)):e.message.function_call=_),f&&(e.message.content=(e.message.content||"")+f,!e.message.refusal&&m.__classPrivateFieldGet(this,n,"m",h).call(this)&&(e.message.parsed=(0,g.partialParse)(e.message.content))),w){e.message.tool_calls||(e.message.tool_calls=[]);for(const{index:t,id:r,type:n,function:o,...i}of w){const c=(a=e.message.tool_calls)[t]??(a[t]={});Object.assign(c,i),r&&(c.id=r),n&&(c.type=n),o&&(c.function??(c.function={name:o.name??"",arguments:""})),o?.name&&(c.function.name=o.name),o?.arguments&&(c.function.arguments+=o.arguments,(0,b.shouldParseToolCall)(m.__classPrivateFieldGet(this,s,"f"),c)&&(c.function.parsed_arguments=(0,g.partialParse)(c.function.arguments)))}}}return c},Symbol.asyncIterator)](){const e=[],t=[];let r=!1;return this.on("chunk",r=>{const n=t.shift();n?n.resolve(r):e.push(r)}),this.on("end",()=>{r=!0;for(const e of t)e.resolve(void 0);t.length=0}),this.on("abort",e=>{r=!0;for(const r of t)r.reject(e);t.length=0}),this.on("error",e=>{r=!0;for(const r of t)r.reject(e);t.length=0}),{next:async()=>{if(!e.length)return r?{value:void 0,done:!0}:new Promise((e,r)=>t.push({resolve:e,reject:r})).then(e=>e?{value:e,done:!1}:{value:void 0,done:!0});return{value:e.shift(),done:!1}},return:async()=>(this.abort(),{value:void 0,done:!0})}}toReadableStream(){return new v.Stream(this[Symbol.asyncIterator].bind(this),this.controller).toReadableStream()}}function w(e){return JSON.stringify(e)}function E(e){}function P(e){}t.ChatCompletionStream=S},997:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ChatCompletionStreamingRunner=void 0;const n=r(3559);class s extends n.ChatCompletionStream{static fromReadableStream(e){const t=new s(null);return t._run(()=>t._fromReadableStream(e)),t}static runTools(e,t,r){const n=new s(t),o={...r,headers:{...r?.headers,"X-Stainless-Helper-Method":"runTools"}};return n._run(()=>n._runTools(e,t,o)),n}}t.ChatCompletionStreamingRunner=s},4283:(e,t,r)=>{"use strict";var n,s,o,i,a,c,l,d,u,p,h,f,m;Object.defineProperty(t,"__esModule",{value:!0}),t.EventStream=void 0;const g=r(2345),y=r(3269);t.EventStream=class{constructor(){n.add(this),this.controller=new AbortController,s.set(this,void 0),o.set(this,()=>{}),i.set(this,()=>{}),a.set(this,void 0),c.set(this,()=>{}),l.set(this,()=>{}),d.set(this,{}),u.set(this,!1),p.set(this,!1),h.set(this,!1),f.set(this,!1),g.__classPrivateFieldSet(this,s,new Promise((e,t)=>{g.__classPrivateFieldSet(this,o,e,"f"),g.__classPrivateFieldSet(this,i,t,"f")}),"f"),g.__classPrivateFieldSet(this,a,new Promise((e,t)=>{g.__classPrivateFieldSet(this,c,e,"f"),g.__classPrivateFieldSet(this,l,t,"f")}),"f"),g.__classPrivateFieldGet(this,s,"f").catch(()=>{}),g.__classPrivateFieldGet(this,a,"f").catch(()=>{})}_run(e){setTimeout(()=>{e().then(()=>{this._emitFinal(),this._emit("end")},g.__classPrivateFieldGet(this,n,"m",m).bind(this))},0)}_connected(){this.ended||(g.__classPrivateFieldGet(this,o,"f").call(this),this._emit("connect"))}get ended(){return g.__classPrivateFieldGet(this,u,"f")}get errored(){return g.__classPrivateFieldGet(this,p,"f")}get aborted(){return g.__classPrivateFieldGet(this,h,"f")}abort(){this.controller.abort()}on(e,t){return(g.__classPrivateFieldGet(this,d,"f")[e]||(g.__classPrivateFieldGet(this,d,"f")[e]=[])).push({listener:t}),this}off(e,t){const r=g.__classPrivateFieldGet(this,d,"f")[e];if(!r)return this;const n=r.findIndex(e=>e.listener===t);return n>=0&&r.splice(n,1),this}once(e,t){return(g.__classPrivateFieldGet(this,d,"f")[e]||(g.__classPrivateFieldGet(this,d,"f")[e]=[])).push({listener:t,once:!0}),this}emitted(e){return new Promise((t,r)=>{g.__classPrivateFieldSet(this,f,!0,"f"),"error"!==e&&this.once("error",r),this.once(e,t)})}async done(){g.__classPrivateFieldSet(this,f,!0,"f"),await g.__classPrivateFieldGet(this,a,"f")}_emit(e,...t){if(g.__classPrivateFieldGet(this,u,"f"))return;"end"===e&&(g.__classPrivateFieldSet(this,u,!0,"f"),g.__classPrivateFieldGet(this,c,"f").call(this));const r=g.__classPrivateFieldGet(this,d,"f")[e];if(r&&(g.__classPrivateFieldGet(this,d,"f")[e]=r.filter(e=>!e.once),r.forEach(({listener:e})=>e(...t))),"abort"===e){const e=t[0];return g.__classPrivateFieldGet(this,f,"f")||r?.length||Promise.reject(e),g.__classPrivateFieldGet(this,i,"f").call(this,e),g.__classPrivateFieldGet(this,l,"f").call(this,e),void this._emit("end")}if("error"===e){const e=t[0];g.__classPrivateFieldGet(this,f,"f")||r?.length||Promise.reject(e),g.__classPrivateFieldGet(this,i,"f").call(this,e),g.__classPrivateFieldGet(this,l,"f").call(this,e),this._emit("end")}}_emitFinal(){}},s=new WeakMap,o=new WeakMap,i=new WeakMap,a=new WeakMap,c=new WeakMap,l=new WeakMap,d=new WeakMap,u=new WeakMap,p=new WeakMap,h=new WeakMap,f=new WeakMap,n=new WeakSet,m=function(e){if(g.__classPrivateFieldSet(this,p,!0,"f"),e instanceof Error&&"AbortError"===e.name&&(e=new y.APIUserAbortError),e instanceof y.APIUserAbortError)return g.__classPrivateFieldSet(this,h,!0,"f"),this._emit("abort",e);if(e instanceof y.OpenAIError)return this._emit("error",e);if(e instanceof Error){const t=new y.OpenAIError(e.message);return t.cause=e,this._emit("error",t)}return this._emit("error",new y.OpenAIError(String(e)))}},3980:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.maybeParseResponse=function(e,t){if(!t||!a(t))return{...e,output_parsed:null,output:e.output.map(e=>"function_call"===e.type?{...e,parsed_arguments:null}:"message"===e.type?{...e,content:e.content.map(e=>({...e,parsed:null}))}:e)};return o(e,t)},t.parseResponse=o,t.hasAutoParseableInput=a,t.makeParseableResponseTool=function(e,{parser:t,callback:r}){const n={...e};return Object.defineProperties(n,{$brand:{value:"auto-parseable-tool",enumerable:!1},$parseRaw:{value:t,enumerable:!1},$callback:{value:r,enumerable:!1}}),n},t.isAutoParsableTool=c,t.shouldParseToolCall=function(e,t){if(!e)return!1;const r=l(e.tools??[],t.name);return c(r)||r?.strict||!1},t.validateInputTools=function(e){for(const t of e??[]){if("function"!==t.type)throw new n.OpenAIError(`Currently only \`function\` tool types support auto-parsing; Received \`${t.type}\``);if(!0!==t.function.strict)throw new n.OpenAIError(`The \`${t.function.name}\` tool is not marked with \`strict: true\`. Only strict function tools can be auto-parsed`)}},t.addOutputText=u;const n=r(3269),s=r(1368);function o(e,t){const r=e.output.map(e=>{if("function_call"===e.type)return{...e,parsed_arguments:d(t,e)};if("message"===e.type){const r=e.content.map(e=>"output_text"===e.type?{...e,parsed:i(t,e.text)}:e);return{...e,content:r}}return e}),n=Object.assign({},e,{output:r});return Object.getOwnPropertyDescriptor(e,"output_text")||u(n),Object.defineProperty(n,"output_parsed",{enumerable:!0,get(){for(const e of n.output)if("message"===e.type)for(const t of e.content)if("output_text"===t.type&&null!==t.parsed)return t.parsed;return null}}),n}function i(e,t){if("json_schema"!==e.text?.format?.type)return null;if("$parseRaw"in e.text?.format){const r=e.text?.format;return r.$parseRaw(t)}return JSON.parse(t)}function a(e){return!!(0,s.isAutoParsableResponseFormat)(e.text?.format)}function c(e){return"auto-parseable-tool"===e?.$brand}function l(e,t){return e.find(e=>"function"===e.type&&e.name===t)}function d(e,t){const r=l(e.tools??[],t.name);return{...t,...t,parsed_arguments:c(r)?r.$parseRaw(t.arguments):r?.strict?JSON.parse(t.arguments):null}}function u(e){const t=[];for(const r of e.output)if("message"===r.type)for(const e of r.content)"output_text"===e.type&&t.push(e.text);e.output_text=t.join("")}},9802:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ParsingToolFunction=void 0,t.isRunnableFunctionWithParse=function(e){return"function"==typeof e.parse};t.ParsingToolFunction=class{constructor(e){this.type="function",this.function=e}}},3831:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.allSettledWithThrow=void 0;t.allSettledWithThrow=async e=>{const t=await Promise.allSettled(e),r=t.filter(e=>"rejected"===e.status);if(r.length){for(const e of r)console.error(e.reason);throw new Error(`${r.length} promise(s) failed - see the above errors`)}const n=[];for(const e of t)"fulfilled"===e.status&&n.push(e.value);return n}},1582:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isToolMessage=t.isAssistantMessage=void 0,t.isPresent=function(e){return null!=e};t.isAssistantMessage=e=>"assistant"===e?.role;t.isToolMessage=e=>"tool"===e?.role},1368:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isChatCompletionFunctionTool=s,t.makeParseableResponseFormat=function(e,t){const r={...e};return Object.defineProperties(r,{$brand:{value:"auto-parseable-response-format",enumerable:!1},$parseRaw:{value:t,enumerable:!1}}),r},t.makeParseableTextFormat=function(e,t){const r={...e};return Object.defineProperties(r,{$brand:{value:"auto-parseable-response-format",enumerable:!1},$parseRaw:{value:t,enumerable:!1}}),r},t.isAutoParsableResponseFormat=o,t.makeParseableTool=function(e,{parser:t,callback:r}){const n={...e};return Object.defineProperties(n,{$brand:{value:"auto-parseable-tool",enumerable:!1},$parseRaw:{value:t,enumerable:!1},$callback:{value:r,enumerable:!1}}),n},t.isAutoParsableTool=i,t.maybeParseChatCompletion=function(e,t){if(!t||!l(t))return{...e,choices:e.choices.map(e=>(d(e.message.tool_calls),{...e,message:{...e.message,parsed:null,...e.message.tool_calls?{tool_calls:e.message.tool_calls}:void 0}}))};return a(e,t)},t.parseChatCompletion=a,t.shouldParseToolCall=function(e,t){if(!e||!("tools"in e)||!e.tools)return!1;const r=e.tools?.find(e=>s(e)&&e.function?.name===t.function.name);return s(r)&&(i(r)||r?.function.strict||!1)},t.hasAutoParseableInput=l,t.assertToolCallsAreChatCompletionFunctionToolCalls=d,t.validateInputTools=function(e){for(const t of e??[]){if("function"!==t.type)throw new n.OpenAIError(`Currently only \`function\` tool types support auto-parsing; Received \`${t.type}\``);if(!0!==t.function.strict)throw new n.OpenAIError(`The \`${t.function.name}\` tool is not marked with \`strict: true\`. Only strict function tools can be auto-parsed`)}};const n=r(3269);function s(e){return void 0!==e&&"function"in e&&void 0!==e.function}function o(e){return"auto-parseable-response-format"===e?.$brand}function i(e){return"auto-parseable-tool"===e?.$brand}function a(e,t){const r=e.choices.map(e=>{if("length"===e.finish_reason)throw new n.LengthFinishReasonError;if("content_filter"===e.finish_reason)throw new n.ContentFilterFinishReasonError;return d(e.message.tool_calls),{...e,message:{...e.message,...e.message.tool_calls?{tool_calls:e.message.tool_calls?.map(e=>function(e,t){const r=e.tools?.find(e=>s(e)&&e.function?.name===t.function.name);return{...t,function:{...t.function,parsed_arguments:i(r)?r.$parseRaw(t.function.arguments):r?.function.strict?JSON.parse(t.function.arguments):null}}}(t,e))??void 0}:void 0,parsed:e.message.content&&!e.message.refusal?c(t,e.message.content):null}}});return{...e,choices:r}}function c(e,t){if("json_schema"!==e.response_format?.type)return null;if("json_schema"===e.response_format?.type){if("$parseRaw"in e.response_format){return e.response_format.$parseRaw(t)}return JSON.parse(t)}return null}function l(e){return!!o(e.response_format)||(e.tools?.some(e=>i(e)||"function"===e.type&&!0===e.function.strict)??!1)}function d(e){for(const t of e||[])if("function"!==t.type)throw new n.OpenAIError(`Currently only \`function\` tool calls are supported; Received \`${t.type}\``)}},9977:(e,t,r)=>{"use strict";var n,s,o,i,a,c,l,d;Object.defineProperty(t,"__esModule",{value:!0}),t.ResponseStream=void 0;const u=r(2345),p=r(3269),h=r(4283),f=r(3980);class m extends h.EventStream{constructor(e){super(),n.add(this),s.set(this,void 0),o.set(this,void 0),i.set(this,void 0),u.__classPrivateFieldSet(this,s,e,"f")}static createResponse(e,t,r){const n=new m(t);return n._run(()=>n._createOrRetrieveResponse(e,t,{...r,headers:{...r?.headers,"X-Stainless-Helper-Method":"stream"}})),n}async _createOrRetrieveResponse(e,t,r){const s=r?.signal;let o;s&&(s.aborted&&this.controller.abort(),s.addEventListener("abort",()=>this.controller.abort())),u.__classPrivateFieldGet(this,n,"m",a).call(this);let i=null;"response_id"in t?(o=await e.responses.retrieve(t.response_id,{stream:!0},{...r,signal:this.controller.signal,stream:!0}),i=t.starting_after??null):o=await e.responses.create({...t,stream:!0},{...r,signal:this.controller.signal}),this._connected();for await(const e of o)u.__classPrivateFieldGet(this,n,"m",c).call(this,e,i);if(o.controller.signal?.aborted)throw new p.APIUserAbortError;return u.__classPrivateFieldGet(this,n,"m",l).call(this)}[(s=new WeakMap,o=new WeakMap,i=new WeakMap,n=new WeakSet,a=function(){this.ended||u.__classPrivateFieldSet(this,o,void 0,"f")},c=function(e,t){if(this.ended)return;const r=(e,r)=>{(null==t||r.sequence_number>t)&&this._emit(e,r)},s=u.__classPrivateFieldGet(this,n,"m",d).call(this,e);switch(r("event",e),e.type){case"response.output_text.delta":{const t=s.output[e.output_index];if(!t)throw new p.OpenAIError(`missing output at index ${e.output_index}`);if("message"===t.type){const n=t.content[e.content_index];if(!n)throw new p.OpenAIError(`missing content at index ${e.content_index}`);if("output_text"!==n.type)throw new p.OpenAIError(`expected content to be 'output_text', got ${n.type}`);r("response.output_text.delta",{...e,snapshot:n.text})}break}case"response.function_call_arguments.delta":{const t=s.output[e.output_index];if(!t)throw new p.OpenAIError(`missing output at index ${e.output_index}`);"function_call"===t.type&&r("response.function_call_arguments.delta",{...e,snapshot:t.arguments});break}default:r(e.type,e)}},l=function(){if(this.ended)throw new p.OpenAIError("stream has ended, this shouldn't happen");const e=u.__classPrivateFieldGet(this,o,"f");if(!e)throw new p.OpenAIError("request ended without sending any events");u.__classPrivateFieldSet(this,o,void 0,"f");const t=function(e,t){return(0,f.maybeParseResponse)(e,t)}(e,u.__classPrivateFieldGet(this,s,"f"));return u.__classPrivateFieldSet(this,i,t,"f"),t},d=function(e){let t=u.__classPrivateFieldGet(this,o,"f");if(!t){if("response.created"!==e.type)throw new p.OpenAIError(`When snapshot hasn't been set yet, expected 'response.created' event, got ${e.type}`);return t=u.__classPrivateFieldSet(this,o,e.response,"f"),t}switch(e.type){case"response.output_item.added":t.output.push(e.item);break;case"response.content_part.added":{const r=t.output[e.output_index];if(!r)throw new p.OpenAIError(`missing output at index ${e.output_index}`);"message"===r.type&&r.content.push(e.part);break}case"response.output_text.delta":{const r=t.output[e.output_index];if(!r)throw new p.OpenAIError(`missing output at index ${e.output_index}`);if("message"===r.type){const t=r.content[e.content_index];if(!t)throw new p.OpenAIError(`missing content at index ${e.content_index}`);if("output_text"!==t.type)throw new p.OpenAIError(`expected content to be 'output_text', got ${t.type}`);t.text+=e.delta}break}case"response.function_call_arguments.delta":{const r=t.output[e.output_index];if(!r)throw new p.OpenAIError(`missing output at index ${e.output_index}`);"function_call"===r.type&&(r.arguments+=e.delta);break}case"response.completed":u.__classPrivateFieldSet(this,o,e.response,"f")}return t},Symbol.asyncIterator)](){const e=[],t=[];let r=!1;return this.on("event",r=>{const n=t.shift();n?n.resolve(r):e.push(r)}),this.on("end",()=>{r=!0;for(const e of t)e.resolve(void 0);t.length=0}),this.on("abort",e=>{r=!0;for(const r of t)r.reject(e);t.length=0}),this.on("error",e=>{r=!0;for(const r of t)r.reject(e);t.length=0}),{next:async()=>{if(!e.length)return r?{value:void 0,done:!0}:new Promise((e,r)=>t.push({resolve:e,reject:r})).then(e=>e?{value:e,done:!1}:{value:void 0,done:!0});return{value:e.shift(),done:!1}},return:async()=>(this.abort(),{value:void 0,done:!0})}}async finalResponse(){await this.done();const e=u.__classPrivateFieldGet(this,i,"f");if(!e)throw new p.OpenAIError("stream ended without producing a ChatCompletion");return e}}t.ResponseStream=m},1257:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Audio=void 0;const n=r(2345),s=r(9487),o=n.__importStar(r(40)),i=r(40),a=n.__importStar(r(4031)),c=r(4031),l=n.__importStar(r(2882)),d=r(2882);class u extends s.APIResource{constructor(){super(...arguments),this.transcriptions=new a.Transcriptions(this._client),this.translations=new l.Translations(this._client),this.speech=new o.Speech(this._client)}}t.Audio=u,u.Transcriptions=c.Transcriptions,u.Translations=d.Translations,u.Speech=i.Speech},40:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Speech=void 0;const n=r(9487),s=r(9267);class o extends n.APIResource{create(e,t){return this._client.post("/audio/speech",{body:e,...t,headers:(0,s.buildHeaders)([{Accept:"application/octet-stream"},t?.headers]),__binaryResponse:!0})}}t.Speech=o},4031:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Transcriptions=void 0;const n=r(9487),s=r(5887);class o extends n.APIResource{create(e,t){return this._client.post("/audio/transcriptions",(0,s.multipartFormRequestOptions)({body:e,...t,stream:e.stream??!1,__metadata:{model:e.model}},this._client))}}t.Transcriptions=o},2882:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Translations=void 0;const n=r(9487),s=r(5887);class o extends n.APIResource{create(e,t){return this._client.post("/audio/translations",(0,s.multipartFormRequestOptions)({body:e,...t,__metadata:{model:e.model}},this._client))}}t.Translations=o},257:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Batches=void 0;const n=r(9487),s=r(2155),o=r(2704);class i extends n.APIResource{create(e,t){return this._client.post("/batches",{body:e,...t})}retrieve(e,t){return this._client.get(o.path`/batches/${e}`,t)}list(e={},t){return this._client.getAPIList("/batches",s.CursorPage,{query:e,...t})}cancel(e,t){return this._client.post(o.path`/batches/${e}/cancel`,t)}}t.Batches=i},1627:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Assistants=void 0;const n=r(9487),s=r(2155),o=r(9267),i=r(2704);class a extends n.APIResource{create(e,t){return this._client.post("/assistants",{body:e,...t,headers:(0,o.buildHeaders)([{"OpenAI-Beta":"assistants=v2"},t?.headers])})}retrieve(e,t){return this._client.get(i.path`/assistants/${e}`,{...t,headers:(0,o.buildHeaders)([{"OpenAI-Beta":"assistants=v2"},t?.headers])})}update(e,t,r){return this._client.post(i.path`/assistants/${e}`,{body:t,...r,headers:(0,o.buildHeaders)([{"OpenAI-Beta":"assistants=v2"},r?.headers])})}list(e={},t){return this._client.getAPIList("/assistants",s.CursorPage,{query:e,...t,headers:(0,o.buildHeaders)([{"OpenAI-Beta":"assistants=v2"},t?.headers])})}delete(e,t){return this._client.delete(i.path`/assistants/${e}`,{...t,headers:(0,o.buildHeaders)([{"OpenAI-Beta":"assistants=v2"},t?.headers])})}}t.Assistants=a},8852:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Beta=void 0;const n=r(2345),s=r(9487),o=n.__importStar(r(1627)),i=r(1627),a=n.__importStar(r(5367)),c=r(5367),l=n.__importStar(r(6847)),d=r(6847);class u extends s.APIResource{constructor(){super(...arguments),this.realtime=new a.Realtime(this._client),this.assistants=new o.Assistants(this._client),this.threads=new l.Threads(this._client)}}t.Beta=u,u.Realtime=c.Realtime,u.Assistants=i.Assistants,u.Threads=d.Threads},5367:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Realtime=void 0;const n=r(2345),s=r(9487),o=n.__importStar(r(1015)),i=r(1015),a=n.__importStar(r(6900)),c=r(6900);class l extends s.APIResource{constructor(){super(...arguments),this.sessions=new o.Sessions(this._client),this.transcriptionSessions=new a.TranscriptionSessions(this._client)}}t.Realtime=l,l.Sessions=i.Sessions,l.TranscriptionSessions=c.TranscriptionSessions},1015:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Sessions=void 0;const n=r(9487),s=r(9267);class o extends n.APIResource{create(e,t){return this._client.post("/realtime/sessions",{body:e,...t,headers:(0,s.buildHeaders)([{"OpenAI-Beta":"assistants=v2"},t?.headers])})}}t.Sessions=o},6900:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TranscriptionSessions=void 0;const n=r(9487),s=r(9267);class o extends n.APIResource{create(e,t){return this._client.post("/realtime/transcription_sessions",{body:e,...t,headers:(0,s.buildHeaders)([{"OpenAI-Beta":"assistants=v2"},t?.headers])})}}t.TranscriptionSessions=o},6648:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Messages=void 0;const n=r(9487),s=r(2155),o=r(9267),i=r(2704);class a extends n.APIResource{create(e,t,r){return this._client.post(i.path`/threads/${e}/messages`,{body:t,...r,headers:(0,o.buildHeaders)([{"OpenAI-Beta":"assistants=v2"},r?.headers])})}retrieve(e,t,r){const{thread_id:n}=t;return this._client.get(i.path`/threads/${n}/messages/${e}`,{...r,headers:(0,o.buildHeaders)([{"OpenAI-Beta":"assistants=v2"},r?.headers])})}update(e,t,r){const{thread_id:n,...s}=t;return this._client.post(i.path`/threads/${n}/messages/${e}`,{body:s,...r,headers:(0,o.buildHeaders)([{"OpenAI-Beta":"assistants=v2"},r?.headers])})}list(e,t={},r){return this._client.getAPIList(i.path`/threads/${e}/messages`,s.CursorPage,{query:t,...r,headers:(0,o.buildHeaders)([{"OpenAI-Beta":"assistants=v2"},r?.headers])})}delete(e,t,r){const{thread_id:n}=t;return this._client.delete(i.path`/threads/${n}/messages/${e}`,{...r,headers:(0,o.buildHeaders)([{"OpenAI-Beta":"assistants=v2"},r?.headers])})}}t.Messages=a},3051:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Runs=void 0;const n=r(2345),s=r(9487),o=n.__importStar(r(9201)),i=r(9201),a=r(2155),c=r(9267),l=r(723),d=r(5668),u=r(2704);class p extends s.APIResource{constructor(){super(...arguments),this.steps=new o.Steps(this._client)}create(e,t,r){const{include:n,...s}=t;return this._client.post(u.path`/threads/${e}/runs`,{query:{include:n},body:s,...r,headers:(0,c.buildHeaders)([{"OpenAI-Beta":"assistants=v2"},r?.headers]),stream:t.stream??!1})}retrieve(e,t,r){const{thread_id:n}=t;return this._client.get(u.path`/threads/${n}/runs/${e}`,{...r,headers:(0,c.buildHeaders)([{"OpenAI-Beta":"assistants=v2"},r?.headers])})}update(e,t,r){const{thread_id:n,...s}=t;return this._client.post(u.path`/threads/${n}/runs/${e}`,{body:s,...r,headers:(0,c.buildHeaders)([{"OpenAI-Beta":"assistants=v2"},r?.headers])})}list(e,t={},r){return this._client.getAPIList(u.path`/threads/${e}/runs`,a.CursorPage,{query:t,...r,headers:(0,c.buildHeaders)([{"OpenAI-Beta":"assistants=v2"},r?.headers])})}cancel(e,t,r){const{thread_id:n}=t;return this._client.post(u.path`/threads/${n}/runs/${e}/cancel`,{...r,headers:(0,c.buildHeaders)([{"OpenAI-Beta":"assistants=v2"},r?.headers])})}async createAndPoll(e,t,r){const n=await this.create(e,t,r);return await this.poll(n.id,{thread_id:e},r)}createAndStream(e,t,r){return l.AssistantStream.createAssistantStream(e,this._client.beta.threads.runs,t,r)}async poll(e,t,r){const n=(0,c.buildHeaders)([r?.headers,{"X-Stainless-Poll-Helper":"true","X-Stainless-Custom-Poll-Interval":r?.pollIntervalMs?.toString()??void 0}]);for(;;){const{data:s,response:o}=await this.retrieve(e,t,{...r,headers:{...r?.headers,...n}}).withResponse();switch(s.status){case"queued":case"in_progress":case"cancelling":let e=5e3;if(r?.pollIntervalMs)e=r.pollIntervalMs;else{const t=o.headers.get("openai-poll-after-ms");if(t){const r=parseInt(t);isNaN(r)||(e=r)}}await(0,d.sleep)(e);break;case"requires_action":case"incomplete":case"cancelled":case"completed":case"failed":case"expired":return s}}}stream(e,t,r){return l.AssistantStream.createAssistantStream(e,this._client.beta.threads.runs,t,r)}submitToolOutputs(e,t,r){const{thread_id:n,...s}=t;return this._client.post(u.path`/threads/${n}/runs/${e}/submit_tool_outputs`,{body:s,...r,headers:(0,c.buildHeaders)([{"OpenAI-Beta":"assistants=v2"},r?.headers]),stream:t.stream??!1})}async submitToolOutputsAndPoll(e,t,r){const n=await this.submitToolOutputs(e,t,r);return await this.poll(n.id,t,r)}submitToolOutputsStream(e,t,r){return l.AssistantStream.createToolAssistantStream(e,this._client.beta.threads.runs,t,r)}}t.Runs=p,p.Steps=i.Steps},9201:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Steps=void 0;const n=r(9487),s=r(2155),o=r(9267),i=r(2704);class a extends n.APIResource{retrieve(e,t,r){const{thread_id:n,run_id:s,...a}=t;return this._client.get(i.path`/threads/${n}/runs/${s}/steps/${e}`,{query:a,...r,headers:(0,o.buildHeaders)([{"OpenAI-Beta":"assistants=v2"},r?.headers])})}list(e,t,r){const{thread_id:n,...a}=t;return this._client.getAPIList(i.path`/threads/${n}/runs/${e}/steps`,s.CursorPage,{query:a,...r,headers:(0,o.buildHeaders)([{"OpenAI-Beta":"assistants=v2"},r?.headers])})}}t.Steps=a},6847:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Threads=void 0;const n=r(2345),s=r(9487),o=n.__importStar(r(6648)),i=r(6648),a=n.__importStar(r(3051)),c=r(3051),l=r(9267),d=r(723),u=r(2704);class p extends s.APIResource{constructor(){super(...arguments),this.runs=new a.Runs(this._client),this.messages=new o.Messages(this._client)}create(e={},t){return this._client.post("/threads",{body:e,...t,headers:(0,l.buildHeaders)([{"OpenAI-Beta":"assistants=v2"},t?.headers])})}retrieve(e,t){return this._client.get(u.path`/threads/${e}`,{...t,headers:(0,l.buildHeaders)([{"OpenAI-Beta":"assistants=v2"},t?.headers])})}update(e,t,r){return this._client.post(u.path`/threads/${e}`,{body:t,...r,headers:(0,l.buildHeaders)([{"OpenAI-Beta":"assistants=v2"},r?.headers])})}delete(e,t){return this._client.delete(u.path`/threads/${e}`,{...t,headers:(0,l.buildHeaders)([{"OpenAI-Beta":"assistants=v2"},t?.headers])})}createAndRun(e,t){return this._client.post("/threads/runs",{body:e,...t,headers:(0,l.buildHeaders)([{"OpenAI-Beta":"assistants=v2"},t?.headers]),stream:e.stream??!1})}async createAndRunPoll(e,t){const r=await this.createAndRun(e,t);return await this.runs.poll(r.id,{thread_id:r.thread_id},t)}createAndRunStream(e,t){return d.AssistantStream.createThreadAssistantStream(e,this._client.beta.threads,t)}}t.Threads=p,p.Runs=c.Runs,p.Messages=i.Messages},3164:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Chat=void 0;const n=r(2345),s=r(9487),o=n.__importStar(r(1963)),i=r(1963);class a extends s.APIResource{constructor(){super(...arguments),this.completions=new o.Completions(this._client)}}t.Chat=a,a.Completions=i.Completions},1963:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ChatCompletionRunner=t.ChatCompletionStream=t.ParsingToolFunction=t.ChatCompletionStreamingRunner=t.Completions=void 0;const n=r(2345),s=r(9487),o=n.__importStar(r(7294)),i=r(7294),a=r(2155),c=r(2704),l=r(2509),d=r(997),u=r(3559),p=r(1368);class h extends s.APIResource{constructor(){super(...arguments),this.messages=new o.Messages(this._client)}create(e,t){return this._client.post("/chat/completions",{body:e,...t,stream:e.stream??!1})}retrieve(e,t){return this._client.get(c.path`/chat/completions/${e}`,t)}update(e,t,r){return this._client.post(c.path`/chat/completions/${e}`,{body:t,...r})}list(e={},t){return this._client.getAPIList("/chat/completions",a.CursorPage,{query:e,...t})}delete(e,t){return this._client.delete(c.path`/chat/completions/${e}`,t)}parse(e,t){return(0,p.validateInputTools)(e.tools),this._client.chat.completions.create(e,{...t,headers:{...t?.headers,"X-Stainless-Helper-Method":"chat.completions.parse"}})._thenUnwrap(t=>(0,p.parseChatCompletion)(t,e))}runTools(e,t){return e.stream?d.ChatCompletionStreamingRunner.runTools(this._client,e,t):l.ChatCompletionRunner.runTools(this._client,e,t)}stream(e,t){return u.ChatCompletionStream.createChatCompletion(this._client,e,t)}}t.Completions=h;var f=r(997);Object.defineProperty(t,"ChatCompletionStreamingRunner",{enumerable:!0,get:function(){return f.ChatCompletionStreamingRunner}});var m=r(9802);Object.defineProperty(t,"ParsingToolFunction",{enumerable:!0,get:function(){return m.ParsingToolFunction}});var g=r(3559);Object.defineProperty(t,"ChatCompletionStream",{enumerable:!0,get:function(){return g.ChatCompletionStream}});var y=r(2509);Object.defineProperty(t,"ChatCompletionRunner",{enumerable:!0,get:function(){return y.ChatCompletionRunner}}),h.Messages=i.Messages},3768:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Messages=t.Completions=void 0;const n=r(2345);var s=r(1963);Object.defineProperty(t,"Completions",{enumerable:!0,get:function(){return s.Completions}}),n.__exportStar(r(1963),t);var o=r(7294);Object.defineProperty(t,"Messages",{enumerable:!0,get:function(){return o.Messages}})},7294:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Messages=void 0;const n=r(9487),s=r(2155),o=r(2704);class i extends n.APIResource{list(e,t={},r){return this._client.getAPIList(o.path`/chat/completions/${e}/messages`,s.CursorPage,{query:t,...r})}}t.Messages=i},9436:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Completions=t.Chat=void 0;var n=r(3164);Object.defineProperty(t,"Chat",{enumerable:!0,get:function(){return n.Chat}});var s=r(3768);Object.defineProperty(t,"Completions",{enumerable:!0,get:function(){return s.Completions}})},4066:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Completions=void 0;const n=r(9487);class s extends n.APIResource{create(e,t){return this._client.post("/completions",{body:e,...t,stream:e.stream??!1})}}t.Completions=s},5764:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Containers=void 0;const n=r(2345),s=r(9487),o=n.__importStar(r(8217)),i=r(8217),a=r(2155),c=r(9267),l=r(2704);class d extends s.APIResource{constructor(){super(...arguments),this.files=new o.Files(this._client)}create(e,t){return this._client.post("/containers",{body:e,...t})}retrieve(e,t){return this._client.get(l.path`/containers/${e}`,t)}list(e={},t){return this._client.getAPIList("/containers",a.CursorPage,{query:e,...t})}delete(e,t){return this._client.delete(l.path`/containers/${e}`,{...t,headers:(0,c.buildHeaders)([{Accept:"*/*"},t?.headers])})}}t.Containers=d,d.Files=i.Files},7479:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Content=void 0;const n=r(9487),s=r(9267),o=r(2704);class i extends n.APIResource{retrieve(e,t,r){const{container_id:n}=t;return this._client.get(o.path`/containers/${n}/files/${e}/content`,{...r,headers:(0,s.buildHeaders)([{Accept:"application/binary"},r?.headers]),__binaryResponse:!0})}}t.Content=i},8217:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Files=void 0;const n=r(2345),s=r(9487),o=n.__importStar(r(7479)),i=r(7479),a=r(2155),c=r(9267),l=r(5887),d=r(2704);class u extends s.APIResource{constructor(){super(...arguments),this.content=new o.Content(this._client)}create(e,t,r){return this._client.post(d.path`/containers/${e}/files`,(0,l.multipartFormRequestOptions)({body:t,...r},this._client))}retrieve(e,t,r){const{container_id:n}=t;return this._client.get(d.path`/containers/${n}/files/${e}`,r)}list(e,t={},r){return this._client.getAPIList(d.path`/containers/${e}/files`,a.CursorPage,{query:t,...r})}delete(e,t,r){const{container_id:n}=t;return this._client.delete(d.path`/containers/${n}/files/${e}`,{...r,headers:(0,c.buildHeaders)([{Accept:"*/*"},r?.headers])})}}t.Files=u,u.Content=i.Content},7435:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Embeddings=void 0;const n=r(9487),s=r(2152);class o extends n.APIResource{create(e,t){const r=!!e.encoding_format;let n=r?e.encoding_format:"base64";r&&(0,s.loggerFor)(this._client).debug("embeddings/user defined encoding_format:",e.encoding_format);const o=this._client.post("/embeddings",{body:{...e,encoding_format:n},...t});return r?o:((0,s.loggerFor)(this._client).debug("embeddings/decoding base64 embeddings from base64"),o._thenUnwrap(e=>(e&&e.data&&e.data.forEach(e=>{const t=e.embedding;e.embedding=(0,s.toFloat32Array)(t)}),e)))}}t.Embeddings=o},4466:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Evals=void 0;const n=r(2345),s=r(9487),o=n.__importStar(r(2908)),i=r(2908),a=r(2155),c=r(2704);class l extends s.APIResource{constructor(){super(...arguments),this.runs=new o.Runs(this._client)}create(e,t){return this._client.post("/evals",{body:e,...t})}retrieve(e,t){return this._client.get(c.path`/evals/${e}`,t)}update(e,t,r){return this._client.post(c.path`/evals/${e}`,{body:t,...r})}list(e={},t){return this._client.getAPIList("/evals",a.CursorPage,{query:e,...t})}delete(e,t){return this._client.delete(c.path`/evals/${e}`,t)}}t.Evals=l,l.Runs=i.Runs},6394:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.OutputItems=void 0;const n=r(9487),s=r(2155),o=r(2704);class i extends n.APIResource{retrieve(e,t,r){const{eval_id:n,run_id:s}=t;return this._client.get(o.path`/evals/${n}/runs/${s}/output_items/${e}`,r)}list(e,t,r){const{eval_id:n,...i}=t;return this._client.getAPIList(o.path`/evals/${n}/runs/${e}/output_items`,s.CursorPage,{query:i,...r})}}t.OutputItems=i},2908:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Runs=void 0;const n=r(2345),s=r(9487),o=n.__importStar(r(6394)),i=r(6394),a=r(2155),c=r(2704);class l extends s.APIResource{constructor(){super(...arguments),this.outputItems=new o.OutputItems(this._client)}create(e,t,r){return this._client.post(c.path`/evals/${e}/runs`,{body:t,...r})}retrieve(e,t,r){const{eval_id:n}=t;return this._client.get(c.path`/evals/${n}/runs/${e}`,r)}list(e,t={},r){return this._client.getAPIList(c.path`/evals/${e}/runs`,a.CursorPage,{query:t,...r})}delete(e,t,r){const{eval_id:n}=t;return this._client.delete(c.path`/evals/${n}/runs/${e}`,r)}cancel(e,t,r){const{eval_id:n}=t;return this._client.post(c.path`/evals/${n}/runs/${e}`,r)}}t.Runs=l,l.OutputItems=i.OutputItems},9230:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Files=void 0;const n=r(9487),s=r(2155),o=r(9267),i=r(5668),a=r(3269),c=r(5887),l=r(2704);class d extends n.APIResource{create(e,t){return this._client.post("/files",(0,c.multipartFormRequestOptions)({body:e,...t},this._client))}retrieve(e,t){return this._client.get(l.path`/files/${e}`,t)}list(e={},t){return this._client.getAPIList("/files",s.CursorPage,{query:e,...t})}delete(e,t){return this._client.delete(l.path`/files/${e}`,t)}content(e,t){return this._client.get(l.path`/files/${e}/content`,{...t,headers:(0,o.buildHeaders)([{Accept:"application/binary"},t?.headers]),__binaryResponse:!0})}async waitForProcessing(e,{pollInterval:t=5e3,maxWait:r=18e5}={}){const n=new Set(["processed","error","deleted"]),s=Date.now();let o=await this.retrieve(e);for(;!o.status||!n.has(o.status);)if(await(0,i.sleep)(t),o=await this.retrieve(e),Date.now()-s>r)throw new a.APIConnectionTimeoutError({message:`Giving up on waiting for file ${e} to finish processing after ${r} milliseconds.`});return o}}t.Files=d},1235:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Alpha=void 0;const n=r(2345),s=r(9487),o=n.__importStar(r(5651)),i=r(5651);class a extends s.APIResource{constructor(){super(...arguments),this.graders=new o.Graders(this._client)}}t.Alpha=a,a.Graders=i.Graders},5651:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Graders=void 0;const n=r(9487);class s extends n.APIResource{run(e,t){return this._client.post("/fine_tuning/alpha/graders/run",{body:e,...t})}validate(e,t){return this._client.post("/fine_tuning/alpha/graders/validate",{body:e,...t})}}t.Graders=s},9995:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Checkpoints=void 0;const n=r(2345),s=r(9487),o=n.__importStar(r(7432)),i=r(7432);class a extends s.APIResource{constructor(){super(...arguments),this.permissions=new o.Permissions(this._client)}}t.Checkpoints=a,a.Permissions=i.Permissions},7432:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Permissions=void 0;const n=r(9487),s=r(2155),o=r(2704);class i extends n.APIResource{create(e,t,r){return this._client.getAPIList(o.path`/fine_tuning/checkpoints/${e}/permissions`,s.Page,{body:t,method:"post",...r})}retrieve(e,t={},r){return this._client.get(o.path`/fine_tuning/checkpoints/${e}/permissions`,{query:t,...r})}delete(e,t,r){const{fine_tuned_model_checkpoint:n}=t;return this._client.delete(o.path`/fine_tuning/checkpoints/${n}/permissions/${e}`,r)}}t.Permissions=i},198:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.FineTuning=void 0;const n=r(2345),s=r(9487),o=n.__importStar(r(838)),i=r(838),a=n.__importStar(r(1235)),c=r(1235),l=n.__importStar(r(9995)),d=r(9995),u=n.__importStar(r(1757)),p=r(1757);class h extends s.APIResource{constructor(){super(...arguments),this.methods=new o.Methods(this._client),this.jobs=new u.Jobs(this._client),this.checkpoints=new l.Checkpoints(this._client),this.alpha=new a.Alpha(this._client)}}t.FineTuning=h,h.Methods=i.Methods,h.Jobs=p.Jobs,h.Checkpoints=d.Checkpoints,h.Alpha=c.Alpha},590:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Checkpoints=void 0;const n=r(9487),s=r(2155),o=r(2704);class i extends n.APIResource{list(e,t={},r){return this._client.getAPIList(o.path`/fine_tuning/jobs/${e}/checkpoints`,s.CursorPage,{query:t,...r})}}t.Checkpoints=i},1757:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Jobs=void 0;const n=r(2345),s=r(9487),o=n.__importStar(r(590)),i=r(590),a=r(2155),c=r(2704);class l extends s.APIResource{constructor(){super(...arguments),this.checkpoints=new o.Checkpoints(this._client)}create(e,t){return this._client.post("/fine_tuning/jobs",{body:e,...t})}retrieve(e,t){return this._client.get(c.path`/fine_tuning/jobs/${e}`,t)}list(e={},t){return this._client.getAPIList("/fine_tuning/jobs",a.CursorPage,{query:e,...t})}cancel(e,t){return this._client.post(c.path`/fine_tuning/jobs/${e}/cancel`,t)}listEvents(e,t={},r){return this._client.getAPIList(c.path`/fine_tuning/jobs/${e}/events`,a.CursorPage,{query:t,...r})}pause(e,t){return this._client.post(c.path`/fine_tuning/jobs/${e}/pause`,t)}resume(e,t){return this._client.post(c.path`/fine_tuning/jobs/${e}/resume`,t)}}t.Jobs=l,l.Checkpoints=i.Checkpoints},838:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Methods=void 0;const n=r(9487);class s extends n.APIResource{}t.Methods=s},7406:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.GraderModels=void 0;const n=r(9487);class s extends n.APIResource{}t.GraderModels=s},7882:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Graders=void 0;const n=r(2345),s=r(9487),o=n.__importStar(r(7406)),i=r(7406);class a extends s.APIResource{constructor(){super(...arguments),this.graderModels=new o.GraderModels(this._client)}}t.Graders=a,a.GraderModels=i.GraderModels},1395:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Images=void 0;const n=r(9487),s=r(5887);class o extends n.APIResource{createVariation(e,t){return this._client.post("/images/variations",(0,s.multipartFormRequestOptions)({body:e,...t},this._client))}edit(e,t){return this._client.post("/images/edits",(0,s.multipartFormRequestOptions)({body:e,...t,stream:e.stream??!1},this._client))}generate(e,t){return this._client.post("/images/generations",{body:e,...t,stream:e.stream??!1})}}t.Images=o},6889:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Webhooks=t.VectorStores=t.Uploads=t.Responses=t.Moderations=t.Models=t.Images=t.Graders=t.FineTuning=t.Files=t.Evals=t.Embeddings=t.Containers=t.Completions=t.Beta=t.Batches=t.Audio=void 0;const n=r(2345);n.__exportStar(r(9436),t),n.__exportStar(r(156),t);var s=r(1257);Object.defineProperty(t,"Audio",{enumerable:!0,get:function(){return s.Audio}});var o=r(257);Object.defineProperty(t,"Batches",{enumerable:!0,get:function(){return o.Batches}});var i=r(8852);Object.defineProperty(t,"Beta",{enumerable:!0,get:function(){return i.Beta}});var a=r(4066);Object.defineProperty(t,"Completions",{enumerable:!0,get:function(){return a.Completions}});var c=r(5764);Object.defineProperty(t,"Containers",{enumerable:!0,get:function(){return c.Containers}});var l=r(7435);Object.defineProperty(t,"Embeddings",{enumerable:!0,get:function(){return l.Embeddings}});var d=r(4466);Object.defineProperty(t,"Evals",{enumerable:!0,get:function(){return d.Evals}});var u=r(9230);Object.defineProperty(t,"Files",{enumerable:!0,get:function(){return u.Files}});var p=r(198);Object.defineProperty(t,"FineTuning",{enumerable:!0,get:function(){return p.FineTuning}});var h=r(7882);Object.defineProperty(t,"Graders",{enumerable:!0,get:function(){return h.Graders}});var f=r(1395);Object.defineProperty(t,"Images",{enumerable:!0,get:function(){return f.Images}});var m=r(2123);Object.defineProperty(t,"Models",{enumerable:!0,get:function(){return m.Models}});var g=r(8328);Object.defineProperty(t,"Moderations",{enumerable:!0,get:function(){return g.Moderations}});var y=r(1470);Object.defineProperty(t,"Responses",{enumerable:!0,get:function(){return y.Responses}});var b=r(9962);Object.defineProperty(t,"Uploads",{enumerable:!0,get:function(){return b.Uploads}});var v=r(9494);Object.defineProperty(t,"VectorStores",{enumerable:!0,get:function(){return v.VectorStores}});var _=r(5143);Object.defineProperty(t,"Webhooks",{enumerable:!0,get:function(){return _.Webhooks}})},2123:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Models=void 0;const n=r(9487),s=r(2155),o=r(2704);class i extends n.APIResource{retrieve(e,t){return this._client.get(o.path`/models/${e}`,t)}list(e){return this._client.getAPIList("/models",s.Page,e)}delete(e,t){return this._client.delete(o.path`/models/${e}`,t)}}t.Models=i},8328:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Moderations=void 0;const n=r(9487);class s extends n.APIResource{create(e,t){return this._client.post("/moderations",{body:e,...t})}}t.Moderations=s},2915:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.InputItems=void 0;const n=r(9487),s=r(2155),o=r(2704);class i extends n.APIResource{list(e,t={},r){return this._client.getAPIList(o.path`/responses/${e}/input_items`,s.CursorPage,{query:t,...r})}}t.InputItems=i},1470:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Responses=void 0;const n=r(2345),s=r(3980),o=r(9977),i=r(9487),a=n.__importStar(r(2915)),c=r(2915),l=r(9267),d=r(2704);class u extends i.APIResource{constructor(){super(...arguments),this.inputItems=new a.InputItems(this._client)}create(e,t){return this._client.post("/responses",{body:e,...t,stream:e.stream??!1})._thenUnwrap(e=>("object"in e&&"response"===e.object&&(0,s.addOutputText)(e),e))}retrieve(e,t={},r){return this._client.get(d.path`/responses/${e}`,{query:t,...r,stream:t?.stream??!1})._thenUnwrap(e=>("object"in e&&"response"===e.object&&(0,s.addOutputText)(e),e))}delete(e,t){return this._client.delete(d.path`/responses/${e}`,{...t,headers:(0,l.buildHeaders)([{Accept:"*/*"},t?.headers])})}parse(e,t){return this._client.responses.create(e,t)._thenUnwrap(t=>(0,s.parseResponse)(t,e))}stream(e,t){return o.ResponseStream.createResponse(this._client,e,t)}cancel(e,t){return this._client.post(d.path`/responses/${e}/cancel`,t)}}t.Responses=u,u.InputItems=c.InputItems},156:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},2066:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Parts=void 0;const n=r(9487),s=r(5887),o=r(2704);class i extends n.APIResource{create(e,t,r){return this._client.post(o.path`/uploads/${e}/parts`,(0,s.multipartFormRequestOptions)({body:t,...r},this._client))}}t.Parts=i},9962:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Uploads=void 0;const n=r(2345),s=r(9487),o=n.__importStar(r(2066)),i=r(2066),a=r(2704);class c extends s.APIResource{constructor(){super(...arguments),this.parts=new o.Parts(this._client)}create(e,t){return this._client.post("/uploads",{body:e,...t})}cancel(e,t){return this._client.post(a.path`/uploads/${e}/cancel`,t)}complete(e,t,r){return this._client.post(a.path`/uploads/${e}/complete`,{body:t,...r})}}t.Uploads=c,c.Parts=i.Parts},9527:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.FileBatches=void 0;const n=r(9487),s=r(2155),o=r(9267),i=r(5668),a=r(3831),c=r(2704);class l extends n.APIResource{create(e,t,r){return this._client.post(c.path`/vector_stores/${e}/file_batches`,{body:t,...r,headers:(0,o.buildHeaders)([{"OpenAI-Beta":"assistants=v2"},r?.headers])})}retrieve(e,t,r){const{vector_store_id:n}=t;return this._client.get(c.path`/vector_stores/${n}/file_batches/${e}`,{...r,headers:(0,o.buildHeaders)([{"OpenAI-Beta":"assistants=v2"},r?.headers])})}cancel(e,t,r){const{vector_store_id:n}=t;return this._client.post(c.path`/vector_stores/${n}/file_batches/${e}/cancel`,{...r,headers:(0,o.buildHeaders)([{"OpenAI-Beta":"assistants=v2"},r?.headers])})}async createAndPoll(e,t,r){const n=await this.create(e,t);return await this.poll(e,n.id,r)}listFiles(e,t,r){const{vector_store_id:n,...i}=t;return this._client.getAPIList(c.path`/vector_stores/${n}/file_batches/${e}/files`,s.CursorPage,{query:i,...r,headers:(0,o.buildHeaders)([{"OpenAI-Beta":"assistants=v2"},r?.headers])})}async poll(e,t,r){const n=(0,o.buildHeaders)([r?.headers,{"X-Stainless-Poll-Helper":"true","X-Stainless-Custom-Poll-Interval":r?.pollIntervalMs?.toString()??void 0}]);for(;;){const{data:s,response:o}=await this.retrieve(t,{vector_store_id:e},{...r,headers:n}).withResponse();switch(s.status){case"in_progress":let e=5e3;if(r?.pollIntervalMs)e=r.pollIntervalMs;else{const t=o.headers.get("openai-poll-after-ms");if(t){const r=parseInt(t);isNaN(r)||(e=r)}}await(0,i.sleep)(e);break;case"failed":case"cancelled":case"completed":return s}}}async uploadAndPoll(e,{files:t,fileIds:r=[]},n){if(null==t||0==t.length)throw new Error("No `files` provided to process. If you've already uploaded files you should use `.createAndPoll()` instead");const s=n?.maxConcurrency??5,o=Math.min(s,t.length),i=this._client,c=t.values(),l=[...r];const d=Array(o).fill(c).map(async function(e){for(let t of e){const e=await i.files.create({file:t,purpose:"assistants"},n);l.push(e.id)}});return await(0,a.allSettledWithThrow)(d),await this.createAndPoll(e,{file_ids:l})}}t.FileBatches=l},49:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Files=void 0;const n=r(9487),s=r(2155),o=r(9267),i=r(2152),a=r(2704);class c extends n.APIResource{create(e,t,r){return this._client.post(a.path`/vector_stores/${e}/files`,{body:t,...r,headers:(0,o.buildHeaders)([{"OpenAI-Beta":"assistants=v2"},r?.headers])})}retrieve(e,t,r){const{vector_store_id:n}=t;return this._client.get(a.path`/vector_stores/${n}/files/${e}`,{...r,headers:(0,o.buildHeaders)([{"OpenAI-Beta":"assistants=v2"},r?.headers])})}update(e,t,r){const{vector_store_id:n,...s}=t;return this._client.post(a.path`/vector_stores/${n}/files/${e}`,{body:s,...r,headers:(0,o.buildHeaders)([{"OpenAI-Beta":"assistants=v2"},r?.headers])})}list(e,t={},r){return this._client.getAPIList(a.path`/vector_stores/${e}/files`,s.CursorPage,{query:t,...r,headers:(0,o.buildHeaders)([{"OpenAI-Beta":"assistants=v2"},r?.headers])})}delete(e,t,r){const{vector_store_id:n}=t;return this._client.delete(a.path`/vector_stores/${n}/files/${e}`,{...r,headers:(0,o.buildHeaders)([{"OpenAI-Beta":"assistants=v2"},r?.headers])})}async createAndPoll(e,t,r){const n=await this.create(e,t,r);return await this.poll(e,n.id,r)}async poll(e,t,r){const n=(0,o.buildHeaders)([r?.headers,{"X-Stainless-Poll-Helper":"true","X-Stainless-Custom-Poll-Interval":r?.pollIntervalMs?.toString()??void 0}]);for(;;){const s=await this.retrieve(t,{vector_store_id:e},{...r,headers:n}).withResponse(),o=s.data;switch(o.status){case"in_progress":let e=5e3;if(r?.pollIntervalMs)e=r.pollIntervalMs;else{const t=s.response.headers.get("openai-poll-after-ms");if(t){const r=parseInt(t);isNaN(r)||(e=r)}}await(0,i.sleep)(e);break;case"failed":case"completed":return o}}}async upload(e,t,r){const n=await this._client.files.create({file:t,purpose:"assistants"},r);return this.create(e,{file_id:n.id},r)}async uploadAndPoll(e,t,r){const n=await this.upload(e,t,r);return await this.poll(e,n.id,r)}content(e,t,r){const{vector_store_id:n}=t;return this._client.getAPIList(a.path`/vector_stores/${n}/files/${e}/content`,s.Page,{...r,headers:(0,o.buildHeaders)([{"OpenAI-Beta":"assistants=v2"},r?.headers])})}}t.Files=c},9494:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.VectorStores=void 0;const n=r(2345),s=r(9487),o=n.__importStar(r(9527)),i=r(9527),a=n.__importStar(r(49)),c=r(49),l=r(2155),d=r(9267),u=r(2704);class p extends s.APIResource{constructor(){super(...arguments),this.files=new a.Files(this._client),this.fileBatches=new o.FileBatches(this._client)}create(e,t){return this._client.post("/vector_stores",{body:e,...t,headers:(0,d.buildHeaders)([{"OpenAI-Beta":"assistants=v2"},t?.headers])})}retrieve(e,t){return this._client.get(u.path`/vector_stores/${e}`,{...t,headers:(0,d.buildHeaders)([{"OpenAI-Beta":"assistants=v2"},t?.headers])})}update(e,t,r){return this._client.post(u.path`/vector_stores/${e}`,{body:t,...r,headers:(0,d.buildHeaders)([{"OpenAI-Beta":"assistants=v2"},r?.headers])})}list(e={},t){return this._client.getAPIList("/vector_stores",l.CursorPage,{query:e,...t,headers:(0,d.buildHeaders)([{"OpenAI-Beta":"assistants=v2"},t?.headers])})}delete(e,t){return this._client.delete(u.path`/vector_stores/${e}`,{...t,headers:(0,d.buildHeaders)([{"OpenAI-Beta":"assistants=v2"},t?.headers])})}search(e,t,r){return this._client.getAPIList(u.path`/vector_stores/${e}/search`,l.Page,{body:t,method:"post",...r,headers:(0,d.buildHeaders)([{"OpenAI-Beta":"assistants=v2"},r?.headers])})}}t.VectorStores=p,p.Files=c.Files,p.FileBatches=i.FileBatches},5143:(e,t,r)=>{"use strict";var n,s,o;Object.defineProperty(t,"__esModule",{value:!0}),t.Webhooks=void 0;const i=r(2345),a=r(3269),c=r(9487),l=r(9267);class d extends c.APIResource{constructor(){super(...arguments),n.add(this)}async unwrap(e,t,r=this._client.webhookSecret,n=300){return await this.verifySignature(e,t,r,n),JSON.parse(e)}async verifySignature(e,t,r=this._client.webhookSecret,c=300){if("undefined"==typeof crypto||"function"!=typeof crypto.subtle.importKey||"function"!=typeof crypto.subtle.verify)throw new Error("Webhook signature verification is only supported when the `crypto` global is defined");i.__classPrivateFieldGet(this,n,"m",s).call(this,r);const d=(0,l.buildHeaders)([t]).values,u=i.__classPrivateFieldGet(this,n,"m",o).call(this,d,"webhook-signature"),p=i.__classPrivateFieldGet(this,n,"m",o).call(this,d,"webhook-timestamp"),h=i.__classPrivateFieldGet(this,n,"m",o).call(this,d,"webhook-id"),f=parseInt(p,10);if(isNaN(f))throw new a.InvalidWebhookSignatureError("Invalid webhook timestamp format");const m=Math.floor(Date.now()/1e3);if(m-f>c)throw new a.InvalidWebhookSignatureError("Webhook timestamp is too old");if(f>m+c)throw new a.InvalidWebhookSignatureError("Webhook timestamp is too new");const g=u.split(" ").map(e=>e.startsWith("v1,")?e.substring(3):e),y=r.startsWith("whsec_")?Buffer.from(r.replace("whsec_",""),"base64"):Buffer.from(r,"utf-8"),b=h?`${h}.${p}.${e}`:`${p}.${e}`,v=await crypto.subtle.importKey("raw",y,{name:"HMAC",hash:"SHA-256"},!1,["verify"]);for(const e of g)try{const t=Buffer.from(e,"base64");if(await crypto.subtle.verify("HMAC",v,t,(new TextEncoder).encode(b)))return}catch{continue}throw new a.InvalidWebhookSignatureError("The given webhook signature does not match the expected signature")}}t.Webhooks=d,n=new WeakSet,s=function(e){if("string"!=typeof e||0===e.length)throw new Error("The webhook secret must either be set using the env var, OPENAI_WEBHOOK_SECRET, on the client class, OpenAI({ webhookSecret: '123' }), or passed to this function")},o=function(e,t){if(!e)throw new Error("Headers are required");const r=e.get(t);if(null==r)throw new Error(`Missing required header: ${t}`);return r}},1835:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});r(2345).__exportStar(r(7787),t)},3287:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.VERSION=void 0,t.VERSION="5.12.2"},591:e=>{(()=>{"use strict";var t={d:(e,r)=>{for(var n in r)t.o(r,n)&&!t.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:r[n]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r:e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}},r={};t.r(r),t.d(r,{XMLBuilder:()=>he,XMLParser:()=>oe,XMLValidator:()=>ye});const n=":A-Za-z_\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD",s=new RegExp("^["+n+"]["+n+"\\-.\\d\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$");function o(e,t){const r=[];let n=t.exec(e);for(;n;){const s=[];s.startIndex=t.lastIndex-n[0].length;const o=n.length;for(let e=0;e<o;e++)s.push(n[e]);r.push(s),n=t.exec(e)}return r}const i=function(e){return!(null==s.exec(e))},a={allowBooleanAttributes:!1,unpairedTags:[]};function c(e,t){t=Object.assign({},a,t);const r=[];let n=!1,s=!1;"\ufeff"===e[0]&&(e=e.substr(1));for(let o=0;o<e.length;o++)if("<"===e[o]&&"?"===e[o+1]){if(o+=2,o=d(e,o),o.err)return o}else{if("<"!==e[o]){if(l(e[o]))continue;return b("InvalidChar","char '"+e[o]+"' is not expected.",_(e,o))}{let a=o;if(o++,"!"===e[o]){o=u(e,o);continue}{let c=!1;"/"===e[o]&&(c=!0,o++);let p="";for(;o<e.length&&">"!==e[o]&&" "!==e[o]&&"\t"!==e[o]&&"\n"!==e[o]&&"\r"!==e[o];o++)p+=e[o];if(p=p.trim(),"/"===p[p.length-1]&&(p=p.substring(0,p.length-1),o--),!i(p)){let t;return t=0===p.trim().length?"Invalid space after '<'.":"Tag '"+p+"' is an invalid name.",b("InvalidTag",t,_(e,o))}const h=f(e,o);if(!1===h)return b("InvalidAttr","Attributes for '"+p+"' have open quote.",_(e,o));let m=h.value;if(o=h.index,"/"===m[m.length-1]){const r=o-m.length;m=m.substring(0,m.length-1);const s=g(m,t);if(!0!==s)return b(s.err.code,s.err.msg,_(e,r+s.err.line));n=!0}else if(c){if(!h.tagClosed)return b("InvalidTag","Closing tag '"+p+"' doesn't have proper closing.",_(e,o));if(m.trim().length>0)return b("InvalidTag","Closing tag '"+p+"' can't have attributes or invalid starting.",_(e,a));if(0===r.length)return b("InvalidTag","Closing tag '"+p+"' has not been opened.",_(e,a));{const t=r.pop();if(p!==t.tagName){let r=_(e,t.tagStartPos);return b("InvalidTag","Expected closing tag '"+t.tagName+"' (opened in line "+r.line+", col "+r.col+") instead of closing tag '"+p+"'.",_(e,a))}0==r.length&&(s=!0)}}else{const i=g(m,t);if(!0!==i)return b(i.err.code,i.err.msg,_(e,o-m.length+i.err.line));if(!0===s)return b("InvalidXml","Multiple possible root nodes found.",_(e,o));-1!==t.unpairedTags.indexOf(p)||r.push({tagName:p,tagStartPos:a}),n=!0}for(o++;o<e.length;o++)if("<"===e[o]){if("!"===e[o+1]){o++,o=u(e,o);continue}if("?"!==e[o+1])break;if(o=d(e,++o),o.err)return o}else if("&"===e[o]){const t=y(e,o);if(-1==t)return b("InvalidChar","char '&' is not expected.",_(e,o));o=t}else if(!0===s&&!l(e[o]))return b("InvalidXml","Extra text at the end",_(e,o));"<"===e[o]&&o--}}}return n?1==r.length?b("InvalidTag","Unclosed tag '"+r[0].tagName+"'.",_(e,r[0].tagStartPos)):!(r.length>0)||b("InvalidXml","Invalid '"+JSON.stringify(r.map(e=>e.tagName),null,4).replace(/\r?\n/g,"")+"' found.",{line:1,col:1}):b("InvalidXml","Start tag expected.",1)}function l(e){return" "===e||"\t"===e||"\n"===e||"\r"===e}function d(e,t){const r=t;for(;t<e.length;t++)if("?"!=e[t]&&" "!=e[t]);else{const n=e.substr(r,t-r);if(t>5&&"xml"===n)return b("InvalidXml","XML declaration allowed only at the start of the document.",_(e,t));if("?"==e[t]&&">"==e[t+1]){t++;break}}return t}function u(e,t){if(e.length>t+5&&"-"===e[t+1]&&"-"===e[t+2]){for(t+=3;t<e.length;t++)if("-"===e[t]&&"-"===e[t+1]&&">"===e[t+2]){t+=2;break}}else if(e.length>t+8&&"D"===e[t+1]&&"O"===e[t+2]&&"C"===e[t+3]&&"T"===e[t+4]&&"Y"===e[t+5]&&"P"===e[t+6]&&"E"===e[t+7]){let r=1;for(t+=8;t<e.length;t++)if("<"===e[t])r++;else if(">"===e[t]&&(r--,0===r))break}else if(e.length>t+9&&"["===e[t+1]&&"C"===e[t+2]&&"D"===e[t+3]&&"A"===e[t+4]&&"T"===e[t+5]&&"A"===e[t+6]&&"["===e[t+7])for(t+=8;t<e.length;t++)if("]"===e[t]&&"]"===e[t+1]&&">"===e[t+2]){t+=2;break}return t}const p='"',h="'";function f(e,t){let r="",n="",s=!1;for(;t<e.length;t++){if(e[t]===p||e[t]===h)""===n?n=e[t]:n!==e[t]||(n="");else if(">"===e[t]&&""===n){s=!0;break}r+=e[t]}return""===n&&{value:r,index:t,tagClosed:s}}const m=new RegExp("(\\s*)([^\\s=]+)(\\s*=)?(\\s*(['\"])(([\\s\\S])*?)\\5)?","g");function g(e,t){const r=o(e,m),n={};for(let e=0;e<r.length;e++){if(0===r[e][1].length)return b("InvalidAttr","Attribute '"+r[e][2]+"' has no space in starting.",S(r[e]));if(void 0!==r[e][3]&&void 0===r[e][4])return b("InvalidAttr","Attribute '"+r[e][2]+"' is without value.",S(r[e]));if(void 0===r[e][3]&&!t.allowBooleanAttributes)return b("InvalidAttr","boolean attribute '"+r[e][2]+"' is not allowed.",S(r[e]));const s=r[e][2];if(!v(s))return b("InvalidAttr","Attribute '"+s+"' is an invalid name.",S(r[e]));if(n.hasOwnProperty(s))return b("InvalidAttr","Attribute '"+s+"' is repeated.",S(r[e]));n[s]=1}return!0}function y(e,t){if(";"===e[++t])return-1;if("#"===e[t])return function(e,t){let r=/\d/;for("x"===e[t]&&(t++,r=/[\da-fA-F]/);t<e.length;t++){if(";"===e[t])return t;if(!e[t].match(r))break}return-1}(e,++t);let r=0;for(;t<e.length;t++,r++)if(!(e[t].match(/\w/)&&r<20)){if(";"===e[t])break;return-1}return t}function b(e,t,r){return{err:{code:e,msg:t,line:r.line||r,col:r.col}}}function v(e){return i(e)}function _(e,t){const r=e.substring(0,t).split(/\r?\n/);return{line:r.length,col:r[r.length-1].length+1}}function S(e){return e.startIndex+e[1].length}const w={preserveOrder:!1,attributeNamePrefix:"@_",attributesGroupName:!1,textNodeName:"#text",ignoreAttributes:!0,removeNSPrefix:!1,allowBooleanAttributes:!1,parseTagValue:!0,parseAttributeValue:!1,trimValues:!0,cdataPropName:!1,numberParseOptions:{hex:!0,leadingZeros:!0,eNotation:!0},tagValueProcessor:function(e,t){return t},attributeValueProcessor:function(e,t){return t},stopNodes:[],alwaysCreateTextNode:!1,isArray:()=>!1,commentPropName:!1,unpairedTags:[],processEntities:!0,htmlEntities:!1,ignoreDeclaration:!1,ignorePiTags:!1,transformTagName:!1,transformAttributeName:!1,updateTag:function(e,t,r){return e},captureMetaData:!1};let E;E="function"!=typeof Symbol?"@@xmlMetadata":Symbol("XML Node Metadata");class P{constructor(e){this.tagname=e,this.child=[],this[":@"]={}}add(e,t){"__proto__"===e&&(e="#__proto__"),this.child.push({[e]:t})}addChild(e,t){"__proto__"===e.tagname&&(e.tagname="#__proto__"),e[":@"]&&Object.keys(e[":@"]).length>0?this.child.push({[e.tagname]:e.child,":@":e[":@"]}):this.child.push({[e.tagname]:e.child}),void 0!==t&&(this.child[this.child.length-1][E]={startIndex:t})}static getMetaDataSymbol(){return E}}function C(e,t){const r={};if("O"!==e[t+3]||"C"!==e[t+4]||"T"!==e[t+5]||"Y"!==e[t+6]||"P"!==e[t+7]||"E"!==e[t+8])throw new Error("Invalid Tag instead of DOCTYPE");{t+=9;let n=1,s=!1,o=!1,i="";for(;t<e.length;t++)if("<"!==e[t]||o)if(">"===e[t]){if(o?"-"===e[t-1]&&"-"===e[t-2]&&(o=!1,n--):n--,0===n)break}else"["===e[t]?s=!0:i+=e[t];else{if(s&&T(e,"!ENTITY",t)){let n,s;t+=7,[n,s,t]=A(e,t+1),-1===s.indexOf("&")&&(r[n]={regx:RegExp(`&${n};`,"g"),val:s})}else if(s&&T(e,"!ELEMENT",t)){t+=8;const{index:r}=R(e,t+1);t=r}else if(s&&T(e,"!ATTLIST",t))t+=8;else if(s&&T(e,"!NOTATION",t)){t+=9;const{index:r}=x(e,t+1);t=r}else{if(!T(e,"!--",t))throw new Error("Invalid DOCTYPE");o=!0}n++,i=""}if(0!==n)throw new Error("Unclosed DOCTYPE")}return{entities:r,i:t}}const O=(e,t)=>{for(;t<e.length&&/\s/.test(e[t]);)t++;return t};function A(e,t){t=O(e,t);let r="";for(;t<e.length&&!/\s/.test(e[t])&&'"'!==e[t]&&"'"!==e[t];)r+=e[t],t++;if(D(r),t=O(e,t),"SYSTEM"===e.substring(t,t+6).toUpperCase())throw new Error("External entities are not supported");if("%"===e[t])throw new Error("Parameter entities are not supported");let n="";return[t,n]=I(e,t,"entity"),[r,n,--t]}function x(e,t){t=O(e,t);let r="";for(;t<e.length&&!/\s/.test(e[t]);)r+=e[t],t++;D(r),t=O(e,t);const n=e.substring(t,t+6).toUpperCase();if("SYSTEM"!==n&&"PUBLIC"!==n)throw new Error(`Expected SYSTEM or PUBLIC, found "${n}"`);t+=n.length,t=O(e,t);let s=null,o=null;if("PUBLIC"===n)[t,s]=I(e,t,"publicIdentifier"),'"'!==e[t=O(e,t)]&&"'"!==e[t]||([t,o]=I(e,t,"systemIdentifier"));else if("SYSTEM"===n&&([t,o]=I(e,t,"systemIdentifier"),!o))throw new Error("Missing mandatory system identifier for SYSTEM notation");return{notationName:r,publicIdentifier:s,systemIdentifier:o,index:--t}}function I(e,t,r){let n="";const s=e[t];if('"'!==s&&"'"!==s)throw new Error(`Expected quoted string, found "${s}"`);for(t++;t<e.length&&e[t]!==s;)n+=e[t],t++;if(e[t]!==s)throw new Error(`Unterminated ${r} value`);return[++t,n]}function R(e,t){t=O(e,t);let r="";for(;t<e.length&&!/\s/.test(e[t]);)r+=e[t],t++;if(!D(r))throw new Error(`Invalid element name: "${r}"`);let n="";if("E"===e[t=O(e,t)]&&T(e,"MPTY",t))t+=4;else if("A"===e[t]&&T(e,"NY",t))t+=2;else{if("("!==e[t])throw new Error(`Invalid Element Expression, found "${e[t]}"`);for(t++;t<e.length&&")"!==e[t];)n+=e[t],t++;if(")"!==e[t])throw new Error("Unterminated content model")}return{elementName:r,contentModel:n.trim(),index:t}}function T(e,t,r){for(let n=0;n<t.length;n++)if(t[n]!==e[r+n+1])return!1;return!0}function D(e){if(i(e))return e;throw new Error(`Invalid entity name ${e}`)}const N=/^[-+]?0x[a-fA-F0-9]+$/,j=/^([\-\+])?(0*)([0-9]*(\.[0-9]*)?)$/,k={hex:!0,leadingZeros:!0,decimalPoint:".",eNotation:!0},M=/^([-+])?(0*)(\d*(\.\d*)?[eE][-\+]?\d+)$/;function L(e){return"function"==typeof e?e:Array.isArray(e)?t=>{for(const r of e){if("string"==typeof r&&t===r)return!0;if(r instanceof RegExp&&r.test(t))return!0}}:()=>!1}class F{constructor(e){this.options=e,this.currentNode=null,this.tagsNodeStack=[],this.docTypeEntities={},this.lastEntities={apos:{regex:/&(apos|#39|#x27);/g,val:"'"},gt:{regex:/&(gt|#62|#x3E);/g,val:">"},lt:{regex:/&(lt|#60|#x3C);/g,val:"<"},quot:{regex:/&(quot|#34|#x22);/g,val:'"'}},this.ampEntity={regex:/&(amp|#38|#x26);/g,val:"&"},this.htmlEntities={space:{regex:/&(nbsp|#160);/g,val:" "},cent:{regex:/&(cent|#162);/g,val:""},pound:{regex:/&(pound|#163);/g,val:""},yen:{regex:/&(yen|#165);/g,val:""},euro:{regex:/&(euro|#8364);/g,val:""},copyright:{regex:/&(copy|#169);/g,val:""},reg:{regex:/&(reg|#174);/g,val:""},inr:{regex:/&(inr|#8377);/g,val:""},num_dec:{regex:/&#([0-9]{1,7});/g,val:(e,t)=>String.fromCodePoint(Number.parseInt(t,10))},num_hex:{regex:/&#x([0-9a-fA-F]{1,6});/g,val:(e,t)=>String.fromCodePoint(Number.parseInt(t,16))}},this.addExternalEntities=$,this.parseXml=z,this.parseTextData=U,this.resolveNameSpace=B,this.buildAttributesMap=G,this.isItStopNode=J,this.replaceEntitiesValue=W,this.readStopNodeData=Q,this.saveTextToParentTag=V,this.addChild=q,this.ignoreAttributesFn=L(this.options.ignoreAttributes)}}function $(e){const t=Object.keys(e);for(let r=0;r<t.length;r++){const n=t[r];this.lastEntities[n]={regex:new RegExp("&"+n+";","g"),val:e[n]}}}function U(e,t,r,n,s,o,i){if(void 0!==e&&(this.options.trimValues&&!n&&(e=e.trim()),e.length>0)){i||(e=this.replaceEntitiesValue(e));const n=this.options.tagValueProcessor(t,e,r,s,o);return null==n?e:typeof n!=typeof e||n!==e?n:this.options.trimValues||e.trim()===e?Y(e,this.options.parseTagValue,this.options.numberParseOptions):e}}function B(e){if(this.options.removeNSPrefix){const t=e.split(":"),r="/"===e.charAt(0)?"/":"";if("xmlns"===t[0])return"";2===t.length&&(e=r+t[1])}return e}const H=new RegExp("([^\\s=]+)\\s*(=\\s*(['\"])([\\s\\S]*?)\\3)?","gm");function G(e,t,r){if(!0!==this.options.ignoreAttributes&&"string"==typeof e){const r=o(e,H),n=r.length,s={};for(let e=0;e<n;e++){const n=this.resolveNameSpace(r[e][1]);if(this.ignoreAttributesFn(n,t))continue;let o=r[e][4],i=this.options.attributeNamePrefix+n;if(n.length)if(this.options.transformAttributeName&&(i=this.options.transformAttributeName(i)),"__proto__"===i&&(i="#__proto__"),void 0!==o){this.options.trimValues&&(o=o.trim()),o=this.replaceEntitiesValue(o);const e=this.options.attributeValueProcessor(n,o,t);s[i]=null==e?o:typeof e!=typeof o||e!==o?e:Y(o,this.options.parseAttributeValue,this.options.numberParseOptions)}else this.options.allowBooleanAttributes&&(s[i]=!0)}if(!Object.keys(s).length)return;if(this.options.attributesGroupName){const e={};return e[this.options.attributesGroupName]=s,e}return s}}const z=function(e){e=e.replace(/\r\n?/g,"\n");const t=new P("!xml");let r=t,n="",s="";for(let o=0;o<e.length;o++)if("<"===e[o])if("/"===e[o+1]){const t=K(e,">",o,"Closing Tag is not closed.");let i=e.substring(o+2,t).trim();if(this.options.removeNSPrefix){const e=i.indexOf(":");-1!==e&&(i=i.substr(e+1))}this.options.transformTagName&&(i=this.options.transformTagName(i)),r&&(n=this.saveTextToParentTag(n,r,s));const a=s.substring(s.lastIndexOf(".")+1);if(i&&-1!==this.options.unpairedTags.indexOf(i))throw new Error(`Unpaired tag can not be used as closing tag: </${i}>`);let c=0;a&&-1!==this.options.unpairedTags.indexOf(a)?(c=s.lastIndexOf(".",s.lastIndexOf(".")-1),this.tagsNodeStack.pop()):c=s.lastIndexOf("."),s=s.substring(0,c),r=this.tagsNodeStack.pop(),n="",o=t}else if("?"===e[o+1]){let t=X(e,o,!1,"?>");if(!t)throw new Error("Pi Tag is not closed.");if(n=this.saveTextToParentTag(n,r,s),this.options.ignoreDeclaration&&"?xml"===t.tagName||this.options.ignorePiTags);else{const e=new P(t.tagName);e.add(this.options.textNodeName,""),t.tagName!==t.tagExp&&t.attrExpPresent&&(e[":@"]=this.buildAttributesMap(t.tagExp,s,t.tagName)),this.addChild(r,e,s,o)}o=t.closeIndex+1}else if("!--"===e.substr(o+1,3)){const t=K(e,"--\x3e",o+4,"Comment is not closed.");if(this.options.commentPropName){const i=e.substring(o+4,t-2);n=this.saveTextToParentTag(n,r,s),r.add(this.options.commentPropName,[{[this.options.textNodeName]:i}])}o=t}else if("!D"===e.substr(o+1,2)){const t=C(e,o);this.docTypeEntities=t.entities,o=t.i}else if("!["===e.substr(o+1,2)){const t=K(e,"]]>",o,"CDATA is not closed.")-2,i=e.substring(o+9,t);n=this.saveTextToParentTag(n,r,s);let a=this.parseTextData(i,r.tagname,s,!0,!1,!0,!0);null==a&&(a=""),this.options.cdataPropName?r.add(this.options.cdataPropName,[{[this.options.textNodeName]:i}]):r.add(this.options.textNodeName,a),o=t+2}else{let i=X(e,o,this.options.removeNSPrefix),a=i.tagName;const c=i.rawTagName;let l=i.tagExp,d=i.attrExpPresent,u=i.closeIndex;this.options.transformTagName&&(a=this.options.transformTagName(a)),r&&n&&"!xml"!==r.tagname&&(n=this.saveTextToParentTag(n,r,s,!1));const p=r;p&&-1!==this.options.unpairedTags.indexOf(p.tagname)&&(r=this.tagsNodeStack.pop(),s=s.substring(0,s.lastIndexOf("."))),a!==t.tagname&&(s+=s?"."+a:a);const h=o;if(this.isItStopNode(this.options.stopNodes,s,a)){let t="";if(l.length>0&&l.lastIndexOf("/")===l.length-1)"/"===a[a.length-1]?(a=a.substr(0,a.length-1),s=s.substr(0,s.length-1),l=a):l=l.substr(0,l.length-1),o=i.closeIndex;else if(-1!==this.options.unpairedTags.indexOf(a))o=i.closeIndex;else{const r=this.readStopNodeData(e,c,u+1);if(!r)throw new Error(`Unexpected end of ${c}`);o=r.i,t=r.tagContent}const n=new P(a);a!==l&&d&&(n[":@"]=this.buildAttributesMap(l,s,a)),t&&(t=this.parseTextData(t,a,s,!0,d,!0,!0)),s=s.substr(0,s.lastIndexOf(".")),n.add(this.options.textNodeName,t),this.addChild(r,n,s,h)}else{if(l.length>0&&l.lastIndexOf("/")===l.length-1){"/"===a[a.length-1]?(a=a.substr(0,a.length-1),s=s.substr(0,s.length-1),l=a):l=l.substr(0,l.length-1),this.options.transformTagName&&(a=this.options.transformTagName(a));const e=new P(a);a!==l&&d&&(e[":@"]=this.buildAttributesMap(l,s,a)),this.addChild(r,e,s,h),s=s.substr(0,s.lastIndexOf("."))}else{const e=new P(a);this.tagsNodeStack.push(r),a!==l&&d&&(e[":@"]=this.buildAttributesMap(l,s,a)),this.addChild(r,e,s,h),r=e}n="",o=u}}else n+=e[o];return t.child};function q(e,t,r,n){this.options.captureMetaData||(n=void 0);const s=this.options.updateTag(t.tagname,r,t[":@"]);!1===s||("string"==typeof s?(t.tagname=s,e.addChild(t,n)):e.addChild(t,n))}const W=function(e){if(this.options.processEntities){for(let t in this.docTypeEntities){const r=this.docTypeEntities[t];e=e.replace(r.regx,r.val)}for(let t in this.lastEntities){const r=this.lastEntities[t];e=e.replace(r.regex,r.val)}if(this.options.htmlEntities)for(let t in this.htmlEntities){const r=this.htmlEntities[t];e=e.replace(r.regex,r.val)}e=e.replace(this.ampEntity.regex,this.ampEntity.val)}return e};function V(e,t,r,n){return e&&(void 0===n&&(n=0===t.child.length),void 0!==(e=this.parseTextData(e,t.tagname,r,!1,!!t[":@"]&&0!==Object.keys(t[":@"]).length,n))&&""!==e&&t.add(this.options.textNodeName,e),e=""),e}function J(e,t,r){const n="*."+r;for(const r in e){const s=e[r];if(n===s||t===s)return!0}return!1}function K(e,t,r,n){const s=e.indexOf(t,r);if(-1===s)throw new Error(n);return s+t.length-1}function X(e,t,r,n=">"){const s=function(e,t,r=">"){let n,s="";for(let o=t;o<e.length;o++){let t=e[o];if(n)t===n&&(n="");else if('"'===t||"'"===t)n=t;else if(t===r[0]){if(!r[1])return{data:s,index:o};if(e[o+1]===r[1])return{data:s,index:o}}else"\t"===t&&(t=" ");s+=t}}(e,t+1,n);if(!s)return;let o=s.data;const i=s.index,a=o.search(/\s/);let c=o,l=!0;-1!==a&&(c=o.substring(0,a),o=o.substring(a+1).trimStart());const d=c;if(r){const e=c.indexOf(":");-1!==e&&(c=c.substr(e+1),l=c!==s.data.substr(e+1))}return{tagName:c,tagExp:o,closeIndex:i,attrExpPresent:l,rawTagName:d}}function Q(e,t,r){const n=r;let s=1;for(;r<e.length;r++)if("<"===e[r])if("/"===e[r+1]){const o=K(e,">",r,`${t} is not closed`);if(e.substring(r+2,o).trim()===t&&(s--,0===s))return{tagContent:e.substring(n,r),i:o};r=o}else if("?"===e[r+1])r=K(e,"?>",r+1,"StopNode is not closed.");else if("!--"===e.substr(r+1,3))r=K(e,"--\x3e",r+3,"StopNode is not closed.");else if("!["===e.substr(r+1,2))r=K(e,"]]>",r,"StopNode is not closed.")-2;else{const n=X(e,r,">");n&&((n&&n.tagName)===t&&"/"!==n.tagExp[n.tagExp.length-1]&&s++,r=n.closeIndex)}}function Y(e,t,r){if(t&&"string"==typeof e){const t=e.trim();return"true"===t||"false"!==t&&function(e,t={}){if(t=Object.assign({},k,t),!e||"string"!=typeof e)return e;let r=e.trim();if(void 0!==t.skipLike&&t.skipLike.test(r))return e;if("0"===e)return 0;if(t.hex&&N.test(r))return function(e){if(parseInt)return parseInt(e,16);if(Number.parseInt)return Number.parseInt(e,16);if(window&&window.parseInt)return window.parseInt(e,16);throw new Error("parseInt, Number.parseInt, window.parseInt are not supported")}(r);if(-1!==r.search(/.+[eE].+/))return function(e,t,r){if(!r.eNotation)return e;const n=t.match(M);if(n){let s=n[1]||"";const o=-1===n[3].indexOf("e")?"E":"e",i=n[2],a=s?e[i.length+1]===o:e[i.length]===o;return i.length>1&&a?e:1!==i.length||!n[3].startsWith(`.${o}`)&&n[3][0]!==o?r.leadingZeros&&!a?(t=(n[1]||"")+n[3],Number(t)):e:Number(t)}return e}(e,r,t);{const s=j.exec(r);if(s){const o=s[1]||"",i=s[2];let a=(n=s[3])&&-1!==n.indexOf(".")?("."===(n=n.replace(/0+$/,""))?n="0":"."===n[0]?n="0"+n:"."===n[n.length-1]&&(n=n.substring(0,n.length-1)),n):n;const c=o?"."===e[i.length+1]:"."===e[i.length];if(!t.leadingZeros&&(i.length>1||1===i.length&&!c))return e;{const n=Number(r),s=String(n);if(0===n||-0===n)return n;if(-1!==s.search(/[eE]/))return t.eNotation?n:e;if(-1!==r.indexOf("."))return"0"===s||s===a||s===`${o}${a}`?n:e;let c=i?a:r;return i?c===s||o+c===s?n:e:c===s||c===o+s?n:e}}return e}var n}(e,r)}return void 0!==e?e:""}const Z=P.getMetaDataSymbol();function ee(e,t){return te(e,t)}function te(e,t,r){let n;const s={};for(let o=0;o<e.length;o++){const i=e[o],a=re(i);let c="";if(c=void 0===r?a:r+"."+a,a===t.textNodeName)void 0===n?n=i[a]:n+=""+i[a];else{if(void 0===a)continue;if(i[a]){let e=te(i[a],t,c);const r=se(e,t);void 0!==i[Z]&&(e[Z]=i[Z]),i[":@"]?ne(e,i[":@"],c,t):1!==Object.keys(e).length||void 0===e[t.textNodeName]||t.alwaysCreateTextNode?0===Object.keys(e).length&&(t.alwaysCreateTextNode?e[t.textNodeName]="":e=""):e=e[t.textNodeName],void 0!==s[a]&&s.hasOwnProperty(a)?(Array.isArray(s[a])||(s[a]=[s[a]]),s[a].push(e)):t.isArray(a,c,r)?s[a]=[e]:s[a]=e}}}return"string"==typeof n?n.length>0&&(s[t.textNodeName]=n):void 0!==n&&(s[t.textNodeName]=n),s}function re(e){const t=Object.keys(e);for(let e=0;e<t.length;e++){const r=t[e];if(":@"!==r)return r}}function ne(e,t,r,n){if(t){const s=Object.keys(t),o=s.length;for(let i=0;i<o;i++){const o=s[i];n.isArray(o,r+"."+o,!0,!0)?e[o]=[t[o]]:e[o]=t[o]}}}function se(e,t){const{textNodeName:r}=t,n=Object.keys(e).length;return 0===n||!(1!==n||!e[r]&&"boolean"!=typeof e[r]&&0!==e[r])}class oe{constructor(e){this.externalEntities={},this.options=function(e){return Object.assign({},w,e)}(e)}parse(e,t){if("string"==typeof e);else{if(!e.toString)throw new Error("XML data is accepted in String or Bytes[] form.");e=e.toString()}if(t){!0===t&&(t={});const r=c(e,t);if(!0!==r)throw Error(`${r.err.msg}:${r.err.line}:${r.err.col}`)}const r=new F(this.options);r.addExternalEntities(this.externalEntities);const n=r.parseXml(e);return this.options.preserveOrder||void 0===n?n:ee(n,this.options)}addEntity(e,t){if(-1!==t.indexOf("&"))throw new Error("Entity value can't have '&'");if(-1!==e.indexOf("&")||-1!==e.indexOf(";"))throw new Error("An entity must be set without '&' and ';'. Eg. use '#xD' for '&#xD;'");if("&"===t)throw new Error("An entity with value '&' is not permitted");this.externalEntities[e]=t}static getMetaDataSymbol(){return P.getMetaDataSymbol()}}function ie(e,t){let r="";return t.format&&t.indentBy.length>0&&(r="\n"),ae(e,t,"",r)}function ae(e,t,r,n){let s="",o=!1;for(let i=0;i<e.length;i++){const a=e[i],c=ce(a);if(void 0===c)continue;let l="";if(l=0===r.length?c:`${r}.${c}`,c===t.textNodeName){let e=a[c];de(l,t)||(e=t.tagValueProcessor(c,e),e=ue(e,t)),o&&(s+=n),s+=e,o=!1;continue}if(c===t.cdataPropName){o&&(s+=n),s+=`<![CDATA[${a[c][0][t.textNodeName]}]]>`,o=!1;continue}if(c===t.commentPropName){s+=n+`\x3c!--${a[c][0][t.textNodeName]}--\x3e`,o=!0;continue}if("?"===c[0]){const e=le(a[":@"],t),r="?xml"===c?"":n;let i=a[c][0][t.textNodeName];i=0!==i.length?" "+i:"",s+=r+`<${c}${i}${e}?>`,o=!0;continue}let d=n;""!==d&&(d+=t.indentBy);const u=n+`<${c}${le(a[":@"],t)}`,p=ae(a[c],t,l,d);-1!==t.unpairedTags.indexOf(c)?t.suppressUnpairedNode?s+=u+">":s+=u+"/>":p&&0!==p.length||!t.suppressEmptyNode?p&&p.endsWith(">")?s+=u+`>${p}${n}</${c}>`:(s+=u+">",p&&""!==n&&(p.includes("/>")||p.includes("</"))?s+=n+t.indentBy+p+n:s+=p,s+=`</${c}>`):s+=u+"/>",o=!0}return s}function ce(e){const t=Object.keys(e);for(let r=0;r<t.length;r++){const n=t[r];if(e.hasOwnProperty(n)&&":@"!==n)return n}}function le(e,t){let r="";if(e&&!t.ignoreAttributes)for(let n in e){if(!e.hasOwnProperty(n))continue;let s=t.attributeValueProcessor(n,e[n]);s=ue(s,t),!0===s&&t.suppressBooleanAttributes?r+=` ${n.substr(t.attributeNamePrefix.length)}`:r+=` ${n.substr(t.attributeNamePrefix.length)}="${s}"`}return r}function de(e,t){let r=(e=e.substr(0,e.length-t.textNodeName.length-1)).substr(e.lastIndexOf(".")+1);for(let n in t.stopNodes)if(t.stopNodes[n]===e||t.stopNodes[n]==="*."+r)return!0;return!1}function ue(e,t){if(e&&e.length>0&&t.processEntities)for(let r=0;r<t.entities.length;r++){const n=t.entities[r];e=e.replace(n.regex,n.val)}return e}const pe={attributeNamePrefix:"@_",attributesGroupName:!1,textNodeName:"#text",ignoreAttributes:!0,cdataPropName:!1,format:!1,indentBy:"  ",suppressEmptyNode:!1,suppressUnpairedNode:!0,suppressBooleanAttributes:!0,tagValueProcessor:function(e,t){return t},attributeValueProcessor:function(e,t){return t},preserveOrder:!1,commentPropName:!1,unpairedTags:[],entities:[{regex:new RegExp("&","g"),val:"&amp;"},{regex:new RegExp(">","g"),val:"&gt;"},{regex:new RegExp("<","g"),val:"&lt;"},{regex:new RegExp("'","g"),val:"&apos;"},{regex:new RegExp('"',"g"),val:"&quot;"}],processEntities:!0,stopNodes:[],oneListGroup:!1};function he(e){this.options=Object.assign({},pe,e),!0===this.options.ignoreAttributes||this.options.attributesGroupName?this.isAttribute=function(){return!1}:(this.ignoreAttributesFn=L(this.options.ignoreAttributes),this.attrPrefixLen=this.options.attributeNamePrefix.length,this.isAttribute=ge),this.processTextOrObjNode=fe,this.options.format?(this.indentate=me,this.tagEndChar=">\n",this.newLine="\n"):(this.indentate=function(){return""},this.tagEndChar=">",this.newLine="")}function fe(e,t,r,n){const s=this.j2x(e,r+1,n.concat(t));return void 0!==e[this.options.textNodeName]&&1===Object.keys(e).length?this.buildTextValNode(e[this.options.textNodeName],t,s.attrStr,r):this.buildObjectNode(s.val,t,s.attrStr,r)}function me(e){return this.options.indentBy.repeat(e)}function ge(e){return!(!e.startsWith(this.options.attributeNamePrefix)||e===this.options.textNodeName)&&e.substr(this.attrPrefixLen)}he.prototype.build=function(e){return this.options.preserveOrder?ie(e,this.options):(Array.isArray(e)&&this.options.arrayNodeName&&this.options.arrayNodeName.length>1&&(e={[this.options.arrayNodeName]:e}),this.j2x(e,0,[]).val)},he.prototype.j2x=function(e,t,r){let n="",s="";const o=r.join(".");for(let i in e)if(Object.prototype.hasOwnProperty.call(e,i))if(void 0===e[i])this.isAttribute(i)&&(s+="");else if(null===e[i])this.isAttribute(i)||i===this.options.cdataPropName?s+="":"?"===i[0]?s+=this.indentate(t)+"<"+i+"?"+this.tagEndChar:s+=this.indentate(t)+"<"+i+"/"+this.tagEndChar;else if(e[i]instanceof Date)s+=this.buildTextValNode(e[i],i,"",t);else if("object"!=typeof e[i]){const r=this.isAttribute(i);if(r&&!this.ignoreAttributesFn(r,o))n+=this.buildAttrPairStr(r,""+e[i]);else if(!r)if(i===this.options.textNodeName){let t=this.options.tagValueProcessor(i,""+e[i]);s+=this.replaceEntitiesValue(t)}else s+=this.buildTextValNode(e[i],i,"",t)}else if(Array.isArray(e[i])){const n=e[i].length;let o="",a="";for(let c=0;c<n;c++){const n=e[i][c];if(void 0===n);else if(null===n)"?"===i[0]?s+=this.indentate(t)+"<"+i+"?"+this.tagEndChar:s+=this.indentate(t)+"<"+i+"/"+this.tagEndChar;else if("object"==typeof n)if(this.options.oneListGroup){const e=this.j2x(n,t+1,r.concat(i));o+=e.val,this.options.attributesGroupName&&n.hasOwnProperty(this.options.attributesGroupName)&&(a+=e.attrStr)}else o+=this.processTextOrObjNode(n,i,t,r);else if(this.options.oneListGroup){let e=this.options.tagValueProcessor(i,n);e=this.replaceEntitiesValue(e),o+=e}else o+=this.buildTextValNode(n,i,"",t)}this.options.oneListGroup&&(o=this.buildObjectNode(o,i,a,t)),s+=o}else if(this.options.attributesGroupName&&i===this.options.attributesGroupName){const t=Object.keys(e[i]),r=t.length;for(let s=0;s<r;s++)n+=this.buildAttrPairStr(t[s],""+e[i][t[s]])}else s+=this.processTextOrObjNode(e[i],i,t,r);return{attrStr:n,val:s}},he.prototype.buildAttrPairStr=function(e,t){return t=this.options.attributeValueProcessor(e,""+t),t=this.replaceEntitiesValue(t),this.options.suppressBooleanAttributes&&"true"===t?" "+e:" "+e+'="'+t+'"'},he.prototype.buildObjectNode=function(e,t,r,n){if(""===e)return"?"===t[0]?this.indentate(n)+"<"+t+r+"?"+this.tagEndChar:this.indentate(n)+"<"+t+r+this.closeTag(t)+this.tagEndChar;{let s="</"+t+this.tagEndChar,o="";return"?"===t[0]&&(o="?",s=""),!r&&""!==r||-1!==e.indexOf("<")?!1!==this.options.commentPropName&&t===this.options.commentPropName&&0===o.length?this.indentate(n)+`\x3c!--${e}--\x3e`+this.newLine:this.indentate(n)+"<"+t+r+o+this.tagEndChar+e+this.indentate(n)+s:this.indentate(n)+"<"+t+r+o+">"+e+s}},he.prototype.closeTag=function(e){let t="";return-1!==this.options.unpairedTags.indexOf(e)?this.options.suppressUnpairedNode||(t="/"):t=this.options.suppressEmptyNode?"/":`></${e}`,t},he.prototype.buildTextValNode=function(e,t,r,n){if(!1!==this.options.cdataPropName&&t===this.options.cdataPropName)return this.indentate(n)+`<![CDATA[${e}]]>`+this.newLine;if(!1!==this.options.commentPropName&&t===this.options.commentPropName)return this.indentate(n)+`\x3c!--${e}--\x3e`+this.newLine;if("?"===t[0])return this.indentate(n)+"<"+t+r+"?"+this.tagEndChar;{let s=this.options.tagValueProcessor(t,e);return s=this.replaceEntitiesValue(s),""===s?this.indentate(n)+"<"+t+r+this.closeTag(t)+this.tagEndChar:this.indentate(n)+"<"+t+r+">"+s+"</"+t+this.tagEndChar}},he.prototype.replaceEntitiesValue=function(e){if(e&&e.length>0&&this.options.processEntities)for(let t=0;t<this.options.entities.length;t++){const r=this.options.entities[t];e=e.replace(r.regex,r.val)}return e};const ye={validate:c};e.exports=r})()},7611:e=>{"use strict";e.exports=JSON.parse('{"name":"@aws-sdk/client-cloudwatch-logs","description":"AWS SDK for JavaScript Cloudwatch Logs Client for Node.js, Browser and React Native","version":"3.864.0","scripts":{"build":"concurrently \'yarn:build:cjs\' \'yarn:build:es\' \'yarn:build:types\'","build:cjs":"node ../../scripts/compilation/inline client-cloudwatch-logs","build:es":"tsc -p tsconfig.es.json","build:include:deps":"lerna run --scope $npm_package_name --include-dependencies build","build:types":"tsc -p tsconfig.types.json","build:types:downlevel":"downlevel-dts dist-types dist-types/ts3.4","clean":"rimraf ./dist-* && rimraf *.tsbuildinfo","extract:docs":"api-extractor run --local","generate:client":"node ../../scripts/generate-clients/single-service --solo cloudwatch-logs"},"main":"./dist-cjs/index.js","types":"./dist-types/index.d.ts","module":"./dist-es/index.js","sideEffects":false,"dependencies":{"@aws-crypto/sha256-browser":"5.2.0","@aws-crypto/sha256-js":"5.2.0","@aws-sdk/core":"3.864.0","@aws-sdk/credential-provider-node":"3.864.0","@aws-sdk/middleware-host-header":"3.862.0","@aws-sdk/middleware-logger":"3.862.0","@aws-sdk/middleware-recursion-detection":"3.862.0","@aws-sdk/middleware-user-agent":"3.864.0","@aws-sdk/region-config-resolver":"3.862.0","@aws-sdk/types":"3.862.0","@aws-sdk/util-endpoints":"3.862.0","@aws-sdk/util-user-agent-browser":"3.862.0","@aws-sdk/util-user-agent-node":"3.864.0","@smithy/config-resolver":"^4.1.5","@smithy/core":"^3.8.0","@smithy/eventstream-serde-browser":"^4.0.5","@smithy/eventstream-serde-config-resolver":"^4.1.3","@smithy/eventstream-serde-node":"^4.0.5","@smithy/fetch-http-handler":"^5.1.1","@smithy/hash-node":"^4.0.5","@smithy/invalid-dependency":"^4.0.5","@smithy/middleware-content-length":"^4.0.5","@smithy/middleware-endpoint":"^4.1.18","@smithy/middleware-retry":"^4.1.19","@smithy/middleware-serde":"^4.0.9","@smithy/middleware-stack":"^4.0.5","@smithy/node-config-provider":"^4.1.4","@smithy/node-http-handler":"^4.1.1","@smithy/protocol-http":"^5.1.3","@smithy/smithy-client":"^4.4.10","@smithy/types":"^4.3.2","@smithy/url-parser":"^4.0.5","@smithy/util-base64":"^4.0.0","@smithy/util-body-length-browser":"^4.0.0","@smithy/util-body-length-node":"^4.0.0","@smithy/util-defaults-mode-browser":"^4.0.26","@smithy/util-defaults-mode-node":"^4.0.26","@smithy/util-endpoints":"^3.0.7","@smithy/util-middleware":"^4.0.5","@smithy/util-retry":"^4.0.7","@smithy/util-utf8":"^4.0.0","@types/uuid":"^9.0.1","tslib":"^2.6.2","uuid":"^9.0.1"},"devDependencies":{"@tsconfig/node18":"18.2.4","@types/node":"^18.19.69","concurrently":"7.0.0","downlevel-dts":"0.10.1","rimraf":"3.0.2","typescript":"~5.8.3"},"engines":{"node":">=18.0.0"},"typesVersions":{"<4.0":{"dist-types/*":["dist-types/ts3.4/*"]}},"files":["dist-*/**"],"author":{"name":"AWS SDK for JavaScript Team","url":"https://aws.amazon.com/javascript/"},"license":"Apache-2.0","browser":{"./dist-es/runtimeConfig":"./dist-es/runtimeConfig.browser"},"react-native":{"./dist-es/runtimeConfig":"./dist-es/runtimeConfig.native"},"homepage":"https://github.com/aws/aws-sdk-js-v3/tree/main/clients/client-cloudwatch-logs","repository":{"type":"git","url":"https://github.com/aws/aws-sdk-js-v3.git","directory":"clients/client-cloudwatch-logs"}}')},5188:e=>{"use strict";e.exports=JSON.parse('{"name":"@aws-sdk/client-sso","description":"AWS SDK for JavaScript Sso Client for Node.js, Browser and React Native","version":"3.864.0","scripts":{"build":"concurrently \'yarn:build:cjs\' \'yarn:build:es\' \'yarn:build:types\'","build:cjs":"node ../../scripts/compilation/inline client-sso","build:es":"tsc -p tsconfig.es.json","build:include:deps":"lerna run --scope $npm_package_name --include-dependencies build","build:types":"tsc -p tsconfig.types.json","build:types:downlevel":"downlevel-dts dist-types dist-types/ts3.4","clean":"rimraf ./dist-* && rimraf *.tsbuildinfo","extract:docs":"api-extractor run --local","generate:client":"node ../../scripts/generate-clients/single-service --solo sso"},"main":"./dist-cjs/index.js","types":"./dist-types/index.d.ts","module":"./dist-es/index.js","sideEffects":false,"dependencies":{"@aws-crypto/sha256-browser":"5.2.0","@aws-crypto/sha256-js":"5.2.0","@aws-sdk/core":"3.864.0","@aws-sdk/middleware-host-header":"3.862.0","@aws-sdk/middleware-logger":"3.862.0","@aws-sdk/middleware-recursion-detection":"3.862.0","@aws-sdk/middleware-user-agent":"3.864.0","@aws-sdk/region-config-resolver":"3.862.0","@aws-sdk/types":"3.862.0","@aws-sdk/util-endpoints":"3.862.0","@aws-sdk/util-user-agent-browser":"3.862.0","@aws-sdk/util-user-agent-node":"3.864.0","@smithy/config-resolver":"^4.1.5","@smithy/core":"^3.8.0","@smithy/fetch-http-handler":"^5.1.1","@smithy/hash-node":"^4.0.5","@smithy/invalid-dependency":"^4.0.5","@smithy/middleware-content-length":"^4.0.5","@smithy/middleware-endpoint":"^4.1.18","@smithy/middleware-retry":"^4.1.19","@smithy/middleware-serde":"^4.0.9","@smithy/middleware-stack":"^4.0.5","@smithy/node-config-provider":"^4.1.4","@smithy/node-http-handler":"^4.1.1","@smithy/protocol-http":"^5.1.3","@smithy/smithy-client":"^4.4.10","@smithy/types":"^4.3.2","@smithy/url-parser":"^4.0.5","@smithy/util-base64":"^4.0.0","@smithy/util-body-length-browser":"^4.0.0","@smithy/util-body-length-node":"^4.0.0","@smithy/util-defaults-mode-browser":"^4.0.26","@smithy/util-defaults-mode-node":"^4.0.26","@smithy/util-endpoints":"^3.0.7","@smithy/util-middleware":"^4.0.5","@smithy/util-retry":"^4.0.7","@smithy/util-utf8":"^4.0.0","tslib":"^2.6.2"},"devDependencies":{"@tsconfig/node18":"18.2.4","@types/node":"^18.19.69","concurrently":"7.0.0","downlevel-dts":"0.10.1","rimraf":"3.0.2","typescript":"~5.8.3"},"engines":{"node":">=18.0.0"},"typesVersions":{"<4.0":{"dist-types/*":["dist-types/ts3.4/*"]}},"files":["dist-*/**"],"author":{"name":"AWS SDK for JavaScript Team","url":"https://aws.amazon.com/javascript/"},"license":"Apache-2.0","browser":{"./dist-es/runtimeConfig":"./dist-es/runtimeConfig.browser"},"react-native":{"./dist-es/runtimeConfig":"./dist-es/runtimeConfig.native"},"homepage":"https://github.com/aws/aws-sdk-js-v3/tree/main/clients/client-sso","repository":{"type":"git","url":"https://github.com/aws/aws-sdk-js-v3.git","directory":"clients/client-sso"}}')},4959:e=>{"use strict";e.exports=JSON.parse('{"name":"@aws-sdk/client-sts","description":"AWS SDK for JavaScript Sts Client for Node.js, Browser and React Native","version":"3.864.0","scripts":{"build":"concurrently \'yarn:build:cjs\' \'yarn:build:es\' \'yarn:build:types\'","build:cjs":"node ../../scripts/compilation/inline client-sts","build:es":"tsc -p tsconfig.es.json","build:include:deps":"lerna run --scope $npm_package_name --include-dependencies build","build:types":"rimraf ./dist-types tsconfig.types.tsbuildinfo && tsc -p tsconfig.types.json","build:types:downlevel":"downlevel-dts dist-types dist-types/ts3.4","clean":"rimraf ./dist-* && rimraf *.tsbuildinfo","extract:docs":"api-extractor run --local","generate:client":"node ../../scripts/generate-clients/single-service --solo sts","test":"yarn g:vitest run","test:watch":"yarn g:vitest watch"},"main":"./dist-cjs/index.js","types":"./dist-types/index.d.ts","module":"./dist-es/index.js","sideEffects":false,"dependencies":{"@aws-crypto/sha256-browser":"5.2.0","@aws-crypto/sha256-js":"5.2.0","@aws-sdk/core":"3.864.0","@aws-sdk/credential-provider-node":"3.864.0","@aws-sdk/middleware-host-header":"3.862.0","@aws-sdk/middleware-logger":"3.862.0","@aws-sdk/middleware-recursion-detection":"3.862.0","@aws-sdk/middleware-user-agent":"3.864.0","@aws-sdk/region-config-resolver":"3.862.0","@aws-sdk/types":"3.862.0","@aws-sdk/util-endpoints":"3.862.0","@aws-sdk/util-user-agent-browser":"3.862.0","@aws-sdk/util-user-agent-node":"3.864.0","@smithy/config-resolver":"^4.1.5","@smithy/core":"^3.8.0","@smithy/fetch-http-handler":"^5.1.1","@smithy/hash-node":"^4.0.5","@smithy/invalid-dependency":"^4.0.5","@smithy/middleware-content-length":"^4.0.5","@smithy/middleware-endpoint":"^4.1.18","@smithy/middleware-retry":"^4.1.19","@smithy/middleware-serde":"^4.0.9","@smithy/middleware-stack":"^4.0.5","@smithy/node-config-provider":"^4.1.4","@smithy/node-http-handler":"^4.1.1","@smithy/protocol-http":"^5.1.3","@smithy/smithy-client":"^4.4.10","@smithy/types":"^4.3.2","@smithy/url-parser":"^4.0.5","@smithy/util-base64":"^4.0.0","@smithy/util-body-length-browser":"^4.0.0","@smithy/util-body-length-node":"^4.0.0","@smithy/util-defaults-mode-browser":"^4.0.26","@smithy/util-defaults-mode-node":"^4.0.26","@smithy/util-endpoints":"^3.0.7","@smithy/util-middleware":"^4.0.5","@smithy/util-retry":"^4.0.7","@smithy/util-utf8":"^4.0.0","tslib":"^2.6.2"},"devDependencies":{"@tsconfig/node18":"18.2.4","@types/node":"^18.19.69","concurrently":"7.0.0","downlevel-dts":"0.10.1","rimraf":"3.0.2","typescript":"~5.8.3"},"engines":{"node":">=18.0.0"},"typesVersions":{"<4.0":{"dist-types/*":["dist-types/ts3.4/*"]}},"files":["dist-*/**"],"author":{"name":"AWS SDK for JavaScript Team","url":"https://aws.amazon.com/javascript/"},"license":"Apache-2.0","browser":{"./dist-es/runtimeConfig":"./dist-es/runtimeConfig.browser"},"react-native":{"./dist-es/runtimeConfig":"./dist-es/runtimeConfig.native"},"homepage":"https://github.com/aws/aws-sdk-js-v3/tree/main/clients/client-sts","repository":{"type":"git","url":"https://github.com/aws/aws-sdk-js-v3.git","directory":"clients/client-sts"}}')},9955:e=>{"use strict";e.exports=JSON.parse('{"name":"@aws-sdk/nested-clients","version":"3.864.0","description":"Nested clients for AWS SDK packages.","main":"./dist-cjs/index.js","module":"./dist-es/index.js","types":"./dist-types/index.d.ts","scripts":{"build":"yarn lint && concurrently \'yarn:build:cjs\' \'yarn:build:es\' \'yarn:build:types\'","build:cjs":"node ../../scripts/compilation/inline nested-clients","build:es":"tsc -p tsconfig.es.json","build:include:deps":"lerna run --scope $npm_package_name --include-dependencies build","build:types":"tsc -p tsconfig.types.json","build:types:downlevel":"downlevel-dts dist-types dist-types/ts3.4","clean":"rimraf ./dist-* && rimraf *.tsbuildinfo","lint":"node ../../scripts/validation/submodules-linter.js --pkg nested-clients","test":"yarn g:vitest run","test:watch":"yarn g:vitest watch"},"engines":{"node":">=18.0.0"},"author":{"name":"AWS SDK for JavaScript Team","url":"https://aws.amazon.com/javascript/"},"license":"Apache-2.0","dependencies":{"@aws-crypto/sha256-browser":"5.2.0","@aws-crypto/sha256-js":"5.2.0","@aws-sdk/core":"3.864.0","@aws-sdk/middleware-host-header":"3.862.0","@aws-sdk/middleware-logger":"3.862.0","@aws-sdk/middleware-recursion-detection":"3.862.0","@aws-sdk/middleware-user-agent":"3.864.0","@aws-sdk/region-config-resolver":"3.862.0","@aws-sdk/types":"3.862.0","@aws-sdk/util-endpoints":"3.862.0","@aws-sdk/util-user-agent-browser":"3.862.0","@aws-sdk/util-user-agent-node":"3.864.0","@smithy/config-resolver":"^4.1.5","@smithy/core":"^3.8.0","@smithy/fetch-http-handler":"^5.1.1","@smithy/hash-node":"^4.0.5","@smithy/invalid-dependency":"^4.0.5","@smithy/middleware-content-length":"^4.0.5","@smithy/middleware-endpoint":"^4.1.18","@smithy/middleware-retry":"^4.1.19","@smithy/middleware-serde":"^4.0.9","@smithy/middleware-stack":"^4.0.5","@smithy/node-config-provider":"^4.1.4","@smithy/node-http-handler":"^4.1.1","@smithy/protocol-http":"^5.1.3","@smithy/smithy-client":"^4.4.10","@smithy/types":"^4.3.2","@smithy/url-parser":"^4.0.5","@smithy/util-base64":"^4.0.0","@smithy/util-body-length-browser":"^4.0.0","@smithy/util-body-length-node":"^4.0.0","@smithy/util-defaults-mode-browser":"^4.0.26","@smithy/util-defaults-mode-node":"^4.0.26","@smithy/util-endpoints":"^3.0.7","@smithy/util-middleware":"^4.0.5","@smithy/util-retry":"^4.0.7","@smithy/util-utf8":"^4.0.0","tslib":"^2.6.2"},"devDependencies":{"concurrently":"7.0.0","downlevel-dts":"0.10.1","rimraf":"3.0.2","typescript":"~5.8.3"},"typesVersions":{"<4.0":{"dist-types/*":["dist-types/ts3.4/*"]}},"files":["./sso-oidc.d.ts","./sso-oidc.js","./sts.d.ts","./sts.js","dist-*/**"],"browser":{"./dist-es/submodules/sso-oidc/runtimeConfig":"./dist-es/submodules/sso-oidc/runtimeConfig.browser","./dist-es/submodules/sts/runtimeConfig":"./dist-es/submodules/sts/runtimeConfig.browser"},"react-native":{},"homepage":"https://github.com/aws/aws-sdk-js-v3/tree/main/packages/nested-clients","repository":{"type":"git","url":"https://github.com/aws/aws-sdk-js-v3.git","directory":"packages/nested-clients"},"exports":{"./sso-oidc":{"types":"./dist-types/submodules/sso-oidc/index.d.ts","module":"./dist-es/submodules/sso-oidc/index.js","node":"./dist-cjs/submodules/sso-oidc/index.js","import":"./dist-es/submodules/sso-oidc/index.js","require":"./dist-cjs/submodules/sso-oidc/index.js"},"./sts":{"types":"./dist-types/submodules/sts/index.d.ts","module":"./dist-es/submodules/sts/index.js","node":"./dist-cjs/submodules/sts/index.js","import":"./dist-es/submodules/sts/index.js","require":"./dist-cjs/submodules/sts/index.js"}}}')}},t={};function r(n){var s=t[n];if(void 0!==s)return s.exports;var o=t[n]={exports:{}},i=!0;try{e[n].call(o.exports,o,o.exports,r),i=!1}finally{i&&delete t[n]}return o.exports}void 0!==r&&(r.ab=__dirname+"/");var n=r(9407);module.exports=n})();