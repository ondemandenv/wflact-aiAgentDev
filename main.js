(()=>{var e={4914:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(t,n);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,o)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return o(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.issue=t.issueCommand=void 0;const i=s(n(857)),a=n(302);function c(e,t,n){const r=new l(e,t,n);process.stdout.write(r.toString()+i.EOL)}t.issueCommand=c,t.issue=function(e,t=""){c(e,{},t)};class l{constructor(e,t,n){e||(e="missing.command"),this.command=e,this.properties=t,this.message=n}toString(){let e="::"+this.command;if(this.properties&&Object.keys(this.properties).length>0){e+=" ";let t=!0;for(const n in this.properties)if(this.properties.hasOwnProperty(n)){const r=this.properties[n];r&&(t?t=!1:e+=",",e+=`${n}=${d(r)}`)}}var t;return e+=`::${t=this.message,(0,a.toCommandValue)(t).replace(/%/g,"%25").replace(/\r/g,"%0D").replace(/\n/g,"%0A")}`,e}}function d(e){return(0,a.toCommandValue)(e).replace(/%/g,"%25").replace(/\r/g,"%0D").replace(/\n/g,"%0A").replace(/:/g,"%3A").replace(/,/g,"%2C")}},7484:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(t,n);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,o)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return o(t,e),t},i=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(o,s){function i(e){try{c(r.next(e))}catch(e){s(e)}}function a(e){try{c(r.throw(e))}catch(e){s(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(i,a)}c((r=r.apply(e,t||[])).next())})};Object.defineProperty(t,"__esModule",{value:!0}),t.platform=t.toPlatformPath=t.toWin32Path=t.toPosixPath=t.markdownSummary=t.summary=t.getIDToken=t.getState=t.saveState=t.group=t.endGroup=t.startGroup=t.info=t.notice=t.warning=t.error=t.debug=t.isDebug=t.setFailed=t.setCommandEcho=t.setOutput=t.getBooleanInput=t.getMultilineInput=t.getInput=t.addPath=t.setSecret=t.exportVariable=t.ExitCode=void 0;const a=n(4914),c=n(4753),l=n(302),d=s(n(857)),u=s(n(6928)),p=n(5306);var m;function h(e,t){const n=process.env[`INPUT_${e.replace(/ /g,"_").toUpperCase()}`]||"";if(t&&t.required&&!n)throw new Error(`Input required and not supplied: ${e}`);return t&&!1===t.trimWhitespace?n:n.trim()}function f(e,t={}){(0,a.issueCommand)("error",(0,l.toCommandProperties)(t),e instanceof Error?e.toString():e)}function g(e){(0,a.issue)("group",e)}function y(){(0,a.issue)("endgroup")}!function(e){e[e.Success=0]="Success",e[e.Failure=1]="Failure"}(m||(t.ExitCode=m={})),t.exportVariable=function(e,t){const n=(0,l.toCommandValue)(t);if(process.env[e]=n,process.env.GITHUB_ENV||"")return(0,c.issueFileCommand)("ENV",(0,c.prepareKeyValueMessage)(e,t));(0,a.issueCommand)("set-env",{name:e},n)},t.setSecret=function(e){(0,a.issueCommand)("add-mask",{},e)},t.addPath=function(e){process.env.GITHUB_PATH||""?(0,c.issueFileCommand)("PATH",e):(0,a.issueCommand)("add-path",{},e),process.env.PATH=`${e}${u.delimiter}${process.env.PATH}`},t.getInput=h,t.getMultilineInput=function(e,t){const n=h(e,t).split("\n").filter(e=>""!==e);return t&&!1===t.trimWhitespace?n:n.map(e=>e.trim())},t.getBooleanInput=function(e,t){const n=h(e,t);if(["true","True","TRUE"].includes(n))return!0;if(["false","False","FALSE"].includes(n))return!1;throw new TypeError(`Input does not meet YAML 1.2 "Core Schema" specification: ${e}\nSupport boolean input list: \`true | True | TRUE | false | False | FALSE\``)},t.setOutput=function(e,t){if(process.env.GITHUB_OUTPUT||"")return(0,c.issueFileCommand)("OUTPUT",(0,c.prepareKeyValueMessage)(e,t));process.stdout.write(d.EOL),(0,a.issueCommand)("set-output",{name:e},(0,l.toCommandValue)(t))},t.setCommandEcho=function(e){(0,a.issue)("echo",e?"on":"off")},t.setFailed=function(e){process.exitCode=m.Failure,f(e)},t.isDebug=function(){return"1"===process.env.RUNNER_DEBUG},t.debug=function(e){(0,a.issueCommand)("debug",{},e)},t.error=f,t.warning=function(e,t={}){(0,a.issueCommand)("warning",(0,l.toCommandProperties)(t),e instanceof Error?e.toString():e)},t.notice=function(e,t={}){(0,a.issueCommand)("notice",(0,l.toCommandProperties)(t),e instanceof Error?e.toString():e)},t.info=function(e){process.stdout.write(e+d.EOL)},t.startGroup=g,t.endGroup=y,t.group=function(e,t){return i(this,void 0,void 0,function*(){let n;g(e);try{n=yield t()}finally{y()}return n})},t.saveState=function(e,t){if(process.env.GITHUB_STATE||"")return(0,c.issueFileCommand)("STATE",(0,c.prepareKeyValueMessage)(e,t));(0,a.issueCommand)("save-state",{name:e},(0,l.toCommandValue)(t))},t.getState=function(e){return process.env[`STATE_${e}`]||""},t.getIDToken=function(e){return i(this,void 0,void 0,function*(){return yield p.OidcClient.getIDToken(e)})};var v=n(1847);Object.defineProperty(t,"summary",{enumerable:!0,get:function(){return v.summary}});var b=n(1847);Object.defineProperty(t,"markdownSummary",{enumerable:!0,get:function(){return b.markdownSummary}});var S=n(1976);Object.defineProperty(t,"toPosixPath",{enumerable:!0,get:function(){return S.toPosixPath}}),Object.defineProperty(t,"toWin32Path",{enumerable:!0,get:function(){return S.toWin32Path}}),Object.defineProperty(t,"toPlatformPath",{enumerable:!0,get:function(){return S.toPlatformPath}}),t.platform=s(n(8968))},4753:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(t,n);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,o)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return o(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.prepareKeyValueMessage=t.issueFileCommand=void 0;const i=s(n(6982)),a=s(n(9896)),c=s(n(857)),l=n(302);t.issueFileCommand=function(e,t){const n=process.env[`GITHUB_${e}`];if(!n)throw new Error(`Unable to find environment variable for file command ${e}`);if(!a.existsSync(n))throw new Error(`Missing file at path: ${n}`);a.appendFileSync(n,`${(0,l.toCommandValue)(t)}${c.EOL}`,{encoding:"utf8"})},t.prepareKeyValueMessage=function(e,t){const n=`ghadelimiter_${i.randomUUID()}`,r=(0,l.toCommandValue)(t);if(e.includes(n))throw new Error(`Unexpected input: name should not contain the delimiter "${n}"`);if(r.includes(n))throw new Error(`Unexpected input: value should not contain the delimiter "${n}"`);return`${e}<<${n}${c.EOL}${r}${c.EOL}${n}`}},5306:function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(o,s){function i(e){try{c(r.next(e))}catch(e){s(e)}}function a(e){try{c(r.throw(e))}catch(e){s(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(i,a)}c((r=r.apply(e,t||[])).next())})};Object.defineProperty(t,"__esModule",{value:!0}),t.OidcClient=void 0;const o=n(4844),s=n(4552),i=n(7484);class a{static createHttpClient(e=!0,t=10){const n={allowRetries:e,maxRetries:t};return new o.HttpClient("actions/oidc-client",[new s.BearerCredentialHandler(a.getRequestToken())],n)}static getRequestToken(){const e=process.env.ACTIONS_ID_TOKEN_REQUEST_TOKEN;if(!e)throw new Error("Unable to get ACTIONS_ID_TOKEN_REQUEST_TOKEN env variable");return e}static getIDTokenUrl(){const e=process.env.ACTIONS_ID_TOKEN_REQUEST_URL;if(!e)throw new Error("Unable to get ACTIONS_ID_TOKEN_REQUEST_URL env variable");return e}static getCall(e){var t;return r(this,void 0,void 0,function*(){const n=a.createHttpClient(),r=yield n.getJson(e).catch(e=>{throw new Error(`Failed to get ID Token. \n \n        Error Code : ${e.statusCode}\n \n        Error Message: ${e.message}`)}),o=null===(t=r.result)||void 0===t?void 0:t.value;if(!o)throw new Error("Response json body do not have ID Token field");return o})}static getIDToken(e){return r(this,void 0,void 0,function*(){try{let t=a.getIDTokenUrl();if(e){t=`${t}&audience=${encodeURIComponent(e)}`}(0,i.debug)(`ID token url is ${t}`);const n=yield a.getCall(t);return(0,i.setSecret)(n),n}catch(e){throw new Error(`Error message: ${e.message}`)}})}}t.OidcClient=a},1976:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(t,n);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,o)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return o(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.toPlatformPath=t.toWin32Path=t.toPosixPath=void 0;const i=s(n(6928));t.toPosixPath=function(e){return e.replace(/[\\]/g,"/")},t.toWin32Path=function(e){return e.replace(/[/]/g,"\\")},t.toPlatformPath=function(e){return e.replace(/[/\\]/g,i.sep)}},8968:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(t,n);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,o)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return o(t,e),t},i=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(o,s){function i(e){try{c(r.next(e))}catch(e){s(e)}}function a(e){try{c(r.throw(e))}catch(e){s(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(i,a)}c((r=r.apply(e,t||[])).next())})},a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.getDetails=t.isLinux=t.isMacOS=t.isWindows=t.arch=t.platform=void 0;const c=a(n(857)),l=s(n(5236));t.platform=c.default.platform(),t.arch=c.default.arch(),t.isWindows="win32"===t.platform,t.isMacOS="darwin"===t.platform,t.isLinux="linux"===t.platform,t.getDetails=function(){return i(this,void 0,void 0,function*(){return Object.assign(Object.assign({},yield t.isWindows?i(void 0,void 0,void 0,function*(){const{stdout:e}=yield l.getExecOutput('powershell -command "(Get-CimInstance -ClassName Win32_OperatingSystem).Version"',void 0,{silent:!0}),{stdout:t}=yield l.getExecOutput('powershell -command "(Get-CimInstance -ClassName Win32_OperatingSystem).Caption"',void 0,{silent:!0});return{name:t.trim(),version:e.trim()}}):t.isMacOS?i(void 0,void 0,void 0,function*(){var e,t,n,r;const{stdout:o}=yield l.getExecOutput("sw_vers",void 0,{silent:!0}),s=null!==(t=null===(e=o.match(/ProductVersion:\s*(.+)/))||void 0===e?void 0:e[1])&&void 0!==t?t:"";return{name:null!==(r=null===(n=o.match(/ProductName:\s*(.+)/))||void 0===n?void 0:n[1])&&void 0!==r?r:"",version:s}}):i(void 0,void 0,void 0,function*(){const{stdout:e}=yield l.getExecOutput("lsb_release",["-i","-r","-s"],{silent:!0}),[t,n]=e.trim().split("\n");return{name:t,version:n}})),{platform:t.platform,arch:t.arch,isWindows:t.isWindows,isMacOS:t.isMacOS,isLinux:t.isLinux})})}},1847:function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(o,s){function i(e){try{c(r.next(e))}catch(e){s(e)}}function a(e){try{c(r.throw(e))}catch(e){s(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(i,a)}c((r=r.apply(e,t||[])).next())})};Object.defineProperty(t,"__esModule",{value:!0}),t.summary=t.markdownSummary=t.SUMMARY_DOCS_URL=t.SUMMARY_ENV_VAR=void 0;const o=n(857),s=n(9896),{access:i,appendFile:a,writeFile:c}=s.promises;t.SUMMARY_ENV_VAR="GITHUB_STEP_SUMMARY",t.SUMMARY_DOCS_URL="https://docs.github.com/actions/using-workflows/workflow-commands-for-github-actions#adding-a-job-summary";const l=new class{constructor(){this._buffer=""}filePath(){return r(this,void 0,void 0,function*(){if(this._filePath)return this._filePath;const e=process.env[t.SUMMARY_ENV_VAR];if(!e)throw new Error(`Unable to find environment variable for $${t.SUMMARY_ENV_VAR}. Check if your runtime environment supports job summaries.`);try{yield i(e,s.constants.R_OK|s.constants.W_OK)}catch(t){throw new Error(`Unable to access summary file: '${e}'. Check if the file has correct read/write permissions.`)}return this._filePath=e,this._filePath})}wrap(e,t,n={}){const r=Object.entries(n).map(([e,t])=>` ${e}="${t}"`).join("");return t?`<${e}${r}>${t}</${e}>`:`<${e}${r}>`}write(e){return r(this,void 0,void 0,function*(){const t=!!(null==e?void 0:e.overwrite),n=yield this.filePath(),r=t?c:a;return yield r(n,this._buffer,{encoding:"utf8"}),this.emptyBuffer()})}clear(){return r(this,void 0,void 0,function*(){return this.emptyBuffer().write({overwrite:!0})})}stringify(){return this._buffer}isEmptyBuffer(){return 0===this._buffer.length}emptyBuffer(){return this._buffer="",this}addRaw(e,t=!1){return this._buffer+=e,t?this.addEOL():this}addEOL(){return this.addRaw(o.EOL)}addCodeBlock(e,t){const n=Object.assign({},t&&{lang:t}),r=this.wrap("pre",this.wrap("code",e),n);return this.addRaw(r).addEOL()}addList(e,t=!1){const n=t?"ol":"ul",r=e.map(e=>this.wrap("li",e)).join(""),o=this.wrap(n,r);return this.addRaw(o).addEOL()}addTable(e){const t=e.map(e=>{const t=e.map(e=>{if("string"==typeof e)return this.wrap("td",e);const{header:t,data:n,colspan:r,rowspan:o}=e,s=t?"th":"td",i=Object.assign(Object.assign({},r&&{colspan:r}),o&&{rowspan:o});return this.wrap(s,n,i)}).join("");return this.wrap("tr",t)}).join(""),n=this.wrap("table",t);return this.addRaw(n).addEOL()}addDetails(e,t){const n=this.wrap("details",this.wrap("summary",e)+t);return this.addRaw(n).addEOL()}addImage(e,t,n){const{width:r,height:o}=n||{},s=Object.assign(Object.assign({},r&&{width:r}),o&&{height:o}),i=this.wrap("img",null,Object.assign({src:e,alt:t},s));return this.addRaw(i).addEOL()}addHeading(e,t){const n=`h${t}`,r=["h1","h2","h3","h4","h5","h6"].includes(n)?n:"h1",o=this.wrap(r,e);return this.addRaw(o).addEOL()}addSeparator(){const e=this.wrap("hr",null);return this.addRaw(e).addEOL()}addBreak(){const e=this.wrap("br",null);return this.addRaw(e).addEOL()}addQuote(e,t){const n=Object.assign({},t&&{cite:t}),r=this.wrap("blockquote",e,n);return this.addRaw(r).addEOL()}addLink(e,t){const n=this.wrap("a",e,{href:t});return this.addRaw(n).addEOL()}};t.markdownSummary=l,t.summary=l},302:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.toCommandProperties=t.toCommandValue=void 0,t.toCommandValue=function(e){return null==e?"":"string"==typeof e||e instanceof String?e:JSON.stringify(e)},t.toCommandProperties=function(e){return Object.keys(e).length?{title:e.title,file:e.file,line:e.startLine,endLine:e.endLine,col:e.startColumn,endColumn:e.endColumn}:{}}},5236:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.hasOwnProperty.call(e,n)&&r(t,e,n);return o(t,e),t},i=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(o,s){function i(e){try{c(r.next(e))}catch(e){s(e)}}function a(e){try{c(r.throw(e))}catch(e){s(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(i,a)}c((r=r.apply(e,t||[])).next())})};Object.defineProperty(t,"__esModule",{value:!0}),t.getExecOutput=t.exec=void 0;const a=n(3193),c=s(n(6665));function l(e,t,n){return i(this,void 0,void 0,function*(){const r=c.argStringToArray(e);if(0===r.length)throw new Error("Parameter 'commandLine' cannot be null or empty.");const o=r[0];t=r.slice(1).concat(t||[]);return new c.ToolRunner(o,t,n).exec()})}t.exec=l,t.getExecOutput=function(e,t,n){var r,o;return i(this,void 0,void 0,function*(){let s="",i="";const c=new a.StringDecoder("utf8"),d=new a.StringDecoder("utf8"),u=null===(r=null==n?void 0:n.listeners)||void 0===r?void 0:r.stdout,p=null===(o=null==n?void 0:n.listeners)||void 0===o?void 0:o.stderr,m=Object.assign(Object.assign({},null==n?void 0:n.listeners),{stdout:e=>{s+=c.write(e),u&&u(e)},stderr:e=>{i+=d.write(e),p&&p(e)}}),h=yield l(e,t,Object.assign(Object.assign({},n),{listeners:m}));return s+=c.end(),i+=d.end(),{exitCode:h,stdout:s,stderr:i}})}},6665:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.hasOwnProperty.call(e,n)&&r(t,e,n);return o(t,e),t},i=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(o,s){function i(e){try{c(r.next(e))}catch(e){s(e)}}function a(e){try{c(r.throw(e))}catch(e){s(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(i,a)}c((r=r.apply(e,t||[])).next())})};Object.defineProperty(t,"__esModule",{value:!0}),t.argStringToArray=t.ToolRunner=void 0;const a=s(n(857)),c=s(n(4434)),l=s(n(5317)),d=s(n(6928)),u=s(n(4994)),p=s(n(5207)),m=n(3557),h="win32"===process.platform;class f extends c.EventEmitter{constructor(e,t,n){if(super(),!e)throw new Error("Parameter 'toolPath' cannot be null or empty.");this.toolPath=e,this.args=t||[],this.options=n||{}}_debug(e){this.options.listeners&&this.options.listeners.debug&&this.options.listeners.debug(e)}_getCommandString(e,t){const n=this._getSpawnFileName(),r=this._getSpawnArgs(e);let o=t?"":"[command]";if(h)if(this._isCmdFile()){o+=n;for(const e of r)o+=` ${e}`}else if(e.windowsVerbatimArguments){o+=`"${n}"`;for(const e of r)o+=` ${e}`}else{o+=this._windowsQuoteCmdArg(n);for(const e of r)o+=` ${this._windowsQuoteCmdArg(e)}`}else{o+=n;for(const e of r)o+=` ${e}`}return o}_processLineBuffer(e,t,n){try{let r=t+e.toString(),o=r.indexOf(a.EOL);for(;o>-1;){n(r.substring(0,o)),r=r.substring(o+a.EOL.length),o=r.indexOf(a.EOL)}return r}catch(e){return this._debug(`error processing line. Failed with error ${e}`),""}}_getSpawnFileName(){return h&&this._isCmdFile()?process.env.COMSPEC||"cmd.exe":this.toolPath}_getSpawnArgs(e){if(h&&this._isCmdFile()){let t=`/D /S /C "${this._windowsQuoteCmdArg(this.toolPath)}`;for(const n of this.args)t+=" ",t+=e.windowsVerbatimArguments?n:this._windowsQuoteCmdArg(n);return t+='"',[t]}return this.args}_endsWith(e,t){return e.endsWith(t)}_isCmdFile(){const e=this.toolPath.toUpperCase();return this._endsWith(e,".CMD")||this._endsWith(e,".BAT")}_windowsQuoteCmdArg(e){if(!this._isCmdFile())return this._uvQuoteCmdArg(e);if(!e)return'""';const t=[" ","\t","&","(",")","[","]","{","}","^","=",";","!","'","+",",","`","~","|","<",">",'"'];let n=!1;for(const r of e)if(t.some(e=>e===r)){n=!0;break}if(!n)return e;let r='"',o=!0;for(let t=e.length;t>0;t--)r+=e[t-1],o&&"\\"===e[t-1]?r+="\\":'"'===e[t-1]?(o=!0,r+='"'):o=!1;return r+='"',r.split("").reverse().join("")}_uvQuoteCmdArg(e){if(!e)return'""';if(!e.includes(" ")&&!e.includes("\t")&&!e.includes('"'))return e;if(!e.includes('"')&&!e.includes("\\"))return`"${e}"`;let t='"',n=!0;for(let r=e.length;r>0;r--)t+=e[r-1],n&&"\\"===e[r-1]?t+="\\":'"'===e[r-1]?(n=!0,t+="\\"):n=!1;return t+='"',t.split("").reverse().join("")}_cloneExecOptions(e){const t={cwd:(e=e||{}).cwd||process.cwd(),env:e.env||process.env,silent:e.silent||!1,windowsVerbatimArguments:e.windowsVerbatimArguments||!1,failOnStdErr:e.failOnStdErr||!1,ignoreReturnCode:e.ignoreReturnCode||!1,delay:e.delay||1e4};return t.outStream=e.outStream||process.stdout,t.errStream=e.errStream||process.stderr,t}_getSpawnOptions(e,t){e=e||{};const n={};return n.cwd=e.cwd,n.env=e.env,n.windowsVerbatimArguments=e.windowsVerbatimArguments||this._isCmdFile(),e.windowsVerbatimArguments&&(n.argv0=`"${t}"`),n}exec(){return i(this,void 0,void 0,function*(){return!p.isRooted(this.toolPath)&&(this.toolPath.includes("/")||h&&this.toolPath.includes("\\"))&&(this.toolPath=d.resolve(process.cwd(),this.options.cwd||process.cwd(),this.toolPath)),this.toolPath=yield u.which(this.toolPath,!0),new Promise((e,t)=>i(this,void 0,void 0,function*(){this._debug(`exec tool: ${this.toolPath}`),this._debug("arguments:");for(const e of this.args)this._debug(`   ${e}`);const n=this._cloneExecOptions(this.options);!n.silent&&n.outStream&&n.outStream.write(this._getCommandString(n)+a.EOL);const r=new g(n,this.toolPath);if(r.on("debug",e=>{this._debug(e)}),this.options.cwd&&!(yield p.exists(this.options.cwd)))return t(new Error(`The cwd: ${this.options.cwd} does not exist!`));const o=this._getSpawnFileName(),s=l.spawn(o,this._getSpawnArgs(n),this._getSpawnOptions(this.options,o));let i="";s.stdout&&s.stdout.on("data",e=>{this.options.listeners&&this.options.listeners.stdout&&this.options.listeners.stdout(e),!n.silent&&n.outStream&&n.outStream.write(e),i=this._processLineBuffer(e,i,e=>{this.options.listeners&&this.options.listeners.stdline&&this.options.listeners.stdline(e)})});let c="";if(s.stderr&&s.stderr.on("data",e=>{if(r.processStderr=!0,this.options.listeners&&this.options.listeners.stderr&&this.options.listeners.stderr(e),!n.silent&&n.errStream&&n.outStream){(n.failOnStdErr?n.errStream:n.outStream).write(e)}c=this._processLineBuffer(e,c,e=>{this.options.listeners&&this.options.listeners.errline&&this.options.listeners.errline(e)})}),s.on("error",e=>{r.processError=e.message,r.processExited=!0,r.processClosed=!0,r.CheckComplete()}),s.on("exit",e=>{r.processExitCode=e,r.processExited=!0,this._debug(`Exit code ${e} received from tool '${this.toolPath}'`),r.CheckComplete()}),s.on("close",e=>{r.processExitCode=e,r.processExited=!0,r.processClosed=!0,this._debug(`STDIO streams have closed for tool '${this.toolPath}'`),r.CheckComplete()}),r.on("done",(n,r)=>{i.length>0&&this.emit("stdline",i),c.length>0&&this.emit("errline",c),s.removeAllListeners(),n?t(n):e(r)}),this.options.input){if(!s.stdin)throw new Error("child process missing stdin");s.stdin.end(this.options.input)}}))})}}t.ToolRunner=f,t.argStringToArray=function(e){const t=[];let n=!1,r=!1,o="";function s(e){r&&'"'!==e&&(o+="\\"),o+=e,r=!1}for(let i=0;i<e.length;i++){const a=e.charAt(i);'"'!==a?"\\"===a&&r?s(a):"\\"===a&&n?r=!0:" "!==a||n?s(a):o.length>0&&(t.push(o),o=""):r?s(a):n=!n}return o.length>0&&t.push(o.trim()),t};class g extends c.EventEmitter{constructor(e,t){if(super(),this.processClosed=!1,this.processError="",this.processExitCode=0,this.processExited=!1,this.processStderr=!1,this.delay=1e4,this.done=!1,this.timeout=null,!t)throw new Error("toolPath must not be empty");this.options=e,this.toolPath=t,e.delay&&(this.delay=e.delay)}CheckComplete(){this.done||(this.processClosed?this._setResult():this.processExited&&(this.timeout=m.setTimeout(g.HandleTimeout,this.delay,this)))}_debug(e){this.emit("debug",e)}_setResult(){let e;this.processExited&&(this.processError?e=new Error(`There was an error when attempting to execute the process '${this.toolPath}'. This may indicate the process failed to start. Error: ${this.processError}`):0===this.processExitCode||this.options.ignoreReturnCode?this.processStderr&&this.options.failOnStdErr&&(e=new Error(`The process '${this.toolPath}' failed because one or more lines were written to the STDERR stream`)):e=new Error(`The process '${this.toolPath}' failed with exit code ${this.processExitCode}`)),this.timeout&&(clearTimeout(this.timeout),this.timeout=null),this.done=!0,this.emit("done",e,this.processExitCode)}static HandleTimeout(e){if(!e.done){if(!e.processClosed&&e.processExited){const t=`The STDIO streams did not close within ${e.delay/1e3} seconds of the exit event from process '${e.toolPath}'. This may indicate a child process inherited the STDIO streams and has not yet exited.`;e._debug(t)}e._setResult()}}}},4552:function(e,t){"use strict";var n=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(o,s){function i(e){try{c(r.next(e))}catch(e){s(e)}}function a(e){try{c(r.throw(e))}catch(e){s(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(i,a)}c((r=r.apply(e,t||[])).next())})};Object.defineProperty(t,"__esModule",{value:!0}),t.PersonalAccessTokenCredentialHandler=t.BearerCredentialHandler=t.BasicCredentialHandler=void 0;t.BasicCredentialHandler=class{constructor(e,t){this.username=e,this.password=t}prepareRequest(e){if(!e.headers)throw Error("The request has no headers");e.headers.Authorization=`Basic ${Buffer.from(`${this.username}:${this.password}`).toString("base64")}`}canHandleAuthentication(){return!1}handleAuthentication(){return n(this,void 0,void 0,function*(){throw new Error("not implemented")})}};t.BearerCredentialHandler=class{constructor(e){this.token=e}prepareRequest(e){if(!e.headers)throw Error("The request has no headers");e.headers.Authorization=`Bearer ${this.token}`}canHandleAuthentication(){return!1}handleAuthentication(){return n(this,void 0,void 0,function*(){throw new Error("not implemented")})}};t.PersonalAccessTokenCredentialHandler=class{constructor(e){this.token=e}prepareRequest(e){if(!e.headers)throw Error("The request has no headers");e.headers.Authorization=`Basic ${Buffer.from(`PAT:${this.token}`).toString("base64")}`}canHandleAuthentication(){return!1}handleAuthentication(){return n(this,void 0,void 0,function*(){throw new Error("not implemented")})}}},4844:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.hasOwnProperty.call(e,n)&&r(t,e,n);return o(t,e),t},i=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(o,s){function i(e){try{c(r.next(e))}catch(e){s(e)}}function a(e){try{c(r.throw(e))}catch(e){s(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(i,a)}c((r=r.apply(e,t||[])).next())})};Object.defineProperty(t,"__esModule",{value:!0}),t.HttpClient=t.isHttps=t.HttpClientResponse=t.HttpClientError=t.getProxyUrl=t.MediaTypes=t.Headers=t.HttpCodes=void 0;const a=s(n(8611)),c=s(n(5692)),l=s(n(4988)),d=s(n(770));var u,p,m;!function(e){e[e.OK=200]="OK",e[e.MultipleChoices=300]="MultipleChoices",e[e.MovedPermanently=301]="MovedPermanently",e[e.ResourceMoved=302]="ResourceMoved",e[e.SeeOther=303]="SeeOther",e[e.NotModified=304]="NotModified",e[e.UseProxy=305]="UseProxy",e[e.SwitchProxy=306]="SwitchProxy",e[e.TemporaryRedirect=307]="TemporaryRedirect",e[e.PermanentRedirect=308]="PermanentRedirect",e[e.BadRequest=400]="BadRequest",e[e.Unauthorized=401]="Unauthorized",e[e.PaymentRequired=402]="PaymentRequired",e[e.Forbidden=403]="Forbidden",e[e.NotFound=404]="NotFound",e[e.MethodNotAllowed=405]="MethodNotAllowed",e[e.NotAcceptable=406]="NotAcceptable",e[e.ProxyAuthenticationRequired=407]="ProxyAuthenticationRequired",e[e.RequestTimeout=408]="RequestTimeout",e[e.Conflict=409]="Conflict",e[e.Gone=410]="Gone",e[e.TooManyRequests=429]="TooManyRequests",e[e.InternalServerError=500]="InternalServerError",e[e.NotImplemented=501]="NotImplemented",e[e.BadGateway=502]="BadGateway",e[e.ServiceUnavailable=503]="ServiceUnavailable",e[e.GatewayTimeout=504]="GatewayTimeout"}(u=t.HttpCodes||(t.HttpCodes={})),function(e){e.Accept="accept",e.ContentType="content-type"}(p=t.Headers||(t.Headers={})),function(e){e.ApplicationJson="application/json"}(m=t.MediaTypes||(t.MediaTypes={})),t.getProxyUrl=function(e){const t=l.getProxyUrl(new URL(e));return t?t.href:""};const h=[u.MovedPermanently,u.ResourceMoved,u.SeeOther,u.TemporaryRedirect,u.PermanentRedirect],f=[u.BadGateway,u.ServiceUnavailable,u.GatewayTimeout],g=["OPTIONS","GET","DELETE","HEAD"];class y extends Error{constructor(e,t){super(e),this.name="HttpClientError",this.statusCode=t,Object.setPrototypeOf(this,y.prototype)}}t.HttpClientError=y;class v{constructor(e){this.message=e}readBody(){return i(this,void 0,void 0,function*(){return new Promise(e=>i(this,void 0,void 0,function*(){let t=Buffer.alloc(0);this.message.on("data",e=>{t=Buffer.concat([t,e])}),this.message.on("end",()=>{e(t.toString())})}))})}readBodyBuffer(){return i(this,void 0,void 0,function*(){return new Promise(e=>i(this,void 0,void 0,function*(){const t=[];this.message.on("data",e=>{t.push(e)}),this.message.on("end",()=>{e(Buffer.concat(t))})}))})}}t.HttpClientResponse=v,t.isHttps=function(e){return"https:"===new URL(e).protocol};t.HttpClient=class{constructor(e,t,n){this._ignoreSslError=!1,this._allowRedirects=!0,this._allowRedirectDowngrade=!1,this._maxRedirects=50,this._allowRetries=!1,this._maxRetries=1,this._keepAlive=!1,this._disposed=!1,this.userAgent=e,this.handlers=t||[],this.requestOptions=n,n&&(null!=n.ignoreSslError&&(this._ignoreSslError=n.ignoreSslError),this._socketTimeout=n.socketTimeout,null!=n.allowRedirects&&(this._allowRedirects=n.allowRedirects),null!=n.allowRedirectDowngrade&&(this._allowRedirectDowngrade=n.allowRedirectDowngrade),null!=n.maxRedirects&&(this._maxRedirects=Math.max(n.maxRedirects,0)),null!=n.keepAlive&&(this._keepAlive=n.keepAlive),null!=n.allowRetries&&(this._allowRetries=n.allowRetries),null!=n.maxRetries&&(this._maxRetries=n.maxRetries))}options(e,t){return i(this,void 0,void 0,function*(){return this.request("OPTIONS",e,null,t||{})})}get(e,t){return i(this,void 0,void 0,function*(){return this.request("GET",e,null,t||{})})}del(e,t){return i(this,void 0,void 0,function*(){return this.request("DELETE",e,null,t||{})})}post(e,t,n){return i(this,void 0,void 0,function*(){return this.request("POST",e,t,n||{})})}patch(e,t,n){return i(this,void 0,void 0,function*(){return this.request("PATCH",e,t,n||{})})}put(e,t,n){return i(this,void 0,void 0,function*(){return this.request("PUT",e,t,n||{})})}head(e,t){return i(this,void 0,void 0,function*(){return this.request("HEAD",e,null,t||{})})}sendStream(e,t,n,r){return i(this,void 0,void 0,function*(){return this.request(e,t,n,r)})}getJson(e,t={}){return i(this,void 0,void 0,function*(){t[p.Accept]=this._getExistingOrDefaultHeader(t,p.Accept,m.ApplicationJson);const n=yield this.get(e,t);return this._processResponse(n,this.requestOptions)})}postJson(e,t,n={}){return i(this,void 0,void 0,function*(){const r=JSON.stringify(t,null,2);n[p.Accept]=this._getExistingOrDefaultHeader(n,p.Accept,m.ApplicationJson),n[p.ContentType]=this._getExistingOrDefaultHeader(n,p.ContentType,m.ApplicationJson);const o=yield this.post(e,r,n);return this._processResponse(o,this.requestOptions)})}putJson(e,t,n={}){return i(this,void 0,void 0,function*(){const r=JSON.stringify(t,null,2);n[p.Accept]=this._getExistingOrDefaultHeader(n,p.Accept,m.ApplicationJson),n[p.ContentType]=this._getExistingOrDefaultHeader(n,p.ContentType,m.ApplicationJson);const o=yield this.put(e,r,n);return this._processResponse(o,this.requestOptions)})}patchJson(e,t,n={}){return i(this,void 0,void 0,function*(){const r=JSON.stringify(t,null,2);n[p.Accept]=this._getExistingOrDefaultHeader(n,p.Accept,m.ApplicationJson),n[p.ContentType]=this._getExistingOrDefaultHeader(n,p.ContentType,m.ApplicationJson);const o=yield this.patch(e,r,n);return this._processResponse(o,this.requestOptions)})}request(e,t,n,r){return i(this,void 0,void 0,function*(){if(this._disposed)throw new Error("Client has already been disposed.");const o=new URL(t);let s=this._prepareRequest(e,o,r);const i=this._allowRetries&&g.includes(e)?this._maxRetries+1:1;let a,c=0;do{if(a=yield this.requestRaw(s,n),a&&a.message&&a.message.statusCode===u.Unauthorized){let e;for(const t of this.handlers)if(t.canHandleAuthentication(a)){e=t;break}return e?e.handleAuthentication(this,s,n):a}let t=this._maxRedirects;for(;a.message.statusCode&&h.includes(a.message.statusCode)&&this._allowRedirects&&t>0;){const i=a.message.headers.location;if(!i)break;const c=new URL(i);if("https:"===o.protocol&&o.protocol!==c.protocol&&!this._allowRedirectDowngrade)throw new Error("Redirect from HTTPS to HTTP protocol. This downgrade is not allowed for security reasons. If you want to allow this behavior, set the allowRedirectDowngrade option to true.");if(yield a.readBody(),c.hostname!==o.hostname)for(const e in r)"authorization"===e.toLowerCase()&&delete r[e];s=this._prepareRequest(e,c,r),a=yield this.requestRaw(s,n),t--}if(!a.message.statusCode||!f.includes(a.message.statusCode))return a;c+=1,c<i&&(yield a.readBody(),yield this._performExponentialBackoff(c))}while(c<i);return a})}dispose(){this._agent&&this._agent.destroy(),this._disposed=!0}requestRaw(e,t){return i(this,void 0,void 0,function*(){return new Promise((n,r)=>{this.requestRawWithCallback(e,t,function(e,t){e?r(e):t?n(t):r(new Error("Unknown error"))})})})}requestRawWithCallback(e,t,n){"string"==typeof t&&(e.options.headers||(e.options.headers={}),e.options.headers["Content-Length"]=Buffer.byteLength(t,"utf8"));let r=!1;function o(e,t){r||(r=!0,n(e,t))}const s=e.httpModule.request(e.options,e=>{o(void 0,new v(e))});let i;s.on("socket",e=>{i=e}),s.setTimeout(this._socketTimeout||18e4,()=>{i&&i.end(),o(new Error(`Request timeout: ${e.options.path}`))}),s.on("error",function(e){o(e)}),t&&"string"==typeof t&&s.write(t,"utf8"),t&&"string"!=typeof t?(t.on("close",function(){s.end()}),t.pipe(s)):s.end()}getAgent(e){const t=new URL(e);return this._getAgent(t)}_prepareRequest(e,t,n){const r={};r.parsedUrl=t;const o="https:"===r.parsedUrl.protocol;r.httpModule=o?c:a;const s=o?443:80;if(r.options={},r.options.host=r.parsedUrl.hostname,r.options.port=r.parsedUrl.port?parseInt(r.parsedUrl.port):s,r.options.path=(r.parsedUrl.pathname||"")+(r.parsedUrl.search||""),r.options.method=e,r.options.headers=this._mergeHeaders(n),null!=this.userAgent&&(r.options.headers["user-agent"]=this.userAgent),r.options.agent=this._getAgent(r.parsedUrl),this.handlers)for(const e of this.handlers)e.prepareRequest(r.options);return r}_mergeHeaders(e){return this.requestOptions&&this.requestOptions.headers?Object.assign({},b(this.requestOptions.headers),b(e||{})):b(e||{})}_getExistingOrDefaultHeader(e,t,n){let r;return this.requestOptions&&this.requestOptions.headers&&(r=b(this.requestOptions.headers)[t]),e[t]||r||n}_getAgent(e){let t;const n=l.getProxyUrl(e),r=n&&n.hostname;if(this._keepAlive&&r&&(t=this._proxyAgent),this._keepAlive&&!r&&(t=this._agent),t)return t;const o="https:"===e.protocol;let s=100;if(this.requestOptions&&(s=this.requestOptions.maxSockets||a.globalAgent.maxSockets),n&&n.hostname){const e={maxSockets:s,keepAlive:this._keepAlive,proxy:Object.assign(Object.assign({},(n.username||n.password)&&{proxyAuth:`${n.username}:${n.password}`}),{host:n.hostname,port:n.port})};let r;const i="https:"===n.protocol;r=o?i?d.httpsOverHttps:d.httpsOverHttp:i?d.httpOverHttps:d.httpOverHttp,t=r(e),this._proxyAgent=t}if(this._keepAlive&&!t){const e={keepAlive:this._keepAlive,maxSockets:s};t=o?new c.Agent(e):new a.Agent(e),this._agent=t}return t||(t=o?c.globalAgent:a.globalAgent),o&&this._ignoreSslError&&(t.options=Object.assign(t.options||{},{rejectUnauthorized:!1})),t}_performExponentialBackoff(e){return i(this,void 0,void 0,function*(){e=Math.min(10,e);const t=5*Math.pow(2,e);return new Promise(e=>setTimeout(()=>e(),t))})}_processResponse(e,t){return i(this,void 0,void 0,function*(){return new Promise((n,r)=>i(this,void 0,void 0,function*(){const o=e.message.statusCode||0,s={statusCode:o,result:null,headers:{}};let i,a;o===u.NotFound&&n(s);try{a=yield e.readBody(),a&&a.length>0&&(i=t&&t.deserializeDates?JSON.parse(a,function(e,t){if("string"==typeof t){const e=new Date(t);if(!isNaN(e.valueOf()))return e}return t}):JSON.parse(a),s.result=i),s.headers=e.message.headers}catch(e){}if(o>299){let e;e=i&&i.message?i.message:a&&a.length>0?a:`Failed request: (${o})`;const t=new y(e,o);t.result=s.result,r(t)}else n(s)}))})}};const b=e=>Object.keys(e).reduce((t,n)=>(t[n.toLowerCase()]=e[n],t),{})},4988:(e,t)=>{"use strict";function n(e){if(!e.hostname)return!1;if(function(e){const t=e.toLowerCase();return"localhost"===t||t.startsWith("127.")||t.startsWith("[::1]")||t.startsWith("[0:0:0:0:0:0:0:1]")}(e.hostname))return!0;const t=process.env.no_proxy||process.env.NO_PROXY||"";if(!t)return!1;let n;e.port?n=Number(e.port):"http:"===e.protocol?n=80:"https:"===e.protocol&&(n=443);const r=[e.hostname.toUpperCase()];"number"==typeof n&&r.push(`${r[0]}:${n}`);for(const e of t.split(",").map(e=>e.trim().toUpperCase()).filter(e=>e))if("*"===e||r.some(t=>t===e||t.endsWith(`.${e}`)||e.startsWith(".")&&t.endsWith(`${e}`)))return!0;return!1}Object.defineProperty(t,"__esModule",{value:!0}),t.checkBypass=t.getProxyUrl=void 0,t.getProxyUrl=function(e){const t="https:"===e.protocol;if(n(e))return;const r=t?process.env.https_proxy||process.env.HTTPS_PROXY:process.env.http_proxy||process.env.HTTP_PROXY;if(r)try{return new URL(r)}catch(e){if(!r.startsWith("http://")&&!r.startsWith("https://"))return new URL(`http://${r}`)}},t.checkBypass=n},5207:function(e,t,n){"use strict";var r,o=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),s=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.hasOwnProperty.call(e,n)&&o(t,e,n);return s(t,e),t},a=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(o,s){function i(e){try{c(r.next(e))}catch(e){s(e)}}function a(e){try{c(r.throw(e))}catch(e){s(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(i,a)}c((r=r.apply(e,t||[])).next())})};Object.defineProperty(t,"__esModule",{value:!0}),t.getCmdPath=t.tryGetExecutablePath=t.isRooted=t.isDirectory=t.exists=t.READONLY=t.UV_FS_O_EXLOCK=t.IS_WINDOWS=t.unlink=t.symlink=t.stat=t.rmdir=t.rm=t.rename=t.readlink=t.readdir=t.open=t.mkdir=t.lstat=t.copyFile=t.chmod=void 0;const c=i(n(9896)),l=i(n(6928));function d(e){return(1&e.mode)>0||(8&e.mode)>0&&e.gid===process.getgid()||(64&e.mode)>0&&e.uid===process.getuid()}r=c.promises,t.chmod=r.chmod,t.copyFile=r.copyFile,t.lstat=r.lstat,t.mkdir=r.mkdir,t.open=r.open,t.readdir=r.readdir,t.readlink=r.readlink,t.rename=r.rename,t.rm=r.rm,t.rmdir=r.rmdir,t.stat=r.stat,t.symlink=r.symlink,t.unlink=r.unlink,t.IS_WINDOWS="win32"===process.platform,t.UV_FS_O_EXLOCK=268435456,t.READONLY=c.constants.O_RDONLY,t.exists=function(e){return a(this,void 0,void 0,function*(){try{yield t.stat(e)}catch(e){if("ENOENT"===e.code)return!1;throw e}return!0})},t.isDirectory=function(e,n=!1){return a(this,void 0,void 0,function*(){return(n?yield t.stat(e):yield t.lstat(e)).isDirectory()})},t.isRooted=function(e){if(!(e=function(e){if(e=e||"",t.IS_WINDOWS)return(e=e.replace(/\//g,"\\")).replace(/\\\\+/g,"\\");return e.replace(/\/\/+/g,"/")}(e)))throw new Error('isRooted() parameter "p" cannot be empty');return t.IS_WINDOWS?e.startsWith("\\")||/^[A-Z]:/i.test(e):e.startsWith("/")},t.tryGetExecutablePath=function(e,n){return a(this,void 0,void 0,function*(){let r;try{r=yield t.stat(e)}catch(t){"ENOENT"!==t.code&&console.log(`Unexpected error attempting to determine if executable file exists '${e}': ${t}`)}if(r&&r.isFile())if(t.IS_WINDOWS){const t=l.extname(e).toUpperCase();if(n.some(e=>e.toUpperCase()===t))return e}else if(d(r))return e;const o=e;for(const s of n){e=o+s,r=void 0;try{r=yield t.stat(e)}catch(t){"ENOENT"!==t.code&&console.log(`Unexpected error attempting to determine if executable file exists '${e}': ${t}`)}if(r&&r.isFile()){if(t.IS_WINDOWS){try{const n=l.dirname(e),r=l.basename(e).toUpperCase();for(const o of yield t.readdir(n))if(r===o.toUpperCase()){e=l.join(n,o);break}}catch(t){console.log(`Unexpected error attempting to determine the actual case of the file '${e}': ${t}`)}return e}if(d(r))return e}}return""})},t.getCmdPath=function(){var e;return null!==(e=process.env.COMSPEC)&&void 0!==e?e:"cmd.exe"}},4994:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.hasOwnProperty.call(e,n)&&r(t,e,n);return o(t,e),t},i=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(o,s){function i(e){try{c(r.next(e))}catch(e){s(e)}}function a(e){try{c(r.throw(e))}catch(e){s(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(i,a)}c((r=r.apply(e,t||[])).next())})};Object.defineProperty(t,"__esModule",{value:!0}),t.findInPath=t.which=t.mkdirP=t.rmRF=t.mv=t.cp=void 0;const a=n(2613),c=s(n(6928)),l=s(n(5207));function d(e){return i(this,void 0,void 0,function*(){if(l.IS_WINDOWS&&/[*"<>|]/.test(e))throw new Error('File path must not contain `*`, `"`, `<`, `>` or `|` on Windows');try{yield l.rm(e,{force:!0,maxRetries:3,recursive:!0,retryDelay:300})}catch(e){throw new Error(`File was unable to be removed ${e}`)}})}function u(e){return i(this,void 0,void 0,function*(){a.ok(e,"a path argument must be provided"),yield l.mkdir(e,{recursive:!0})})}function p(e){return i(this,void 0,void 0,function*(){if(!e)throw new Error("parameter 'tool' is required");const t=[];if(l.IS_WINDOWS&&process.env.PATHEXT)for(const e of process.env.PATHEXT.split(c.delimiter))e&&t.push(e);if(l.isRooted(e)){const n=yield l.tryGetExecutablePath(e,t);return n?[n]:[]}if(e.includes(c.sep))return[];const n=[];if(process.env.PATH)for(const e of process.env.PATH.split(c.delimiter))e&&n.push(e);const r=[];for(const o of n){const n=yield l.tryGetExecutablePath(c.join(o,e),t);n&&r.push(n)}return r})}function m(e,t,n,r){return i(this,void 0,void 0,function*(){if(n>=255)return;n++,yield u(t);const o=yield l.readdir(e);for(const s of o){const o=`${e}/${s}`,i=`${t}/${s}`;(yield l.lstat(o)).isDirectory()?yield m(o,i,n,r):yield h(o,i,r)}yield l.chmod(t,(yield l.stat(e)).mode)})}function h(e,t,n){return i(this,void 0,void 0,function*(){if((yield l.lstat(e)).isSymbolicLink()){try{yield l.lstat(t),yield l.unlink(t)}catch(e){"EPERM"===e.code&&(yield l.chmod(t,"0666"),yield l.unlink(t))}const n=yield l.readlink(e);yield l.symlink(n,t,l.IS_WINDOWS?"junction":null)}else(yield l.exists(t))&&!n||(yield l.copyFile(e,t))})}t.cp=function(e,t,n={}){return i(this,void 0,void 0,function*(){const{force:r,recursive:o,copySourceDirectory:s}=function(e){const t=null==e.force||e.force,n=Boolean(e.recursive),r=null==e.copySourceDirectory||Boolean(e.copySourceDirectory);return{force:t,recursive:n,copySourceDirectory:r}}(n),i=(yield l.exists(t))?yield l.stat(t):null;if(i&&i.isFile()&&!r)return;const a=i&&i.isDirectory()&&s?c.join(t,c.basename(e)):t;if(!(yield l.exists(e)))throw new Error(`no such file or directory: ${e}`);if((yield l.stat(e)).isDirectory()){if(!o)throw new Error(`Failed to copy. ${e} is a directory, but tried to copy without recursive flag.`);yield m(e,a,0,r)}else{if(""===c.relative(e,a))throw new Error(`'${a}' and '${e}' are the same file`);yield h(e,a,r)}})},t.mv=function(e,t,n={}){return i(this,void 0,void 0,function*(){if(yield l.exists(t)){let r=!0;if((yield l.isDirectory(t))&&(t=c.join(t,c.basename(e)),r=yield l.exists(t)),r){if(null!=n.force&&!n.force)throw new Error("Destination already exists");yield d(t)}}yield u(c.dirname(t)),yield l.rename(e,t)})},t.rmRF=d,t.mkdirP=u,t.which=function e(t,n){return i(this,void 0,void 0,function*(){if(!t)throw new Error("parameter 'tool' is required");if(n){const n=yield e(t,!1);if(!n)throw l.IS_WINDOWS?new Error(`Unable to locate executable file: ${t}. Please verify either the file path exists or the file can be found within a directory specified by the PATH environment variable. Also verify the file has a valid extension for an executable file.`):new Error(`Unable to locate executable file: ${t}. Please verify either the file path exists or the file can be found within a directory specified by the PATH environment variable. Also check the file mode to verify the file is executable.`);return n}const r=yield p(t);return r&&r.length>0?r[0]:""})},t.findInPath=p},6863:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AwsCrc32=void 0;var r=n(1860),o=n(5667),s=n(2110),i=function(){function e(){this.crc32=new s.Crc32}return e.prototype.update=function(e){(0,o.isEmptyData)(e)||this.crc32.update((0,o.convertToBuffer)(e))},e.prototype.digest=function(){return r.__awaiter(this,void 0,void 0,function(){return r.__generator(this,function(e){return[2,(0,o.numToUint8)(this.crc32.digest())]})})},e.prototype.reset=function(){this.crc32=new s.Crc32},e}();t.AwsCrc32=i},2110:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AwsCrc32=t.Crc32=t.crc32=void 0;var r=n(1860),o=n(5667);t.crc32=function(e){return(new s).update(e).digest()};var s=function(){function e(){this.checksum=4294967295}return e.prototype.update=function(e){var t,n;try{for(var o=r.__values(e),s=o.next();!s.done;s=o.next()){var a=s.value;this.checksum=this.checksum>>>8^i[255&(this.checksum^a)]}}catch(e){t={error:e}}finally{try{s&&!s.done&&(n=o.return)&&n.call(o)}finally{if(t)throw t.error}}return this},e.prototype.digest=function(){return(4294967295^this.checksum)>>>0},e}();t.Crc32=s;var i=(0,o.uint32ArrayFrom)([0,1996959894,3993919788,2567524794,124634137,1886057615,3915621685,2657392035,249268274,2044508324,3772115230,2547177864,162941995,2125561021,3887607047,2428444049,498536548,1789927666,4089016648,2227061214,450548861,1843258603,4107580753,2211677639,325883990,1684777152,4251122042,2321926636,335633487,1661365465,4195302755,2366115317,997073096,1281953886,3579855332,2724688242,1006888145,1258607687,3524101629,2768942443,901097722,1119000684,3686517206,2898065728,853044451,1172266101,3705015759,2882616665,651767980,1373503546,3369554304,3218104598,565507253,1454621731,3485111705,3099436303,671266974,1594198024,3322730930,2970347812,795835527,1483230225,3244367275,3060149565,1994146192,31158534,2563907772,4023717930,1907459465,112637215,2680153253,3904427059,2013776290,251722036,2517215374,3775830040,2137656763,141376813,2439277719,3865271297,1802195444,476864866,2238001368,4066508878,1812370925,453092731,2181625025,4111451223,1706088902,314042704,2344532202,4240017532,1658658271,366619977,2362670323,4224994405,1303535960,984961486,2747007092,3569037538,1256170817,1037604311,2765210733,3554079995,1131014506,879679996,2909243462,3663771856,1141124467,855842277,2852801631,3708648649,1342533948,654459306,3188396048,3373015174,1466479909,544179635,3110523913,3462522015,1591671054,702138776,2966460450,3352799412,1504918807,783551873,3082640443,3233442989,3988292384,2596254646,62317068,1957810842,3939845945,2647816111,81470997,1943803523,3814918930,2489596804,225274430,2053790376,3826175755,2466906013,167816743,2097651377,4027552580,2265490386,503444072,1762050814,4150417245,2154129355,426522225,1852507879,4275313526,2312317920,282753626,1742555852,4189708143,2394877945,397917763,1622183637,3604390888,2714866558,953729732,1340076626,3518719985,2797360999,1068828381,1219638859,3624741850,2936675148,906185462,1090812512,3747672003,2825379669,829329135,1181335161,3412177804,3160834842,628085408,1382605366,3423369109,3138078467,570562233,1426400815,3317316542,2998733608,733239954,1555261956,3268935591,3050360625,752459403,1541320221,2607071920,3965973030,1969922972,40735498,2617837225,3943577151,1913087877,83908371,2512341634,3803740692,2075208622,213261112,2463272603,3855990285,2094854071,198958881,2262029012,4057260610,1759359992,534414190,2176718541,4139329115,1873836001,414664567,2282248934,4279200368,1711684554,285281116,2405801727,4167216745,1634467795,376229701,2685067896,3608007406,1308918612,956543938,2808555105,3495958263,1231636301,1047427035,2932959818,3654703836,1088359270,936918e3,2847714899,3736837829,1202900863,817233897,3183342108,3401237130,1404277552,615818150,3134207493,3453421203,1423857449,601450431,3009837614,3294710456,1567103746,711928724,3020668471,3272380065,1510334235,755167117]),a=n(6863);Object.defineProperty(t,"AwsCrc32",{enumerable:!0,get:function(){return a.AwsCrc32}})},8056:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.convertToBuffer=void 0;var r=n(7515),o="undefined"!=typeof Buffer&&Buffer.from?function(e){return Buffer.from(e,"utf8")}:r.fromUtf8;t.convertToBuffer=function(e){return e instanceof Uint8Array?e:"string"==typeof e?o(e):ArrayBuffer.isView(e)?new Uint8Array(e.buffer,e.byteOffset,e.byteLength/Uint8Array.BYTES_PER_ELEMENT):new Uint8Array(e)}},5667:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.uint32ArrayFrom=t.numToUint8=t.isEmptyData=t.convertToBuffer=void 0;var r=n(8056);Object.defineProperty(t,"convertToBuffer",{enumerable:!0,get:function(){return r.convertToBuffer}});var o=n(4658);Object.defineProperty(t,"isEmptyData",{enumerable:!0,get:function(){return o.isEmptyData}});var s=n(5436);Object.defineProperty(t,"numToUint8",{enumerable:!0,get:function(){return s.numToUint8}});var i=n(673);Object.defineProperty(t,"uint32ArrayFrom",{enumerable:!0,get:function(){return i.uint32ArrayFrom}})},4658:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isEmptyData=void 0,t.isEmptyData=function(e){return"string"==typeof e?0===e.length:0===e.byteLength}},5436:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.numToUint8=void 0,t.numToUint8=function(e){return new Uint8Array([(4278190080&e)>>24,(16711680&e)>>16,(65280&e)>>8,255&e])}},673:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.uint32ArrayFrom=void 0,t.uint32ArrayFrom=function(e){if(!Uint32Array.from){for(var t=new Uint32Array(e.length),n=0;n<e.length;)t[n]=e[n],n+=1;return t}return Uint32Array.from(e)}},8756:e=>{var t,n=Object.defineProperty,r=Object.getOwnPropertyDescriptor,o=Object.getOwnPropertyNames,s=Object.prototype.hasOwnProperty,i=(e,t)=>n(e,"name",{value:t,configurable:!0}),a={};((e,t)=>{for(var r in t)n(e,r,{get:t[r],enumerable:!0})})(a,{isArrayBuffer:()=>c}),e.exports=(t=a,((e,t,i,a)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let c of o(t))s.call(e,c)||c===i||n(e,c,{get:()=>t[c],enumerable:!(a=r(t,c))||a.enumerable});return e})(n({},"__esModule",{value:!0}),t));var c=i(e=>"function"==typeof ArrayBuffer&&e instanceof ArrayBuffer||"[object ArrayBuffer]"===Object.prototype.toString.call(e),"isArrayBuffer")},9077:(e,t,n)=>{var r,o=Object.defineProperty,s=Object.getOwnPropertyDescriptor,i=Object.getOwnPropertyNames,a=Object.prototype.hasOwnProperty,c=(e,t)=>o(e,"name",{value:t,configurable:!0}),l={};((e,t)=>{for(var n in t)o(e,n,{get:t[n],enumerable:!0})})(l,{fromArrayBuffer:()=>p,fromString:()=>m}),e.exports=(r=l,((e,t,n,r)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let c of i(t))a.call(e,c)||c===n||o(e,c,{get:()=>t[c],enumerable:!(r=s(t,c))||r.enumerable});return e})(o({},"__esModule",{value:!0}),r));var d=n(8756),u=n(181),p=c((e,t=0,n=e.byteLength-t)=>{if(!(0,d.isArrayBuffer)(e))throw new TypeError(`The "input" argument must be ArrayBuffer. Received type ${typeof e} (${e})`);return u.Buffer.from(e,t,n)},"fromArrayBuffer"),m=c((e,t)=>{if("string"!=typeof e)throw new TypeError(`The "input" argument must be of type string. Received type ${typeof e} (${e})`);return t?u.Buffer.from(e,t):u.Buffer.from(e)},"fromString")},7515:(e,t,n)=>{var r,o=Object.defineProperty,s=Object.getOwnPropertyDescriptor,i=Object.getOwnPropertyNames,a=Object.prototype.hasOwnProperty,c=(e,t)=>o(e,"name",{value:t,configurable:!0}),l={};((e,t)=>{for(var n in t)o(e,n,{get:t[n],enumerable:!0})})(l,{fromUtf8:()=>u,toUint8Array:()=>p,toUtf8:()=>m}),e.exports=(r=l,((e,t,n,r)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let c of i(t))a.call(e,c)||c===n||o(e,c,{get:()=>t[c],enumerable:!(r=s(t,c))||r.enumerable});return e})(o({},"__esModule",{value:!0}),r));var d=n(9077),u=c(e=>{const t=(0,d.fromString)(e,"utf8");return new Uint8Array(t.buffer,t.byteOffset,t.byteLength/Uint8Array.BYTES_PER_ELEMENT)},"fromUtf8"),p=c(e=>"string"==typeof e?u(e):ArrayBuffer.isView(e)?new Uint8Array(e.buffer,e.byteOffset,e.byteLength/Uint8Array.BYTES_PER_ELEMENT):new Uint8Array(e),"toUint8Array"),m=c(e=>{if("string"==typeof e)return e;if("object"!=typeof e||"number"!=typeof e.byteOffset||"number"!=typeof e.byteLength)throw new Error("@smithy/util-utf8: toUtf8 encoder function only accepts string | Uint8Array.");return(0,d.fromArrayBuffer)(e.buffer,e.byteOffset,e.byteLength).toString("utf8")},"toUtf8")},681:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.resolveHttpAuthSchemeConfig=t.defaultBedrockRuntimeHttpAuthSchemeProvider=t.defaultBedrockRuntimeHttpAuthSchemeParametersProvider=void 0;const r=n(8704),o=n(402),s=n(6324);t.defaultBedrockRuntimeHttpAuthSchemeParametersProvider=async(e,t,n)=>({operation:(0,s.getSmithyContext)(t).operation,region:await(0,s.normalizeProvider)(e.region)()||(()=>{throw new Error("expected `region` to be configured for `aws.auth#sigv4`")})()});t.defaultBedrockRuntimeHttpAuthSchemeProvider=e=>{const t=[];return e.operation,t.push(function(e){return{schemeId:"aws.auth#sigv4",signingProperties:{name:"bedrock",region:e.region},propertiesExtractor:(e,t)=>({signingProperties:{config:e,context:t}})}}(e)),t.push({schemeId:"smithy.api#httpBearerAuth",propertiesExtractor:({profile:e,filepath:t,configFilepath:n,ignoreCache:r},o)=>({identityProperties:{profile:e,filepath:t,configFilepath:n,ignoreCache:r}})}),t};t.resolveHttpAuthSchemeConfig=e=>{const t=(0,o.memoizeIdentityProvider)(e.token,o.isIdentityExpired,o.doesIdentityRequireRefresh),n=(0,r.resolveAwsSdkSigV4Config)(e);return Object.assign(n,{authSchemePreference:(0,s.normalizeProvider)(e.authSchemePreference??[]),token:t})}},6495:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.defaultEndpointResolver=void 0;const r=n(3068),o=n(9674),s=n(8732),i=new o.EndpointCache({size:50,params:["Endpoint","Region","UseDualStack","UseFIPS"]});t.defaultEndpointResolver=(e,t={})=>i.get(e,()=>(0,o.resolveEndpoint)(s.ruleSet,{endpointParams:e,logger:t.logger})),o.customEndpointFunctions.aws=r.awsEndpointFunctions},8732:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ruleSet=void 0;const n="required",r="fn",o="argv",s="ref",i=!0,a="isSet",c="booleanEquals",l="error",d="endpoint",u="tree",p="PartitionResult",m={[n]:!1,type:"String"},h={[n]:!0,default:!1,type:"Boolean"},f={[s]:"Endpoint"},g={[r]:c,[o]:[{[s]:"UseFIPS"},!0]},y={[r]:c,[o]:[{[s]:"UseDualStack"},!0]},v={},b={[r]:"getAttr",[o]:[{[s]:p},"supportsFIPS"]},S={[r]:c,[o]:[!0,{[r]:"getAttr",[o]:[{[s]:p},"supportsDualStack"]}]},_=[g],w=[y],E=[{[s]:"Region"}],P={version:"1.0",parameters:{Region:m,UseDualStack:h,UseFIPS:h,Endpoint:m},rules:[{conditions:[{[r]:a,[o]:[f]}],rules:[{conditions:_,error:"Invalid Configuration: FIPS and custom endpoint are not supported",type:l},{rules:[{conditions:w,error:"Invalid Configuration: Dualstack and custom endpoint are not supported",type:l},{endpoint:{url:f,properties:v,headers:v},type:d}],type:u}],type:u},{rules:[{conditions:[{[r]:a,[o]:E}],rules:[{conditions:[{[r]:"aws.partition",[o]:E,assign:p}],rules:[{conditions:[g,y],rules:[{conditions:[{[r]:c,[o]:[i,b]},S],rules:[{rules:[{endpoint:{url:"https://bedrock-runtime-fips.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:v,headers:v},type:d}],type:u}],type:u},{error:"FIPS and DualStack are enabled, but this partition does not support one or both",type:l}],type:u},{conditions:_,rules:[{conditions:[{[r]:c,[o]:[b,i]}],rules:[{rules:[{endpoint:{url:"https://bedrock-runtime-fips.{Region}.{PartitionResult#dnsSuffix}",properties:v,headers:v},type:d}],type:u}],type:u},{error:"FIPS is enabled but this partition does not support FIPS",type:l}],type:u},{conditions:w,rules:[{conditions:[S],rules:[{rules:[{endpoint:{url:"https://bedrock-runtime.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:v,headers:v},type:d}],type:u}],type:u},{error:"DualStack is enabled but this partition does not support DualStack",type:l}],type:u},{rules:[{endpoint:{url:"https://bedrock-runtime.{Region}.{PartitionResult#dnsSuffix}",properties:v,headers:v},type:d}],type:u}],type:u}],type:u},{error:"Invalid Configuration: Missing Region",type:l}],type:u}]};t.ruleSet=P},7462:(e,t,n)=>{"use strict";var r,o=Object.defineProperty,s=Object.getOwnPropertyDescriptor,i=Object.getOwnPropertyNames,a=Object.prototype.hasOwnProperty,c=(e,t)=>o(e,"name",{value:t,configurable:!0}),l={};((e,t)=>{for(var n in t)o(e,n,{get:t[n],enumerable:!0})})(l,{AccessDeniedException:()=>M,ApplyGuardrailCommand:()=>ts,ApplyGuardrailRequestFilterSensitiveLog:()=>lt,ApplyGuardrailResponseFilterSensitiveLog:()=>Pt,AsyncInvokeOutputDataConfig:()=>d,AsyncInvokeStatus:()=>F,AsyncInvokeSummaryFilterSensitiveLog:()=>rt,BedrockRuntime:()=>us,BedrockRuntimeClient:()=>k,BedrockRuntimeServiceException:()=>j,BidirectionalInputPayloadPartFilterSensitiveLog:()=>Jt,BidirectionalOutputPayloadPartFilterSensitiveLog:()=>Yt,CachePointType:()=>ve,CitationGeneratedContent:()=>oe,CitationLocation:()=>ne,CitationSourceContent:()=>re,ConflictException:()=>z,ContentBlock:()=>De,ContentBlockDelta:()=>He,ContentBlockDeltaEventFilterSensitiveLog:()=>Bt,ContentBlockDeltaFilterSensitiveLog:()=>Ut,ContentBlockFilterSensitiveLog:()=>Rt,ContentBlockStart:()=>ze,ConversationRole:()=>Ue,ConverseCommand:()=>ns,ConverseOutput:()=>$e,ConverseOutputFilterSensitiveLog:()=>Nt,ConverseRequestFilterSensitiveLog:()=>kt,ConverseResponseFilterSensitiveLog:()=>Lt,ConverseStreamCommand:()=>rs,ConverseStreamMetadataEventFilterSensitiveLog:()=>Ht,ConverseStreamOutput:()=>Xe,ConverseStreamOutputFilterSensitiveLog:()=>zt,ConverseStreamRequestFilterSensitiveLog:()=>Ft,ConverseStreamResponseFilterSensitiveLog:()=>qt,ConverseStreamTraceFilterSensitiveLog:()=>Gt,ConverseTraceFilterSensitiveLog:()=>Mt,DocumentContentBlock:()=>be,DocumentFormat:()=>_e,DocumentSource:()=>Se,GetAsyncInvokeCommand:()=>os,GetAsyncInvokeResponseFilterSensitiveLog:()=>nt,GuardrailAction:()=>ee,GuardrailAssessmentFilterSensitiveLog:()=>Et,GuardrailAutomatedReasoningFinding:()=>Y,GuardrailAutomatedReasoningFindingFilterSensitiveLog:()=>_t,GuardrailAutomatedReasoningImpossibleFindingFilterSensitiveLog:()=>ht,GuardrailAutomatedReasoningInputTextReferenceFilterSensitiveLog:()=>pt,GuardrailAutomatedReasoningInvalidFindingFilterSensitiveLog:()=>ft,GuardrailAutomatedReasoningLogicWarningFilterSensitiveLog:()=>ut,GuardrailAutomatedReasoningLogicWarningType:()=>te,GuardrailAutomatedReasoningPolicyAssessmentFilterSensitiveLog:()=>wt,GuardrailAutomatedReasoningSatisfiableFindingFilterSensitiveLog:()=>yt,GuardrailAutomatedReasoningScenarioFilterSensitiveLog:()=>gt,GuardrailAutomatedReasoningStatementFilterSensitiveLog:()=>dt,GuardrailAutomatedReasoningTranslationAmbiguousFindingFilterSensitiveLog:()=>bt,GuardrailAutomatedReasoningTranslationFilterSensitiveLog:()=>mt,GuardrailAutomatedReasoningTranslationOptionFilterSensitiveLog:()=>vt,GuardrailAutomatedReasoningValidFindingFilterSensitiveLog:()=>St,GuardrailContentBlock:()=>K,GuardrailContentBlockFilterSensitiveLog:()=>ct,GuardrailContentFilterConfidence:()=>ie,GuardrailContentFilterStrength:()=>ae,GuardrailContentFilterType:()=>ce,GuardrailContentPolicyAction:()=>se,GuardrailContentQualifier:()=>X,GuardrailContentSource:()=>Z,GuardrailContextualGroundingFilterType:()=>de,GuardrailContextualGroundingPolicyAction:()=>le,GuardrailConverseContentBlock:()=>Pe,GuardrailConverseContentBlockFilterSensitiveLog:()=>At,GuardrailConverseContentQualifier:()=>Ce,GuardrailConverseImageBlockFilterSensitiveLog:()=>Ot,GuardrailConverseImageFormat:()=>Ee,GuardrailConverseImageSource:()=>we,GuardrailConverseImageSourceFilterSensitiveLog:()=>Ct,GuardrailImageBlockFilterSensitiveLog:()=>at,GuardrailImageFormat:()=>J,GuardrailImageSource:()=>L,GuardrailImageSourceFilterSensitiveLog:()=>it,GuardrailManagedWordType:()=>ge,GuardrailOutputScope:()=>Q,GuardrailPiiEntityType:()=>pe,GuardrailSensitiveInformationPolicyAction:()=>ue,GuardrailStreamProcessingMode:()=>Ke,GuardrailTopicPolicyAction:()=>me,GuardrailTopicType:()=>he,GuardrailTrace:()=>ye,GuardrailTraceAssessmentFilterSensitiveLog:()=>jt,GuardrailWordPolicyAction:()=>fe,ImageFormat:()=>xe,ImageSource:()=>Oe,InternalServerException:()=>$,InvokeModelCommand:()=>ss,InvokeModelRequestFilterSensitiveLog:()=>Wt,InvokeModelResponseFilterSensitiveLog:()=>Vt,InvokeModelWithBidirectionalStreamCommand:()=>is,InvokeModelWithBidirectionalStreamInput:()=>Qe,InvokeModelWithBidirectionalStreamInputFilterSensitiveLog:()=>Kt,InvokeModelWithBidirectionalStreamOutput:()=>Ze,InvokeModelWithBidirectionalStreamOutputFilterSensitiveLog:()=>Qt,InvokeModelWithBidirectionalStreamRequestFilterSensitiveLog:()=>Xt,InvokeModelWithBidirectionalStreamResponseFilterSensitiveLog:()=>Zt,InvokeModelWithResponseStreamCommand:()=>as,InvokeModelWithResponseStreamRequestFilterSensitiveLog:()=>en,InvokeModelWithResponseStreamResponseFilterSensitiveLog:()=>rn,ListAsyncInvokesCommand:()=>cs,ListAsyncInvokesResponseFilterSensitiveLog:()=>ot,MessageFilterSensitiveLog:()=>Tt,ModelErrorException:()=>We,ModelNotReadyException:()=>Ve,ModelStreamErrorException:()=>Ye,ModelTimeoutException:()=>Je,PayloadPartFilterSensitiveLog:()=>tn,PerformanceConfigLatency:()=>Be,PromptVariableValues:()=>Ne,ReasoningContentBlock:()=>Ae,ReasoningContentBlockDelta:()=>Ge,ReasoningContentBlockDeltaFilterSensitiveLog:()=>$t,ReasoningContentBlockFilterSensitiveLog:()=>It,ReasoningTextBlockFilterSensitiveLog:()=>xt,ResourceNotFoundException:()=>q,ResponseStream:()=>et,ResponseStreamFilterSensitiveLog:()=>nn,ServiceQuotaExceededException:()=>W,ServiceUnavailableException:()=>V,SortAsyncInvocationBy:()=>G,SortOrder:()=>H,StartAsyncInvokeCommand:()=>ls,StartAsyncInvokeRequestFilterSensitiveLog:()=>st,StopReason:()=>qe,SystemContentBlock:()=>je,SystemContentBlockFilterSensitiveLog:()=>Dt,ThrottlingException:()=>U,Tool:()=>Fe,ToolChoice:()=>Me,ToolInputSchema:()=>Le,ToolResultContentBlock:()=>Re,ToolResultStatus:()=>ke,Trace:()=>tt,ValidationException:()=>B,VideoFormat:()=>Te,VideoSource:()=>Ie,__Client:()=>I.Client,paginateListAsyncInvokes:()=>ps}),e.exports=(r=l,((e,t,n,r)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let c of i(t))a.call(e,c)||c===n||o(e,c,{get:()=>t[c],enumerable:!(r=s(t,c))||r.enumerable});return e})(o({},"__esModule",{value:!0}),r));var d,u=n(8254),p=n(2590),m=n(5242),h=n(1568),f=n(2959),g=n(8255),y=n(9316),v=n(402),b=n(6895),S=n(7212),_=n(99),w=n(9618),E=n(681),P=c(e=>Object.assign(e,{useDualstackEndpoint:e.useDualstackEndpoint??!1,useFipsEndpoint:e.useFipsEndpoint??!1,defaultSigningName:"bedrock"}),"resolveClientEndpointParameters"),C={UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}},O=n(488),A=n(6463),x=n(2356),I=n(1411),R=c(e=>{const t=e.httpAuthSchemes;let n=e.httpAuthSchemeProvider,r=e.credentials,o=e.token;return{setHttpAuthScheme(e){const n=t.findIndex(t=>t.schemeId===e.schemeId);-1===n?t.push(e):t.splice(n,1,e)},httpAuthSchemes:()=>t,setHttpAuthSchemeProvider(e){n=e},httpAuthSchemeProvider:()=>n,setCredentials(e){r=e},credentials:()=>r,setToken(e){o=e},token:()=>o}},"getHttpAuthExtensionConfiguration"),T=c(e=>({httpAuthSchemes:e.httpAuthSchemes(),httpAuthSchemeProvider:e.httpAuthSchemeProvider(),credentials:e.credentials(),token:e.token()}),"resolveHttpAuthRuntimeConfig"),D=c((e,t)=>{const n=Object.assign((0,A.getAwsRegionExtensionConfiguration)(e),(0,I.getDefaultExtensionConfiguration)(e),(0,x.getHttpHandlerExtensionConfiguration)(e),R(e));return t.forEach(e=>e.configure(n)),Object.assign(e,(0,A.resolveAwsRegionExtensionConfiguration)(n),(0,I.resolveDefaultRuntimeConfig)(n),(0,x.resolveHttpHandlerRuntimeConfig)(n),T(n))},"resolveRuntimeExtensions"),k=class extends I.Client{static{c(this,"BedrockRuntimeClient")}config;constructor(...[e]){const t=(0,O.getRuntimeConfig)(e||{});super(t),this.initConfig=t;const n=P(t),r=(0,f.resolveUserAgentConfig)(n),o=(0,w.resolveRetryConfig)(r),s=(0,y.resolveRegionConfig)(o),i=(0,p.resolveHostHeaderConfig)(s),a=(0,_.resolveEndpointConfig)(i),l=(0,b.resolveEventStreamSerdeConfig)(a),d=(0,E.resolveHttpAuthSchemeConfig)(l),C=(0,u.resolveEventStreamConfig)(d),A=(0,g.resolveWebSocketConfig)(C),x=D(A,e?.extensions||[]);this.config=x,this.middlewareStack.use((0,f.getUserAgentPlugin)(this.config)),this.middlewareStack.use((0,w.getRetryPlugin)(this.config)),this.middlewareStack.use((0,S.getContentLengthPlugin)(this.config)),this.middlewareStack.use((0,p.getHostHeaderPlugin)(this.config)),this.middlewareStack.use((0,m.getLoggerPlugin)(this.config)),this.middlewareStack.use((0,h.getRecursionDetectionPlugin)(this.config)),this.middlewareStack.use((0,v.getHttpAuthSchemeEndpointRuleSetPlugin)(this.config,{httpAuthSchemeParametersProvider:E.defaultBedrockRuntimeHttpAuthSchemeParametersProvider,identityProviderConfigProvider:c(async e=>new v.DefaultIdentityProviderConfig({"aws.auth#sigv4":e.credentials,"smithy.api#httpBearerAuth":e.token}),"identityProviderConfigProvider")})),this.middlewareStack.use((0,v.getHttpSigningPlugin)(this.config))}destroy(){super.destroy()}},N=n(3255),j=class e extends I.ServiceException{static{c(this,"BedrockRuntimeServiceException")}constructor(t){super(t),Object.setPrototypeOf(this,e.prototype)}},M=class e extends j{static{c(this,"AccessDeniedException")}name="AccessDeniedException";$fault="client";constructor(t){super({name:"AccessDeniedException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}};(d||(d={})).visit=c((e,t)=>void 0!==e.s3OutputDataConfig?t.s3OutputDataConfig(e.s3OutputDataConfig):t._(e.$unknown[0],e.$unknown[1]),"visit");var L,F={COMPLETED:"Completed",FAILED:"Failed",IN_PROGRESS:"InProgress"},$=class e extends j{static{c(this,"InternalServerException")}name="InternalServerException";$fault="server";constructor(t){super({name:"InternalServerException",$fault:"server",...t}),Object.setPrototypeOf(this,e.prototype)}},U=class e extends j{static{c(this,"ThrottlingException")}name="ThrottlingException";$fault="client";constructor(t){super({name:"ThrottlingException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}},B=class e extends j{static{c(this,"ValidationException")}name="ValidationException";$fault="client";constructor(t){super({name:"ValidationException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}},G={SUBMISSION_TIME:"SubmissionTime"},H={ASCENDING:"Ascending",DESCENDING:"Descending"},z=class e extends j{static{c(this,"ConflictException")}name="ConflictException";$fault="client";constructor(t){super({name:"ConflictException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}},q=class e extends j{static{c(this,"ResourceNotFoundException")}name="ResourceNotFoundException";$fault="client";constructor(t){super({name:"ResourceNotFoundException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}},W=class e extends j{static{c(this,"ServiceQuotaExceededException")}name="ServiceQuotaExceededException";$fault="client";constructor(t){super({name:"ServiceQuotaExceededException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}},V=class e extends j{static{c(this,"ServiceUnavailableException")}name="ServiceUnavailableException";$fault="server";constructor(t){super({name:"ServiceUnavailableException",$fault:"server",...t}),Object.setPrototypeOf(this,e.prototype)}},J={JPEG:"jpeg",PNG:"png"};(L||(L={})).visit=c((e,t)=>void 0!==e.bytes?t.bytes(e.bytes):t._(e.$unknown[0],e.$unknown[1]),"visit");var K,X={GROUNDING_SOURCE:"grounding_source",GUARD_CONTENT:"guard_content",QUERY:"query"};(K||(K={})).visit=c((e,t)=>void 0!==e.text?t.text(e.text):void 0!==e.image?t.image(e.image):t._(e.$unknown[0],e.$unknown[1]),"visit");var Y,Q={FULL:"FULL",INTERVENTIONS:"INTERVENTIONS"},Z={INPUT:"INPUT",OUTPUT:"OUTPUT"},ee={GUARDRAIL_INTERVENED:"GUARDRAIL_INTERVENED",NONE:"NONE"},te={ALWAYS_FALSE:"ALWAYS_FALSE",ALWAYS_TRUE:"ALWAYS_TRUE"};(Y||(Y={})).visit=c((e,t)=>void 0!==e.valid?t.valid(e.valid):void 0!==e.invalid?t.invalid(e.invalid):void 0!==e.satisfiable?t.satisfiable(e.satisfiable):void 0!==e.impossible?t.impossible(e.impossible):void 0!==e.translationAmbiguous?t.translationAmbiguous(e.translationAmbiguous):void 0!==e.tooComplex?t.tooComplex(e.tooComplex):void 0!==e.noTranslations?t.noTranslations(e.noTranslations):t._(e.$unknown[0],e.$unknown[1]),"visit");var ne,re,oe,se={BLOCKED:"BLOCKED",NONE:"NONE"},ie={HIGH:"HIGH",LOW:"LOW",MEDIUM:"MEDIUM",NONE:"NONE"},ae={HIGH:"HIGH",LOW:"LOW",MEDIUM:"MEDIUM",NONE:"NONE"},ce={HATE:"HATE",INSULTS:"INSULTS",MISCONDUCT:"MISCONDUCT",PROMPT_ATTACK:"PROMPT_ATTACK",SEXUAL:"SEXUAL",VIOLENCE:"VIOLENCE"},le={BLOCKED:"BLOCKED",NONE:"NONE"},de={GROUNDING:"GROUNDING",RELEVANCE:"RELEVANCE"},ue={ANONYMIZED:"ANONYMIZED",BLOCKED:"BLOCKED",NONE:"NONE"},pe={ADDRESS:"ADDRESS",AGE:"AGE",AWS_ACCESS_KEY:"AWS_ACCESS_KEY",AWS_SECRET_KEY:"AWS_SECRET_KEY",CA_HEALTH_NUMBER:"CA_HEALTH_NUMBER",CA_SOCIAL_INSURANCE_NUMBER:"CA_SOCIAL_INSURANCE_NUMBER",CREDIT_DEBIT_CARD_CVV:"CREDIT_DEBIT_CARD_CVV",CREDIT_DEBIT_CARD_EXPIRY:"CREDIT_DEBIT_CARD_EXPIRY",CREDIT_DEBIT_CARD_NUMBER:"CREDIT_DEBIT_CARD_NUMBER",DRIVER_ID:"DRIVER_ID",EMAIL:"EMAIL",INTERNATIONAL_BANK_ACCOUNT_NUMBER:"INTERNATIONAL_BANK_ACCOUNT_NUMBER",IP_ADDRESS:"IP_ADDRESS",LICENSE_PLATE:"LICENSE_PLATE",MAC_ADDRESS:"MAC_ADDRESS",NAME:"NAME",PASSWORD:"PASSWORD",PHONE:"PHONE",PIN:"PIN",SWIFT_CODE:"SWIFT_CODE",UK_NATIONAL_HEALTH_SERVICE_NUMBER:"UK_NATIONAL_HEALTH_SERVICE_NUMBER",UK_NATIONAL_INSURANCE_NUMBER:"UK_NATIONAL_INSURANCE_NUMBER",UK_UNIQUE_TAXPAYER_REFERENCE_NUMBER:"UK_UNIQUE_TAXPAYER_REFERENCE_NUMBER",URL:"URL",USERNAME:"USERNAME",US_BANK_ACCOUNT_NUMBER:"US_BANK_ACCOUNT_NUMBER",US_BANK_ROUTING_NUMBER:"US_BANK_ROUTING_NUMBER",US_INDIVIDUAL_TAX_IDENTIFICATION_NUMBER:"US_INDIVIDUAL_TAX_IDENTIFICATION_NUMBER",US_PASSPORT_NUMBER:"US_PASSPORT_NUMBER",US_SOCIAL_SECURITY_NUMBER:"US_SOCIAL_SECURITY_NUMBER",VEHICLE_IDENTIFICATION_NUMBER:"VEHICLE_IDENTIFICATION_NUMBER"},me={BLOCKED:"BLOCKED",NONE:"NONE"},he={DENY:"DENY"},fe={BLOCKED:"BLOCKED",NONE:"NONE"},ge={PROFANITY:"PROFANITY"},ye={DISABLED:"disabled",ENABLED:"enabled",ENABLED_FULL:"enabled_full"},ve={DEFAULT:"default"};(ne||(ne={})).visit=c((e,t)=>void 0!==e.documentChar?t.documentChar(e.documentChar):void 0!==e.documentPage?t.documentPage(e.documentPage):void 0!==e.documentChunk?t.documentChunk(e.documentChunk):t._(e.$unknown[0],e.$unknown[1]),"visit"),(re||(re={})).visit=c((e,t)=>void 0!==e.text?t.text(e.text):t._(e.$unknown[0],e.$unknown[1]),"visit"),(oe||(oe={})).visit=c((e,t)=>void 0!==e.text?t.text(e.text):t._(e.$unknown[0],e.$unknown[1]),"visit");var be,Se,_e={CSV:"csv",DOC:"doc",DOCX:"docx",HTML:"html",MD:"md",PDF:"pdf",TXT:"txt",XLS:"xls",XLSX:"xlsx"};(be||(be={})).visit=c((e,t)=>void 0!==e.text?t.text(e.text):t._(e.$unknown[0],e.$unknown[1]),"visit"),(Se||(Se={})).visit=c((e,t)=>void 0!==e.bytes?t.bytes(e.bytes):void 0!==e.s3Location?t.s3Location(e.s3Location):void 0!==e.text?t.text(e.text):void 0!==e.content?t.content(e.content):t._(e.$unknown[0],e.$unknown[1]),"visit");var we,Ee={JPEG:"jpeg",PNG:"png"};(we||(we={})).visit=c((e,t)=>void 0!==e.bytes?t.bytes(e.bytes):t._(e.$unknown[0],e.$unknown[1]),"visit");var Pe,Ce={GROUNDING_SOURCE:"grounding_source",GUARD_CONTENT:"guard_content",QUERY:"query"};(Pe||(Pe={})).visit=c((e,t)=>void 0!==e.text?t.text(e.text):void 0!==e.image?t.image(e.image):t._(e.$unknown[0],e.$unknown[1]),"visit");var Oe,Ae,xe={GIF:"gif",JPEG:"jpeg",PNG:"png",WEBP:"webp"};(Oe||(Oe={})).visit=c((e,t)=>void 0!==e.bytes?t.bytes(e.bytes):void 0!==e.s3Location?t.s3Location(e.s3Location):t._(e.$unknown[0],e.$unknown[1]),"visit"),(Ae||(Ae={})).visit=c((e,t)=>void 0!==e.reasoningText?t.reasoningText(e.reasoningText):void 0!==e.redactedContent?t.redactedContent(e.redactedContent):t._(e.$unknown[0],e.$unknown[1]),"visit");var Ie,Re,Te={FLV:"flv",MKV:"mkv",MOV:"mov",MP4:"mp4",MPEG:"mpeg",MPG:"mpg",THREE_GP:"three_gp",WEBM:"webm",WMV:"wmv"};(Ie||(Ie={})).visit=c((e,t)=>void 0!==e.bytes?t.bytes(e.bytes):void 0!==e.s3Location?t.s3Location(e.s3Location):t._(e.$unknown[0],e.$unknown[1]),"visit"),(Re||(Re={})).visit=c((e,t)=>void 0!==e.json?t.json(e.json):void 0!==e.text?t.text(e.text):void 0!==e.image?t.image(e.image):void 0!==e.document?t.document(e.document):void 0!==e.video?t.video(e.video):t._(e.$unknown[0],e.$unknown[1]),"visit");var De,ke={ERROR:"error",SUCCESS:"success"};(De||(De={})).visit=c((e,t)=>void 0!==e.text?t.text(e.text):void 0!==e.image?t.image(e.image):void 0!==e.document?t.document(e.document):void 0!==e.video?t.video(e.video):void 0!==e.toolUse?t.toolUse(e.toolUse):void 0!==e.toolResult?t.toolResult(e.toolResult):void 0!==e.guardContent?t.guardContent(e.guardContent):void 0!==e.cachePoint?t.cachePoint(e.cachePoint):void 0!==e.reasoningContent?t.reasoningContent(e.reasoningContent):void 0!==e.citationsContent?t.citationsContent(e.citationsContent):t._(e.$unknown[0],e.$unknown[1]),"visit");var Ne,je,Me,Le,Fe,$e,Ue={ASSISTANT:"assistant",USER:"user"},Be={OPTIMIZED:"optimized",STANDARD:"standard"};(Ne||(Ne={})).visit=c((e,t)=>void 0!==e.text?t.text(e.text):t._(e.$unknown[0],e.$unknown[1]),"visit"),(je||(je={})).visit=c((e,t)=>void 0!==e.text?t.text(e.text):void 0!==e.guardContent?t.guardContent(e.guardContent):void 0!==e.cachePoint?t.cachePoint(e.cachePoint):t._(e.$unknown[0],e.$unknown[1]),"visit"),(Me||(Me={})).visit=c((e,t)=>void 0!==e.auto?t.auto(e.auto):void 0!==e.any?t.any(e.any):void 0!==e.tool?t.tool(e.tool):t._(e.$unknown[0],e.$unknown[1]),"visit"),(Le||(Le={})).visit=c((e,t)=>void 0!==e.json?t.json(e.json):t._(e.$unknown[0],e.$unknown[1]),"visit"),(Fe||(Fe={})).visit=c((e,t)=>void 0!==e.toolSpec?t.toolSpec(e.toolSpec):void 0!==e.cachePoint?t.cachePoint(e.cachePoint):t._(e.$unknown[0],e.$unknown[1]),"visit"),($e||($e={})).visit=c((e,t)=>void 0!==e.message?t.message(e.message):t._(e.$unknown[0],e.$unknown[1]),"visit");var Ge,He,ze,qe={CONTENT_FILTERED:"content_filtered",END_TURN:"end_turn",GUARDRAIL_INTERVENED:"guardrail_intervened",MAX_TOKENS:"max_tokens",STOP_SEQUENCE:"stop_sequence",TOOL_USE:"tool_use"},We=class e extends j{static{c(this,"ModelErrorException")}name="ModelErrorException";$fault="client";originalStatusCode;resourceName;constructor(t){super({name:"ModelErrorException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype),this.originalStatusCode=t.originalStatusCode,this.resourceName=t.resourceName}},Ve=class e extends j{static{c(this,"ModelNotReadyException")}name="ModelNotReadyException";$fault="client";$retryable={};constructor(t){super({name:"ModelNotReadyException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}},Je=class e extends j{static{c(this,"ModelTimeoutException")}name="ModelTimeoutException";$fault="client";constructor(t){super({name:"ModelTimeoutException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}},Ke={ASYNC:"async",SYNC:"sync"};(Ge||(Ge={})).visit=c((e,t)=>void 0!==e.text?t.text(e.text):void 0!==e.redactedContent?t.redactedContent(e.redactedContent):void 0!==e.signature?t.signature(e.signature):t._(e.$unknown[0],e.$unknown[1]),"visit"),(He||(He={})).visit=c((e,t)=>void 0!==e.text?t.text(e.text):void 0!==e.toolUse?t.toolUse(e.toolUse):void 0!==e.reasoningContent?t.reasoningContent(e.reasoningContent):void 0!==e.citation?t.citation(e.citation):t._(e.$unknown[0],e.$unknown[1]),"visit"),(ze||(ze={})).visit=c((e,t)=>void 0!==e.toolUse?t.toolUse(e.toolUse):t._(e.$unknown[0],e.$unknown[1]),"visit");var Xe,Ye=class e extends j{static{c(this,"ModelStreamErrorException")}name="ModelStreamErrorException";$fault="client";originalStatusCode;originalMessage;constructor(t){super({name:"ModelStreamErrorException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype),this.originalStatusCode=t.originalStatusCode,this.originalMessage=t.originalMessage}};(Xe||(Xe={})).visit=c((e,t)=>void 0!==e.messageStart?t.messageStart(e.messageStart):void 0!==e.contentBlockStart?t.contentBlockStart(e.contentBlockStart):void 0!==e.contentBlockDelta?t.contentBlockDelta(e.contentBlockDelta):void 0!==e.contentBlockStop?t.contentBlockStop(e.contentBlockStop):void 0!==e.messageStop?t.messageStop(e.messageStop):void 0!==e.metadata?t.metadata(e.metadata):void 0!==e.internalServerException?t.internalServerException(e.internalServerException):void 0!==e.modelStreamErrorException?t.modelStreamErrorException(e.modelStreamErrorException):void 0!==e.validationException?t.validationException(e.validationException):void 0!==e.throttlingException?t.throttlingException(e.throttlingException):void 0!==e.serviceUnavailableException?t.serviceUnavailableException(e.serviceUnavailableException):t._(e.$unknown[0],e.$unknown[1]),"visit");var Qe,Ze,et,tt={DISABLED:"DISABLED",ENABLED:"ENABLED",ENABLED_FULL:"ENABLED_FULL"};(Qe||(Qe={})).visit=c((e,t)=>void 0!==e.chunk?t.chunk(e.chunk):t._(e.$unknown[0],e.$unknown[1]),"visit"),(Ze||(Ze={})).visit=c((e,t)=>void 0!==e.chunk?t.chunk(e.chunk):void 0!==e.internalServerException?t.internalServerException(e.internalServerException):void 0!==e.modelStreamErrorException?t.modelStreamErrorException(e.modelStreamErrorException):void 0!==e.validationException?t.validationException(e.validationException):void 0!==e.throttlingException?t.throttlingException(e.throttlingException):void 0!==e.modelTimeoutException?t.modelTimeoutException(e.modelTimeoutException):void 0!==e.serviceUnavailableException?t.serviceUnavailableException(e.serviceUnavailableException):t._(e.$unknown[0],e.$unknown[1]),"visit"),(et||(et={})).visit=c((e,t)=>void 0!==e.chunk?t.chunk(e.chunk):void 0!==e.internalServerException?t.internalServerException(e.internalServerException):void 0!==e.modelStreamErrorException?t.modelStreamErrorException(e.modelStreamErrorException):void 0!==e.validationException?t.validationException(e.validationException):void 0!==e.throttlingException?t.throttlingException(e.throttlingException):void 0!==e.modelTimeoutException?t.modelTimeoutException(e.modelTimeoutException):void 0!==e.serviceUnavailableException?t.serviceUnavailableException(e.serviceUnavailableException):t._(e.$unknown[0],e.$unknown[1]),"visit");var nt=c(e=>({...e,...e.failureMessage&&{failureMessage:I.SENSITIVE_STRING},...e.outputDataConfig&&{outputDataConfig:e.outputDataConfig}}),"GetAsyncInvokeResponseFilterSensitiveLog"),rt=c(e=>({...e,...e.failureMessage&&{failureMessage:I.SENSITIVE_STRING},...e.outputDataConfig&&{outputDataConfig:e.outputDataConfig}}),"AsyncInvokeSummaryFilterSensitiveLog"),ot=c(e=>({...e,...e.asyncInvokeSummaries&&{asyncInvokeSummaries:e.asyncInvokeSummaries.map(e=>rt(e))}}),"ListAsyncInvokesResponseFilterSensitiveLog"),st=c(e=>({...e,...e.modelInput&&{modelInput:I.SENSITIVE_STRING},...e.outputDataConfig&&{outputDataConfig:e.outputDataConfig}}),"StartAsyncInvokeRequestFilterSensitiveLog"),it=c(e=>void 0!==e.bytes?{bytes:e.bytes}:void 0!==e.$unknown?{[e.$unknown[0]]:"UNKNOWN"}:void 0,"GuardrailImageSourceFilterSensitiveLog"),at=c(e=>({...e,...e.source&&{source:I.SENSITIVE_STRING}}),"GuardrailImageBlockFilterSensitiveLog"),ct=c(e=>void 0!==e.text?{text:e.text}:void 0!==e.image?{image:I.SENSITIVE_STRING}:void 0!==e.$unknown?{[e.$unknown[0]]:"UNKNOWN"}:void 0,"GuardrailContentBlockFilterSensitiveLog"),lt=c(e=>({...e,...e.content&&{content:e.content.map(e=>ct(e))}}),"ApplyGuardrailRequestFilterSensitiveLog"),dt=c(e=>({...e,...e.logic&&{logic:I.SENSITIVE_STRING},...e.naturalLanguage&&{naturalLanguage:I.SENSITIVE_STRING}}),"GuardrailAutomatedReasoningStatementFilterSensitiveLog"),ut=c(e=>({...e,...e.premises&&{premises:e.premises.map(e=>dt(e))},...e.claims&&{claims:e.claims.map(e=>dt(e))}}),"GuardrailAutomatedReasoningLogicWarningFilterSensitiveLog"),pt=c(e=>({...e,...e.text&&{text:I.SENSITIVE_STRING}}),"GuardrailAutomatedReasoningInputTextReferenceFilterSensitiveLog"),mt=c(e=>({...e,...e.premises&&{premises:e.premises.map(e=>dt(e))},...e.claims&&{claims:e.claims.map(e=>dt(e))},...e.untranslatedPremises&&{untranslatedPremises:e.untranslatedPremises.map(e=>pt(e))},...e.untranslatedClaims&&{untranslatedClaims:e.untranslatedClaims.map(e=>pt(e))}}),"GuardrailAutomatedReasoningTranslationFilterSensitiveLog"),ht=c(e=>({...e,...e.translation&&{translation:mt(e.translation)},...e.logicWarning&&{logicWarning:ut(e.logicWarning)}}),"GuardrailAutomatedReasoningImpossibleFindingFilterSensitiveLog"),ft=c(e=>({...e,...e.translation&&{translation:mt(e.translation)},...e.logicWarning&&{logicWarning:ut(e.logicWarning)}}),"GuardrailAutomatedReasoningInvalidFindingFilterSensitiveLog"),gt=c(e=>({...e,...e.statements&&{statements:e.statements.map(e=>dt(e))}}),"GuardrailAutomatedReasoningScenarioFilterSensitiveLog"),yt=c(e=>({...e,...e.translation&&{translation:mt(e.translation)},...e.claimsTrueScenario&&{claimsTrueScenario:gt(e.claimsTrueScenario)},...e.claimsFalseScenario&&{claimsFalseScenario:gt(e.claimsFalseScenario)},...e.logicWarning&&{logicWarning:ut(e.logicWarning)}}),"GuardrailAutomatedReasoningSatisfiableFindingFilterSensitiveLog"),vt=c(e=>({...e}),"GuardrailAutomatedReasoningTranslationOptionFilterSensitiveLog"),bt=c(e=>({...e}),"GuardrailAutomatedReasoningTranslationAmbiguousFindingFilterSensitiveLog"),St=c(e=>({...e,...e.translation&&{translation:mt(e.translation)},...e.claimsTrueScenario&&{claimsTrueScenario:gt(e.claimsTrueScenario)},...e.logicWarning&&{logicWarning:ut(e.logicWarning)}}),"GuardrailAutomatedReasoningValidFindingFilterSensitiveLog"),_t=c(e=>void 0!==e.valid?{valid:St(e.valid)}:void 0!==e.invalid?{invalid:ft(e.invalid)}:void 0!==e.satisfiable?{satisfiable:yt(e.satisfiable)}:void 0!==e.impossible?{impossible:ht(e.impossible)}:void 0!==e.translationAmbiguous?{translationAmbiguous:bt(e.translationAmbiguous)}:void 0!==e.tooComplex?{tooComplex:e.tooComplex}:void 0!==e.noTranslations?{noTranslations:e.noTranslations}:void 0!==e.$unknown?{[e.$unknown[0]]:"UNKNOWN"}:void 0,"GuardrailAutomatedReasoningFindingFilterSensitiveLog"),wt=c(e=>({...e,...e.findings&&{findings:e.findings.map(e=>_t(e))}}),"GuardrailAutomatedReasoningPolicyAssessmentFilterSensitiveLog"),Et=c(e=>({...e,...e.automatedReasoningPolicy&&{automatedReasoningPolicy:wt(e.automatedReasoningPolicy)}}),"GuardrailAssessmentFilterSensitiveLog"),Pt=c(e=>({...e,...e.assessments&&{assessments:e.assessments.map(e=>Et(e))}}),"ApplyGuardrailResponseFilterSensitiveLog"),Ct=c(e=>void 0!==e.bytes?{bytes:e.bytes}:void 0!==e.$unknown?{[e.$unknown[0]]:"UNKNOWN"}:void 0,"GuardrailConverseImageSourceFilterSensitiveLog"),Ot=c(e=>({...e,...e.source&&{source:I.SENSITIVE_STRING}}),"GuardrailConverseImageBlockFilterSensitiveLog"),At=c(e=>void 0!==e.text?{text:e.text}:void 0!==e.image?{image:I.SENSITIVE_STRING}:void 0!==e.$unknown?{[e.$unknown[0]]:"UNKNOWN"}:void 0,"GuardrailConverseContentBlockFilterSensitiveLog"),xt=c(e=>({...e}),"ReasoningTextBlockFilterSensitiveLog"),It=c(e=>void 0!==e.reasoningText?{reasoningText:I.SENSITIVE_STRING}:void 0!==e.redactedContent?{redactedContent:e.redactedContent}:void 0!==e.$unknown?{[e.$unknown[0]]:"UNKNOWN"}:void 0,"ReasoningContentBlockFilterSensitiveLog"),Rt=c(e=>void 0!==e.text?{text:e.text}:void 0!==e.image?{image:e.image}:void 0!==e.document?{document:e.document}:void 0!==e.video?{video:e.video}:void 0!==e.toolUse?{toolUse:e.toolUse}:void 0!==e.toolResult?{toolResult:e.toolResult}:void 0!==e.guardContent?{guardContent:At(e.guardContent)}:void 0!==e.cachePoint?{cachePoint:e.cachePoint}:void 0!==e.reasoningContent?{reasoningContent:I.SENSITIVE_STRING}:void 0!==e.citationsContent?{citationsContent:e.citationsContent}:void 0!==e.$unknown?{[e.$unknown[0]]:"UNKNOWN"}:void 0,"ContentBlockFilterSensitiveLog"),Tt=c(e=>({...e,...e.content&&{content:e.content.map(e=>Rt(e))}}),"MessageFilterSensitiveLog"),Dt=c(e=>void 0!==e.text?{text:e.text}:void 0!==e.guardContent?{guardContent:At(e.guardContent)}:void 0!==e.cachePoint?{cachePoint:e.cachePoint}:void 0!==e.$unknown?{[e.$unknown[0]]:"UNKNOWN"}:void 0,"SystemContentBlockFilterSensitiveLog"),kt=c(e=>({...e,...e.messages&&{messages:e.messages.map(e=>Tt(e))},...e.system&&{system:e.system.map(e=>Dt(e))},...e.toolConfig&&{toolConfig:e.toolConfig},...e.promptVariables&&{promptVariables:I.SENSITIVE_STRING},...e.requestMetadata&&{requestMetadata:I.SENSITIVE_STRING}}),"ConverseRequestFilterSensitiveLog"),Nt=c(e=>void 0!==e.message?{message:Tt(e.message)}:void 0!==e.$unknown?{[e.$unknown[0]]:"UNKNOWN"}:void 0,"ConverseOutputFilterSensitiveLog"),jt=c(e=>({...e,...e.inputAssessment&&{inputAssessment:Object.entries(e.inputAssessment).reduce((e,[t,n])=>(e[t]=Et(n),e),{})},...e.outputAssessments&&{outputAssessments:Object.entries(e.outputAssessments).reduce((e,[t,n])=>(e[t]=n.map(e=>Et(e)),e),{})}}),"GuardrailTraceAssessmentFilterSensitiveLog"),Mt=c(e=>({...e,...e.guardrail&&{guardrail:jt(e.guardrail)}}),"ConverseTraceFilterSensitiveLog"),Lt=c(e=>({...e,...e.output&&{output:Nt(e.output)},...e.trace&&{trace:Mt(e.trace)}}),"ConverseResponseFilterSensitiveLog"),Ft=c(e=>({...e,...e.messages&&{messages:e.messages.map(e=>Tt(e))},...e.system&&{system:e.system.map(e=>Dt(e))},...e.toolConfig&&{toolConfig:e.toolConfig},...e.promptVariables&&{promptVariables:I.SENSITIVE_STRING},...e.requestMetadata&&{requestMetadata:I.SENSITIVE_STRING}}),"ConverseStreamRequestFilterSensitiveLog"),$t=c(e=>void 0!==e.text?{text:e.text}:void 0!==e.redactedContent?{redactedContent:e.redactedContent}:void 0!==e.signature?{signature:e.signature}:void 0!==e.$unknown?{[e.$unknown[0]]:"UNKNOWN"}:void 0,"ReasoningContentBlockDeltaFilterSensitiveLog"),Ut=c(e=>void 0!==e.text?{text:e.text}:void 0!==e.toolUse?{toolUse:e.toolUse}:void 0!==e.reasoningContent?{reasoningContent:I.SENSITIVE_STRING}:void 0!==e.citation?{citation:e.citation}:void 0!==e.$unknown?{[e.$unknown[0]]:"UNKNOWN"}:void 0,"ContentBlockDeltaFilterSensitiveLog"),Bt=c(e=>({...e,...e.delta&&{delta:Ut(e.delta)}}),"ContentBlockDeltaEventFilterSensitiveLog"),Gt=c(e=>({...e,...e.guardrail&&{guardrail:jt(e.guardrail)}}),"ConverseStreamTraceFilterSensitiveLog"),Ht=c(e=>({...e,...e.trace&&{trace:Gt(e.trace)}}),"ConverseStreamMetadataEventFilterSensitiveLog"),zt=c(e=>void 0!==e.messageStart?{messageStart:e.messageStart}:void 0!==e.contentBlockStart?{contentBlockStart:e.contentBlockStart}:void 0!==e.contentBlockDelta?{contentBlockDelta:Bt(e.contentBlockDelta)}:void 0!==e.contentBlockStop?{contentBlockStop:e.contentBlockStop}:void 0!==e.messageStop?{messageStop:e.messageStop}:void 0!==e.metadata?{metadata:Ht(e.metadata)}:void 0!==e.internalServerException?{internalServerException:e.internalServerException}:void 0!==e.modelStreamErrorException?{modelStreamErrorException:e.modelStreamErrorException}:void 0!==e.validationException?{validationException:e.validationException}:void 0!==e.throttlingException?{throttlingException:e.throttlingException}:void 0!==e.serviceUnavailableException?{serviceUnavailableException:e.serviceUnavailableException}:void 0!==e.$unknown?{[e.$unknown[0]]:"UNKNOWN"}:void 0,"ConverseStreamOutputFilterSensitiveLog"),qt=c(e=>({...e,...e.stream&&{stream:"STREAMING_CONTENT"}}),"ConverseStreamResponseFilterSensitiveLog"),Wt=c(e=>({...e,...e.body&&{body:I.SENSITIVE_STRING}}),"InvokeModelRequestFilterSensitiveLog"),Vt=c(e=>({...e,...e.body&&{body:I.SENSITIVE_STRING}}),"InvokeModelResponseFilterSensitiveLog"),Jt=c(e=>({...e,...e.bytes&&{bytes:I.SENSITIVE_STRING}}),"BidirectionalInputPayloadPartFilterSensitiveLog"),Kt=c(e=>void 0!==e.chunk?{chunk:I.SENSITIVE_STRING}:void 0!==e.$unknown?{[e.$unknown[0]]:"UNKNOWN"}:void 0,"InvokeModelWithBidirectionalStreamInputFilterSensitiveLog"),Xt=c(e=>({...e,...e.body&&{body:"STREAMING_CONTENT"}}),"InvokeModelWithBidirectionalStreamRequestFilterSensitiveLog"),Yt=c(e=>({...e,...e.bytes&&{bytes:I.SENSITIVE_STRING}}),"BidirectionalOutputPayloadPartFilterSensitiveLog"),Qt=c(e=>void 0!==e.chunk?{chunk:I.SENSITIVE_STRING}:void 0!==e.internalServerException?{internalServerException:e.internalServerException}:void 0!==e.modelStreamErrorException?{modelStreamErrorException:e.modelStreamErrorException}:void 0!==e.validationException?{validationException:e.validationException}:void 0!==e.throttlingException?{throttlingException:e.throttlingException}:void 0!==e.modelTimeoutException?{modelTimeoutException:e.modelTimeoutException}:void 0!==e.serviceUnavailableException?{serviceUnavailableException:e.serviceUnavailableException}:void 0!==e.$unknown?{[e.$unknown[0]]:"UNKNOWN"}:void 0,"InvokeModelWithBidirectionalStreamOutputFilterSensitiveLog"),Zt=c(e=>({...e,...e.body&&{body:"STREAMING_CONTENT"}}),"InvokeModelWithBidirectionalStreamResponseFilterSensitiveLog"),en=c(e=>({...e,...e.body&&{body:I.SENSITIVE_STRING}}),"InvokeModelWithResponseStreamRequestFilterSensitiveLog"),tn=c(e=>({...e,...e.bytes&&{bytes:I.SENSITIVE_STRING}}),"PayloadPartFilterSensitiveLog"),nn=c(e=>void 0!==e.chunk?{chunk:I.SENSITIVE_STRING}:void 0!==e.internalServerException?{internalServerException:e.internalServerException}:void 0!==e.modelStreamErrorException?{modelStreamErrorException:e.modelStreamErrorException}:void 0!==e.validationException?{validationException:e.validationException}:void 0!==e.throttlingException?{throttlingException:e.throttlingException}:void 0!==e.modelTimeoutException?{modelTimeoutException:e.modelTimeoutException}:void 0!==e.serviceUnavailableException?{serviceUnavailableException:e.serviceUnavailableException}:void 0!==e.$unknown?{[e.$unknown[0]]:"UNKNOWN"}:void 0,"ResponseStreamFilterSensitiveLog"),rn=c(e=>({...e,...e.body&&{body:"STREAMING_CONTENT"}}),"InvokeModelWithResponseStreamResponseFilterSensitiveLog"),on=n(8704),sn=n(2048),an=c(async(e,t)=>{const n=(0,v.requestBuilder)(e,t);let r;return n.bp("/guardrail/{guardrailIdentifier}/version/{guardrailVersion}/apply"),n.p("guardrailIdentifier",()=>e.guardrailIdentifier,"{guardrailIdentifier}",!1),n.p("guardrailVersion",()=>e.guardrailVersion,"{guardrailVersion}",!1),r=JSON.stringify((0,I.take)(e,{content:c(e=>dr(e,t),"content"),outputScope:[],source:[]})),n.m("POST").h({"content-type":"application/json"}).b(r),n.build()},"se_ApplyGuardrailCommand"),cn=c(async(e,t)=>{const n=(0,v.requestBuilder)(e,t);let r;return n.bp("/model/{modelId}/converse"),n.p("modelId",()=>e.modelId,"{modelId}",!1),r=JSON.stringify((0,I.take)(e,{additionalModelRequestFields:c(e=>Mr(e,t),"additionalModelRequestFields"),additionalModelResponseFieldPaths:c(e=>(0,I._json)(e),"additionalModelResponseFieldPaths"),guardrailConfig:c(e=>(0,I._json)(e),"guardrailConfig"),inferenceConfig:c(e=>vr(e,t),"inferenceConfig"),messages:c(e=>Sr(e,t),"messages"),performanceConfig:c(e=>(0,I._json)(e),"performanceConfig"),promptVariables:c(e=>(0,I._json)(e),"promptVariables"),requestMetadata:c(e=>(0,I._json)(e),"requestMetadata"),system:c(e=>Pr(e,t),"system"),toolConfig:c(e=>Or(e,t),"toolConfig")})),n.m("POST").h({"content-type":"application/json"}).b(r),n.build()},"se_ConverseCommand"),ln=c(async(e,t)=>{const n=(0,v.requestBuilder)(e,t);let r;return n.bp("/model/{modelId}/converse-stream"),n.p("modelId",()=>e.modelId,"{modelId}",!1),r=JSON.stringify((0,I.take)(e,{additionalModelRequestFields:c(e=>Mr(e,t),"additionalModelRequestFields"),additionalModelResponseFieldPaths:c(e=>(0,I._json)(e),"additionalModelResponseFieldPaths"),guardrailConfig:c(e=>(0,I._json)(e),"guardrailConfig"),inferenceConfig:c(e=>vr(e,t),"inferenceConfig"),messages:c(e=>Sr(e,t),"messages"),performanceConfig:c(e=>(0,I._json)(e),"performanceConfig"),promptVariables:c(e=>(0,I._json)(e),"promptVariables"),requestMetadata:c(e=>(0,I._json)(e),"requestMetadata"),system:c(e=>Pr(e,t),"system"),toolConfig:c(e=>Or(e,t),"toolConfig")})),n.m("POST").h({"content-type":"application/json"}).b(r),n.build()},"se_ConverseStreamCommand"),dn=c(async(e,t)=>{const n=(0,v.requestBuilder)(e,t);return n.bp("/async-invoke/{invocationArn}"),n.p("invocationArn",()=>e.invocationArn,"{invocationArn}",!1),n.m("GET").h({}).b(undefined),n.build()},"se_GetAsyncInvokeCommand"),un=c(async(e,t)=>{const n=(0,v.requestBuilder)(e,t),r=(0,I.map)({},I.isSerializableHeaderValue,{[Lo]:e[Mo]||"application/octet-stream",[jo]:e[jo],[es]:e[Jo],[Yo]:e[Fo],[Qo]:e[$o],[Zo]:e[Go]});let o;return n.bp("/model/{modelId}/invoke"),n.p("modelId",()=>e.modelId,"{modelId}",!1),void 0!==e.body&&(o=e.body),n.m("POST").h(r).b(o),n.build()},"se_InvokeModelCommand"),pn=c(async(e,t)=>{const n=(0,v.requestBuilder)(e,t);let r;return n.bp("/model/{modelId}/invoke-with-bidirectional-stream"),n.p("modelId",()=>e.modelId,"{modelId}",!1),void 0!==e.body&&(r=$n(e.body,t)),n.m("POST").h({"content-type":"application/json"}).b(r),n.build()},"se_InvokeModelWithBidirectionalStreamCommand"),mn=c(async(e,t)=>{const n=(0,v.requestBuilder)(e,t),r=(0,I.map)({},I.isSerializableHeaderValue,{[Lo]:e[Mo]||"application/octet-stream",[Ko]:e[jo],[es]:e[Jo],[Yo]:e[Fo],[Qo]:e[$o],[Zo]:e[Go]});let o;return n.bp("/model/{modelId}/invoke-with-response-stream"),n.p("modelId",()=>e.modelId,"{modelId}",!1),void 0!==e.body&&(o=e.body),n.m("POST").h(r).b(o),n.build()},"se_InvokeModelWithResponseStreamCommand"),hn=c(async(e,t)=>{const n=(0,v.requestBuilder)(e,t);n.bp("/async-invoke");const r=(0,I.map)({[Wo]:[()=>void 0!==e.submitTimeAfter,()=>(0,I.serializeDateTime)(e[Wo]).toString()],[Vo]:[()=>void 0!==e.submitTimeBefore,()=>(0,I.serializeDateTime)(e[Vo]).toString()],[zo]:[,e[zo]],[Uo]:[()=>void 0!==e.maxResults,()=>e[Uo].toString()],[Bo]:[,e[Bo]],[Ho]:[,e[Ho]],[qo]:[,e[qo]]});return n.m("GET").h({}).q(r).b(undefined),n.build()},"se_ListAsyncInvokesCommand"),fn=c(async(e,t)=>{const n=(0,v.requestBuilder)(e,t);let r;return n.bp("/async-invoke"),r=JSON.stringify((0,I.take)(e,{clientRequestToken:[!0,e=>e??(0,sn.v4)()],modelId:[],modelInput:c(e=>_r(e,t),"modelInput"),outputDataConfig:c(e=>(0,I._json)(e),"outputDataConfig"),tags:c(e=>(0,I._json)(e),"tags")})),n.m("POST").h({"content-type":"application/json"}).b(r),n.build()},"se_StartAsyncInvokeCommand"),gn=c(async(e,t)=>{if(200!==e.statusCode&&e.statusCode>=300)return Cn(e,t);const n=(0,I.map)({$metadata:No(e)}),r=(0,I.expectNonNull)((0,I.expectObject)(await(0,on.parseJsonBody)(e.body,t)),"body"),o=(0,I.take)(r,{action:I.expectString,actionReason:I.expectString,assessments:c(e=>Yr(e,t),"assessments"),guardrailCoverage:I._json,outputs:I._json,usage:I._json});return Object.assign(n,o),n},"de_ApplyGuardrailCommand"),yn=c(async(e,t)=>{if(200!==e.statusCode&&e.statusCode>=300)return Cn(e,t);const n=(0,I.map)({$metadata:No(e)}),r=(0,I.expectNonNull)((0,I.expectObject)(await(0,on.parseJsonBody)(e.body,t)),"body"),o=(0,I.take)(r,{additionalModelResponseFields:c(e=>ko(e,t),"additionalModelResponseFields"),metrics:I._json,output:c(e=>zr((0,on.awsExpectUnion)(e),t),"output"),performanceConfig:I._json,stopReason:I.expectString,trace:c(e=>Vr(e,t),"trace"),usage:I._json});return Object.assign(n,o),n},"de_ConverseCommand"),vn=c(async(e,t)=>{if(200!==e.statusCode&&e.statusCode>=300)return Cn(e,t);const n=(0,I.map)({$metadata:No(e)}),r=e.body;return n.stream=Bn(r,t),n},"de_ConverseStreamCommand"),bn=c(async(e,t)=>{if(200!==e.statusCode&&e.statusCode>=300)return Cn(e,t);const n=(0,I.map)({$metadata:No(e)}),r=(0,I.expectNonNull)((0,I.expectObject)(await(0,on.parseJsonBody)(e.body,t)),"body"),o=(0,I.take)(r,{clientRequestToken:I.expectString,endTime:c(e=>(0,I.expectNonNull)((0,I.parseRfc3339DateTimeWithOffset)(e)),"endTime"),failureMessage:I.expectString,invocationArn:I.expectString,lastModifiedTime:c(e=>(0,I.expectNonNull)((0,I.parseRfc3339DateTimeWithOffset)(e)),"lastModifiedTime"),modelArn:I.expectString,outputDataConfig:c(e=>(0,I._json)((0,on.awsExpectUnion)(e)),"outputDataConfig"),status:I.expectString,submitTime:c(e=>(0,I.expectNonNull)((0,I.parseRfc3339DateTimeWithOffset)(e)),"submitTime")});return Object.assign(n,o),n},"de_GetAsyncInvokeCommand"),Sn=c(async(e,t)=>{if(200!==e.statusCode&&e.statusCode>=300)return Cn(e,t);const n=(0,I.map)({$metadata:No(e),[Mo]:[,e.headers[Lo]],[Go]:[,e.headers[Zo]]}),r=await(0,I.collectBody)(e.body,t);return n.body=r,n},"de_InvokeModelCommand"),_n=c(async(e,t)=>{if(200!==e.statusCode&&e.statusCode>=300)return Cn(e,t);const n=(0,I.map)({$metadata:No(e)}),r=e.body;return n.body=Gn(r,t),n},"de_InvokeModelWithBidirectionalStreamCommand"),wn=c(async(e,t)=>{if(200!==e.statusCode&&e.statusCode>=300)return Cn(e,t);const n=(0,I.map)({$metadata:No(e),[Mo]:[,e.headers[Xo]],[Go]:[,e.headers[Zo]]}),r=e.body;return n.body=Hn(r,t),n},"de_InvokeModelWithResponseStreamCommand"),En=c(async(e,t)=>{if(200!==e.statusCode&&e.statusCode>=300)return Cn(e,t);const n=(0,I.map)({$metadata:No(e)}),r=(0,I.expectNonNull)((0,I.expectObject)(await(0,on.parseJsonBody)(e.body,t)),"body"),o=(0,I.take)(r,{asyncInvokeSummaries:c(e=>Lr(e,t),"asyncInvokeSummaries"),nextToken:I.expectString});return Object.assign(n,o),n},"de_ListAsyncInvokesCommand"),Pn=c(async(e,t)=>{if(200!==e.statusCode&&e.statusCode>=300)return Cn(e,t);const n=(0,I.map)({$metadata:No(e)}),r=(0,I.expectNonNull)((0,I.expectObject)(await(0,on.parseJsonBody)(e.body,t)),"body"),o=(0,I.take)(r,{invocationArn:I.expectString});return Object.assign(n,o),n},"de_StartAsyncInvokeCommand"),Cn=c(async(e,t)=>{const n={...e,body:await(0,on.parseJsonErrorBody)(e.body,t)},r=(0,on.loadRestJsonErrorCode)(e,n.body);switch(r){case"AccessDeniedException":case"com.amazonaws.bedrockruntime#AccessDeniedException":throw await An(n,t);case"InternalServerException":case"com.amazonaws.bedrockruntime#InternalServerException":throw await In(n,t);case"ResourceNotFoundException":case"com.amazonaws.bedrockruntime#ResourceNotFoundException":throw await Nn(n,t);case"ServiceQuotaExceededException":case"com.amazonaws.bedrockruntime#ServiceQuotaExceededException":throw await jn(n,t);case"ThrottlingException":case"com.amazonaws.bedrockruntime#ThrottlingException":throw await Ln(n,t);case"ValidationException":case"com.amazonaws.bedrockruntime#ValidationException":throw await Fn(n,t);case"ModelErrorException":case"com.amazonaws.bedrockruntime#ModelErrorException":throw await Rn(n,t);case"ModelNotReadyException":case"com.amazonaws.bedrockruntime#ModelNotReadyException":throw await Tn(n,t);case"ModelTimeoutException":case"com.amazonaws.bedrockruntime#ModelTimeoutException":throw await kn(n,t);case"ServiceUnavailableException":case"com.amazonaws.bedrockruntime#ServiceUnavailableException":throw await Mn(n,t);case"ModelStreamErrorException":case"com.amazonaws.bedrockruntime#ModelStreamErrorException":throw await Dn(n,t);case"ConflictException":case"com.amazonaws.bedrockruntime#ConflictException":throw await xn(n,t);default:const o=n.body;return On({output:e,parsedBody:o,errorCode:r})}},"de_CommandError"),On=(0,I.withBaseException)(j),An=c(async(e,t)=>{const n=(0,I.map)({}),r=e.body,o=(0,I.take)(r,{message:I.expectString});Object.assign(n,o);const s=new M({$metadata:No(e),...n});return(0,I.decorateServiceException)(s,e.body)},"de_AccessDeniedExceptionRes"),xn=c(async(e,t)=>{const n=(0,I.map)({}),r=e.body,o=(0,I.take)(r,{message:I.expectString});Object.assign(n,o);const s=new z({$metadata:No(e),...n});return(0,I.decorateServiceException)(s,e.body)},"de_ConflictExceptionRes"),In=c(async(e,t)=>{const n=(0,I.map)({}),r=e.body,o=(0,I.take)(r,{message:I.expectString});Object.assign(n,o);const s=new $({$metadata:No(e),...n});return(0,I.decorateServiceException)(s,e.body)},"de_InternalServerExceptionRes"),Rn=c(async(e,t)=>{const n=(0,I.map)({}),r=e.body,o=(0,I.take)(r,{message:I.expectString,originalStatusCode:I.expectInt32,resourceName:I.expectString});Object.assign(n,o);const s=new We({$metadata:No(e),...n});return(0,I.decorateServiceException)(s,e.body)},"de_ModelErrorExceptionRes"),Tn=c(async(e,t)=>{const n=(0,I.map)({}),r=e.body,o=(0,I.take)(r,{message:I.expectString});Object.assign(n,o);const s=new Ve({$metadata:No(e),...n});return(0,I.decorateServiceException)(s,e.body)},"de_ModelNotReadyExceptionRes"),Dn=c(async(e,t)=>{const n=(0,I.map)({}),r=e.body,o=(0,I.take)(r,{message:I.expectString,originalMessage:I.expectString,originalStatusCode:I.expectInt32});Object.assign(n,o);const s=new Ye({$metadata:No(e),...n});return(0,I.decorateServiceException)(s,e.body)},"de_ModelStreamErrorExceptionRes"),kn=c(async(e,t)=>{const n=(0,I.map)({}),r=e.body,o=(0,I.take)(r,{message:I.expectString});Object.assign(n,o);const s=new Je({$metadata:No(e),...n});return(0,I.decorateServiceException)(s,e.body)},"de_ModelTimeoutExceptionRes"),Nn=c(async(e,t)=>{const n=(0,I.map)({}),r=e.body,o=(0,I.take)(r,{message:I.expectString});Object.assign(n,o);const s=new q({$metadata:No(e),...n});return(0,I.decorateServiceException)(s,e.body)},"de_ResourceNotFoundExceptionRes"),jn=c(async(e,t)=>{const n=(0,I.map)({}),r=e.body,o=(0,I.take)(r,{message:I.expectString});Object.assign(n,o);const s=new W({$metadata:No(e),...n});return(0,I.decorateServiceException)(s,e.body)},"de_ServiceQuotaExceededExceptionRes"),Mn=c(async(e,t)=>{const n=(0,I.map)({}),r=e.body,o=(0,I.take)(r,{message:I.expectString});Object.assign(n,o);const s=new V({$metadata:No(e),...n});return(0,I.decorateServiceException)(s,e.body)},"de_ServiceUnavailableExceptionRes"),Ln=c(async(e,t)=>{const n=(0,I.map)({}),r=e.body,o=(0,I.take)(r,{message:I.expectString});Object.assign(n,o);const s=new U({$metadata:No(e),...n});return(0,I.decorateServiceException)(s,e.body)},"de_ThrottlingExceptionRes"),Fn=c(async(e,t)=>{const n=(0,I.map)({}),r=e.body,o=(0,I.take)(r,{message:I.expectString});Object.assign(n,o);const s=new B({$metadata:No(e),...n});return(0,I.decorateServiceException)(s,e.body)},"de_ValidationExceptionRes"),$n=c((e,t)=>{const n=c(e=>Qe.visit(e,{chunk:c(e=>Un(e,t),"chunk"),_:c(e=>e,"_")}),"eventMarshallingVisitor");return t.eventStreamMarshaller.serialize(e,n)},"se_InvokeModelWithBidirectionalStreamInput"),Un=c((e,t)=>{let n=new Uint8Array;return n=or(e,t),n=t.utf8Decoder(JSON.stringify(n)),{headers:{":event-type":{type:"string",value:"chunk"},":message-type":{type:"string",value:"event"},":content-type":{type:"string",value:"application/json"}},body:n}},"se_BidirectionalInputPayloadPart_event"),Bn=c((e,t)=>t.eventStreamMarshaller.deserialize(e,async e=>null!=e.messageStart?{messageStart:await Xn(e.messageStart,t)}:null!=e.contentBlockStart?{contentBlockStart:await Wn(e.contentBlockStart,t)}:null!=e.contentBlockDelta?{contentBlockDelta:await qn(e.contentBlockDelta,t)}:null!=e.contentBlockStop?{contentBlockStop:await Vn(e.contentBlockStop,t)}:null!=e.messageStop?{messageStop:await Yn(e.messageStop,t)}:null!=e.metadata?{metadata:await Jn(e.metadata,t)}:null!=e.internalServerException?{internalServerException:await Kn(e.internalServerException,t)}:null!=e.modelStreamErrorException?{modelStreamErrorException:await Qn(e.modelStreamErrorException,t)}:null!=e.validationException?{validationException:await rr(e.validationException,t)}:null!=e.throttlingException?{throttlingException:await nr(e.throttlingException,t)}:null!=e.serviceUnavailableException?{serviceUnavailableException:await tr(e.serviceUnavailableException,t)}:{$unknown:e}),"de_ConverseStreamOutput"),Gn=c((e,t)=>t.eventStreamMarshaller.deserialize(e,async e=>null!=e.chunk?{chunk:await zn(e.chunk,t)}:null!=e.internalServerException?{internalServerException:await Kn(e.internalServerException,t)}:null!=e.modelStreamErrorException?{modelStreamErrorException:await Qn(e.modelStreamErrorException,t)}:null!=e.validationException?{validationException:await rr(e.validationException,t)}:null!=e.throttlingException?{throttlingException:await nr(e.throttlingException,t)}:null!=e.modelTimeoutException?{modelTimeoutException:await Zn(e.modelTimeoutException,t)}:null!=e.serviceUnavailableException?{serviceUnavailableException:await tr(e.serviceUnavailableException,t)}:{$unknown:e}),"de_InvokeModelWithBidirectionalStreamOutput"),Hn=c((e,t)=>t.eventStreamMarshaller.deserialize(e,async e=>null!=e.chunk?{chunk:await er(e.chunk,t)}:null!=e.internalServerException?{internalServerException:await Kn(e.internalServerException,t)}:null!=e.modelStreamErrorException?{modelStreamErrorException:await Qn(e.modelStreamErrorException,t)}:null!=e.validationException?{validationException:await rr(e.validationException,t)}:null!=e.throttlingException?{throttlingException:await nr(e.throttlingException,t)}:null!=e.modelTimeoutException?{modelTimeoutException:await Zn(e.modelTimeoutException,t)}:null!=e.serviceUnavailableException?{serviceUnavailableException:await tr(e.serviceUnavailableException,t)}:{$unknown:e}),"de_ResponseStream"),zn=c(async(e,t)=>{const n={},r=await(0,on.parseJsonBody)(e.body,t);return Object.assign(n,$r(r,t)),n},"de_BidirectionalOutputPayloadPart_event"),qn=c(async(e,t)=>{const n={},r=await(0,on.parseJsonBody)(e.body,t);return Object.assign(n,Gr(r,t)),n},"de_ContentBlockDeltaEvent_event"),Wn=c(async(e,t)=>{const n={},r=await(0,on.parseJsonBody)(e.body,t);return Object.assign(n,(0,I._json)(r)),n},"de_ContentBlockStartEvent_event"),Vn=c(async(e,t)=>{const n={},r=await(0,on.parseJsonBody)(e.body,t);return Object.assign(n,(0,I._json)(r)),n},"de_ContentBlockStopEvent_event"),Jn=c(async(e,t)=>{const n={},r=await(0,on.parseJsonBody)(e.body,t);return Object.assign(n,qr(r,t)),n},"de_ConverseStreamMetadataEvent_event"),Kn=c(async(e,t)=>{const n={...e,body:await(0,on.parseJsonBody)(e.body,t)};return In(n,t)},"de_InternalServerException_event"),Xn=c(async(e,t)=>{const n={},r=await(0,on.parseJsonBody)(e.body,t);return Object.assign(n,(0,I._json)(r)),n},"de_MessageStartEvent_event"),Yn=c(async(e,t)=>{const n={},r=await(0,on.parseJsonBody)(e.body,t);return Object.assign(n,Eo(r,t)),n},"de_MessageStopEvent_event"),Qn=c(async(e,t)=>{const n={...e,body:await(0,on.parseJsonBody)(e.body,t)};return Dn(n,t)},"de_ModelStreamErrorException_event"),Zn=c(async(e,t)=>{const n={...e,body:await(0,on.parseJsonBody)(e.body,t)};return kn(n,t)},"de_ModelTimeoutException_event"),er=c(async(e,t)=>{const n={},r=await(0,on.parseJsonBody)(e.body,t);return Object.assign(n,Po(r,t)),n},"de_PayloadPart_event"),tr=c(async(e,t)=>{const n={...e,body:await(0,on.parseJsonBody)(e.body,t)};return Mn(n,t)},"de_ServiceUnavailableException_event"),nr=c(async(e,t)=>{const n={...e,body:await(0,on.parseJsonBody)(e.body,t)};return Ln(n,t)},"de_ThrottlingException_event"),rr=c(async(e,t)=>{const n={...e,body:await(0,on.parseJsonBody)(e.body,t)};return Fn(n,t)},"de_ValidationException_event"),or=c((e,t)=>(0,I.take)(e,{bytes:t.base64Encoder}),"se_BidirectionalInputPayloadPart"),sr=c((e,t)=>De.visit(e,{cachePoint:c(e=>({cachePoint:(0,I._json)(e)}),"cachePoint"),citationsContent:c(e=>({citationsContent:(0,I._json)(e)}),"citationsContent"),document:c(e=>({document:ar(e,t)}),"document"),guardContent:c(e=>({guardContent:ur(e,t)}),"guardContent"),image:c(e=>({image:gr(e,t)}),"image"),reasoningContent:c(e=>({reasoningContent:wr(e,t)}),"reasoningContent"),text:c(e=>({text:e}),"text"),toolResult:c(e=>({toolResult:xr(e,t)}),"toolResult"),toolUse:c(e=>({toolUse:kr(e,t)}),"toolUse"),video:c(e=>({video:Nr(e,t)}),"video"),_:c((e,t)=>({[e]:t}),"_")}),"se_ContentBlock"),ir=c((e,t)=>e.filter(e=>null!=e).map(e=>sr(e,t)),"se_ContentBlocks"),ar=c((e,t)=>(0,I.take)(e,{citations:I._json,context:[],format:[],name:[],source:c(e=>cr(e,t),"source")}),"se_DocumentBlock"),cr=c((e,t)=>Se.visit(e,{bytes:c(e=>({bytes:t.base64Encoder(e)}),"bytes"),content:c(e=>({content:(0,I._json)(e)}),"content"),s3Location:c(e=>({s3Location:(0,I._json)(e)}),"s3Location"),text:c(e=>({text:e}),"text"),_:c((e,t)=>({[e]:t}),"_")}),"se_DocumentSource"),lr=c((e,t)=>K.visit(e,{image:c(e=>({image:hr(e,t)}),"image"),text:c(e=>({text:(0,I._json)(e)}),"text"),_:c((e,t)=>({[e]:t}),"_")}),"se_GuardrailContentBlock"),dr=c((e,t)=>e.filter(e=>null!=e).map(e=>lr(e,t)),"se_GuardrailContentBlockList"),ur=c((e,t)=>Pe.visit(e,{image:c(e=>({image:pr(e,t)}),"image"),text:c(e=>({text:(0,I._json)(e)}),"text"),_:c((e,t)=>({[e]:t}),"_")}),"se_GuardrailConverseContentBlock"),pr=c((e,t)=>(0,I.take)(e,{format:[],source:c(e=>mr(e,t),"source")}),"se_GuardrailConverseImageBlock"),mr=c((e,t)=>we.visit(e,{bytes:c(e=>({bytes:t.base64Encoder(e)}),"bytes"),_:c((e,t)=>({[e]:t}),"_")}),"se_GuardrailConverseImageSource"),hr=c((e,t)=>(0,I.take)(e,{format:[],source:c(e=>fr(e,t),"source")}),"se_GuardrailImageBlock"),fr=c((e,t)=>L.visit(e,{bytes:c(e=>({bytes:t.base64Encoder(e)}),"bytes"),_:c((e,t)=>({[e]:t}),"_")}),"se_GuardrailImageSource"),gr=c((e,t)=>(0,I.take)(e,{format:[],source:c(e=>yr(e,t),"source")}),"se_ImageBlock"),yr=c((e,t)=>Oe.visit(e,{bytes:c(e=>({bytes:t.base64Encoder(e)}),"bytes"),s3Location:c(e=>({s3Location:(0,I._json)(e)}),"s3Location"),_:c((e,t)=>({[e]:t}),"_")}),"se_ImageSource"),vr=c((e,t)=>(0,I.take)(e,{maxTokens:[],stopSequences:I._json,temperature:I.serializeFloat,topP:I.serializeFloat}),"se_InferenceConfiguration"),br=c((e,t)=>(0,I.take)(e,{content:c(e=>ir(e,t),"content"),role:[]}),"se_Message"),Sr=c((e,t)=>e.filter(e=>null!=e).map(e=>br(e,t)),"se_Messages"),_r=c((e,t)=>e,"se_ModelInputPayload"),wr=c((e,t)=>Ae.visit(e,{reasoningText:c(e=>({reasoningText:(0,I._json)(e)}),"reasoningText"),redactedContent:c(e=>({redactedContent:t.base64Encoder(e)}),"redactedContent"),_:c((e,t)=>({[e]:t}),"_")}),"se_ReasoningContentBlock"),Er=c((e,t)=>je.visit(e,{cachePoint:c(e=>({cachePoint:(0,I._json)(e)}),"cachePoint"),guardContent:c(e=>({guardContent:ur(e,t)}),"guardContent"),text:c(e=>({text:e}),"text"),_:c((e,t)=>({[e]:t}),"_")}),"se_SystemContentBlock"),Pr=c((e,t)=>e.filter(e=>null!=e).map(e=>Er(e,t)),"se_SystemContentBlocks"),Cr=c((e,t)=>Fe.visit(e,{cachePoint:c(e=>({cachePoint:(0,I._json)(e)}),"cachePoint"),toolSpec:c(e=>({toolSpec:Dr(e,t)}),"toolSpec"),_:c((e,t)=>({[e]:t}),"_")}),"se_Tool"),Or=c((e,t)=>(0,I.take)(e,{toolChoice:I._json,tools:c(e=>Tr(e,t),"tools")}),"se_ToolConfiguration"),Ar=c((e,t)=>Le.visit(e,{json:c(e=>({json:Mr(e,t)}),"json"),_:c((e,t)=>({[e]:t}),"_")}),"se_ToolInputSchema"),xr=c((e,t)=>(0,I.take)(e,{content:c(e=>Rr(e,t),"content"),status:[],toolUseId:[]}),"se_ToolResultBlock"),Ir=c((e,t)=>Re.visit(e,{document:c(e=>({document:ar(e,t)}),"document"),image:c(e=>({image:gr(e,t)}),"image"),json:c(e=>({json:Mr(e,t)}),"json"),text:c(e=>({text:e}),"text"),video:c(e=>({video:Nr(e,t)}),"video"),_:c((e,t)=>({[e]:t}),"_")}),"se_ToolResultContentBlock"),Rr=c((e,t)=>e.filter(e=>null!=e).map(e=>Ir(e,t)),"se_ToolResultContentBlocks"),Tr=c((e,t)=>e.filter(e=>null!=e).map(e=>Cr(e,t)),"se_Tools"),Dr=c((e,t)=>(0,I.take)(e,{description:[],inputSchema:c(e=>Ar(e,t),"inputSchema"),name:[]}),"se_ToolSpecification"),kr=c((e,t)=>(0,I.take)(e,{input:c(e=>Mr(e,t),"input"),name:[],toolUseId:[]}),"se_ToolUseBlock"),Nr=c((e,t)=>(0,I.take)(e,{format:[],source:c(e=>jr(e,t),"source")}),"se_VideoBlock"),jr=c((e,t)=>Ie.visit(e,{bytes:c(e=>({bytes:t.base64Encoder(e)}),"bytes"),s3Location:c(e=>({s3Location:(0,I._json)(e)}),"s3Location"),_:c((e,t)=>({[e]:t}),"_")}),"se_VideoSource"),Mr=c((e,t)=>e,"se_Document"),Lr=c((e,t)=>(e||[]).filter(e=>null!=e).map(e=>Fr(e,t)),"de_AsyncInvokeSummaries"),Fr=c((e,t)=>(0,I.take)(e,{clientRequestToken:I.expectString,endTime:c(e=>(0,I.expectNonNull)((0,I.parseRfc3339DateTimeWithOffset)(e)),"endTime"),failureMessage:I.expectString,invocationArn:I.expectString,lastModifiedTime:c(e=>(0,I.expectNonNull)((0,I.parseRfc3339DateTimeWithOffset)(e)),"lastModifiedTime"),modelArn:I.expectString,outputDataConfig:c(e=>(0,I._json)((0,on.awsExpectUnion)(e)),"outputDataConfig"),status:I.expectString,submitTime:c(e=>(0,I.expectNonNull)((0,I.parseRfc3339DateTimeWithOffset)(e)),"submitTime")}),"de_AsyncInvokeSummary"),$r=c((e,t)=>(0,I.take)(e,{bytes:t.base64Decoder}),"de_BidirectionalOutputPayloadPart"),Ur=c((e,t)=>null!=e.cachePoint?{cachePoint:(0,I._json)(e.cachePoint)}:null!=e.citationsContent?{citationsContent:(0,I._json)(e.citationsContent)}:null!=e.document?{document:Jr(e.document,t)}:null!=e.guardContent?{guardContent:go((0,on.awsExpectUnion)(e.guardContent),t)}:null!=e.image?{image:So(e.image,t)}:null!=e.reasoningContent?{reasoningContent:Co((0,on.awsExpectUnion)(e.reasoningContent),t)}:void 0!==(0,I.expectString)(e.text)?{text:(0,I.expectString)(e.text)}:null!=e.toolResult?{toolResult:Ao(e.toolResult,t)}:null!=e.toolUse?{toolUse:Ro(e.toolUse,t)}:null!=e.video?{video:To(e.video,t)}:{$unknown:Object.entries(e)[0]},"de_ContentBlock"),Br=c((e,t)=>null!=e.citation?{citation:(0,I._json)(e.citation)}:null!=e.reasoningContent?{reasoningContent:Oo((0,on.awsExpectUnion)(e.reasoningContent),t)}:void 0!==(0,I.expectString)(e.text)?{text:(0,I.expectString)(e.text)}:null!=e.toolUse?{toolUse:(0,I._json)(e.toolUse)}:{$unknown:Object.entries(e)[0]},"de_ContentBlockDelta"),Gr=c((e,t)=>(0,I.take)(e,{contentBlockIndex:I.expectInt32,delta:c(e=>Br((0,on.awsExpectUnion)(e),t),"delta")}),"de_ContentBlockDeltaEvent"),Hr=c((e,t)=>(e||[]).filter(e=>null!=e).map(e=>Ur((0,on.awsExpectUnion)(e),t)),"de_ContentBlocks"),zr=c((e,t)=>null!=e.message?{message:wo(e.message,t)}:{$unknown:Object.entries(e)[0]},"de_ConverseOutput"),qr=c((e,t)=>(0,I.take)(e,{metrics:I._json,performanceConfig:I._json,trace:c(e=>Wr(e,t),"trace"),usage:I._json}),"de_ConverseStreamMetadataEvent"),Wr=c((e,t)=>(0,I.take)(e,{guardrail:c(e=>bo(e,t),"guardrail"),promptRouter:I._json}),"de_ConverseStreamTrace"),Vr=c((e,t)=>(0,I.take)(e,{guardrail:c(e=>bo(e,t),"guardrail"),promptRouter:I._json}),"de_ConverseTrace"),Jr=c((e,t)=>(0,I.take)(e,{citations:I._json,context:I.expectString,format:I.expectString,name:I.expectString,source:c(e=>Kr((0,on.awsExpectUnion)(e),t),"source")}),"de_DocumentBlock"),Kr=c((e,t)=>null!=e.bytes?{bytes:t.base64Decoder(e.bytes)}:null!=e.content?{content:(0,I._json)(e.content)}:null!=e.s3Location?{s3Location:(0,I._json)(e.s3Location)}:void 0!==(0,I.expectString)(e.text)?{text:(0,I.expectString)(e.text)}:{$unknown:Object.entries(e)[0]},"de_DocumentSource"),Xr=c((e,t)=>(0,I.take)(e,{automatedReasoningPolicy:c(e=>oo(e,t),"automatedReasoningPolicy"),contentPolicy:I._json,contextualGroundingPolicy:c(e=>fo(e,t),"contextualGroundingPolicy"),invocationMetrics:I._json,sensitiveInformationPolicy:I._json,topicPolicy:I._json,wordPolicy:I._json}),"de_GuardrailAssessment"),Yr=c((e,t)=>(e||[]).filter(e=>null!=e).map(e=>Xr(e,t)),"de_GuardrailAssessmentList"),Qr=c((e,t)=>Object.entries(e).reduce((e,[n,r])=>(null===r||(e[n]=Yr(r,t)),e),{}),"de_GuardrailAssessmentListMap"),Zr=c((e,t)=>Object.entries(e).reduce((e,[n,r])=>(null===r||(e[n]=Xr(r,t)),e),{}),"de_GuardrailAssessmentMap"),eo=c((e,t)=>null!=e.impossible?{impossible:no(e.impossible,t)}:null!=e.invalid?{invalid:ro(e.invalid,t)}:null!=e.noTranslations?{noTranslations:(0,I._json)(e.noTranslations)}:null!=e.satisfiable?{satisfiable:so(e.satisfiable,t)}:null!=e.tooComplex?{tooComplex:(0,I._json)(e.tooComplex)}:null!=e.translationAmbiguous?{translationAmbiguous:ao(e.translationAmbiguous,t)}:null!=e.valid?{valid:po(e.valid,t)}:{$unknown:Object.entries(e)[0]},"de_GuardrailAutomatedReasoningFinding"),to=c((e,t)=>(e||[]).filter(e=>null!=e).map(e=>eo((0,on.awsExpectUnion)(e),t)),"de_GuardrailAutomatedReasoningFindingList"),no=c((e,t)=>(0,I.take)(e,{contradictingRules:I._json,logicWarning:I._json,translation:c(e=>io(e,t),"translation")}),"de_GuardrailAutomatedReasoningImpossibleFinding"),ro=c((e,t)=>(0,I.take)(e,{contradictingRules:I._json,logicWarning:I._json,translation:c(e=>io(e,t),"translation")}),"de_GuardrailAutomatedReasoningInvalidFinding"),oo=c((e,t)=>(0,I.take)(e,{findings:c(e=>to(e,t),"findings")}),"de_GuardrailAutomatedReasoningPolicyAssessment"),so=c((e,t)=>(0,I.take)(e,{claimsFalseScenario:I._json,claimsTrueScenario:I._json,logicWarning:I._json,translation:c(e=>io(e,t),"translation")}),"de_GuardrailAutomatedReasoningSatisfiableFinding"),io=c((e,t)=>(0,I.take)(e,{claims:I._json,confidence:I.limitedParseDouble,premises:I._json,untranslatedClaims:I._json,untranslatedPremises:I._json}),"de_GuardrailAutomatedReasoningTranslation"),ao=c((e,t)=>(0,I.take)(e,{differenceScenarios:I._json,options:c(e=>uo(e,t),"options")}),"de_GuardrailAutomatedReasoningTranslationAmbiguousFinding"),co=c((e,t)=>(e||[]).filter(e=>null!=e).map(e=>io(e,t)),"de_GuardrailAutomatedReasoningTranslationList"),lo=c((e,t)=>(0,I.take)(e,{translations:c(e=>co(e,t),"translations")}),"de_GuardrailAutomatedReasoningTranslationOption"),uo=c((e,t)=>(e||[]).filter(e=>null!=e).map(e=>lo(e,t)),"de_GuardrailAutomatedReasoningTranslationOptionList"),po=c((e,t)=>(0,I.take)(e,{claimsTrueScenario:I._json,logicWarning:I._json,supportingRules:I._json,translation:c(e=>io(e,t),"translation")}),"de_GuardrailAutomatedReasoningValidFinding"),mo=c((e,t)=>(0,I.take)(e,{action:I.expectString,detected:I.expectBoolean,score:I.limitedParseDouble,threshold:I.limitedParseDouble,type:I.expectString}),"de_GuardrailContextualGroundingFilter"),ho=c((e,t)=>(e||[]).filter(e=>null!=e).map(e=>mo(e,t)),"de_GuardrailContextualGroundingFilters"),fo=c((e,t)=>(0,I.take)(e,{filters:c(e=>ho(e,t),"filters")}),"de_GuardrailContextualGroundingPolicyAssessment"),go=c((e,t)=>null!=e.image?{image:yo(e.image,t)}:null!=e.text?{text:(0,I._json)(e.text)}:{$unknown:Object.entries(e)[0]},"de_GuardrailConverseContentBlock"),yo=c((e,t)=>(0,I.take)(e,{format:I.expectString,source:c(e=>vo((0,on.awsExpectUnion)(e),t),"source")}),"de_GuardrailConverseImageBlock"),vo=c((e,t)=>null!=e.bytes?{bytes:t.base64Decoder(e.bytes)}:{$unknown:Object.entries(e)[0]},"de_GuardrailConverseImageSource"),bo=c((e,t)=>(0,I.take)(e,{actionReason:I.expectString,inputAssessment:c(e=>Zr(e,t),"inputAssessment"),modelOutput:I._json,outputAssessments:c(e=>Qr(e,t),"outputAssessments")}),"de_GuardrailTraceAssessment"),So=c((e,t)=>(0,I.take)(e,{format:I.expectString,source:c(e=>_o((0,on.awsExpectUnion)(e),t),"source")}),"de_ImageBlock"),_o=c((e,t)=>null!=e.bytes?{bytes:t.base64Decoder(e.bytes)}:null!=e.s3Location?{s3Location:(0,I._json)(e.s3Location)}:{$unknown:Object.entries(e)[0]},"de_ImageSource"),wo=c((e,t)=>(0,I.take)(e,{content:c(e=>Hr(e,t),"content"),role:I.expectString}),"de_Message"),Eo=c((e,t)=>(0,I.take)(e,{additionalModelResponseFields:c(e=>ko(e,t),"additionalModelResponseFields"),stopReason:I.expectString}),"de_MessageStopEvent"),Po=c((e,t)=>(0,I.take)(e,{bytes:t.base64Decoder}),"de_PayloadPart"),Co=c((e,t)=>null!=e.reasoningText?{reasoningText:(0,I._json)(e.reasoningText)}:null!=e.redactedContent?{redactedContent:t.base64Decoder(e.redactedContent)}:{$unknown:Object.entries(e)[0]},"de_ReasoningContentBlock"),Oo=c((e,t)=>null!=e.redactedContent?{redactedContent:t.base64Decoder(e.redactedContent)}:void 0!==(0,I.expectString)(e.signature)?{signature:(0,I.expectString)(e.signature)}:void 0!==(0,I.expectString)(e.text)?{text:(0,I.expectString)(e.text)}:{$unknown:Object.entries(e)[0]},"de_ReasoningContentBlockDelta"),Ao=c((e,t)=>(0,I.take)(e,{content:c(e=>Io(e,t),"content"),status:I.expectString,toolUseId:I.expectString}),"de_ToolResultBlock"),xo=c((e,t)=>null!=e.document?{document:Jr(e.document,t)}:null!=e.image?{image:So(e.image,t)}:null!=e.json?{json:ko(e.json,t)}:void 0!==(0,I.expectString)(e.text)?{text:(0,I.expectString)(e.text)}:null!=e.video?{video:To(e.video,t)}:{$unknown:Object.entries(e)[0]},"de_ToolResultContentBlock"),Io=c((e,t)=>(e||[]).filter(e=>null!=e).map(e=>xo((0,on.awsExpectUnion)(e),t)),"de_ToolResultContentBlocks"),Ro=c((e,t)=>(0,I.take)(e,{input:c(e=>ko(e,t),"input"),name:I.expectString,toolUseId:I.expectString}),"de_ToolUseBlock"),To=c((e,t)=>(0,I.take)(e,{format:I.expectString,source:c(e=>Do((0,on.awsExpectUnion)(e),t),"source")}),"de_VideoBlock"),Do=c((e,t)=>null!=e.bytes?{bytes:t.base64Decoder(e.bytes)}:null!=e.s3Location?{s3Location:(0,I._json)(e.s3Location)}:{$unknown:Object.entries(e)[0]},"de_VideoSource"),ko=c((e,t)=>e,"de_Document"),No=c(e=>({httpStatusCode:e.statusCode,requestId:e.headers["x-amzn-requestid"]??e.headers["x-amzn-request-id"]??e.headers["x-amz-request-id"],extendedRequestId:e.headers["x-amz-id-2"],cfId:e.headers["x-amz-cf-id"]}),"deserializeMetadata"),jo="accept",Mo="contentType",Lo="content-type",Fo="guardrailIdentifier",$o="guardrailVersion",Uo="maxResults",Bo="nextToken",Go="performanceConfigLatency",Ho="sortBy",zo="statusEquals",qo="sortOrder",Wo="submitTimeAfter",Vo="submitTimeBefore",Jo="trace",Ko="x-amzn-bedrock-accept",Xo="x-amzn-bedrock-content-type",Yo="x-amzn-bedrock-guardrailidentifier",Qo="x-amzn-bedrock-guardrailversion",Zo="x-amzn-bedrock-performanceconfig-latency",es="x-amzn-bedrock-trace",ts=class extends(I.Command.classBuilder().ep(C).m(function(e,t,n,r){return[(0,N.getSerdePlugin)(n,this.serialize,this.deserialize),(0,_.getEndpointPlugin)(n,e.getEndpointParameterInstructions())]}).s("AmazonBedrockFrontendService","ApplyGuardrail",{}).n("BedrockRuntimeClient","ApplyGuardrailCommand").f(lt,Pt).ser(an).de(gn).build()){static{c(this,"ApplyGuardrailCommand")}},ns=class extends(I.Command.classBuilder().ep(C).m(function(e,t,n,r){return[(0,N.getSerdePlugin)(n,this.serialize,this.deserialize),(0,_.getEndpointPlugin)(n,e.getEndpointParameterInstructions())]}).s("AmazonBedrockFrontendService","Converse",{}).n("BedrockRuntimeClient","ConverseCommand").f(kt,Lt).ser(cn).de(yn).build()){static{c(this,"ConverseCommand")}},rs=class extends(I.Command.classBuilder().ep(C).m(function(e,t,n,r){return[(0,N.getSerdePlugin)(n,this.serialize,this.deserialize),(0,_.getEndpointPlugin)(n,e.getEndpointParameterInstructions())]}).s("AmazonBedrockFrontendService","ConverseStream",{eventStream:{output:!0}}).n("BedrockRuntimeClient","ConverseStreamCommand").f(Ft,qt).ser(ln).de(vn).build()){static{c(this,"ConverseStreamCommand")}},os=class extends(I.Command.classBuilder().ep(C).m(function(e,t,n,r){return[(0,N.getSerdePlugin)(n,this.serialize,this.deserialize),(0,_.getEndpointPlugin)(n,e.getEndpointParameterInstructions())]}).s("AmazonBedrockFrontendService","GetAsyncInvoke",{}).n("BedrockRuntimeClient","GetAsyncInvokeCommand").f(void 0,nt).ser(dn).de(bn).build()){static{c(this,"GetAsyncInvokeCommand")}},ss=class extends(I.Command.classBuilder().ep(C).m(function(e,t,n,r){return[(0,N.getSerdePlugin)(n,this.serialize,this.deserialize),(0,_.getEndpointPlugin)(n,e.getEndpointParameterInstructions())]}).s("AmazonBedrockFrontendService","InvokeModel",{}).n("BedrockRuntimeClient","InvokeModelCommand").f(Wt,Vt).ser(un).de(Sn).build()){static{c(this,"InvokeModelCommand")}},is=class extends(I.Command.classBuilder().ep(C).m(function(e,t,n,r){return[(0,N.getSerdePlugin)(n,this.serialize,this.deserialize),(0,_.getEndpointPlugin)(n,e.getEndpointParameterInstructions()),(0,u.getEventStreamPlugin)(n),(0,g.getWebSocketPlugin)(n,{headerPrefix:"x-amz-bedrock-"})]}).s("AmazonBedrockFrontendService","InvokeModelWithBidirectionalStream",{eventStream:{input:!0,output:!0}}).n("BedrockRuntimeClient","InvokeModelWithBidirectionalStreamCommand").f(Xt,Zt).ser(pn).de(_n).build()){static{c(this,"InvokeModelWithBidirectionalStreamCommand")}},as=class extends(I.Command.classBuilder().ep(C).m(function(e,t,n,r){return[(0,N.getSerdePlugin)(n,this.serialize,this.deserialize),(0,_.getEndpointPlugin)(n,e.getEndpointParameterInstructions())]}).s("AmazonBedrockFrontendService","InvokeModelWithResponseStream",{eventStream:{output:!0}}).n("BedrockRuntimeClient","InvokeModelWithResponseStreamCommand").f(en,rn).ser(mn).de(wn).build()){static{c(this,"InvokeModelWithResponseStreamCommand")}},cs=class extends(I.Command.classBuilder().ep(C).m(function(e,t,n,r){return[(0,N.getSerdePlugin)(n,this.serialize,this.deserialize),(0,_.getEndpointPlugin)(n,e.getEndpointParameterInstructions())]}).s("AmazonBedrockFrontendService","ListAsyncInvokes",{}).n("BedrockRuntimeClient","ListAsyncInvokesCommand").f(void 0,ot).ser(hn).de(En).build()){static{c(this,"ListAsyncInvokesCommand")}},ls=class extends(I.Command.classBuilder().ep(C).m(function(e,t,n,r){return[(0,N.getSerdePlugin)(n,this.serialize,this.deserialize),(0,_.getEndpointPlugin)(n,e.getEndpointParameterInstructions())]}).s("AmazonBedrockFrontendService","StartAsyncInvoke",{}).n("BedrockRuntimeClient","StartAsyncInvokeCommand").f(st,void 0).ser(fn).de(Pn).build()){static{c(this,"StartAsyncInvokeCommand")}},ds={ApplyGuardrailCommand:ts,ConverseCommand:ns,ConverseStreamCommand:rs,GetAsyncInvokeCommand:os,InvokeModelCommand:ss,InvokeModelWithBidirectionalStreamCommand:is,InvokeModelWithResponseStreamCommand:as,ListAsyncInvokesCommand:cs,StartAsyncInvokeCommand:ls},us=class extends k{static{c(this,"BedrockRuntime")}};(0,I.createAggregatedClient)(ds,us);var ps=(0,v.createPaginator)(k,cs,"nextToken","nextToken","maxResults")},488:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getRuntimeConfig=void 0;const r=n(1860).__importDefault(n(9960)),o=n(8704),s=n(5861),i=n(557),a=n(5433),c=n(1656),l=n(9316),d=n(402),u=n(9770),p=n(5092),m=n(9618),h=n(5704),f=n(1279),g=n(3638),y=n(5518),v=n(1929),b=n(1411),S=n(5435),_=n(1411);t.getRuntimeConfig=e=>{(0,_.emitWarningIfUnsupportedVersion)(process.version);const t=(0,S.resolveDefaultsModeConfig)(e),n=()=>t().then(b.loadConfigsForDefaultMode),w=(0,v.getRuntimeConfig)(e);(0,o.emitWarningIfUnsupportedVersion)(process.version);const E={profile:e?.profile,logger:w.logger,signingName:"bedrock"};return{...w,...e,runtime:"node",defaultsMode:t,authSchemePreference:e?.authSchemePreference??(0,h.loadConfig)(o.NODE_AUTH_SCHEME_PREFERENCE_OPTIONS,E),bodyLengthChecker:e?.bodyLengthChecker??g.calculateBodyLength,credentialDefaultProvider:e?.credentialDefaultProvider??s.defaultProvider,defaultUserAgentProvider:e?.defaultUserAgentProvider??(0,c.createDefaultUserAgentProvider)({serviceId:w.serviceId,clientVersion:r.default.version}),eventStreamPayloadHandlerProvider:e?.eventStreamPayloadHandlerProvider??i.eventStreamPayloadHandlerProvider,eventStreamSerdeProvider:e?.eventStreamSerdeProvider??u.eventStreamSerdeProvider,httpAuthSchemes:e?.httpAuthSchemes??[{schemeId:"aws.auth#sigv4",identityProvider:e=>e.getIdentityProvider("aws.auth#sigv4"),signer:new o.AwsSdkSigV4Signer},{schemeId:"smithy.api#httpBearerAuth",identityProvider:e=>e.getIdentityProvider("smithy.api#httpBearerAuth")||(async e=>{try{return await(0,a.fromEnvSigningName)({signingName:"bedrock"})()}catch(t){return await(0,a.nodeProvider)(e)(e)}}),signer:new d.HttpBearerAuthSigner}],maxAttempts:e?.maxAttempts??(0,h.loadConfig)(m.NODE_MAX_ATTEMPT_CONFIG_OPTIONS,e),region:e?.region??(0,h.loadConfig)(l.NODE_REGION_CONFIG_OPTIONS,{...l.NODE_REGION_CONFIG_FILE_OPTIONS,...E}),requestHandler:f.NodeHttp2Handler.create(e?.requestHandler??(async()=>({...await n(),disableConcurrentStreams:!0}))),retryMode:e?.retryMode??(0,h.loadConfig)({...m.NODE_RETRY_MODE_CONFIG_OPTIONS,default:async()=>(await n()).retryMode||y.DEFAULT_RETRY_MODE},e),sha256:e?.sha256??p.Hash.bind(null,"sha256"),streamCollector:e?.streamCollector??f.streamCollector,useDualstackEndpoint:e?.useDualstackEndpoint??(0,h.loadConfig)(l.NODE_USE_DUALSTACK_ENDPOINT_CONFIG_OPTIONS,E),useFipsEndpoint:e?.useFipsEndpoint??(0,h.loadConfig)(l.NODE_USE_FIPS_ENDPOINT_CONFIG_OPTIONS,E),userAgentAppId:e?.userAgentAppId??(0,h.loadConfig)(c.NODE_APP_ID_CONFIG_OPTIONS,E)}}},1929:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getRuntimeConfig=void 0;const r=n(8704),o=n(402),s=n(1411),i=n(4494),a=n(8385),c=n(1577),l=n(681),d=n(6495);t.getRuntimeConfig=e=>({apiVersion:"2023-09-30",base64Decoder:e?.base64Decoder??a.fromBase64,base64Encoder:e?.base64Encoder??a.toBase64,disableHostPrefix:e?.disableHostPrefix??!1,endpointProvider:e?.endpointProvider??d.defaultEndpointResolver,extensions:e?.extensions??[],httpAuthSchemeProvider:e?.httpAuthSchemeProvider??l.defaultBedrockRuntimeHttpAuthSchemeProvider,httpAuthSchemes:e?.httpAuthSchemes??[{schemeId:"aws.auth#sigv4",identityProvider:e=>e.getIdentityProvider("aws.auth#sigv4"),signer:new r.AwsSdkSigV4Signer},{schemeId:"smithy.api#httpBearerAuth",identityProvider:e=>e.getIdentityProvider("smithy.api#httpBearerAuth"),signer:new o.HttpBearerAuthSigner}],logger:e?.logger??new s.NoOpLogger,serviceId:e?.serviceId??"Bedrock Runtime",urlParser:e?.urlParser??i.parseUrl,utf8Decoder:e?.utf8Decoder??c.fromUtf8,utf8Encoder:e?.utf8Encoder??c.toUtf8})},9136:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.resolveHttpAuthSchemeConfig=t.defaultCloudWatchLogsHttpAuthSchemeProvider=t.defaultCloudWatchLogsHttpAuthSchemeParametersProvider=void 0;const r=n(8704),o=n(6324);t.defaultCloudWatchLogsHttpAuthSchemeParametersProvider=async(e,t,n)=>({operation:(0,o.getSmithyContext)(t).operation,region:await(0,o.normalizeProvider)(e.region)()||(()=>{throw new Error("expected `region` to be configured for `aws.auth#sigv4`")})()});t.defaultCloudWatchLogsHttpAuthSchemeProvider=e=>{const t=[];return e.operation,t.push(function(e){return{schemeId:"aws.auth#sigv4",signingProperties:{name:"logs",region:e.region},propertiesExtractor:(e,t)=>({signingProperties:{config:e,context:t}})}}(e)),t};t.resolveHttpAuthSchemeConfig=e=>{const t=(0,r.resolveAwsSdkSigV4Config)(e);return Object.assign(t,{authSchemePreference:(0,o.normalizeProvider)(e.authSchemePreference??[])})}},4262:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.defaultEndpointResolver=void 0;const r=n(3068),o=n(9674),s=n(3655),i=new o.EndpointCache({size:50,params:["Endpoint","Region","UseDualStack","UseFIPS"]});t.defaultEndpointResolver=(e,t={})=>i.get(e,()=>(0,o.resolveEndpoint)(s.ruleSet,{endpointParams:e,logger:t.logger})),o.customEndpointFunctions.aws=r.awsEndpointFunctions},3655:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ruleSet=void 0;const n="required",r="fn",o="argv",s="ref",i=!0,a="isSet",c="booleanEquals",l="error",d="endpoint",u="tree",p="PartitionResult",m="stringEquals",h={[n]:!1,type:"String"},f={[n]:!0,default:!1,type:"Boolean"},g={[s]:"Endpoint"},y={[r]:c,[o]:[{[s]:"UseFIPS"},!0]},v={[r]:c,[o]:[{[s]:"UseDualStack"},!0]},b={},S={[s]:"Region"},_={[r]:"getAttr",[o]:[{[s]:p},"supportsFIPS"]},w={[r]:c,[o]:[!0,{[r]:"getAttr",[o]:[{[s]:p},"supportsDualStack"]}]},E=[y],P=[v],C=[S],O={version:"1.0",parameters:{Region:h,UseDualStack:f,UseFIPS:f,Endpoint:h},rules:[{conditions:[{[r]:a,[o]:[g]}],rules:[{conditions:E,error:"Invalid Configuration: FIPS and custom endpoint are not supported",type:l},{conditions:P,error:"Invalid Configuration: Dualstack and custom endpoint are not supported",type:l},{endpoint:{url:g,properties:b,headers:b},type:d}],type:u},{conditions:[{[r]:a,[o]:C}],rules:[{conditions:[{[r]:"aws.partition",[o]:C,assign:p}],rules:[{conditions:[y,v],rules:[{conditions:[{[r]:c,[o]:[i,_]},w],rules:[{endpoint:{url:"https://logs-fips.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:b,headers:b},type:d}],type:u},{error:"FIPS and DualStack are enabled, but this partition does not support one or both",type:l}],type:u},{conditions:E,rules:[{conditions:[{[r]:c,[o]:[_,i]}],rules:[{conditions:[{[r]:m,[o]:[S,"us-gov-east-1"]}],endpoint:{url:"https://logs.us-gov-east-1.amazonaws.com",properties:b,headers:b},type:d},{conditions:[{[r]:m,[o]:[S,"us-gov-west-1"]}],endpoint:{url:"https://logs.us-gov-west-1.amazonaws.com",properties:b,headers:b},type:d},{endpoint:{url:"https://logs-fips.{Region}.{PartitionResult#dnsSuffix}",properties:b,headers:b},type:d}],type:u},{error:"FIPS is enabled but this partition does not support FIPS",type:l}],type:u},{conditions:P,rules:[{conditions:[w],rules:[{endpoint:{url:"https://logs.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:b,headers:b},type:d}],type:u},{error:"DualStack is enabled but this partition does not support DualStack",type:l}],type:u},{endpoint:{url:"https://logs.{Region}.{PartitionResult#dnsSuffix}",properties:b,headers:b},type:d}],type:u}],type:u},{error:"Invalid Configuration: Missing Region",type:l}]};t.ruleSet=O},303:(e,t,n)=>{"use strict";var r,o=Object.defineProperty,s=Object.getOwnPropertyDescriptor,i=Object.getOwnPropertyNames,a=Object.prototype.hasOwnProperty,c=(e,t)=>o(e,"name",{value:t,configurable:!0}),l={};((e,t)=>{for(var n in t)o(e,n,{get:t[n],enumerable:!0})})(l,{AccessDeniedException:()=>M,AnomalyDetectorStatus:()=>U,AssociateKmsKeyCommand:()=>Yo,CancelExportTaskCommand:()=>Qo,CloudWatchLogs:()=>ji,CloudWatchLogsClient:()=>T,CloudWatchLogsServiceException:()=>j,ConflictException:()=>K,CreateDeliveryCommand:()=>Zo,CreateExportTaskCommand:()=>es,CreateLogAnomalyDetectorCommand:()=>ts,CreateLogGroupCommand:()=>ns,CreateLogStreamCommand:()=>rs,DataAlreadyAcceptedException:()=>ne,DataProtectionStatus:()=>re,DeleteAccountPolicyCommand:()=>os,DeleteDataProtectionPolicyCommand:()=>ss,DeleteDeliveryCommand:()=>is,DeleteDeliveryDestinationCommand:()=>as,DeleteDeliveryDestinationPolicyCommand:()=>cs,DeleteDeliverySourceCommand:()=>ls,DeleteDestinationCommand:()=>ds,DeleteIndexPolicyCommand:()=>us,DeleteIntegrationCommand:()=>ps,DeleteLogAnomalyDetectorCommand:()=>ms,DeleteLogGroupCommand:()=>hs,DeleteLogStreamCommand:()=>fs,DeleteMetricFilterCommand:()=>gs,DeleteQueryDefinitionCommand:()=>ys,DeleteResourcePolicyCommand:()=>vs,DeleteRetentionPolicyCommand:()=>bs,DeleteSubscriptionFilterCommand:()=>Ss,DeleteTransformerCommand:()=>_s,DeliveryDestinationType:()=>J,DescribeAccountPoliciesCommand:()=>ws,DescribeConfigurationTemplatesCommand:()=>Es,DescribeDeliveriesCommand:()=>Ps,DescribeDeliveryDestinationsCommand:()=>Cs,DescribeDeliverySourcesCommand:()=>Os,DescribeDestinationsCommand:()=>As,DescribeExportTasksCommand:()=>xs,DescribeFieldIndexesCommand:()=>Is,DescribeIndexPoliciesCommand:()=>Rs,DescribeLogGroupsCommand:()=>Ts,DescribeLogStreamsCommand:()=>Ds,DescribeMetricFiltersCommand:()=>ks,DescribeQueriesCommand:()=>Ns,DescribeQueryDefinitionsCommand:()=>js,DescribeResourcePoliciesCommand:()=>Ms,DescribeSubscriptionFiltersCommand:()=>Ls,DisassociateKmsKeyCommand:()=>Fs,Distribution:()=>pe,EntityRejectionErrorType:()=>me,EvaluationFrequency:()=>B,EventSource:()=>he,ExportTaskStatusCode:()=>oe,FilterLogEventsCommand:()=>$s,FlattenedElement:()=>fe,GetDataProtectionPolicyCommand:()=>Us,GetDeliveryCommand:()=>Bs,GetDeliveryDestinationCommand:()=>Gs,GetDeliveryDestinationPolicyCommand:()=>Hs,GetDeliverySourceCommand:()=>zs,GetIntegrationCommand:()=>qs,GetLogAnomalyDetectorCommand:()=>Ws,GetLogEventsCommand:()=>Vs,GetLogGroupFieldsCommand:()=>Js,GetLogObjectCommand:()=>Ks,GetLogObjectResponseFilterSensitiveLog:()=>je,GetLogObjectResponseStream:()=>ye,GetLogObjectResponseStreamFilterSensitiveLog:()=>Ne,GetLogRecordCommand:()=>Xs,GetQueryResultsCommand:()=>Ys,GetTransformerCommand:()=>Qs,IndexSource:()=>se,InheritedProperty:()=>ie,IntegrationDetails:()=>d,IntegrationStatus:()=>ve,IntegrationType:()=>be,InternalStreamingException:()=>Se,InvalidOperationException:()=>W,InvalidParameterException:()=>G,InvalidSequenceTokenException:()=>Pe,LimitExceededException:()=>Z,ListAnomaliesCommand:()=>Zs,ListIntegrationsCommand:()=>ei,ListLogAnomalyDetectorsCommand:()=>ti,ListLogGroupsCommand:()=>ni,ListLogGroupsForQueryCommand:()=>ri,ListTagsForResourceCommand:()=>oi,ListTagsLogGroupCommand:()=>si,LogGroupClass:()=>te,MalformedQueryException:()=>Re,OCSFVersion:()=>we,OpenSearchResourceStatusType:()=>ge,OperationAbortedException:()=>H,OrderBy:()=>ae,OutputFormat:()=>V,PolicyScope:()=>ue,PolicyType:()=>L,PutAccountPolicyCommand:()=>ii,PutDataProtectionPolicyCommand:()=>ai,PutDeliveryDestinationCommand:()=>ci,PutDeliveryDestinationPolicyCommand:()=>li,PutDeliverySourceCommand:()=>di,PutDestinationCommand:()=>ui,PutDestinationPolicyCommand:()=>pi,PutIndexPolicyCommand:()=>mi,PutIntegrationCommand:()=>hi,PutLogEventsCommand:()=>fi,PutMetricFilterCommand:()=>gi,PutQueryDefinitionCommand:()=>yi,PutResourcePolicyCommand:()=>vi,PutRetentionPolicyCommand:()=>bi,PutSubscriptionFilterCommand:()=>Si,PutTransformerCommand:()=>_i,QueryLanguage:()=>le,QueryStatus:()=>de,ResourceAlreadyExistsException:()=>ee,ResourceConfig:()=>_e,ResourceNotFoundException:()=>z,Scope:()=>F,ServiceQuotaExceededException:()=>X,ServiceUnavailableException:()=>q,SessionStreamingException:()=>xe,SessionTimeoutException:()=>Ie,StandardUnit:()=>ce,StartLiveTailCommand:()=>wi,StartLiveTailResponseFilterSensitiveLog:()=>Le,StartLiveTailResponseStream:()=>Oe,StartLiveTailResponseStreamFilterSensitiveLog:()=>Me,StartQueryCommand:()=>Ei,State:()=>$,StopQueryCommand:()=>Pi,SuppressionState:()=>Ce,SuppressionType:()=>ke,SuppressionUnit:()=>De,TagLogGroupCommand:()=>Ci,TagResourceCommand:()=>Oi,TestMetricFilterCommand:()=>Ai,TestTransformerCommand:()=>xi,ThrottlingException:()=>Y,TooManyTagsException:()=>Te,Type:()=>Ee,UnrecognizedClientException:()=>Ae,UntagLogGroupCommand:()=>Ii,UntagResourceCommand:()=>Ri,UpdateAnomalyCommand:()=>Ti,UpdateDeliveryConfigurationCommand:()=>Di,UpdateLogAnomalyDetectorCommand:()=>ki,ValidationException:()=>Q,__Client:()=>A.Client,paginateDescribeConfigurationTemplates:()=>Mi,paginateDescribeDeliveries:()=>Li,paginateDescribeDeliveryDestinations:()=>Fi,paginateDescribeDeliverySources:()=>$i,paginateDescribeDestinations:()=>Ui,paginateDescribeLogGroups:()=>Bi,paginateDescribeLogStreams:()=>Gi,paginateDescribeMetricFilters:()=>Hi,paginateDescribeSubscriptionFilters:()=>zi,paginateFilterLogEvents:()=>qi,paginateGetLogEvents:()=>Wi,paginateListAnomalies:()=>Vi,paginateListLogAnomalyDetectors:()=>Ji,paginateListLogGroupsForQuery:()=>Ki}),e.exports=(r=l,((e,t,n,r)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let c of i(t))a.call(e,c)||c===n||o(e,c,{get:()=>t[c],enumerable:!(r=s(t,c))||r.enumerable});return e})(o({},"__esModule",{value:!0}),r));var d,u=n(2590),p=n(5242),m=n(1568),h=n(2959),f=n(9316),g=n(402),y=n(6895),v=n(7212),b=n(99),S=n(9618),_=n(9136),w=c(e=>Object.assign(e,{useDualstackEndpoint:e.useDualstackEndpoint??!1,useFipsEndpoint:e.useFipsEndpoint??!1,defaultSigningName:"logs"}),"resolveClientEndpointParameters"),E={UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}},P=n(129),C=n(6463),O=n(2356),A=n(1411),x=c(e=>{const t=e.httpAuthSchemes;let n=e.httpAuthSchemeProvider,r=e.credentials;return{setHttpAuthScheme(e){const n=t.findIndex(t=>t.schemeId===e.schemeId);-1===n?t.push(e):t.splice(n,1,e)},httpAuthSchemes:()=>t,setHttpAuthSchemeProvider(e){n=e},httpAuthSchemeProvider:()=>n,setCredentials(e){r=e},credentials:()=>r}},"getHttpAuthExtensionConfiguration"),I=c(e=>({httpAuthSchemes:e.httpAuthSchemes(),httpAuthSchemeProvider:e.httpAuthSchemeProvider(),credentials:e.credentials()}),"resolveHttpAuthRuntimeConfig"),R=c((e,t)=>{const n=Object.assign((0,C.getAwsRegionExtensionConfiguration)(e),(0,A.getDefaultExtensionConfiguration)(e),(0,O.getHttpHandlerExtensionConfiguration)(e),x(e));return t.forEach(e=>e.configure(n)),Object.assign(e,(0,C.resolveAwsRegionExtensionConfiguration)(n),(0,A.resolveDefaultRuntimeConfig)(n),(0,O.resolveHttpHandlerRuntimeConfig)(n),I(n))},"resolveRuntimeExtensions"),T=class extends A.Client{static{c(this,"CloudWatchLogsClient")}config;constructor(...[e]){const t=(0,P.getRuntimeConfig)(e||{});super(t),this.initConfig=t;const n=w(t),r=(0,h.resolveUserAgentConfig)(n),o=(0,S.resolveRetryConfig)(r),s=(0,f.resolveRegionConfig)(o),i=(0,u.resolveHostHeaderConfig)(s),a=(0,b.resolveEndpointConfig)(i),l=(0,y.resolveEventStreamSerdeConfig)(a),d=(0,_.resolveHttpAuthSchemeConfig)(l),E=R(d,e?.extensions||[]);this.config=E,this.middlewareStack.use((0,h.getUserAgentPlugin)(this.config)),this.middlewareStack.use((0,S.getRetryPlugin)(this.config)),this.middlewareStack.use((0,v.getContentLengthPlugin)(this.config)),this.middlewareStack.use((0,u.getHostHeaderPlugin)(this.config)),this.middlewareStack.use((0,p.getLoggerPlugin)(this.config)),this.middlewareStack.use((0,m.getRecursionDetectionPlugin)(this.config)),this.middlewareStack.use((0,g.getHttpAuthSchemeEndpointRuleSetPlugin)(this.config,{httpAuthSchemeParametersProvider:_.defaultCloudWatchLogsHttpAuthSchemeParametersProvider,identityProviderConfigProvider:c(async e=>new g.DefaultIdentityProviderConfig({"aws.auth#sigv4":e.credentials}),"identityProviderConfigProvider")})),this.middlewareStack.use((0,g.getHttpSigningPlugin)(this.config))}destroy(){super.destroy()}},D=n(3255),k=n(8704),N=n(2048),j=class e extends A.ServiceException{static{c(this,"CloudWatchLogsServiceException")}constructor(t){super(t),Object.setPrototypeOf(this,e.prototype)}},M=class e extends j{static{c(this,"AccessDeniedException")}name="AccessDeniedException";$fault="client";constructor(t){super({name:"AccessDeniedException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}},L={DATA_PROTECTION_POLICY:"DATA_PROTECTION_POLICY",FIELD_INDEX_POLICY:"FIELD_INDEX_POLICY",METRIC_EXTRACTION_POLICY:"METRIC_EXTRACTION_POLICY",SUBSCRIPTION_FILTER_POLICY:"SUBSCRIPTION_FILTER_POLICY",TRANSFORMER_POLICY:"TRANSFORMER_POLICY"},F={ALL:"ALL"},$={Active:"Active",Baseline:"Baseline",Suppressed:"Suppressed"},U={ANALYZING:"ANALYZING",DELETED:"DELETED",FAILED:"FAILED",INITIALIZING:"INITIALIZING",PAUSED:"PAUSED",TRAINING:"TRAINING"},B={FIFTEEN_MIN:"FIFTEEN_MIN",FIVE_MIN:"FIVE_MIN",ONE_HOUR:"ONE_HOUR",ONE_MIN:"ONE_MIN",TEN_MIN:"TEN_MIN",THIRTY_MIN:"THIRTY_MIN"},G=class e extends j{static{c(this,"InvalidParameterException")}name="InvalidParameterException";$fault="client";constructor(t){super({name:"InvalidParameterException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}},H=class e extends j{static{c(this,"OperationAbortedException")}name="OperationAbortedException";$fault="client";constructor(t){super({name:"OperationAbortedException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}},z=class e extends j{static{c(this,"ResourceNotFoundException")}name="ResourceNotFoundException";$fault="client";constructor(t){super({name:"ResourceNotFoundException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}},q=class e extends j{static{c(this,"ServiceUnavailableException")}name="ServiceUnavailableException";$fault="server";constructor(t){super({name:"ServiceUnavailableException",$fault:"server",...t}),Object.setPrototypeOf(this,e.prototype)}},W=class e extends j{static{c(this,"InvalidOperationException")}name="InvalidOperationException";$fault="client";constructor(t){super({name:"InvalidOperationException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}},V={JSON:"json",PARQUET:"parquet",PLAIN:"plain",RAW:"raw",W3C:"w3c"},J={CWL:"CWL",FH:"FH",S3:"S3",XRAY:"XRAY"},K=class e extends j{static{c(this,"ConflictException")}name="ConflictException";$fault="client";constructor(t){super({name:"ConflictException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}},X=class e extends j{static{c(this,"ServiceQuotaExceededException")}name="ServiceQuotaExceededException";$fault="client";constructor(t){super({name:"ServiceQuotaExceededException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}},Y=class e extends j{static{c(this,"ThrottlingException")}name="ThrottlingException";$fault="client";constructor(t){super({name:"ThrottlingException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}},Q=class e extends j{static{c(this,"ValidationException")}name="ValidationException";$fault="client";constructor(t){super({name:"ValidationException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}},Z=class e extends j{static{c(this,"LimitExceededException")}name="LimitExceededException";$fault="client";constructor(t){super({name:"LimitExceededException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}},ee=class e extends j{static{c(this,"ResourceAlreadyExistsException")}name="ResourceAlreadyExistsException";$fault="client";constructor(t){super({name:"ResourceAlreadyExistsException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}},te={DELIVERY:"DELIVERY",INFREQUENT_ACCESS:"INFREQUENT_ACCESS",STANDARD:"STANDARD"},ne=class e extends j{static{c(this,"DataAlreadyAcceptedException")}name="DataAlreadyAcceptedException";$fault="client";expectedSequenceToken;constructor(t){super({name:"DataAlreadyAcceptedException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype),this.expectedSequenceToken=t.expectedSequenceToken}},re={ACTIVATED:"ACTIVATED",ARCHIVED:"ARCHIVED",DELETED:"DELETED",DISABLED:"DISABLED"},oe={CANCELLED:"CANCELLED",COMPLETED:"COMPLETED",FAILED:"FAILED",PENDING:"PENDING",PENDING_CANCEL:"PENDING_CANCEL",RUNNING:"RUNNING"},se={ACCOUNT:"ACCOUNT",LOG_GROUP:"LOG_GROUP"},ie={ACCOUNT_DATA_PROTECTION:"ACCOUNT_DATA_PROTECTION"},ae={LastEventTime:"LastEventTime",LogStreamName:"LogStreamName"},ce={Bits:"Bits",BitsSecond:"Bits/Second",Bytes:"Bytes",BytesSecond:"Bytes/Second",Count:"Count",CountSecond:"Count/Second",Gigabits:"Gigabits",GigabitsSecond:"Gigabits/Second",Gigabytes:"Gigabytes",GigabytesSecond:"Gigabytes/Second",Kilobits:"Kilobits",KilobitsSecond:"Kilobits/Second",Kilobytes:"Kilobytes",KilobytesSecond:"Kilobytes/Second",Megabits:"Megabits",MegabitsSecond:"Megabits/Second",Megabytes:"Megabytes",MegabytesSecond:"Megabytes/Second",Microseconds:"Microseconds",Milliseconds:"Milliseconds",None:"None",Percent:"Percent",Seconds:"Seconds",Terabits:"Terabits",TerabitsSecond:"Terabits/Second",Terabytes:"Terabytes",TerabytesSecond:"Terabytes/Second"},le={CWLI:"CWLI",PPL:"PPL",SQL:"SQL"},de={Cancelled:"Cancelled",Complete:"Complete",Failed:"Failed",Running:"Running",Scheduled:"Scheduled",Timeout:"Timeout",Unknown:"Unknown"},ue={ACCOUNT:"ACCOUNT",RESOURCE:"RESOURCE"},pe={ByLogStream:"ByLogStream",Random:"Random"},me={ENTITY_SIZE_TOO_LARGE:"EntitySizeTooLarge",INVALID_ATTRIBUTES:"InvalidAttributes",INVALID_ENTITY:"InvalidEntity",INVALID_KEY_ATTRIBUTE:"InvalidKeyAttributes",INVALID_TYPE_VALUE:"InvalidTypeValue",MISSING_REQUIRED_FIELDS:"MissingRequiredFields",UNSUPPORTED_LOG_GROUP_TYPE:"UnsupportedLogGroupType"},he={AWSWAF:"AWSWAF",CLOUD_TRAIL:"CloudTrail",EKS_AUDIT:"EKSAudit",ROUTE53_RESOLVER:"Route53Resolver",VPC_FLOW:"VPCFlow"},fe={FIRST:"first",LAST:"last"},ge={ACTIVE:"ACTIVE",ERROR:"ERROR",NOT_FOUND:"NOT_FOUND"};(d||(d={})).visit=c((e,t)=>void 0!==e.openSearchIntegrationDetails?t.openSearchIntegrationDetails(e.openSearchIntegrationDetails):t._(e.$unknown[0],e.$unknown[1]),"visit");var ye,ve={ACTIVE:"ACTIVE",FAILED:"FAILED",PROVISIONING:"PROVISIONING"},be={OPENSEARCH:"OPENSEARCH"},Se=class e extends j{static{c(this,"InternalStreamingException")}name="InternalStreamingException";$fault="client";constructor(t){super({name:"InternalStreamingException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}};(ye||(ye={})).visit=c((e,t)=>void 0!==e.fields?t.fields(e.fields):void 0!==e.InternalStreamingException?t.InternalStreamingException(e.InternalStreamingException):t._(e.$unknown[0],e.$unknown[1]),"visit");var _e,we={V1_1:"V1.1"},Ee={BOOLEAN:"boolean",DOUBLE:"double",INTEGER:"integer",STRING:"string"},Pe=class e extends j{static{c(this,"InvalidSequenceTokenException")}name="InvalidSequenceTokenException";$fault="client";expectedSequenceToken;constructor(t){super({name:"InvalidSequenceTokenException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype),this.expectedSequenceToken=t.expectedSequenceToken}},Ce={SUPPRESSED:"SUPPRESSED",UNSUPPRESSED:"UNSUPPRESSED"};(_e||(_e={})).visit=c((e,t)=>void 0!==e.openSearchResourceConfig?t.openSearchResourceConfig(e.openSearchResourceConfig):t._(e.$unknown[0],e.$unknown[1]),"visit");var Oe,Ae=class e extends j{static{c(this,"UnrecognizedClientException")}name="UnrecognizedClientException";$fault="client";constructor(t){super({name:"UnrecognizedClientException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}},xe=class e extends j{static{c(this,"SessionStreamingException")}name="SessionStreamingException";$fault="client";constructor(t){super({name:"SessionStreamingException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}},Ie=class e extends j{static{c(this,"SessionTimeoutException")}name="SessionTimeoutException";$fault="client";constructor(t){super({name:"SessionTimeoutException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}};(Oe||(Oe={})).visit=c((e,t)=>void 0!==e.sessionStart?t.sessionStart(e.sessionStart):void 0!==e.sessionUpdate?t.sessionUpdate(e.sessionUpdate):void 0!==e.SessionTimeoutException?t.SessionTimeoutException(e.SessionTimeoutException):void 0!==e.SessionStreamingException?t.SessionStreamingException(e.SessionStreamingException):t._(e.$unknown[0],e.$unknown[1]),"visit");var Re=class e extends j{static{c(this,"MalformedQueryException")}name="MalformedQueryException";$fault="client";queryCompileError;constructor(t){super({name:"MalformedQueryException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype),this.queryCompileError=t.queryCompileError}},Te=class e extends j{static{c(this,"TooManyTagsException")}name="TooManyTagsException";$fault="client";resourceName;constructor(t){super({name:"TooManyTagsException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype),this.resourceName=t.resourceName}},De={HOURS:"HOURS",MINUTES:"MINUTES",SECONDS:"SECONDS"},ke={INFINITE:"INFINITE",LIMITED:"LIMITED"},Ne=c(e=>void 0!==e.fields?{fields:e.fields}:void 0!==e.InternalStreamingException?{InternalStreamingException:e.InternalStreamingException}:void 0!==e.$unknown?{[e.$unknown[0]]:"UNKNOWN"}:void 0,"GetLogObjectResponseStreamFilterSensitiveLog"),je=c(e=>({...e,...e.fieldStream&&{fieldStream:"STREAMING_CONTENT"}}),"GetLogObjectResponseFilterSensitiveLog"),Me=c(e=>void 0!==e.sessionStart?{sessionStart:e.sessionStart}:void 0!==e.sessionUpdate?{sessionUpdate:e.sessionUpdate}:void 0!==e.SessionTimeoutException?{SessionTimeoutException:e.SessionTimeoutException}:void 0!==e.SessionStreamingException?{SessionStreamingException:e.SessionStreamingException}:void 0!==e.$unknown?{[e.$unknown[0]]:"UNKNOWN"}:void 0,"StartLiveTailResponseStreamFilterSensitiveLog"),Le=c(e=>({...e,...e.responseStream&&{responseStream:"STREAMING_CONTENT"}}),"StartLiveTailResponseFilterSensitiveLog"),Fe=c(async(e,t)=>{const n=Xo("AssociateKmsKey");let r;return r=JSON.stringify((0,A._json)(e)),Ko(t,n,"/",void 0,r)},"se_AssociateKmsKeyCommand"),$e=c(async(e,t)=>{const n=Xo("CancelExportTask");let r;return r=JSON.stringify((0,A._json)(e)),Ko(t,n,"/",void 0,r)},"se_CancelExportTaskCommand"),Ue=c(async(e,t)=>{const n=Xo("CreateDelivery");let r;return r=JSON.stringify((0,A._json)(e)),Ko(t,n,"/",void 0,r)},"se_CreateDeliveryCommand"),Be=c(async(e,t)=>{const n=Xo("CreateExportTask");let r;return r=JSON.stringify((0,A._json)(e)),Ko(t,n,"/",void 0,r)},"se_CreateExportTaskCommand"),Ge=c(async(e,t)=>{const n=Xo("CreateLogAnomalyDetector");let r;return r=JSON.stringify((0,A._json)(e)),Ko(t,n,"/",void 0,r)},"se_CreateLogAnomalyDetectorCommand"),He=c(async(e,t)=>{const n=Xo("CreateLogGroup");let r;return r=JSON.stringify((0,A._json)(e)),Ko(t,n,"/",void 0,r)},"se_CreateLogGroupCommand"),ze=c(async(e,t)=>{const n=Xo("CreateLogStream");let r;return r=JSON.stringify((0,A._json)(e)),Ko(t,n,"/",void 0,r)},"se_CreateLogStreamCommand"),qe=c(async(e,t)=>{const n=Xo("DeleteAccountPolicy");let r;return r=JSON.stringify((0,A._json)(e)),Ko(t,n,"/",void 0,r)},"se_DeleteAccountPolicyCommand"),We=c(async(e,t)=>{const n=Xo("DeleteDataProtectionPolicy");let r;return r=JSON.stringify((0,A._json)(e)),Ko(t,n,"/",void 0,r)},"se_DeleteDataProtectionPolicyCommand"),Ve=c(async(e,t)=>{const n=Xo("DeleteDelivery");let r;return r=JSON.stringify((0,A._json)(e)),Ko(t,n,"/",void 0,r)},"se_DeleteDeliveryCommand"),Je=c(async(e,t)=>{const n=Xo("DeleteDeliveryDestination");let r;return r=JSON.stringify((0,A._json)(e)),Ko(t,n,"/",void 0,r)},"se_DeleteDeliveryDestinationCommand"),Ke=c(async(e,t)=>{const n=Xo("DeleteDeliveryDestinationPolicy");let r;return r=JSON.stringify((0,A._json)(e)),Ko(t,n,"/",void 0,r)},"se_DeleteDeliveryDestinationPolicyCommand"),Xe=c(async(e,t)=>{const n=Xo("DeleteDeliverySource");let r;return r=JSON.stringify((0,A._json)(e)),Ko(t,n,"/",void 0,r)},"se_DeleteDeliverySourceCommand"),Ye=c(async(e,t)=>{const n=Xo("DeleteDestination");let r;return r=JSON.stringify((0,A._json)(e)),Ko(t,n,"/",void 0,r)},"se_DeleteDestinationCommand"),Qe=c(async(e,t)=>{const n=Xo("DeleteIndexPolicy");let r;return r=JSON.stringify((0,A._json)(e)),Ko(t,n,"/",void 0,r)},"se_DeleteIndexPolicyCommand"),Ze=c(async(e,t)=>{const n=Xo("DeleteIntegration");let r;return r=JSON.stringify((0,A._json)(e)),Ko(t,n,"/",void 0,r)},"se_DeleteIntegrationCommand"),et=c(async(e,t)=>{const n=Xo("DeleteLogAnomalyDetector");let r;return r=JSON.stringify((0,A._json)(e)),Ko(t,n,"/",void 0,r)},"se_DeleteLogAnomalyDetectorCommand"),tt=c(async(e,t)=>{const n=Xo("DeleteLogGroup");let r;return r=JSON.stringify((0,A._json)(e)),Ko(t,n,"/",void 0,r)},"se_DeleteLogGroupCommand"),nt=c(async(e,t)=>{const n=Xo("DeleteLogStream");let r;return r=JSON.stringify((0,A._json)(e)),Ko(t,n,"/",void 0,r)},"se_DeleteLogStreamCommand"),rt=c(async(e,t)=>{const n=Xo("DeleteMetricFilter");let r;return r=JSON.stringify((0,A._json)(e)),Ko(t,n,"/",void 0,r)},"se_DeleteMetricFilterCommand"),ot=c(async(e,t)=>{const n=Xo("DeleteQueryDefinition");let r;return r=JSON.stringify((0,A._json)(e)),Ko(t,n,"/",void 0,r)},"se_DeleteQueryDefinitionCommand"),st=c(async(e,t)=>{const n=Xo("DeleteResourcePolicy");let r;return r=JSON.stringify((0,A._json)(e)),Ko(t,n,"/",void 0,r)},"se_DeleteResourcePolicyCommand"),it=c(async(e,t)=>{const n=Xo("DeleteRetentionPolicy");let r;return r=JSON.stringify((0,A._json)(e)),Ko(t,n,"/",void 0,r)},"se_DeleteRetentionPolicyCommand"),at=c(async(e,t)=>{const n=Xo("DeleteSubscriptionFilter");let r;return r=JSON.stringify((0,A._json)(e)),Ko(t,n,"/",void 0,r)},"se_DeleteSubscriptionFilterCommand"),ct=c(async(e,t)=>{const n=Xo("DeleteTransformer");let r;return r=JSON.stringify((0,A._json)(e)),Ko(t,n,"/",void 0,r)},"se_DeleteTransformerCommand"),lt=c(async(e,t)=>{const n=Xo("DescribeAccountPolicies");let r;return r=JSON.stringify((0,A._json)(e)),Ko(t,n,"/",void 0,r)},"se_DescribeAccountPoliciesCommand"),dt=c(async(e,t)=>{const n=Xo("DescribeConfigurationTemplates");let r;return r=JSON.stringify((0,A._json)(e)),Ko(t,n,"/",void 0,r)},"se_DescribeConfigurationTemplatesCommand"),ut=c(async(e,t)=>{const n=Xo("DescribeDeliveries");let r;return r=JSON.stringify((0,A._json)(e)),Ko(t,n,"/",void 0,r)},"se_DescribeDeliveriesCommand"),pt=c(async(e,t)=>{const n=Xo("DescribeDeliveryDestinations");let r;return r=JSON.stringify((0,A._json)(e)),Ko(t,n,"/",void 0,r)},"se_DescribeDeliveryDestinationsCommand"),mt=c(async(e,t)=>{const n=Xo("DescribeDeliverySources");let r;return r=JSON.stringify((0,A._json)(e)),Ko(t,n,"/",void 0,r)},"se_DescribeDeliverySourcesCommand"),ht=c(async(e,t)=>{const n=Xo("DescribeDestinations");let r;return r=JSON.stringify((0,A._json)(e)),Ko(t,n,"/",void 0,r)},"se_DescribeDestinationsCommand"),ft=c(async(e,t)=>{const n=Xo("DescribeExportTasks");let r;return r=JSON.stringify((0,A._json)(e)),Ko(t,n,"/",void 0,r)},"se_DescribeExportTasksCommand"),gt=c(async(e,t)=>{const n=Xo("DescribeFieldIndexes");let r;return r=JSON.stringify((0,A._json)(e)),Ko(t,n,"/",void 0,r)},"se_DescribeFieldIndexesCommand"),yt=c(async(e,t)=>{const n=Xo("DescribeIndexPolicies");let r;return r=JSON.stringify((0,A._json)(e)),Ko(t,n,"/",void 0,r)},"se_DescribeIndexPoliciesCommand"),vt=c(async(e,t)=>{const n=Xo("DescribeLogGroups");let r;return r=JSON.stringify((0,A._json)(e)),Ko(t,n,"/",void 0,r)},"se_DescribeLogGroupsCommand"),bt=c(async(e,t)=>{const n=Xo("DescribeLogStreams");let r;return r=JSON.stringify((0,A._json)(e)),Ko(t,n,"/",void 0,r)},"se_DescribeLogStreamsCommand"),St=c(async(e,t)=>{const n=Xo("DescribeMetricFilters");let r;return r=JSON.stringify((0,A._json)(e)),Ko(t,n,"/",void 0,r)},"se_DescribeMetricFiltersCommand"),_t=c(async(e,t)=>{const n=Xo("DescribeQueries");let r;return r=JSON.stringify((0,A._json)(e)),Ko(t,n,"/",void 0,r)},"se_DescribeQueriesCommand"),wt=c(async(e,t)=>{const n=Xo("DescribeQueryDefinitions");let r;return r=JSON.stringify((0,A._json)(e)),Ko(t,n,"/",void 0,r)},"se_DescribeQueryDefinitionsCommand"),Et=c(async(e,t)=>{const n=Xo("DescribeResourcePolicies");let r;return r=JSON.stringify((0,A._json)(e)),Ko(t,n,"/",void 0,r)},"se_DescribeResourcePoliciesCommand"),Pt=c(async(e,t)=>{const n=Xo("DescribeSubscriptionFilters");let r;return r=JSON.stringify((0,A._json)(e)),Ko(t,n,"/",void 0,r)},"se_DescribeSubscriptionFiltersCommand"),Ct=c(async(e,t)=>{const n=Xo("DisassociateKmsKey");let r;return r=JSON.stringify((0,A._json)(e)),Ko(t,n,"/",void 0,r)},"se_DisassociateKmsKeyCommand"),Ot=c(async(e,t)=>{const n=Xo("FilterLogEvents");let r;return r=JSON.stringify((0,A._json)(e)),Ko(t,n,"/",void 0,r)},"se_FilterLogEventsCommand"),At=c(async(e,t)=>{const n=Xo("GetDataProtectionPolicy");let r;return r=JSON.stringify((0,A._json)(e)),Ko(t,n,"/",void 0,r)},"se_GetDataProtectionPolicyCommand"),xt=c(async(e,t)=>{const n=Xo("GetDelivery");let r;return r=JSON.stringify((0,A._json)(e)),Ko(t,n,"/",void 0,r)},"se_GetDeliveryCommand"),It=c(async(e,t)=>{const n=Xo("GetDeliveryDestination");let r;return r=JSON.stringify((0,A._json)(e)),Ko(t,n,"/",void 0,r)},"se_GetDeliveryDestinationCommand"),Rt=c(async(e,t)=>{const n=Xo("GetDeliveryDestinationPolicy");let r;return r=JSON.stringify((0,A._json)(e)),Ko(t,n,"/",void 0,r)},"se_GetDeliveryDestinationPolicyCommand"),Tt=c(async(e,t)=>{const n=Xo("GetDeliverySource");let r;return r=JSON.stringify((0,A._json)(e)),Ko(t,n,"/",void 0,r)},"se_GetDeliverySourceCommand"),Dt=c(async(e,t)=>{const n=Xo("GetIntegration");let r;return r=JSON.stringify((0,A._json)(e)),Ko(t,n,"/",void 0,r)},"se_GetIntegrationCommand"),kt=c(async(e,t)=>{const n=Xo("GetLogAnomalyDetector");let r;return r=JSON.stringify((0,A._json)(e)),Ko(t,n,"/",void 0,r)},"se_GetLogAnomalyDetectorCommand"),Nt=c(async(e,t)=>{const n=Xo("GetLogEvents");let r;return r=JSON.stringify((0,A._json)(e)),Ko(t,n,"/",void 0,r)},"se_GetLogEventsCommand"),jt=c(async(e,t)=>{const n=Xo("GetLogGroupFields");let r;return r=JSON.stringify((0,A._json)(e)),Ko(t,n,"/",void 0,r)},"se_GetLogGroupFieldsCommand"),Mt=c(async(e,t)=>{const n=Xo("GetLogObject");let r;r=JSON.stringify((0,A._json)(e));let{hostname:o}=await t.endpoint();if(!0!==t.disableHostPrefix&&(o="streaming-"+o,!(0,O.isValidHostname)(o)))throw new Error("ValidationError: prefixed hostname must be hostname compatible.");return Ko(t,n,"/",o,r)},"se_GetLogObjectCommand"),Lt=c(async(e,t)=>{const n=Xo("GetLogRecord");let r;return r=JSON.stringify((0,A._json)(e)),Ko(t,n,"/",void 0,r)},"se_GetLogRecordCommand"),Ft=c(async(e,t)=>{const n=Xo("GetQueryResults");let r;return r=JSON.stringify((0,A._json)(e)),Ko(t,n,"/",void 0,r)},"se_GetQueryResultsCommand"),$t=c(async(e,t)=>{const n=Xo("GetTransformer");let r;return r=JSON.stringify((0,A._json)(e)),Ko(t,n,"/",void 0,r)},"se_GetTransformerCommand"),Ut=c(async(e,t)=>{const n=Xo("ListAnomalies");let r;return r=JSON.stringify((0,A._json)(e)),Ko(t,n,"/",void 0,r)},"se_ListAnomaliesCommand"),Bt=c(async(e,t)=>{const n=Xo("ListIntegrations");let r;return r=JSON.stringify((0,A._json)(e)),Ko(t,n,"/",void 0,r)},"se_ListIntegrationsCommand"),Gt=c(async(e,t)=>{const n=Xo("ListLogAnomalyDetectors");let r;return r=JSON.stringify((0,A._json)(e)),Ko(t,n,"/",void 0,r)},"se_ListLogAnomalyDetectorsCommand"),Ht=c(async(e,t)=>{const n=Xo("ListLogGroups");let r;return r=JSON.stringify((0,A._json)(e)),Ko(t,n,"/",void 0,r)},"se_ListLogGroupsCommand"),zt=c(async(e,t)=>{const n=Xo("ListLogGroupsForQuery");let r;return r=JSON.stringify((0,A._json)(e)),Ko(t,n,"/",void 0,r)},"se_ListLogGroupsForQueryCommand"),qt=c(async(e,t)=>{const n=Xo("ListTagsForResource");let r;return r=JSON.stringify((0,A._json)(e)),Ko(t,n,"/",void 0,r)},"se_ListTagsForResourceCommand"),Wt=c(async(e,t)=>{const n=Xo("ListTagsLogGroup");let r;return r=JSON.stringify((0,A._json)(e)),Ko(t,n,"/",void 0,r)},"se_ListTagsLogGroupCommand"),Vt=c(async(e,t)=>{const n=Xo("PutAccountPolicy");let r;return r=JSON.stringify((0,A._json)(e)),Ko(t,n,"/",void 0,r)},"se_PutAccountPolicyCommand"),Jt=c(async(e,t)=>{const n=Xo("PutDataProtectionPolicy");let r;return r=JSON.stringify((0,A._json)(e)),Ko(t,n,"/",void 0,r)},"se_PutDataProtectionPolicyCommand"),Kt=c(async(e,t)=>{const n=Xo("PutDeliveryDestination");let r;return r=JSON.stringify((0,A._json)(e)),Ko(t,n,"/",void 0,r)},"se_PutDeliveryDestinationCommand"),Xt=c(async(e,t)=>{const n=Xo("PutDeliveryDestinationPolicy");let r;return r=JSON.stringify((0,A._json)(e)),Ko(t,n,"/",void 0,r)},"se_PutDeliveryDestinationPolicyCommand"),Yt=c(async(e,t)=>{const n=Xo("PutDeliverySource");let r;return r=JSON.stringify((0,A._json)(e)),Ko(t,n,"/",void 0,r)},"se_PutDeliverySourceCommand"),Qt=c(async(e,t)=>{const n=Xo("PutDestination");let r;return r=JSON.stringify((0,A._json)(e)),Ko(t,n,"/",void 0,r)},"se_PutDestinationCommand"),Zt=c(async(e,t)=>{const n=Xo("PutDestinationPolicy");let r;return r=JSON.stringify((0,A._json)(e)),Ko(t,n,"/",void 0,r)},"se_PutDestinationPolicyCommand"),en=c(async(e,t)=>{const n=Xo("PutIndexPolicy");let r;return r=JSON.stringify((0,A._json)(e)),Ko(t,n,"/",void 0,r)},"se_PutIndexPolicyCommand"),tn=c(async(e,t)=>{const n=Xo("PutIntegration");let r;return r=JSON.stringify((0,A._json)(e)),Ko(t,n,"/",void 0,r)},"se_PutIntegrationCommand"),nn=c(async(e,t)=>{const n=Xo("PutLogEvents");let r;return r=JSON.stringify((0,A._json)(e)),Ko(t,n,"/",void 0,r)},"se_PutLogEventsCommand"),rn=c(async(e,t)=>{const n=Xo("PutMetricFilter");let r;return r=JSON.stringify(Lo(e,t)),Ko(t,n,"/",void 0,r)},"se_PutMetricFilterCommand"),on=c(async(e,t)=>{const n=Xo("PutQueryDefinition");let r;return r=JSON.stringify(Fo(e,t)),Ko(t,n,"/",void 0,r)},"se_PutQueryDefinitionCommand"),sn=c(async(e,t)=>{const n=Xo("PutResourcePolicy");let r;return r=JSON.stringify((0,A._json)(e)),Ko(t,n,"/",void 0,r)},"se_PutResourcePolicyCommand"),an=c(async(e,t)=>{const n=Xo("PutRetentionPolicy");let r;return r=JSON.stringify((0,A._json)(e)),Ko(t,n,"/",void 0,r)},"se_PutRetentionPolicyCommand"),cn=c(async(e,t)=>{const n=Xo("PutSubscriptionFilter");let r;return r=JSON.stringify((0,A._json)(e)),Ko(t,n,"/",void 0,r)},"se_PutSubscriptionFilterCommand"),ln=c(async(e,t)=>{const n=Xo("PutTransformer");let r;return r=JSON.stringify((0,A._json)(e)),Ko(t,n,"/",void 0,r)},"se_PutTransformerCommand"),dn=c(async(e,t)=>{const n=Xo("StartLiveTail");let r;r=JSON.stringify((0,A._json)(e));let{hostname:o}=await t.endpoint();if(!0!==t.disableHostPrefix&&(o="streaming-"+o,!(0,O.isValidHostname)(o)))throw new Error("ValidationError: prefixed hostname must be hostname compatible.");return Ko(t,n,"/",o,r)},"se_StartLiveTailCommand"),un=c(async(e,t)=>{const n=Xo("StartQuery");let r;return r=JSON.stringify((0,A._json)(e)),Ko(t,n,"/",void 0,r)},"se_StartQueryCommand"),pn=c(async(e,t)=>{const n=Xo("StopQuery");let r;return r=JSON.stringify((0,A._json)(e)),Ko(t,n,"/",void 0,r)},"se_StopQueryCommand"),mn=c(async(e,t)=>{const n=Xo("TagLogGroup");let r;return r=JSON.stringify((0,A._json)(e)),Ko(t,n,"/",void 0,r)},"se_TagLogGroupCommand"),hn=c(async(e,t)=>{const n=Xo("TagResource");let r;return r=JSON.stringify((0,A._json)(e)),Ko(t,n,"/",void 0,r)},"se_TagResourceCommand"),fn=c(async(e,t)=>{const n=Xo("TestMetricFilter");let r;return r=JSON.stringify((0,A._json)(e)),Ko(t,n,"/",void 0,r)},"se_TestMetricFilterCommand"),gn=c(async(e,t)=>{const n=Xo("TestTransformer");let r;return r=JSON.stringify((0,A._json)(e)),Ko(t,n,"/",void 0,r)},"se_TestTransformerCommand"),yn=c(async(e,t)=>{const n=Xo("UntagLogGroup");let r;return r=JSON.stringify((0,A._json)(e)),Ko(t,n,"/",void 0,r)},"se_UntagLogGroupCommand"),vn=c(async(e,t)=>{const n=Xo("UntagResource");let r;return r=JSON.stringify((0,A._json)(e)),Ko(t,n,"/",void 0,r)},"se_UntagResourceCommand"),bn=c(async(e,t)=>{const n=Xo("UpdateAnomaly");let r;return r=JSON.stringify((0,A._json)(e)),Ko(t,n,"/",void 0,r)},"se_UpdateAnomalyCommand"),Sn=c(async(e,t)=>{const n=Xo("UpdateDeliveryConfiguration");let r;return r=JSON.stringify((0,A._json)(e)),Ko(t,n,"/",void 0,r)},"se_UpdateDeliveryConfigurationCommand"),_n=c(async(e,t)=>{const n=Xo("UpdateLogAnomalyDetector");let r;return r=JSON.stringify((0,A._json)(e)),Ko(t,n,"/",void 0,r)},"se_UpdateLogAnomalyDetectorCommand"),wn=c(async(e,t)=>{if(e.statusCode>=300)return so(e,t);await(0,A.collectBody)(e.body,t);return{$metadata:Vo(e)}},"de_AssociateKmsKeyCommand"),En=c(async(e,t)=>{if(e.statusCode>=300)return so(e,t);await(0,A.collectBody)(e.body,t);return{$metadata:Vo(e)}},"de_CancelExportTaskCommand"),Pn=c(async(e,t)=>{if(e.statusCode>=300)return so(e,t);const n=await(0,k.parseJsonBody)(e.body,t);let r={};r=(0,A._json)(n);return{$metadata:Vo(e),...r}},"de_CreateDeliveryCommand"),Cn=c(async(e,t)=>{if(e.statusCode>=300)return so(e,t);const n=await(0,k.parseJsonBody)(e.body,t);let r={};r=(0,A._json)(n);return{$metadata:Vo(e),...r}},"de_CreateExportTaskCommand"),On=c(async(e,t)=>{if(e.statusCode>=300)return so(e,t);const n=await(0,k.parseJsonBody)(e.body,t);let r={};r=(0,A._json)(n);return{$metadata:Vo(e),...r}},"de_CreateLogAnomalyDetectorCommand"),An=c(async(e,t)=>{if(e.statusCode>=300)return so(e,t);await(0,A.collectBody)(e.body,t);return{$metadata:Vo(e)}},"de_CreateLogGroupCommand"),xn=c(async(e,t)=>{if(e.statusCode>=300)return so(e,t);await(0,A.collectBody)(e.body,t);return{$metadata:Vo(e)}},"de_CreateLogStreamCommand"),In=c(async(e,t)=>{if(e.statusCode>=300)return so(e,t);await(0,A.collectBody)(e.body,t);return{$metadata:Vo(e)}},"de_DeleteAccountPolicyCommand"),Rn=c(async(e,t)=>{if(e.statusCode>=300)return so(e,t);await(0,A.collectBody)(e.body,t);return{$metadata:Vo(e)}},"de_DeleteDataProtectionPolicyCommand"),Tn=c(async(e,t)=>{if(e.statusCode>=300)return so(e,t);await(0,A.collectBody)(e.body,t);return{$metadata:Vo(e)}},"de_DeleteDeliveryCommand"),Dn=c(async(e,t)=>{if(e.statusCode>=300)return so(e,t);await(0,A.collectBody)(e.body,t);return{$metadata:Vo(e)}},"de_DeleteDeliveryDestinationCommand"),kn=c(async(e,t)=>{if(e.statusCode>=300)return so(e,t);await(0,A.collectBody)(e.body,t);return{$metadata:Vo(e)}},"de_DeleteDeliveryDestinationPolicyCommand"),Nn=c(async(e,t)=>{if(e.statusCode>=300)return so(e,t);await(0,A.collectBody)(e.body,t);return{$metadata:Vo(e)}},"de_DeleteDeliverySourceCommand"),jn=c(async(e,t)=>{if(e.statusCode>=300)return so(e,t);await(0,A.collectBody)(e.body,t);return{$metadata:Vo(e)}},"de_DeleteDestinationCommand"),Mn=c(async(e,t)=>{if(e.statusCode>=300)return so(e,t);const n=await(0,k.parseJsonBody)(e.body,t);let r={};r=(0,A._json)(n);return{$metadata:Vo(e),...r}},"de_DeleteIndexPolicyCommand"),Ln=c(async(e,t)=>{if(e.statusCode>=300)return so(e,t);const n=await(0,k.parseJsonBody)(e.body,t);let r={};r=(0,A._json)(n);return{$metadata:Vo(e),...r}},"de_DeleteIntegrationCommand"),Fn=c(async(e,t)=>{if(e.statusCode>=300)return so(e,t);await(0,A.collectBody)(e.body,t);return{$metadata:Vo(e)}},"de_DeleteLogAnomalyDetectorCommand"),$n=c(async(e,t)=>{if(e.statusCode>=300)return so(e,t);await(0,A.collectBody)(e.body,t);return{$metadata:Vo(e)}},"de_DeleteLogGroupCommand"),Un=c(async(e,t)=>{if(e.statusCode>=300)return so(e,t);await(0,A.collectBody)(e.body,t);return{$metadata:Vo(e)}},"de_DeleteLogStreamCommand"),Bn=c(async(e,t)=>{if(e.statusCode>=300)return so(e,t);await(0,A.collectBody)(e.body,t);return{$metadata:Vo(e)}},"de_DeleteMetricFilterCommand"),Gn=c(async(e,t)=>{if(e.statusCode>=300)return so(e,t);const n=await(0,k.parseJsonBody)(e.body,t);let r={};r=(0,A._json)(n);return{$metadata:Vo(e),...r}},"de_DeleteQueryDefinitionCommand"),Hn=c(async(e,t)=>{if(e.statusCode>=300)return so(e,t);await(0,A.collectBody)(e.body,t);return{$metadata:Vo(e)}},"de_DeleteResourcePolicyCommand"),zn=c(async(e,t)=>{if(e.statusCode>=300)return so(e,t);await(0,A.collectBody)(e.body,t);return{$metadata:Vo(e)}},"de_DeleteRetentionPolicyCommand"),qn=c(async(e,t)=>{if(e.statusCode>=300)return so(e,t);await(0,A.collectBody)(e.body,t);return{$metadata:Vo(e)}},"de_DeleteSubscriptionFilterCommand"),Wn=c(async(e,t)=>{if(e.statusCode>=300)return so(e,t);await(0,A.collectBody)(e.body,t);return{$metadata:Vo(e)}},"de_DeleteTransformerCommand"),Vn=c(async(e,t)=>{if(e.statusCode>=300)return so(e,t);const n=await(0,k.parseJsonBody)(e.body,t);let r={};r=(0,A._json)(n);return{$metadata:Vo(e),...r}},"de_DescribeAccountPoliciesCommand"),Jn=c(async(e,t)=>{if(e.statusCode>=300)return so(e,t);const n=await(0,k.parseJsonBody)(e.body,t);let r={};r=(0,A._json)(n);return{$metadata:Vo(e),...r}},"de_DescribeConfigurationTemplatesCommand"),Kn=c(async(e,t)=>{if(e.statusCode>=300)return so(e,t);const n=await(0,k.parseJsonBody)(e.body,t);let r={};r=(0,A._json)(n);return{$metadata:Vo(e),...r}},"de_DescribeDeliveriesCommand"),Xn=c(async(e,t)=>{if(e.statusCode>=300)return so(e,t);const n=await(0,k.parseJsonBody)(e.body,t);let r={};r=(0,A._json)(n);return{$metadata:Vo(e),...r}},"de_DescribeDeliveryDestinationsCommand"),Yn=c(async(e,t)=>{if(e.statusCode>=300)return so(e,t);const n=await(0,k.parseJsonBody)(e.body,t);let r={};r=(0,A._json)(n);return{$metadata:Vo(e),...r}},"de_DescribeDeliverySourcesCommand"),Qn=c(async(e,t)=>{if(e.statusCode>=300)return so(e,t);const n=await(0,k.parseJsonBody)(e.body,t);let r={};r=(0,A._json)(n);return{$metadata:Vo(e),...r}},"de_DescribeDestinationsCommand"),Zn=c(async(e,t)=>{if(e.statusCode>=300)return so(e,t);const n=await(0,k.parseJsonBody)(e.body,t);let r={};r=(0,A._json)(n);return{$metadata:Vo(e),...r}},"de_DescribeExportTasksCommand"),er=c(async(e,t)=>{if(e.statusCode>=300)return so(e,t);const n=await(0,k.parseJsonBody)(e.body,t);let r={};r=(0,A._json)(n);return{$metadata:Vo(e),...r}},"de_DescribeFieldIndexesCommand"),tr=c(async(e,t)=>{if(e.statusCode>=300)return so(e,t);const n=await(0,k.parseJsonBody)(e.body,t);let r={};r=(0,A._json)(n);return{$metadata:Vo(e),...r}},"de_DescribeIndexPoliciesCommand"),nr=c(async(e,t)=>{if(e.statusCode>=300)return so(e,t);const n=await(0,k.parseJsonBody)(e.body,t);let r={};r=(0,A._json)(n);return{$metadata:Vo(e),...r}},"de_DescribeLogGroupsCommand"),rr=c(async(e,t)=>{if(e.statusCode>=300)return so(e,t);const n=await(0,k.parseJsonBody)(e.body,t);let r={};r=(0,A._json)(n);return{$metadata:Vo(e),...r}},"de_DescribeLogStreamsCommand"),or=c(async(e,t)=>{if(e.statusCode>=300)return so(e,t);const n=await(0,k.parseJsonBody)(e.body,t);let r={};r=$o(n,t);return{$metadata:Vo(e),...r}},"de_DescribeMetricFiltersCommand"),sr=c(async(e,t)=>{if(e.statusCode>=300)return so(e,t);const n=await(0,k.parseJsonBody)(e.body,t);let r={};r=(0,A._json)(n);return{$metadata:Vo(e),...r}},"de_DescribeQueriesCommand"),ir=c(async(e,t)=>{if(e.statusCode>=300)return so(e,t);const n=await(0,k.parseJsonBody)(e.body,t);let r={};r=(0,A._json)(n);return{$metadata:Vo(e),...r}},"de_DescribeQueryDefinitionsCommand"),ar=c(async(e,t)=>{if(e.statusCode>=300)return so(e,t);const n=await(0,k.parseJsonBody)(e.body,t);let r={};r=(0,A._json)(n);return{$metadata:Vo(e),...r}},"de_DescribeResourcePoliciesCommand"),cr=c(async(e,t)=>{if(e.statusCode>=300)return so(e,t);const n=await(0,k.parseJsonBody)(e.body,t);let r={};r=(0,A._json)(n);return{$metadata:Vo(e),...r}},"de_DescribeSubscriptionFiltersCommand"),lr=c(async(e,t)=>{if(e.statusCode>=300)return so(e,t);await(0,A.collectBody)(e.body,t);return{$metadata:Vo(e)}},"de_DisassociateKmsKeyCommand"),dr=c(async(e,t)=>{if(e.statusCode>=300)return so(e,t);const n=await(0,k.parseJsonBody)(e.body,t);let r={};r=(0,A._json)(n);return{$metadata:Vo(e),...r}},"de_FilterLogEventsCommand"),ur=c(async(e,t)=>{if(e.statusCode>=300)return so(e,t);const n=await(0,k.parseJsonBody)(e.body,t);let r={};r=(0,A._json)(n);return{$metadata:Vo(e),...r}},"de_GetDataProtectionPolicyCommand"),pr=c(async(e,t)=>{if(e.statusCode>=300)return so(e,t);const n=await(0,k.parseJsonBody)(e.body,t);let r={};r=(0,A._json)(n);return{$metadata:Vo(e),...r}},"de_GetDeliveryCommand"),mr=c(async(e,t)=>{if(e.statusCode>=300)return so(e,t);const n=await(0,k.parseJsonBody)(e.body,t);let r={};r=(0,A._json)(n);return{$metadata:Vo(e),...r}},"de_GetDeliveryDestinationCommand"),hr=c(async(e,t)=>{if(e.statusCode>=300)return so(e,t);const n=await(0,k.parseJsonBody)(e.body,t);let r={};r=(0,A._json)(n);return{$metadata:Vo(e),...r}},"de_GetDeliveryDestinationPolicyCommand"),fr=c(async(e,t)=>{if(e.statusCode>=300)return so(e,t);const n=await(0,k.parseJsonBody)(e.body,t);let r={};r=(0,A._json)(n);return{$metadata:Vo(e),...r}},"de_GetDeliverySourceCommand"),gr=c(async(e,t)=>{if(e.statusCode>=300)return so(e,t);const n=await(0,k.parseJsonBody)(e.body,t);let r={};r=(0,A._json)(n);return{$metadata:Vo(e),...r}},"de_GetIntegrationCommand"),yr=c(async(e,t)=>{if(e.statusCode>=300)return so(e,t);const n=await(0,k.parseJsonBody)(e.body,t);let r={};r=(0,A._json)(n);return{$metadata:Vo(e),...r}},"de_GetLogAnomalyDetectorCommand"),vr=c(async(e,t)=>{if(e.statusCode>=300)return so(e,t);const n=await(0,k.parseJsonBody)(e.body,t);let r={};r=(0,A._json)(n);return{$metadata:Vo(e),...r}},"de_GetLogEventsCommand"),br=c(async(e,t)=>{if(e.statusCode>=300)return so(e,t);const n=await(0,k.parseJsonBody)(e.body,t);let r={};r=(0,A._json)(n);return{$metadata:Vo(e),...r}},"de_GetLogGroupFieldsCommand"),Sr=c(async(e,t)=>{if(e.statusCode>=300)return so(e,t);const n={fieldStream:Po(e.body,t)};return{$metadata:Vo(e),...n}},"de_GetLogObjectCommand"),_r=c(async(e,t)=>{if(e.statusCode>=300)return so(e,t);const n=await(0,k.parseJsonBody)(e.body,t);let r={};r=(0,A._json)(n);return{$metadata:Vo(e),...r}},"de_GetLogRecordCommand"),wr=c(async(e,t)=>{if(e.statusCode>=300)return so(e,t);const n=await(0,k.parseJsonBody)(e.body,t);let r={};r=Bo(n,t);return{$metadata:Vo(e),...r}},"de_GetQueryResultsCommand"),Er=c(async(e,t)=>{if(e.statusCode>=300)return so(e,t);const n=await(0,k.parseJsonBody)(e.body,t);let r={};r=(0,A._json)(n);return{$metadata:Vo(e),...r}},"de_GetTransformerCommand"),Pr=c(async(e,t)=>{if(e.statusCode>=300)return so(e,t);const n=await(0,k.parseJsonBody)(e.body,t);let r={};r=(0,A._json)(n);return{$metadata:Vo(e),...r}},"de_ListAnomaliesCommand"),Cr=c(async(e,t)=>{if(e.statusCode>=300)return so(e,t);const n=await(0,k.parseJsonBody)(e.body,t);let r={};r=(0,A._json)(n);return{$metadata:Vo(e),...r}},"de_ListIntegrationsCommand"),Or=c(async(e,t)=>{if(e.statusCode>=300)return so(e,t);const n=await(0,k.parseJsonBody)(e.body,t);let r={};r=(0,A._json)(n);return{$metadata:Vo(e),...r}},"de_ListLogAnomalyDetectorsCommand"),Ar=c(async(e,t)=>{if(e.statusCode>=300)return so(e,t);const n=await(0,k.parseJsonBody)(e.body,t);let r={};r=(0,A._json)(n);return{$metadata:Vo(e),...r}},"de_ListLogGroupsCommand"),xr=c(async(e,t)=>{if(e.statusCode>=300)return so(e,t);const n=await(0,k.parseJsonBody)(e.body,t);let r={};r=(0,A._json)(n);return{$metadata:Vo(e),...r}},"de_ListLogGroupsForQueryCommand"),Ir=c(async(e,t)=>{if(e.statusCode>=300)return so(e,t);const n=await(0,k.parseJsonBody)(e.body,t);let r={};r=(0,A._json)(n);return{$metadata:Vo(e),...r}},"de_ListTagsForResourceCommand"),Rr=c(async(e,t)=>{if(e.statusCode>=300)return so(e,t);const n=await(0,k.parseJsonBody)(e.body,t);let r={};r=(0,A._json)(n);return{$metadata:Vo(e),...r}},"de_ListTagsLogGroupCommand"),Tr=c(async(e,t)=>{if(e.statusCode>=300)return so(e,t);const n=await(0,k.parseJsonBody)(e.body,t);let r={};r=(0,A._json)(n);return{$metadata:Vo(e),...r}},"de_PutAccountPolicyCommand"),Dr=c(async(e,t)=>{if(e.statusCode>=300)return so(e,t);const n=await(0,k.parseJsonBody)(e.body,t);let r={};r=(0,A._json)(n);return{$metadata:Vo(e),...r}},"de_PutDataProtectionPolicyCommand"),kr=c(async(e,t)=>{if(e.statusCode>=300)return so(e,t);const n=await(0,k.parseJsonBody)(e.body,t);let r={};r=(0,A._json)(n);return{$metadata:Vo(e),...r}},"de_PutDeliveryDestinationCommand"),Nr=c(async(e,t)=>{if(e.statusCode>=300)return so(e,t);const n=await(0,k.parseJsonBody)(e.body,t);let r={};r=(0,A._json)(n);return{$metadata:Vo(e),...r}},"de_PutDeliveryDestinationPolicyCommand"),jr=c(async(e,t)=>{if(e.statusCode>=300)return so(e,t);const n=await(0,k.parseJsonBody)(e.body,t);let r={};r=(0,A._json)(n);return{$metadata:Vo(e),...r}},"de_PutDeliverySourceCommand"),Mr=c(async(e,t)=>{if(e.statusCode>=300)return so(e,t);const n=await(0,k.parseJsonBody)(e.body,t);let r={};r=(0,A._json)(n);return{$metadata:Vo(e),...r}},"de_PutDestinationCommand"),Lr=c(async(e,t)=>{if(e.statusCode>=300)return so(e,t);await(0,A.collectBody)(e.body,t);return{$metadata:Vo(e)}},"de_PutDestinationPolicyCommand"),Fr=c(async(e,t)=>{if(e.statusCode>=300)return so(e,t);const n=await(0,k.parseJsonBody)(e.body,t);let r={};r=(0,A._json)(n);return{$metadata:Vo(e),...r}},"de_PutIndexPolicyCommand"),$r=c(async(e,t)=>{if(e.statusCode>=300)return so(e,t);const n=await(0,k.parseJsonBody)(e.body,t);let r={};r=(0,A._json)(n);return{$metadata:Vo(e),...r}},"de_PutIntegrationCommand"),Ur=c(async(e,t)=>{if(e.statusCode>=300)return so(e,t);const n=await(0,k.parseJsonBody)(e.body,t);let r={};r=(0,A._json)(n);return{$metadata:Vo(e),...r}},"de_PutLogEventsCommand"),Br=c(async(e,t)=>{if(e.statusCode>=300)return so(e,t);await(0,A.collectBody)(e.body,t);return{$metadata:Vo(e)}},"de_PutMetricFilterCommand"),Gr=c(async(e,t)=>{if(e.statusCode>=300)return so(e,t);const n=await(0,k.parseJsonBody)(e.body,t);let r={};r=(0,A._json)(n);return{$metadata:Vo(e),...r}},"de_PutQueryDefinitionCommand"),Hr=c(async(e,t)=>{if(e.statusCode>=300)return so(e,t);const n=await(0,k.parseJsonBody)(e.body,t);let r={};r=(0,A._json)(n);return{$metadata:Vo(e),...r}},"de_PutResourcePolicyCommand"),zr=c(async(e,t)=>{if(e.statusCode>=300)return so(e,t);await(0,A.collectBody)(e.body,t);return{$metadata:Vo(e)}},"de_PutRetentionPolicyCommand"),qr=c(async(e,t)=>{if(e.statusCode>=300)return so(e,t);await(0,A.collectBody)(e.body,t);return{$metadata:Vo(e)}},"de_PutSubscriptionFilterCommand"),Wr=c(async(e,t)=>{if(e.statusCode>=300)return so(e,t);await(0,A.collectBody)(e.body,t);return{$metadata:Vo(e)}},"de_PutTransformerCommand"),Vr=c(async(e,t)=>{if(e.statusCode>=300)return so(e,t);const n={responseStream:Co(e.body,t)};return{$metadata:Vo(e),...n}},"de_StartLiveTailCommand"),Jr=c(async(e,t)=>{if(e.statusCode>=300)return so(e,t);const n=await(0,k.parseJsonBody)(e.body,t);let r={};r=(0,A._json)(n);return{$metadata:Vo(e),...r}},"de_StartQueryCommand"),Kr=c(async(e,t)=>{if(e.statusCode>=300)return so(e,t);const n=await(0,k.parseJsonBody)(e.body,t);let r={};r=(0,A._json)(n);return{$metadata:Vo(e),...r}},"de_StopQueryCommand"),Xr=c(async(e,t)=>{if(e.statusCode>=300)return so(e,t);await(0,A.collectBody)(e.body,t);return{$metadata:Vo(e)}},"de_TagLogGroupCommand"),Yr=c(async(e,t)=>{if(e.statusCode>=300)return so(e,t);await(0,A.collectBody)(e.body,t);return{$metadata:Vo(e)}},"de_TagResourceCommand"),Qr=c(async(e,t)=>{if(e.statusCode>=300)return so(e,t);const n=await(0,k.parseJsonBody)(e.body,t);let r={};r=(0,A._json)(n);return{$metadata:Vo(e),...r}},"de_TestMetricFilterCommand"),Zr=c(async(e,t)=>{if(e.statusCode>=300)return so(e,t);const n=await(0,k.parseJsonBody)(e.body,t);let r={};r=(0,A._json)(n);return{$metadata:Vo(e),...r}},"de_TestTransformerCommand"),eo=c(async(e,t)=>{if(e.statusCode>=300)return so(e,t);await(0,A.collectBody)(e.body,t);return{$metadata:Vo(e)}},"de_UntagLogGroupCommand"),to=c(async(e,t)=>{if(e.statusCode>=300)return so(e,t);await(0,A.collectBody)(e.body,t);return{$metadata:Vo(e)}},"de_UntagResourceCommand"),no=c(async(e,t)=>{if(e.statusCode>=300)return so(e,t);await(0,A.collectBody)(e.body,t);return{$metadata:Vo(e)}},"de_UpdateAnomalyCommand"),ro=c(async(e,t)=>{if(e.statusCode>=300)return so(e,t);const n=await(0,k.parseJsonBody)(e.body,t);let r={};r=(0,A._json)(n);return{$metadata:Vo(e),...r}},"de_UpdateDeliveryConfigurationCommand"),oo=c(async(e,t)=>{if(e.statusCode>=300)return so(e,t);await(0,A.collectBody)(e.body,t);return{$metadata:Vo(e)}},"de_UpdateLogAnomalyDetectorCommand"),so=c(async(e,t)=>{const n={...e,body:await(0,k.parseJsonErrorBody)(e.body,t)},r=(0,k.loadRestJsonErrorCode)(e,n.body);switch(r){case"InvalidParameterException":case"com.amazonaws.cloudwatchlogs#InvalidParameterException":throw await uo(n,t);case"OperationAbortedException":case"com.amazonaws.cloudwatchlogs#OperationAbortedException":throw await fo(n,t);case"ResourceNotFoundException":case"com.amazonaws.cloudwatchlogs#ResourceNotFoundException":throw await yo(n,t);case"ServiceUnavailableException":case"com.amazonaws.cloudwatchlogs#ServiceUnavailableException":throw await bo(n,t);case"InvalidOperationException":case"com.amazonaws.cloudwatchlogs#InvalidOperationException":throw await lo(n,t);case"AccessDeniedException":case"com.amazonaws.cloudwatchlogs#AccessDeniedException":throw await io(n,t);case"ConflictException":case"com.amazonaws.cloudwatchlogs#ConflictException":throw await ao(n,t);case"ServiceQuotaExceededException":case"com.amazonaws.cloudwatchlogs#ServiceQuotaExceededException":throw await vo(n,t);case"ThrottlingException":case"com.amazonaws.cloudwatchlogs#ThrottlingException":throw await So(n,t);case"ValidationException":case"com.amazonaws.cloudwatchlogs#ValidationException":throw await Eo(n,t);case"LimitExceededException":case"com.amazonaws.cloudwatchlogs#LimitExceededException":throw await mo(n,t);case"ResourceAlreadyExistsException":case"com.amazonaws.cloudwatchlogs#ResourceAlreadyExistsException":throw await go(n,t);case"DataAlreadyAcceptedException":case"com.amazonaws.cloudwatchlogs#DataAlreadyAcceptedException":throw await co(n,t);case"InvalidSequenceTokenException":case"com.amazonaws.cloudwatchlogs#InvalidSequenceTokenException":throw await po(n,t);case"UnrecognizedClientException":case"com.amazonaws.cloudwatchlogs#UnrecognizedClientException":throw await wo(n,t);case"MalformedQueryException":case"com.amazonaws.cloudwatchlogs#MalformedQueryException":throw await ho(n,t);case"TooManyTagsException":case"com.amazonaws.cloudwatchlogs#TooManyTagsException":throw await _o(n,t);default:const o=n.body;return Jo({output:e,parsedBody:o,errorCode:r})}},"de_CommandError"),io=c(async(e,t)=>{const n=e.body,r=(0,A._json)(n),o=new M({$metadata:Vo(e),...r});return(0,A.decorateServiceException)(o,n)},"de_AccessDeniedExceptionRes"),ao=c(async(e,t)=>{const n=e.body,r=(0,A._json)(n),o=new K({$metadata:Vo(e),...r});return(0,A.decorateServiceException)(o,n)},"de_ConflictExceptionRes"),co=c(async(e,t)=>{const n=e.body,r=(0,A._json)(n),o=new ne({$metadata:Vo(e),...r});return(0,A.decorateServiceException)(o,n)},"de_DataAlreadyAcceptedExceptionRes"),lo=c(async(e,t)=>{const n=e.body,r=(0,A._json)(n),o=new W({$metadata:Vo(e),...r});return(0,A.decorateServiceException)(o,n)},"de_InvalidOperationExceptionRes"),uo=c(async(e,t)=>{const n=e.body,r=(0,A._json)(n),o=new G({$metadata:Vo(e),...r});return(0,A.decorateServiceException)(o,n)},"de_InvalidParameterExceptionRes"),po=c(async(e,t)=>{const n=e.body,r=(0,A._json)(n),o=new Pe({$metadata:Vo(e),...r});return(0,A.decorateServiceException)(o,n)},"de_InvalidSequenceTokenExceptionRes"),mo=c(async(e,t)=>{const n=e.body,r=(0,A._json)(n),o=new Z({$metadata:Vo(e),...r});return(0,A.decorateServiceException)(o,n)},"de_LimitExceededExceptionRes"),ho=c(async(e,t)=>{const n=e.body,r=(0,A._json)(n),o=new Re({$metadata:Vo(e),...r});return(0,A.decorateServiceException)(o,n)},"de_MalformedQueryExceptionRes"),fo=c(async(e,t)=>{const n=e.body,r=(0,A._json)(n),o=new H({$metadata:Vo(e),...r});return(0,A.decorateServiceException)(o,n)},"de_OperationAbortedExceptionRes"),go=c(async(e,t)=>{const n=e.body,r=(0,A._json)(n),o=new ee({$metadata:Vo(e),...r});return(0,A.decorateServiceException)(o,n)},"de_ResourceAlreadyExistsExceptionRes"),yo=c(async(e,t)=>{const n=e.body,r=(0,A._json)(n),o=new z({$metadata:Vo(e),...r});return(0,A.decorateServiceException)(o,n)},"de_ResourceNotFoundExceptionRes"),vo=c(async(e,t)=>{const n=e.body,r=(0,A._json)(n),o=new X({$metadata:Vo(e),...r});return(0,A.decorateServiceException)(o,n)},"de_ServiceQuotaExceededExceptionRes"),bo=c(async(e,t)=>{const n=e.body,r=(0,A._json)(n),o=new q({$metadata:Vo(e),...r});return(0,A.decorateServiceException)(o,n)},"de_ServiceUnavailableExceptionRes"),So=c(async(e,t)=>{const n=e.body,r=(0,A._json)(n),o=new Y({$metadata:Vo(e),...r});return(0,A.decorateServiceException)(o,n)},"de_ThrottlingExceptionRes"),_o=c(async(e,t)=>{const n=e.body,r=(0,A._json)(n),o=new Te({$metadata:Vo(e),...r});return(0,A.decorateServiceException)(o,n)},"de_TooManyTagsExceptionRes"),wo=c(async(e,t)=>{const n=e.body,r=(0,A._json)(n),o=new Ae({$metadata:Vo(e),...r});return(0,A.decorateServiceException)(o,n)},"de_UnrecognizedClientExceptionRes"),Eo=c(async(e,t)=>{const n=e.body,r=(0,A._json)(n),o=new Q({$metadata:Vo(e),...r});return(0,A.decorateServiceException)(o,n)},"de_ValidationExceptionRes"),Po=c((e,t)=>t.eventStreamMarshaller.deserialize(e,async e=>null!=e.fields?{fields:await Oo(e.fields,t)}:null!=e.InternalStreamingException?{InternalStreamingException:await Ao(e.InternalStreamingException,t)}:{$unknown:e}),"de_GetLogObjectResponseStream"),Co=c((e,t)=>t.eventStreamMarshaller.deserialize(e,async e=>null!=e.sessionStart?{sessionStart:await xo(e.sessionStart,t)}:null!=e.sessionUpdate?{sessionUpdate:await Io(e.sessionUpdate,t)}:null!=e.SessionTimeoutException?{SessionTimeoutException:await To(e.SessionTimeoutException,t)}:null!=e.SessionStreamingException?{SessionStreamingException:await Ro(e.SessionStreamingException,t)}:{$unknown:e}),"de_StartLiveTailResponseStream"),Oo=c(async(e,t)=>{const n={},r=await(0,k.parseJsonBody)(e.body,t);return Object.assign(n,Uo(r,t)),n},"de_FieldsData_event"),Ao=c(async(e,t)=>{const n={...e,body:await(0,k.parseJsonBody)(e.body,t)};return Do(n,t)},"de_InternalStreamingException_event"),xo=c(async(e,t)=>{const n={},r=await(0,k.parseJsonBody)(e.body,t);return Object.assign(n,(0,A._json)(r)),n},"de_LiveTailSessionStart_event"),Io=c(async(e,t)=>{const n={},r=await(0,k.parseJsonBody)(e.body,t);return Object.assign(n,(0,A._json)(r)),n},"de_LiveTailSessionUpdate_event"),Ro=c(async(e,t)=>{const n={...e,body:await(0,k.parseJsonBody)(e.body,t)};return ko(n,t)},"de_SessionStreamingException_event"),To=c(async(e,t)=>{const n={...e,body:await(0,k.parseJsonBody)(e.body,t)};return No(n,t)},"de_SessionTimeoutException_event"),Do=c(async(e,t)=>{const n=e.body,r=(0,A._json)(n),o=new Se({$metadata:Vo(e),...r});return(0,A.decorateServiceException)(o,n)},"de_InternalStreamingExceptionRes"),ko=c(async(e,t)=>{const n=e.body,r=(0,A._json)(n),o=new xe({$metadata:Vo(e),...r});return(0,A.decorateServiceException)(o,n)},"de_SessionStreamingExceptionRes"),No=c(async(e,t)=>{const n=e.body,r=(0,A._json)(n),o=new Ie({$metadata:Vo(e),...r});return(0,A.decorateServiceException)(o,n)},"de_SessionTimeoutExceptionRes"),jo=c((e,t)=>(0,A.take)(e,{defaultValue:A.serializeFloat,dimensions:A._json,metricName:[],metricNamespace:[],metricValue:[],unit:[]}),"se_MetricTransformation"),Mo=c((e,t)=>e.filter(e=>null!=e).map(e=>jo(e,t)),"se_MetricTransformations"),Lo=c((e,t)=>(0,A.take)(e,{applyOnTransformedLogs:[],filterName:[],filterPattern:[],logGroupName:[],metricTransformations:c(e=>Mo(e,t),"metricTransformations")}),"se_PutMetricFilterRequest"),Fo=c((e,t)=>(0,A.take)(e,{clientToken:[!0,e=>e??(0,N.v4)()],logGroupNames:A._json,name:[],queryDefinitionId:[],queryLanguage:[],queryString:[]}),"se_PutQueryDefinitionRequest"),$o=c((e,t)=>(0,A.take)(e,{metricFilters:c(e=>Ho(e,t),"metricFilters"),nextToken:A.expectString}),"de_DescribeMetricFiltersResponse"),Uo=c((e,t)=>(0,A.take)(e,{data:t.base64Decoder}),"de_FieldsData"),Bo=c((e,t)=>(0,A.take)(e,{encryptionKey:A.expectString,queryLanguage:A.expectString,results:A._json,statistics:c(e=>Wo(e,t),"statistics"),status:A.expectString}),"de_GetQueryResultsResponse"),Go=c((e,t)=>(0,A.take)(e,{applyOnTransformedLogs:A.expectBoolean,creationTime:A.expectLong,filterName:A.expectString,filterPattern:A.expectString,logGroupName:A.expectString,metricTransformations:c(e=>qo(e,t),"metricTransformations")}),"de_MetricFilter"),Ho=c((e,t)=>(e||[]).filter(e=>null!=e).map(e=>Go(e,t)),"de_MetricFilters"),zo=c((e,t)=>(0,A.take)(e,{defaultValue:A.limitedParseDouble,dimensions:A._json,metricName:A.expectString,metricNamespace:A.expectString,metricValue:A.expectString,unit:A.expectString}),"de_MetricTransformation"),qo=c((e,t)=>(e||[]).filter(e=>null!=e).map(e=>zo(e,t)),"de_MetricTransformations"),Wo=c((e,t)=>(0,A.take)(e,{bytesScanned:A.limitedParseDouble,estimatedBytesSkipped:A.limitedParseDouble,estimatedRecordsSkipped:A.limitedParseDouble,logGroupsScanned:A.limitedParseDouble,recordsMatched:A.limitedParseDouble,recordsScanned:A.limitedParseDouble}),"de_QueryStatistics"),Vo=c(e=>({httpStatusCode:e.statusCode,requestId:e.headers["x-amzn-requestid"]??e.headers["x-amzn-request-id"]??e.headers["x-amz-request-id"],extendedRequestId:e.headers["x-amz-id-2"],cfId:e.headers["x-amz-cf-id"]}),"deserializeMetadata"),Jo=(0,A.withBaseException)(j),Ko=c(async(e,t,n,r,o)=>{const{hostname:s,protocol:i="https",port:a,path:c}=await e.endpoint(),l={protocol:i,hostname:s,port:a,method:"POST",path:c.endsWith("/")?c.slice(0,-1)+n:c+n,headers:t};return void 0!==r&&(l.hostname=r),void 0!==o&&(l.body=o),new O.HttpRequest(l)},"buildHttpRpcRequest");function Xo(e){return{"content-type":"application/x-amz-json-1.1","x-amz-target":`Logs_20140328.${e}`}}c(Xo,"sharedHeaders");var Yo=class extends(A.Command.classBuilder().ep(E).m(function(e,t,n,r){return[(0,D.getSerdePlugin)(n,this.serialize,this.deserialize),(0,b.getEndpointPlugin)(n,e.getEndpointParameterInstructions())]}).s("Logs_20140328","AssociateKmsKey",{}).n("CloudWatchLogsClient","AssociateKmsKeyCommand").f(void 0,void 0).ser(Fe).de(wn).build()){static{c(this,"AssociateKmsKeyCommand")}},Qo=class extends(A.Command.classBuilder().ep(E).m(function(e,t,n,r){return[(0,D.getSerdePlugin)(n,this.serialize,this.deserialize),(0,b.getEndpointPlugin)(n,e.getEndpointParameterInstructions())]}).s("Logs_20140328","CancelExportTask",{}).n("CloudWatchLogsClient","CancelExportTaskCommand").f(void 0,void 0).ser($e).de(En).build()){static{c(this,"CancelExportTaskCommand")}},Zo=class extends(A.Command.classBuilder().ep(E).m(function(e,t,n,r){return[(0,D.getSerdePlugin)(n,this.serialize,this.deserialize),(0,b.getEndpointPlugin)(n,e.getEndpointParameterInstructions())]}).s("Logs_20140328","CreateDelivery",{}).n("CloudWatchLogsClient","CreateDeliveryCommand").f(void 0,void 0).ser(Ue).de(Pn).build()){static{c(this,"CreateDeliveryCommand")}},es=class extends(A.Command.classBuilder().ep(E).m(function(e,t,n,r){return[(0,D.getSerdePlugin)(n,this.serialize,this.deserialize),(0,b.getEndpointPlugin)(n,e.getEndpointParameterInstructions())]}).s("Logs_20140328","CreateExportTask",{}).n("CloudWatchLogsClient","CreateExportTaskCommand").f(void 0,void 0).ser(Be).de(Cn).build()){static{c(this,"CreateExportTaskCommand")}},ts=class extends(A.Command.classBuilder().ep(E).m(function(e,t,n,r){return[(0,D.getSerdePlugin)(n,this.serialize,this.deserialize),(0,b.getEndpointPlugin)(n,e.getEndpointParameterInstructions())]}).s("Logs_20140328","CreateLogAnomalyDetector",{}).n("CloudWatchLogsClient","CreateLogAnomalyDetectorCommand").f(void 0,void 0).ser(Ge).de(On).build()){static{c(this,"CreateLogAnomalyDetectorCommand")}},ns=class extends(A.Command.classBuilder().ep(E).m(function(e,t,n,r){return[(0,D.getSerdePlugin)(n,this.serialize,this.deserialize),(0,b.getEndpointPlugin)(n,e.getEndpointParameterInstructions())]}).s("Logs_20140328","CreateLogGroup",{}).n("CloudWatchLogsClient","CreateLogGroupCommand").f(void 0,void 0).ser(He).de(An).build()){static{c(this,"CreateLogGroupCommand")}},rs=class extends(A.Command.classBuilder().ep(E).m(function(e,t,n,r){return[(0,D.getSerdePlugin)(n,this.serialize,this.deserialize),(0,b.getEndpointPlugin)(n,e.getEndpointParameterInstructions())]}).s("Logs_20140328","CreateLogStream",{}).n("CloudWatchLogsClient","CreateLogStreamCommand").f(void 0,void 0).ser(ze).de(xn).build()){static{c(this,"CreateLogStreamCommand")}},os=class extends(A.Command.classBuilder().ep(E).m(function(e,t,n,r){return[(0,D.getSerdePlugin)(n,this.serialize,this.deserialize),(0,b.getEndpointPlugin)(n,e.getEndpointParameterInstructions())]}).s("Logs_20140328","DeleteAccountPolicy",{}).n("CloudWatchLogsClient","DeleteAccountPolicyCommand").f(void 0,void 0).ser(qe).de(In).build()){static{c(this,"DeleteAccountPolicyCommand")}},ss=class extends(A.Command.classBuilder().ep(E).m(function(e,t,n,r){return[(0,D.getSerdePlugin)(n,this.serialize,this.deserialize),(0,b.getEndpointPlugin)(n,e.getEndpointParameterInstructions())]}).s("Logs_20140328","DeleteDataProtectionPolicy",{}).n("CloudWatchLogsClient","DeleteDataProtectionPolicyCommand").f(void 0,void 0).ser(We).de(Rn).build()){static{c(this,"DeleteDataProtectionPolicyCommand")}},is=class extends(A.Command.classBuilder().ep(E).m(function(e,t,n,r){return[(0,D.getSerdePlugin)(n,this.serialize,this.deserialize),(0,b.getEndpointPlugin)(n,e.getEndpointParameterInstructions())]}).s("Logs_20140328","DeleteDelivery",{}).n("CloudWatchLogsClient","DeleteDeliveryCommand").f(void 0,void 0).ser(Ve).de(Tn).build()){static{c(this,"DeleteDeliveryCommand")}},as=class extends(A.Command.classBuilder().ep(E).m(function(e,t,n,r){return[(0,D.getSerdePlugin)(n,this.serialize,this.deserialize),(0,b.getEndpointPlugin)(n,e.getEndpointParameterInstructions())]}).s("Logs_20140328","DeleteDeliveryDestination",{}).n("CloudWatchLogsClient","DeleteDeliveryDestinationCommand").f(void 0,void 0).ser(Je).de(Dn).build()){static{c(this,"DeleteDeliveryDestinationCommand")}},cs=class extends(A.Command.classBuilder().ep(E).m(function(e,t,n,r){return[(0,D.getSerdePlugin)(n,this.serialize,this.deserialize),(0,b.getEndpointPlugin)(n,e.getEndpointParameterInstructions())]}).s("Logs_20140328","DeleteDeliveryDestinationPolicy",{}).n("CloudWatchLogsClient","DeleteDeliveryDestinationPolicyCommand").f(void 0,void 0).ser(Ke).de(kn).build()){static{c(this,"DeleteDeliveryDestinationPolicyCommand")}},ls=class extends(A.Command.classBuilder().ep(E).m(function(e,t,n,r){return[(0,D.getSerdePlugin)(n,this.serialize,this.deserialize),(0,b.getEndpointPlugin)(n,e.getEndpointParameterInstructions())]}).s("Logs_20140328","DeleteDeliverySource",{}).n("CloudWatchLogsClient","DeleteDeliverySourceCommand").f(void 0,void 0).ser(Xe).de(Nn).build()){static{c(this,"DeleteDeliverySourceCommand")}},ds=class extends(A.Command.classBuilder().ep(E).m(function(e,t,n,r){return[(0,D.getSerdePlugin)(n,this.serialize,this.deserialize),(0,b.getEndpointPlugin)(n,e.getEndpointParameterInstructions())]}).s("Logs_20140328","DeleteDestination",{}).n("CloudWatchLogsClient","DeleteDestinationCommand").f(void 0,void 0).ser(Ye).de(jn).build()){static{c(this,"DeleteDestinationCommand")}},us=class extends(A.Command.classBuilder().ep(E).m(function(e,t,n,r){return[(0,D.getSerdePlugin)(n,this.serialize,this.deserialize),(0,b.getEndpointPlugin)(n,e.getEndpointParameterInstructions())]}).s("Logs_20140328","DeleteIndexPolicy",{}).n("CloudWatchLogsClient","DeleteIndexPolicyCommand").f(void 0,void 0).ser(Qe).de(Mn).build()){static{c(this,"DeleteIndexPolicyCommand")}},ps=class extends(A.Command.classBuilder().ep(E).m(function(e,t,n,r){return[(0,D.getSerdePlugin)(n,this.serialize,this.deserialize),(0,b.getEndpointPlugin)(n,e.getEndpointParameterInstructions())]}).s("Logs_20140328","DeleteIntegration",{}).n("CloudWatchLogsClient","DeleteIntegrationCommand").f(void 0,void 0).ser(Ze).de(Ln).build()){static{c(this,"DeleteIntegrationCommand")}},ms=class extends(A.Command.classBuilder().ep(E).m(function(e,t,n,r){return[(0,D.getSerdePlugin)(n,this.serialize,this.deserialize),(0,b.getEndpointPlugin)(n,e.getEndpointParameterInstructions())]}).s("Logs_20140328","DeleteLogAnomalyDetector",{}).n("CloudWatchLogsClient","DeleteLogAnomalyDetectorCommand").f(void 0,void 0).ser(et).de(Fn).build()){static{c(this,"DeleteLogAnomalyDetectorCommand")}},hs=class extends(A.Command.classBuilder().ep(E).m(function(e,t,n,r){return[(0,D.getSerdePlugin)(n,this.serialize,this.deserialize),(0,b.getEndpointPlugin)(n,e.getEndpointParameterInstructions())]}).s("Logs_20140328","DeleteLogGroup",{}).n("CloudWatchLogsClient","DeleteLogGroupCommand").f(void 0,void 0).ser(tt).de($n).build()){static{c(this,"DeleteLogGroupCommand")}},fs=class extends(A.Command.classBuilder().ep(E).m(function(e,t,n,r){return[(0,D.getSerdePlugin)(n,this.serialize,this.deserialize),(0,b.getEndpointPlugin)(n,e.getEndpointParameterInstructions())]}).s("Logs_20140328","DeleteLogStream",{}).n("CloudWatchLogsClient","DeleteLogStreamCommand").f(void 0,void 0).ser(nt).de(Un).build()){static{c(this,"DeleteLogStreamCommand")}},gs=class extends(A.Command.classBuilder().ep(E).m(function(e,t,n,r){return[(0,D.getSerdePlugin)(n,this.serialize,this.deserialize),(0,b.getEndpointPlugin)(n,e.getEndpointParameterInstructions())]}).s("Logs_20140328","DeleteMetricFilter",{}).n("CloudWatchLogsClient","DeleteMetricFilterCommand").f(void 0,void 0).ser(rt).de(Bn).build()){static{c(this,"DeleteMetricFilterCommand")}},ys=class extends(A.Command.classBuilder().ep(E).m(function(e,t,n,r){return[(0,D.getSerdePlugin)(n,this.serialize,this.deserialize),(0,b.getEndpointPlugin)(n,e.getEndpointParameterInstructions())]}).s("Logs_20140328","DeleteQueryDefinition",{}).n("CloudWatchLogsClient","DeleteQueryDefinitionCommand").f(void 0,void 0).ser(ot).de(Gn).build()){static{c(this,"DeleteQueryDefinitionCommand")}},vs=class extends(A.Command.classBuilder().ep(E).m(function(e,t,n,r){return[(0,D.getSerdePlugin)(n,this.serialize,this.deserialize),(0,b.getEndpointPlugin)(n,e.getEndpointParameterInstructions())]}).s("Logs_20140328","DeleteResourcePolicy",{}).n("CloudWatchLogsClient","DeleteResourcePolicyCommand").f(void 0,void 0).ser(st).de(Hn).build()){static{c(this,"DeleteResourcePolicyCommand")}},bs=class extends(A.Command.classBuilder().ep(E).m(function(e,t,n,r){return[(0,D.getSerdePlugin)(n,this.serialize,this.deserialize),(0,b.getEndpointPlugin)(n,e.getEndpointParameterInstructions())]}).s("Logs_20140328","DeleteRetentionPolicy",{}).n("CloudWatchLogsClient","DeleteRetentionPolicyCommand").f(void 0,void 0).ser(it).de(zn).build()){static{c(this,"DeleteRetentionPolicyCommand")}},Ss=class extends(A.Command.classBuilder().ep(E).m(function(e,t,n,r){return[(0,D.getSerdePlugin)(n,this.serialize,this.deserialize),(0,b.getEndpointPlugin)(n,e.getEndpointParameterInstructions())]}).s("Logs_20140328","DeleteSubscriptionFilter",{}).n("CloudWatchLogsClient","DeleteSubscriptionFilterCommand").f(void 0,void 0).ser(at).de(qn).build()){static{c(this,"DeleteSubscriptionFilterCommand")}},_s=class extends(A.Command.classBuilder().ep(E).m(function(e,t,n,r){return[(0,D.getSerdePlugin)(n,this.serialize,this.deserialize),(0,b.getEndpointPlugin)(n,e.getEndpointParameterInstructions())]}).s("Logs_20140328","DeleteTransformer",{}).n("CloudWatchLogsClient","DeleteTransformerCommand").f(void 0,void 0).ser(ct).de(Wn).build()){static{c(this,"DeleteTransformerCommand")}},ws=class extends(A.Command.classBuilder().ep(E).m(function(e,t,n,r){return[(0,D.getSerdePlugin)(n,this.serialize,this.deserialize),(0,b.getEndpointPlugin)(n,e.getEndpointParameterInstructions())]}).s("Logs_20140328","DescribeAccountPolicies",{}).n("CloudWatchLogsClient","DescribeAccountPoliciesCommand").f(void 0,void 0).ser(lt).de(Vn).build()){static{c(this,"DescribeAccountPoliciesCommand")}},Es=class extends(A.Command.classBuilder().ep(E).m(function(e,t,n,r){return[(0,D.getSerdePlugin)(n,this.serialize,this.deserialize),(0,b.getEndpointPlugin)(n,e.getEndpointParameterInstructions())]}).s("Logs_20140328","DescribeConfigurationTemplates",{}).n("CloudWatchLogsClient","DescribeConfigurationTemplatesCommand").f(void 0,void 0).ser(dt).de(Jn).build()){static{c(this,"DescribeConfigurationTemplatesCommand")}},Ps=class extends(A.Command.classBuilder().ep(E).m(function(e,t,n,r){return[(0,D.getSerdePlugin)(n,this.serialize,this.deserialize),(0,b.getEndpointPlugin)(n,e.getEndpointParameterInstructions())]}).s("Logs_20140328","DescribeDeliveries",{}).n("CloudWatchLogsClient","DescribeDeliveriesCommand").f(void 0,void 0).ser(ut).de(Kn).build()){static{c(this,"DescribeDeliveriesCommand")}},Cs=class extends(A.Command.classBuilder().ep(E).m(function(e,t,n,r){return[(0,D.getSerdePlugin)(n,this.serialize,this.deserialize),(0,b.getEndpointPlugin)(n,e.getEndpointParameterInstructions())]}).s("Logs_20140328","DescribeDeliveryDestinations",{}).n("CloudWatchLogsClient","DescribeDeliveryDestinationsCommand").f(void 0,void 0).ser(pt).de(Xn).build()){static{c(this,"DescribeDeliveryDestinationsCommand")}},Os=class extends(A.Command.classBuilder().ep(E).m(function(e,t,n,r){return[(0,D.getSerdePlugin)(n,this.serialize,this.deserialize),(0,b.getEndpointPlugin)(n,e.getEndpointParameterInstructions())]}).s("Logs_20140328","DescribeDeliverySources",{}).n("CloudWatchLogsClient","DescribeDeliverySourcesCommand").f(void 0,void 0).ser(mt).de(Yn).build()){static{c(this,"DescribeDeliverySourcesCommand")}},As=class extends(A.Command.classBuilder().ep(E).m(function(e,t,n,r){return[(0,D.getSerdePlugin)(n,this.serialize,this.deserialize),(0,b.getEndpointPlugin)(n,e.getEndpointParameterInstructions())]}).s("Logs_20140328","DescribeDestinations",{}).n("CloudWatchLogsClient","DescribeDestinationsCommand").f(void 0,void 0).ser(ht).de(Qn).build()){static{c(this,"DescribeDestinationsCommand")}},xs=class extends(A.Command.classBuilder().ep(E).m(function(e,t,n,r){return[(0,D.getSerdePlugin)(n,this.serialize,this.deserialize),(0,b.getEndpointPlugin)(n,e.getEndpointParameterInstructions())]}).s("Logs_20140328","DescribeExportTasks",{}).n("CloudWatchLogsClient","DescribeExportTasksCommand").f(void 0,void 0).ser(ft).de(Zn).build()){static{c(this,"DescribeExportTasksCommand")}},Is=class extends(A.Command.classBuilder().ep(E).m(function(e,t,n,r){return[(0,D.getSerdePlugin)(n,this.serialize,this.deserialize),(0,b.getEndpointPlugin)(n,e.getEndpointParameterInstructions())]}).s("Logs_20140328","DescribeFieldIndexes",{}).n("CloudWatchLogsClient","DescribeFieldIndexesCommand").f(void 0,void 0).ser(gt).de(er).build()){static{c(this,"DescribeFieldIndexesCommand")}},Rs=class extends(A.Command.classBuilder().ep(E).m(function(e,t,n,r){return[(0,D.getSerdePlugin)(n,this.serialize,this.deserialize),(0,b.getEndpointPlugin)(n,e.getEndpointParameterInstructions())]}).s("Logs_20140328","DescribeIndexPolicies",{}).n("CloudWatchLogsClient","DescribeIndexPoliciesCommand").f(void 0,void 0).ser(yt).de(tr).build()){static{c(this,"DescribeIndexPoliciesCommand")}},Ts=class extends(A.Command.classBuilder().ep(E).m(function(e,t,n,r){return[(0,D.getSerdePlugin)(n,this.serialize,this.deserialize),(0,b.getEndpointPlugin)(n,e.getEndpointParameterInstructions())]}).s("Logs_20140328","DescribeLogGroups",{}).n("CloudWatchLogsClient","DescribeLogGroupsCommand").f(void 0,void 0).ser(vt).de(nr).build()){static{c(this,"DescribeLogGroupsCommand")}},Ds=class extends(A.Command.classBuilder().ep(E).m(function(e,t,n,r){return[(0,D.getSerdePlugin)(n,this.serialize,this.deserialize),(0,b.getEndpointPlugin)(n,e.getEndpointParameterInstructions())]}).s("Logs_20140328","DescribeLogStreams",{}).n("CloudWatchLogsClient","DescribeLogStreamsCommand").f(void 0,void 0).ser(bt).de(rr).build()){static{c(this,"DescribeLogStreamsCommand")}},ks=class extends(A.Command.classBuilder().ep(E).m(function(e,t,n,r){return[(0,D.getSerdePlugin)(n,this.serialize,this.deserialize),(0,b.getEndpointPlugin)(n,e.getEndpointParameterInstructions())]}).s("Logs_20140328","DescribeMetricFilters",{}).n("CloudWatchLogsClient","DescribeMetricFiltersCommand").f(void 0,void 0).ser(St).de(or).build()){static{c(this,"DescribeMetricFiltersCommand")}},Ns=class extends(A.Command.classBuilder().ep(E).m(function(e,t,n,r){return[(0,D.getSerdePlugin)(n,this.serialize,this.deserialize),(0,b.getEndpointPlugin)(n,e.getEndpointParameterInstructions())]}).s("Logs_20140328","DescribeQueries",{}).n("CloudWatchLogsClient","DescribeQueriesCommand").f(void 0,void 0).ser(_t).de(sr).build()){static{c(this,"DescribeQueriesCommand")}},js=class extends(A.Command.classBuilder().ep(E).m(function(e,t,n,r){return[(0,D.getSerdePlugin)(n,this.serialize,this.deserialize),(0,b.getEndpointPlugin)(n,e.getEndpointParameterInstructions())]}).s("Logs_20140328","DescribeQueryDefinitions",{}).n("CloudWatchLogsClient","DescribeQueryDefinitionsCommand").f(void 0,void 0).ser(wt).de(ir).build()){static{c(this,"DescribeQueryDefinitionsCommand")}},Ms=class extends(A.Command.classBuilder().ep(E).m(function(e,t,n,r){return[(0,D.getSerdePlugin)(n,this.serialize,this.deserialize),(0,b.getEndpointPlugin)(n,e.getEndpointParameterInstructions())]}).s("Logs_20140328","DescribeResourcePolicies",{}).n("CloudWatchLogsClient","DescribeResourcePoliciesCommand").f(void 0,void 0).ser(Et).de(ar).build()){static{c(this,"DescribeResourcePoliciesCommand")}},Ls=class extends(A.Command.classBuilder().ep(E).m(function(e,t,n,r){return[(0,D.getSerdePlugin)(n,this.serialize,this.deserialize),(0,b.getEndpointPlugin)(n,e.getEndpointParameterInstructions())]}).s("Logs_20140328","DescribeSubscriptionFilters",{}).n("CloudWatchLogsClient","DescribeSubscriptionFiltersCommand").f(void 0,void 0).ser(Pt).de(cr).build()){static{c(this,"DescribeSubscriptionFiltersCommand")}},Fs=class extends(A.Command.classBuilder().ep(E).m(function(e,t,n,r){return[(0,D.getSerdePlugin)(n,this.serialize,this.deserialize),(0,b.getEndpointPlugin)(n,e.getEndpointParameterInstructions())]}).s("Logs_20140328","DisassociateKmsKey",{}).n("CloudWatchLogsClient","DisassociateKmsKeyCommand").f(void 0,void 0).ser(Ct).de(lr).build()){static{c(this,"DisassociateKmsKeyCommand")}},$s=class extends(A.Command.classBuilder().ep(E).m(function(e,t,n,r){return[(0,D.getSerdePlugin)(n,this.serialize,this.deserialize),(0,b.getEndpointPlugin)(n,e.getEndpointParameterInstructions())]}).s("Logs_20140328","FilterLogEvents",{}).n("CloudWatchLogsClient","FilterLogEventsCommand").f(void 0,void 0).ser(Ot).de(dr).build()){static{c(this,"FilterLogEventsCommand")}},Us=class extends(A.Command.classBuilder().ep(E).m(function(e,t,n,r){return[(0,D.getSerdePlugin)(n,this.serialize,this.deserialize),(0,b.getEndpointPlugin)(n,e.getEndpointParameterInstructions())]}).s("Logs_20140328","GetDataProtectionPolicy",{}).n("CloudWatchLogsClient","GetDataProtectionPolicyCommand").f(void 0,void 0).ser(At).de(ur).build()){static{c(this,"GetDataProtectionPolicyCommand")}},Bs=class extends(A.Command.classBuilder().ep(E).m(function(e,t,n,r){return[(0,D.getSerdePlugin)(n,this.serialize,this.deserialize),(0,b.getEndpointPlugin)(n,e.getEndpointParameterInstructions())]}).s("Logs_20140328","GetDelivery",{}).n("CloudWatchLogsClient","GetDeliveryCommand").f(void 0,void 0).ser(xt).de(pr).build()){static{c(this,"GetDeliveryCommand")}},Gs=class extends(A.Command.classBuilder().ep(E).m(function(e,t,n,r){return[(0,D.getSerdePlugin)(n,this.serialize,this.deserialize),(0,b.getEndpointPlugin)(n,e.getEndpointParameterInstructions())]}).s("Logs_20140328","GetDeliveryDestination",{}).n("CloudWatchLogsClient","GetDeliveryDestinationCommand").f(void 0,void 0).ser(It).de(mr).build()){static{c(this,"GetDeliveryDestinationCommand")}},Hs=class extends(A.Command.classBuilder().ep(E).m(function(e,t,n,r){return[(0,D.getSerdePlugin)(n,this.serialize,this.deserialize),(0,b.getEndpointPlugin)(n,e.getEndpointParameterInstructions())]}).s("Logs_20140328","GetDeliveryDestinationPolicy",{}).n("CloudWatchLogsClient","GetDeliveryDestinationPolicyCommand").f(void 0,void 0).ser(Rt).de(hr).build()){static{c(this,"GetDeliveryDestinationPolicyCommand")}},zs=class extends(A.Command.classBuilder().ep(E).m(function(e,t,n,r){return[(0,D.getSerdePlugin)(n,this.serialize,this.deserialize),(0,b.getEndpointPlugin)(n,e.getEndpointParameterInstructions())]}).s("Logs_20140328","GetDeliverySource",{}).n("CloudWatchLogsClient","GetDeliverySourceCommand").f(void 0,void 0).ser(Tt).de(fr).build()){static{c(this,"GetDeliverySourceCommand")}},qs=class extends(A.Command.classBuilder().ep(E).m(function(e,t,n,r){return[(0,D.getSerdePlugin)(n,this.serialize,this.deserialize),(0,b.getEndpointPlugin)(n,e.getEndpointParameterInstructions())]}).s("Logs_20140328","GetIntegration",{}).n("CloudWatchLogsClient","GetIntegrationCommand").f(void 0,void 0).ser(Dt).de(gr).build()){static{c(this,"GetIntegrationCommand")}},Ws=class extends(A.Command.classBuilder().ep(E).m(function(e,t,n,r){return[(0,D.getSerdePlugin)(n,this.serialize,this.deserialize),(0,b.getEndpointPlugin)(n,e.getEndpointParameterInstructions())]}).s("Logs_20140328","GetLogAnomalyDetector",{}).n("CloudWatchLogsClient","GetLogAnomalyDetectorCommand").f(void 0,void 0).ser(kt).de(yr).build()){static{c(this,"GetLogAnomalyDetectorCommand")}},Vs=class extends(A.Command.classBuilder().ep(E).m(function(e,t,n,r){return[(0,D.getSerdePlugin)(n,this.serialize,this.deserialize),(0,b.getEndpointPlugin)(n,e.getEndpointParameterInstructions())]}).s("Logs_20140328","GetLogEvents",{}).n("CloudWatchLogsClient","GetLogEventsCommand").f(void 0,void 0).ser(Nt).de(vr).build()){static{c(this,"GetLogEventsCommand")}},Js=class extends(A.Command.classBuilder().ep(E).m(function(e,t,n,r){return[(0,D.getSerdePlugin)(n,this.serialize,this.deserialize),(0,b.getEndpointPlugin)(n,e.getEndpointParameterInstructions())]}).s("Logs_20140328","GetLogGroupFields",{}).n("CloudWatchLogsClient","GetLogGroupFieldsCommand").f(void 0,void 0).ser(jt).de(br).build()){static{c(this,"GetLogGroupFieldsCommand")}},Ks=class extends(A.Command.classBuilder().ep(E).m(function(e,t,n,r){return[(0,D.getSerdePlugin)(n,this.serialize,this.deserialize),(0,b.getEndpointPlugin)(n,e.getEndpointParameterInstructions())]}).s("Logs_20140328","GetLogObject",{eventStream:{output:!0}}).n("CloudWatchLogsClient","GetLogObjectCommand").f(void 0,je).ser(Mt).de(Sr).build()){static{c(this,"GetLogObjectCommand")}},Xs=class extends(A.Command.classBuilder().ep(E).m(function(e,t,n,r){return[(0,D.getSerdePlugin)(n,this.serialize,this.deserialize),(0,b.getEndpointPlugin)(n,e.getEndpointParameterInstructions())]}).s("Logs_20140328","GetLogRecord",{}).n("CloudWatchLogsClient","GetLogRecordCommand").f(void 0,void 0).ser(Lt).de(_r).build()){static{c(this,"GetLogRecordCommand")}},Ys=class extends(A.Command.classBuilder().ep(E).m(function(e,t,n,r){return[(0,D.getSerdePlugin)(n,this.serialize,this.deserialize),(0,b.getEndpointPlugin)(n,e.getEndpointParameterInstructions())]}).s("Logs_20140328","GetQueryResults",{}).n("CloudWatchLogsClient","GetQueryResultsCommand").f(void 0,void 0).ser(Ft).de(wr).build()){static{c(this,"GetQueryResultsCommand")}},Qs=class extends(A.Command.classBuilder().ep(E).m(function(e,t,n,r){return[(0,D.getSerdePlugin)(n,this.serialize,this.deserialize),(0,b.getEndpointPlugin)(n,e.getEndpointParameterInstructions())]}).s("Logs_20140328","GetTransformer",{}).n("CloudWatchLogsClient","GetTransformerCommand").f(void 0,void 0).ser($t).de(Er).build()){static{c(this,"GetTransformerCommand")}},Zs=class extends(A.Command.classBuilder().ep(E).m(function(e,t,n,r){return[(0,D.getSerdePlugin)(n,this.serialize,this.deserialize),(0,b.getEndpointPlugin)(n,e.getEndpointParameterInstructions())]}).s("Logs_20140328","ListAnomalies",{}).n("CloudWatchLogsClient","ListAnomaliesCommand").f(void 0,void 0).ser(Ut).de(Pr).build()){static{c(this,"ListAnomaliesCommand")}},ei=class extends(A.Command.classBuilder().ep(E).m(function(e,t,n,r){return[(0,D.getSerdePlugin)(n,this.serialize,this.deserialize),(0,b.getEndpointPlugin)(n,e.getEndpointParameterInstructions())]}).s("Logs_20140328","ListIntegrations",{}).n("CloudWatchLogsClient","ListIntegrationsCommand").f(void 0,void 0).ser(Bt).de(Cr).build()){static{c(this,"ListIntegrationsCommand")}},ti=class extends(A.Command.classBuilder().ep(E).m(function(e,t,n,r){return[(0,D.getSerdePlugin)(n,this.serialize,this.deserialize),(0,b.getEndpointPlugin)(n,e.getEndpointParameterInstructions())]}).s("Logs_20140328","ListLogAnomalyDetectors",{}).n("CloudWatchLogsClient","ListLogAnomalyDetectorsCommand").f(void 0,void 0).ser(Gt).de(Or).build()){static{c(this,"ListLogAnomalyDetectorsCommand")}},ni=class extends(A.Command.classBuilder().ep(E).m(function(e,t,n,r){return[(0,D.getSerdePlugin)(n,this.serialize,this.deserialize),(0,b.getEndpointPlugin)(n,e.getEndpointParameterInstructions())]}).s("Logs_20140328","ListLogGroups",{}).n("CloudWatchLogsClient","ListLogGroupsCommand").f(void 0,void 0).ser(Ht).de(Ar).build()){static{c(this,"ListLogGroupsCommand")}},ri=class extends(A.Command.classBuilder().ep(E).m(function(e,t,n,r){return[(0,D.getSerdePlugin)(n,this.serialize,this.deserialize),(0,b.getEndpointPlugin)(n,e.getEndpointParameterInstructions())]}).s("Logs_20140328","ListLogGroupsForQuery",{}).n("CloudWatchLogsClient","ListLogGroupsForQueryCommand").f(void 0,void 0).ser(zt).de(xr).build()){static{c(this,"ListLogGroupsForQueryCommand")}},oi=class extends(A.Command.classBuilder().ep(E).m(function(e,t,n,r){return[(0,D.getSerdePlugin)(n,this.serialize,this.deserialize),(0,b.getEndpointPlugin)(n,e.getEndpointParameterInstructions())]}).s("Logs_20140328","ListTagsForResource",{}).n("CloudWatchLogsClient","ListTagsForResourceCommand").f(void 0,void 0).ser(qt).de(Ir).build()){static{c(this,"ListTagsForResourceCommand")}},si=class extends(A.Command.classBuilder().ep(E).m(function(e,t,n,r){return[(0,D.getSerdePlugin)(n,this.serialize,this.deserialize),(0,b.getEndpointPlugin)(n,e.getEndpointParameterInstructions())]}).s("Logs_20140328","ListTagsLogGroup",{}).n("CloudWatchLogsClient","ListTagsLogGroupCommand").f(void 0,void 0).ser(Wt).de(Rr).build()){static{c(this,"ListTagsLogGroupCommand")}},ii=class extends(A.Command.classBuilder().ep(E).m(function(e,t,n,r){return[(0,D.getSerdePlugin)(n,this.serialize,this.deserialize),(0,b.getEndpointPlugin)(n,e.getEndpointParameterInstructions())]}).s("Logs_20140328","PutAccountPolicy",{}).n("CloudWatchLogsClient","PutAccountPolicyCommand").f(void 0,void 0).ser(Vt).de(Tr).build()){static{c(this,"PutAccountPolicyCommand")}},ai=class extends(A.Command.classBuilder().ep(E).m(function(e,t,n,r){return[(0,D.getSerdePlugin)(n,this.serialize,this.deserialize),(0,b.getEndpointPlugin)(n,e.getEndpointParameterInstructions())]}).s("Logs_20140328","PutDataProtectionPolicy",{}).n("CloudWatchLogsClient","PutDataProtectionPolicyCommand").f(void 0,void 0).ser(Jt).de(Dr).build()){static{c(this,"PutDataProtectionPolicyCommand")}},ci=class extends(A.Command.classBuilder().ep(E).m(function(e,t,n,r){return[(0,D.getSerdePlugin)(n,this.serialize,this.deserialize),(0,b.getEndpointPlugin)(n,e.getEndpointParameterInstructions())]}).s("Logs_20140328","PutDeliveryDestination",{}).n("CloudWatchLogsClient","PutDeliveryDestinationCommand").f(void 0,void 0).ser(Kt).de(kr).build()){static{c(this,"PutDeliveryDestinationCommand")}},li=class extends(A.Command.classBuilder().ep(E).m(function(e,t,n,r){return[(0,D.getSerdePlugin)(n,this.serialize,this.deserialize),(0,b.getEndpointPlugin)(n,e.getEndpointParameterInstructions())]}).s("Logs_20140328","PutDeliveryDestinationPolicy",{}).n("CloudWatchLogsClient","PutDeliveryDestinationPolicyCommand").f(void 0,void 0).ser(Xt).de(Nr).build()){static{c(this,"PutDeliveryDestinationPolicyCommand")}},di=class extends(A.Command.classBuilder().ep(E).m(function(e,t,n,r){return[(0,D.getSerdePlugin)(n,this.serialize,this.deserialize),(0,b.getEndpointPlugin)(n,e.getEndpointParameterInstructions())]}).s("Logs_20140328","PutDeliverySource",{}).n("CloudWatchLogsClient","PutDeliverySourceCommand").f(void 0,void 0).ser(Yt).de(jr).build()){static{c(this,"PutDeliverySourceCommand")}},ui=class extends(A.Command.classBuilder().ep(E).m(function(e,t,n,r){return[(0,D.getSerdePlugin)(n,this.serialize,this.deserialize),(0,b.getEndpointPlugin)(n,e.getEndpointParameterInstructions())]}).s("Logs_20140328","PutDestination",{}).n("CloudWatchLogsClient","PutDestinationCommand").f(void 0,void 0).ser(Qt).de(Mr).build()){static{c(this,"PutDestinationCommand")}},pi=class extends(A.Command.classBuilder().ep(E).m(function(e,t,n,r){return[(0,D.getSerdePlugin)(n,this.serialize,this.deserialize),(0,b.getEndpointPlugin)(n,e.getEndpointParameterInstructions())]}).s("Logs_20140328","PutDestinationPolicy",{}).n("CloudWatchLogsClient","PutDestinationPolicyCommand").f(void 0,void 0).ser(Zt).de(Lr).build()){static{c(this,"PutDestinationPolicyCommand")}},mi=class extends(A.Command.classBuilder().ep(E).m(function(e,t,n,r){return[(0,D.getSerdePlugin)(n,this.serialize,this.deserialize),(0,b.getEndpointPlugin)(n,e.getEndpointParameterInstructions())]}).s("Logs_20140328","PutIndexPolicy",{}).n("CloudWatchLogsClient","PutIndexPolicyCommand").f(void 0,void 0).ser(en).de(Fr).build()){static{c(this,"PutIndexPolicyCommand")}},hi=class extends(A.Command.classBuilder().ep(E).m(function(e,t,n,r){return[(0,D.getSerdePlugin)(n,this.serialize,this.deserialize),(0,b.getEndpointPlugin)(n,e.getEndpointParameterInstructions())]}).s("Logs_20140328","PutIntegration",{}).n("CloudWatchLogsClient","PutIntegrationCommand").f(void 0,void 0).ser(tn).de($r).build()){static{c(this,"PutIntegrationCommand")}},fi=class extends(A.Command.classBuilder().ep(E).m(function(e,t,n,r){return[(0,D.getSerdePlugin)(n,this.serialize,this.deserialize),(0,b.getEndpointPlugin)(n,e.getEndpointParameterInstructions())]}).s("Logs_20140328","PutLogEvents",{}).n("CloudWatchLogsClient","PutLogEventsCommand").f(void 0,void 0).ser(nn).de(Ur).build()){static{c(this,"PutLogEventsCommand")}},gi=class extends(A.Command.classBuilder().ep(E).m(function(e,t,n,r){return[(0,D.getSerdePlugin)(n,this.serialize,this.deserialize),(0,b.getEndpointPlugin)(n,e.getEndpointParameterInstructions())]}).s("Logs_20140328","PutMetricFilter",{}).n("CloudWatchLogsClient","PutMetricFilterCommand").f(void 0,void 0).ser(rn).de(Br).build()){static{c(this,"PutMetricFilterCommand")}},yi=class extends(A.Command.classBuilder().ep(E).m(function(e,t,n,r){return[(0,D.getSerdePlugin)(n,this.serialize,this.deserialize),(0,b.getEndpointPlugin)(n,e.getEndpointParameterInstructions())]}).s("Logs_20140328","PutQueryDefinition",{}).n("CloudWatchLogsClient","PutQueryDefinitionCommand").f(void 0,void 0).ser(on).de(Gr).build()){static{c(this,"PutQueryDefinitionCommand")}},vi=class extends(A.Command.classBuilder().ep(E).m(function(e,t,n,r){return[(0,D.getSerdePlugin)(n,this.serialize,this.deserialize),(0,b.getEndpointPlugin)(n,e.getEndpointParameterInstructions())]}).s("Logs_20140328","PutResourcePolicy",{}).n("CloudWatchLogsClient","PutResourcePolicyCommand").f(void 0,void 0).ser(sn).de(Hr).build()){static{c(this,"PutResourcePolicyCommand")}},bi=class extends(A.Command.classBuilder().ep(E).m(function(e,t,n,r){return[(0,D.getSerdePlugin)(n,this.serialize,this.deserialize),(0,b.getEndpointPlugin)(n,e.getEndpointParameterInstructions())]}).s("Logs_20140328","PutRetentionPolicy",{}).n("CloudWatchLogsClient","PutRetentionPolicyCommand").f(void 0,void 0).ser(an).de(zr).build()){static{c(this,"PutRetentionPolicyCommand")}},Si=class extends(A.Command.classBuilder().ep(E).m(function(e,t,n,r){return[(0,D.getSerdePlugin)(n,this.serialize,this.deserialize),(0,b.getEndpointPlugin)(n,e.getEndpointParameterInstructions())]}).s("Logs_20140328","PutSubscriptionFilter",{}).n("CloudWatchLogsClient","PutSubscriptionFilterCommand").f(void 0,void 0).ser(cn).de(qr).build()){static{c(this,"PutSubscriptionFilterCommand")}},_i=class extends(A.Command.classBuilder().ep(E).m(function(e,t,n,r){return[(0,D.getSerdePlugin)(n,this.serialize,this.deserialize),(0,b.getEndpointPlugin)(n,e.getEndpointParameterInstructions())]}).s("Logs_20140328","PutTransformer",{}).n("CloudWatchLogsClient","PutTransformerCommand").f(void 0,void 0).ser(ln).de(Wr).build()){static{c(this,"PutTransformerCommand")}},wi=class extends(A.Command.classBuilder().ep(E).m(function(e,t,n,r){return[(0,D.getSerdePlugin)(n,this.serialize,this.deserialize),(0,b.getEndpointPlugin)(n,e.getEndpointParameterInstructions())]}).s("Logs_20140328","StartLiveTail",{eventStream:{output:!0}}).n("CloudWatchLogsClient","StartLiveTailCommand").f(void 0,Le).ser(dn).de(Vr).build()){static{c(this,"StartLiveTailCommand")}},Ei=class extends(A.Command.classBuilder().ep(E).m(function(e,t,n,r){return[(0,D.getSerdePlugin)(n,this.serialize,this.deserialize),(0,b.getEndpointPlugin)(n,e.getEndpointParameterInstructions())]}).s("Logs_20140328","StartQuery",{}).n("CloudWatchLogsClient","StartQueryCommand").f(void 0,void 0).ser(un).de(Jr).build()){static{c(this,"StartQueryCommand")}},Pi=class extends(A.Command.classBuilder().ep(E).m(function(e,t,n,r){return[(0,D.getSerdePlugin)(n,this.serialize,this.deserialize),(0,b.getEndpointPlugin)(n,e.getEndpointParameterInstructions())]}).s("Logs_20140328","StopQuery",{}).n("CloudWatchLogsClient","StopQueryCommand").f(void 0,void 0).ser(pn).de(Kr).build()){static{c(this,"StopQueryCommand")}},Ci=class extends(A.Command.classBuilder().ep(E).m(function(e,t,n,r){return[(0,D.getSerdePlugin)(n,this.serialize,this.deserialize),(0,b.getEndpointPlugin)(n,e.getEndpointParameterInstructions())]}).s("Logs_20140328","TagLogGroup",{}).n("CloudWatchLogsClient","TagLogGroupCommand").f(void 0,void 0).ser(mn).de(Xr).build()){static{c(this,"TagLogGroupCommand")}},Oi=class extends(A.Command.classBuilder().ep(E).m(function(e,t,n,r){return[(0,D.getSerdePlugin)(n,this.serialize,this.deserialize),(0,b.getEndpointPlugin)(n,e.getEndpointParameterInstructions())]}).s("Logs_20140328","TagResource",{}).n("CloudWatchLogsClient","TagResourceCommand").f(void 0,void 0).ser(hn).de(Yr).build()){static{c(this,"TagResourceCommand")}},Ai=class extends(A.Command.classBuilder().ep(E).m(function(e,t,n,r){return[(0,D.getSerdePlugin)(n,this.serialize,this.deserialize),(0,b.getEndpointPlugin)(n,e.getEndpointParameterInstructions())]}).s("Logs_20140328","TestMetricFilter",{}).n("CloudWatchLogsClient","TestMetricFilterCommand").f(void 0,void 0).ser(fn).de(Qr).build()){static{c(this,"TestMetricFilterCommand")}},xi=class extends(A.Command.classBuilder().ep(E).m(function(e,t,n,r){return[(0,D.getSerdePlugin)(n,this.serialize,this.deserialize),(0,b.getEndpointPlugin)(n,e.getEndpointParameterInstructions())]}).s("Logs_20140328","TestTransformer",{}).n("CloudWatchLogsClient","TestTransformerCommand").f(void 0,void 0).ser(gn).de(Zr).build()){static{c(this,"TestTransformerCommand")}},Ii=class extends(A.Command.classBuilder().ep(E).m(function(e,t,n,r){return[(0,D.getSerdePlugin)(n,this.serialize,this.deserialize),(0,b.getEndpointPlugin)(n,e.getEndpointParameterInstructions())]}).s("Logs_20140328","UntagLogGroup",{}).n("CloudWatchLogsClient","UntagLogGroupCommand").f(void 0,void 0).ser(yn).de(eo).build()){static{c(this,"UntagLogGroupCommand")}},Ri=class extends(A.Command.classBuilder().ep(E).m(function(e,t,n,r){return[(0,D.getSerdePlugin)(n,this.serialize,this.deserialize),(0,b.getEndpointPlugin)(n,e.getEndpointParameterInstructions())]}).s("Logs_20140328","UntagResource",{}).n("CloudWatchLogsClient","UntagResourceCommand").f(void 0,void 0).ser(vn).de(to).build()){static{c(this,"UntagResourceCommand")}},Ti=class extends(A.Command.classBuilder().ep(E).m(function(e,t,n,r){return[(0,D.getSerdePlugin)(n,this.serialize,this.deserialize),(0,b.getEndpointPlugin)(n,e.getEndpointParameterInstructions())]}).s("Logs_20140328","UpdateAnomaly",{}).n("CloudWatchLogsClient","UpdateAnomalyCommand").f(void 0,void 0).ser(bn).de(no).build()){static{c(this,"UpdateAnomalyCommand")}},Di=class extends(A.Command.classBuilder().ep(E).m(function(e,t,n,r){return[(0,D.getSerdePlugin)(n,this.serialize,this.deserialize),(0,b.getEndpointPlugin)(n,e.getEndpointParameterInstructions())]}).s("Logs_20140328","UpdateDeliveryConfiguration",{}).n("CloudWatchLogsClient","UpdateDeliveryConfigurationCommand").f(void 0,void 0).ser(Sn).de(ro).build()){static{c(this,"UpdateDeliveryConfigurationCommand")}},ki=class extends(A.Command.classBuilder().ep(E).m(function(e,t,n,r){return[(0,D.getSerdePlugin)(n,this.serialize,this.deserialize),(0,b.getEndpointPlugin)(n,e.getEndpointParameterInstructions())]}).s("Logs_20140328","UpdateLogAnomalyDetector",{}).n("CloudWatchLogsClient","UpdateLogAnomalyDetectorCommand").f(void 0,void 0).ser(_n).de(oo).build()){static{c(this,"UpdateLogAnomalyDetectorCommand")}},Ni={AssociateKmsKeyCommand:Yo,CancelExportTaskCommand:Qo,CreateDeliveryCommand:Zo,CreateExportTaskCommand:es,CreateLogAnomalyDetectorCommand:ts,CreateLogGroupCommand:ns,CreateLogStreamCommand:rs,DeleteAccountPolicyCommand:os,DeleteDataProtectionPolicyCommand:ss,DeleteDeliveryCommand:is,DeleteDeliveryDestinationCommand:as,DeleteDeliveryDestinationPolicyCommand:cs,DeleteDeliverySourceCommand:ls,DeleteDestinationCommand:ds,DeleteIndexPolicyCommand:us,DeleteIntegrationCommand:ps,DeleteLogAnomalyDetectorCommand:ms,DeleteLogGroupCommand:hs,DeleteLogStreamCommand:fs,DeleteMetricFilterCommand:gs,DeleteQueryDefinitionCommand:ys,DeleteResourcePolicyCommand:vs,DeleteRetentionPolicyCommand:bs,DeleteSubscriptionFilterCommand:Ss,DeleteTransformerCommand:_s,DescribeAccountPoliciesCommand:ws,DescribeConfigurationTemplatesCommand:Es,DescribeDeliveriesCommand:Ps,DescribeDeliveryDestinationsCommand:Cs,DescribeDeliverySourcesCommand:Os,DescribeDestinationsCommand:As,DescribeExportTasksCommand:xs,DescribeFieldIndexesCommand:Is,DescribeIndexPoliciesCommand:Rs,DescribeLogGroupsCommand:Ts,DescribeLogStreamsCommand:Ds,DescribeMetricFiltersCommand:ks,DescribeQueriesCommand:Ns,DescribeQueryDefinitionsCommand:js,DescribeResourcePoliciesCommand:Ms,DescribeSubscriptionFiltersCommand:Ls,DisassociateKmsKeyCommand:Fs,FilterLogEventsCommand:$s,GetDataProtectionPolicyCommand:Us,GetDeliveryCommand:Bs,GetDeliveryDestinationCommand:Gs,GetDeliveryDestinationPolicyCommand:Hs,GetDeliverySourceCommand:zs,GetIntegrationCommand:qs,GetLogAnomalyDetectorCommand:Ws,GetLogEventsCommand:Vs,GetLogGroupFieldsCommand:Js,GetLogObjectCommand:Ks,GetLogRecordCommand:Xs,GetQueryResultsCommand:Ys,GetTransformerCommand:Qs,ListAnomaliesCommand:Zs,ListIntegrationsCommand:ei,ListLogAnomalyDetectorsCommand:ti,ListLogGroupsCommand:ni,ListLogGroupsForQueryCommand:ri,ListTagsForResourceCommand:oi,ListTagsLogGroupCommand:si,PutAccountPolicyCommand:ii,PutDataProtectionPolicyCommand:ai,PutDeliveryDestinationCommand:ci,PutDeliveryDestinationPolicyCommand:li,PutDeliverySourceCommand:di,PutDestinationCommand:ui,PutDestinationPolicyCommand:pi,PutIndexPolicyCommand:mi,PutIntegrationCommand:hi,PutLogEventsCommand:fi,PutMetricFilterCommand:gi,PutQueryDefinitionCommand:yi,PutResourcePolicyCommand:vi,PutRetentionPolicyCommand:bi,PutSubscriptionFilterCommand:Si,PutTransformerCommand:_i,StartLiveTailCommand:wi,StartQueryCommand:Ei,StopQueryCommand:Pi,TagLogGroupCommand:Ci,TagResourceCommand:Oi,TestMetricFilterCommand:Ai,TestTransformerCommand:xi,UntagLogGroupCommand:Ii,UntagResourceCommand:Ri,UpdateAnomalyCommand:Ti,UpdateDeliveryConfigurationCommand:Di,UpdateLogAnomalyDetectorCommand:ki},ji=class extends T{static{c(this,"CloudWatchLogs")}};(0,A.createAggregatedClient)(Ni,ji);var Mi=(0,g.createPaginator)(T,Es,"nextToken","nextToken","limit"),Li=(0,g.createPaginator)(T,Ps,"nextToken","nextToken","limit"),Fi=(0,g.createPaginator)(T,Cs,"nextToken","nextToken","limit"),$i=(0,g.createPaginator)(T,Os,"nextToken","nextToken","limit"),Ui=(0,g.createPaginator)(T,As,"nextToken","nextToken","limit"),Bi=(0,g.createPaginator)(T,Ts,"nextToken","nextToken","limit"),Gi=(0,g.createPaginator)(T,Ds,"nextToken","nextToken","limit"),Hi=(0,g.createPaginator)(T,ks,"nextToken","nextToken","limit"),zi=(0,g.createPaginator)(T,Ls,"nextToken","nextToken","limit"),qi=(0,g.createPaginator)(T,$s,"nextToken","nextToken","limit"),Wi=(0,g.createPaginator)(T,Vs,"nextToken","nextForwardToken","limit"),Vi=(0,g.createPaginator)(T,Zs,"nextToken","nextToken","limit"),Ji=(0,g.createPaginator)(T,ti,"nextToken","nextToken","limit"),Ki=(0,g.createPaginator)(T,ri,"nextToken","nextToken","maxResults")},129:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getRuntimeConfig=void 0;const r=n(1860).__importDefault(n(7611)),o=n(8704),s=n(5861),i=n(1656),a=n(9316),c=n(9770),l=n(5092),d=n(9618),u=n(5704),p=n(1279),m=n(3638),h=n(5518),f=n(70),g=n(1411),y=n(5435),v=n(1411);t.getRuntimeConfig=e=>{(0,v.emitWarningIfUnsupportedVersion)(process.version);const t=(0,y.resolveDefaultsModeConfig)(e),n=()=>t().then(g.loadConfigsForDefaultMode),b=(0,f.getRuntimeConfig)(e);(0,o.emitWarningIfUnsupportedVersion)(process.version);const S={profile:e?.profile,logger:b.logger};return{...b,...e,runtime:"node",defaultsMode:t,authSchemePreference:e?.authSchemePreference??(0,u.loadConfig)(o.NODE_AUTH_SCHEME_PREFERENCE_OPTIONS,S),bodyLengthChecker:e?.bodyLengthChecker??m.calculateBodyLength,credentialDefaultProvider:e?.credentialDefaultProvider??s.defaultProvider,defaultUserAgentProvider:e?.defaultUserAgentProvider??(0,i.createDefaultUserAgentProvider)({serviceId:b.serviceId,clientVersion:r.default.version}),eventStreamSerdeProvider:e?.eventStreamSerdeProvider??c.eventStreamSerdeProvider,maxAttempts:e?.maxAttempts??(0,u.loadConfig)(d.NODE_MAX_ATTEMPT_CONFIG_OPTIONS,e),region:e?.region??(0,u.loadConfig)(a.NODE_REGION_CONFIG_OPTIONS,{...a.NODE_REGION_CONFIG_FILE_OPTIONS,...S}),requestHandler:p.NodeHttpHandler.create(e?.requestHandler??n),retryMode:e?.retryMode??(0,u.loadConfig)({...d.NODE_RETRY_MODE_CONFIG_OPTIONS,default:async()=>(await n()).retryMode||h.DEFAULT_RETRY_MODE},e),sha256:e?.sha256??l.Hash.bind(null,"sha256"),streamCollector:e?.streamCollector??p.streamCollector,useDualstackEndpoint:e?.useDualstackEndpoint??(0,u.loadConfig)(a.NODE_USE_DUALSTACK_ENDPOINT_CONFIG_OPTIONS,S),useFipsEndpoint:e?.useFipsEndpoint??(0,u.loadConfig)(a.NODE_USE_FIPS_ENDPOINT_CONFIG_OPTIONS,S),userAgentAppId:e?.userAgentAppId??(0,u.loadConfig)(i.NODE_APP_ID_CONFIG_OPTIONS,S)}}},70:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getRuntimeConfig=void 0;const r=n(8704),o=n(1411),s=n(4494),i=n(8385),a=n(1577),c=n(9136),l=n(4262);t.getRuntimeConfig=e=>({apiVersion:"2014-03-28",base64Decoder:e?.base64Decoder??i.fromBase64,base64Encoder:e?.base64Encoder??i.toBase64,disableHostPrefix:e?.disableHostPrefix??!1,endpointProvider:e?.endpointProvider??l.defaultEndpointResolver,extensions:e?.extensions??[],httpAuthSchemeProvider:e?.httpAuthSchemeProvider??c.defaultCloudWatchLogsHttpAuthSchemeProvider,httpAuthSchemes:e?.httpAuthSchemes??[{schemeId:"aws.auth#sigv4",identityProvider:e=>e.getIdentityProvider("aws.auth#sigv4"),signer:new r.AwsSdkSigV4Signer}],logger:e?.logger??new o.NoOpLogger,serviceId:e?.serviceId??"CloudWatch Logs",urlParser:e?.urlParser??s.parseUrl,utf8Decoder:e?.utf8Decoder??a.fromUtf8,utf8Encoder:e?.utf8Encoder??a.toUtf8})},2041:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.resolveHttpAuthSchemeConfig=t.defaultSSOHttpAuthSchemeProvider=t.defaultSSOHttpAuthSchemeParametersProvider=void 0;const r=n(8704),o=n(6324);t.defaultSSOHttpAuthSchemeParametersProvider=async(e,t,n)=>({operation:(0,o.getSmithyContext)(t).operation,region:await(0,o.normalizeProvider)(e.region)()||(()=>{throw new Error("expected `region` to be configured for `aws.auth#sigv4`")})()});t.defaultSSOHttpAuthSchemeProvider=e=>{const t=[];switch(e.operation){case"GetRoleCredentials":case"ListAccountRoles":case"ListAccounts":case"Logout":t.push({schemeId:"smithy.api#noAuth"});break;default:t.push(function(e){return{schemeId:"aws.auth#sigv4",signingProperties:{name:"awsssoportal",region:e.region},propertiesExtractor:(e,t)=>({signingProperties:{config:e,context:t}})}}(e))}return t};t.resolveHttpAuthSchemeConfig=e=>{const t=(0,r.resolveAwsSdkSigV4Config)(e);return Object.assign(t,{authSchemePreference:(0,o.normalizeProvider)(e.authSchemePreference??[])})}},3903:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.defaultEndpointResolver=void 0;const r=n(3068),o=n(9674),s=n(1308),i=new o.EndpointCache({size:50,params:["Endpoint","Region","UseDualStack","UseFIPS"]});t.defaultEndpointResolver=(e,t={})=>i.get(e,()=>(0,o.resolveEndpoint)(s.ruleSet,{endpointParams:e,logger:t.logger})),o.customEndpointFunctions.aws=r.awsEndpointFunctions},1308:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ruleSet=void 0;const n="required",r="fn",o="argv",s="ref",i=!0,a="isSet",c="booleanEquals",l="error",d="endpoint",u="tree",p="PartitionResult",m="getAttr",h={[n]:!1,type:"String"},f={[n]:!0,default:!1,type:"Boolean"},g={[s]:"Endpoint"},y={[r]:c,[o]:[{[s]:"UseFIPS"},!0]},v={[r]:c,[o]:[{[s]:"UseDualStack"},!0]},b={},S={[r]:m,[o]:[{[s]:p},"supportsFIPS"]},_={[s]:p},w={[r]:c,[o]:[!0,{[r]:m,[o]:[_,"supportsDualStack"]}]},E=[y],P=[v],C=[{[s]:"Region"}],O={version:"1.0",parameters:{Region:h,UseDualStack:f,UseFIPS:f,Endpoint:h},rules:[{conditions:[{[r]:a,[o]:[g]}],rules:[{conditions:E,error:"Invalid Configuration: FIPS and custom endpoint are not supported",type:l},{conditions:P,error:"Invalid Configuration: Dualstack and custom endpoint are not supported",type:l},{endpoint:{url:g,properties:b,headers:b},type:d}],type:u},{conditions:[{[r]:a,[o]:C}],rules:[{conditions:[{[r]:"aws.partition",[o]:C,assign:p}],rules:[{conditions:[y,v],rules:[{conditions:[{[r]:c,[o]:[i,S]},w],rules:[{endpoint:{url:"https://portal.sso-fips.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:b,headers:b},type:d}],type:u},{error:"FIPS and DualStack are enabled, but this partition does not support one or both",type:l}],type:u},{conditions:E,rules:[{conditions:[{[r]:c,[o]:[S,i]}],rules:[{conditions:[{[r]:"stringEquals",[o]:[{[r]:m,[o]:[_,"name"]},"aws-us-gov"]}],endpoint:{url:"https://portal.sso.{Region}.amazonaws.com",properties:b,headers:b},type:d},{endpoint:{url:"https://portal.sso-fips.{Region}.{PartitionResult#dnsSuffix}",properties:b,headers:b},type:d}],type:u},{error:"FIPS is enabled but this partition does not support FIPS",type:l}],type:u},{conditions:P,rules:[{conditions:[w],rules:[{endpoint:{url:"https://portal.sso.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:b,headers:b},type:d}],type:u},{error:"DualStack is enabled but this partition does not support DualStack",type:l}],type:u},{endpoint:{url:"https://portal.sso.{Region}.{PartitionResult#dnsSuffix}",properties:b,headers:b},type:d}],type:u}],type:u},{error:"Invalid Configuration: Missing Region",type:l}]};t.ruleSet=O},2054:(e,t,n)=>{"use strict";var r,o=Object.defineProperty,s=Object.getOwnPropertyDescriptor,i=Object.getOwnPropertyNames,a=Object.prototype.hasOwnProperty,c=(e,t)=>o(e,"name",{value:t,configurable:!0}),l={};((e,t)=>{for(var n in t)o(e,n,{get:t[n],enumerable:!0})})(l,{GetRoleCredentialsCommand:()=>he,GetRoleCredentialsRequestFilterSensitiveLog:()=>M,GetRoleCredentialsResponseFilterSensitiveLog:()=>F,InvalidRequestException:()=>D,ListAccountRolesCommand:()=>fe,ListAccountRolesRequestFilterSensitiveLog:()=>$,ListAccountsCommand:()=>ge,ListAccountsRequestFilterSensitiveLog:()=>U,LogoutCommand:()=>ye,LogoutRequestFilterSensitiveLog:()=>B,ResourceNotFoundException:()=>k,RoleCredentialsFilterSensitiveLog:()=>L,SSO:()=>be,SSOClient:()=>I,SSOServiceException:()=>T,TooManyRequestsException:()=>N,UnauthorizedException:()=>j,__Client:()=>C.Client,paginateListAccountRoles:()=>Se,paginateListAccounts:()=>_e}),e.exports=(r=l,((e,t,n,r)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let c of i(t))a.call(e,c)||c===n||o(e,c,{get:()=>t[c],enumerable:!(r=s(t,c))||r.enumerable});return e})(o({},"__esModule",{value:!0}),r));var d=n(2590),u=n(5242),p=n(1568),m=n(2959),h=n(9316),f=n(402),g=n(7212),y=n(99),v=n(9618),b=n(2041),S=c(e=>Object.assign(e,{useDualstackEndpoint:e.useDualstackEndpoint??!1,useFipsEndpoint:e.useFipsEndpoint??!1,defaultSigningName:"awsssoportal"}),"resolveClientEndpointParameters"),_={UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}},w=n(2696),E=n(6463),P=n(2356),C=n(1411),O=c(e=>{const t=e.httpAuthSchemes;let n=e.httpAuthSchemeProvider,r=e.credentials;return{setHttpAuthScheme(e){const n=t.findIndex(t=>t.schemeId===e.schemeId);-1===n?t.push(e):t.splice(n,1,e)},httpAuthSchemes:()=>t,setHttpAuthSchemeProvider(e){n=e},httpAuthSchemeProvider:()=>n,setCredentials(e){r=e},credentials:()=>r}},"getHttpAuthExtensionConfiguration"),A=c(e=>({httpAuthSchemes:e.httpAuthSchemes(),httpAuthSchemeProvider:e.httpAuthSchemeProvider(),credentials:e.credentials()}),"resolveHttpAuthRuntimeConfig"),x=c((e,t)=>{const n=Object.assign((0,E.getAwsRegionExtensionConfiguration)(e),(0,C.getDefaultExtensionConfiguration)(e),(0,P.getHttpHandlerExtensionConfiguration)(e),O(e));return t.forEach(e=>e.configure(n)),Object.assign(e,(0,E.resolveAwsRegionExtensionConfiguration)(n),(0,C.resolveDefaultRuntimeConfig)(n),(0,P.resolveHttpHandlerRuntimeConfig)(n),A(n))},"resolveRuntimeExtensions"),I=class extends C.Client{static{c(this,"SSOClient")}config;constructor(...[e]){const t=(0,w.getRuntimeConfig)(e||{});super(t),this.initConfig=t;const n=S(t),r=(0,m.resolveUserAgentConfig)(n),o=(0,v.resolveRetryConfig)(r),s=(0,h.resolveRegionConfig)(o),i=(0,d.resolveHostHeaderConfig)(s),a=(0,y.resolveEndpointConfig)(i),l=(0,b.resolveHttpAuthSchemeConfig)(a),_=x(l,e?.extensions||[]);this.config=_,this.middlewareStack.use((0,m.getUserAgentPlugin)(this.config)),this.middlewareStack.use((0,v.getRetryPlugin)(this.config)),this.middlewareStack.use((0,g.getContentLengthPlugin)(this.config)),this.middlewareStack.use((0,d.getHostHeaderPlugin)(this.config)),this.middlewareStack.use((0,u.getLoggerPlugin)(this.config)),this.middlewareStack.use((0,p.getRecursionDetectionPlugin)(this.config)),this.middlewareStack.use((0,f.getHttpAuthSchemeEndpointRuleSetPlugin)(this.config,{httpAuthSchemeParametersProvider:b.defaultSSOHttpAuthSchemeParametersProvider,identityProviderConfigProvider:c(async e=>new f.DefaultIdentityProviderConfig({"aws.auth#sigv4":e.credentials}),"identityProviderConfigProvider")})),this.middlewareStack.use((0,f.getHttpSigningPlugin)(this.config))}destroy(){super.destroy()}},R=n(3255),T=class e extends C.ServiceException{static{c(this,"SSOServiceException")}constructor(t){super(t),Object.setPrototypeOf(this,e.prototype)}},D=class e extends T{static{c(this,"InvalidRequestException")}name="InvalidRequestException";$fault="client";constructor(t){super({name:"InvalidRequestException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}},k=class e extends T{static{c(this,"ResourceNotFoundException")}name="ResourceNotFoundException";$fault="client";constructor(t){super({name:"ResourceNotFoundException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}},N=class e extends T{static{c(this,"TooManyRequestsException")}name="TooManyRequestsException";$fault="client";constructor(t){super({name:"TooManyRequestsException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}},j=class e extends T{static{c(this,"UnauthorizedException")}name="UnauthorizedException";$fault="client";constructor(t){super({name:"UnauthorizedException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}},M=c(e=>({...e,...e.accessToken&&{accessToken:C.SENSITIVE_STRING}}),"GetRoleCredentialsRequestFilterSensitiveLog"),L=c(e=>({...e,...e.secretAccessKey&&{secretAccessKey:C.SENSITIVE_STRING},...e.sessionToken&&{sessionToken:C.SENSITIVE_STRING}}),"RoleCredentialsFilterSensitiveLog"),F=c(e=>({...e,...e.roleCredentials&&{roleCredentials:L(e.roleCredentials)}}),"GetRoleCredentialsResponseFilterSensitiveLog"),$=c(e=>({...e,...e.accessToken&&{accessToken:C.SENSITIVE_STRING}}),"ListAccountRolesRequestFilterSensitiveLog"),U=c(e=>({...e,...e.accessToken&&{accessToken:C.SENSITIVE_STRING}}),"ListAccountsRequestFilterSensitiveLog"),B=c(e=>({...e,...e.accessToken&&{accessToken:C.SENSITIVE_STRING}}),"LogoutRequestFilterSensitiveLog"),G=n(8704),H=c(async(e,t)=>{const n=(0,f.requestBuilder)(e,t),r=(0,C.map)({},C.isSerializableHeaderValue,{[me]:e[se]});n.bp("/federation/credentials");const o=(0,C.map)({[pe]:[,(0,C.expectNonNull)(e[ue],"roleName")],[ie]:[,(0,C.expectNonNull)(e[oe],"accountId")]});return n.m("GET").h(r).q(o).b(undefined),n.build()},"se_GetRoleCredentialsCommand"),z=c(async(e,t)=>{const n=(0,f.requestBuilder)(e,t),r=(0,C.map)({},C.isSerializableHeaderValue,{[me]:e[se]});n.bp("/assignment/roles");const o=(0,C.map)({[de]:[,e[le]],[ce]:[()=>void 0!==e.maxResults,()=>e[ae].toString()],[ie]:[,(0,C.expectNonNull)(e[oe],"accountId")]});return n.m("GET").h(r).q(o).b(undefined),n.build()},"se_ListAccountRolesCommand"),q=c(async(e,t)=>{const n=(0,f.requestBuilder)(e,t),r=(0,C.map)({},C.isSerializableHeaderValue,{[me]:e[se]});n.bp("/assignment/accounts");const o=(0,C.map)({[de]:[,e[le]],[ce]:[()=>void 0!==e.maxResults,()=>e[ae].toString()]});return n.m("GET").h(r).q(o).b(undefined),n.build()},"se_ListAccountsCommand"),W=c(async(e,t)=>{const n=(0,f.requestBuilder)(e,t),r=(0,C.map)({},C.isSerializableHeaderValue,{[me]:e[se]});return n.bp("/logout"),n.m("POST").h(r).b(undefined),n.build()},"se_LogoutCommand"),V=c(async(e,t)=>{if(200!==e.statusCode&&e.statusCode>=300)return Y(e,t);const n=(0,C.map)({$metadata:re(e)}),r=(0,C.expectNonNull)((0,C.expectObject)(await(0,G.parseJsonBody)(e.body,t)),"body"),o=(0,C.take)(r,{roleCredentials:C._json});return Object.assign(n,o),n},"de_GetRoleCredentialsCommand"),J=c(async(e,t)=>{if(200!==e.statusCode&&e.statusCode>=300)return Y(e,t);const n=(0,C.map)({$metadata:re(e)}),r=(0,C.expectNonNull)((0,C.expectObject)(await(0,G.parseJsonBody)(e.body,t)),"body"),o=(0,C.take)(r,{nextToken:C.expectString,roleList:C._json});return Object.assign(n,o),n},"de_ListAccountRolesCommand"),K=c(async(e,t)=>{if(200!==e.statusCode&&e.statusCode>=300)return Y(e,t);const n=(0,C.map)({$metadata:re(e)}),r=(0,C.expectNonNull)((0,C.expectObject)(await(0,G.parseJsonBody)(e.body,t)),"body"),o=(0,C.take)(r,{accountList:C._json,nextToken:C.expectString});return Object.assign(n,o),n},"de_ListAccountsCommand"),X=c(async(e,t)=>{if(200!==e.statusCode&&e.statusCode>=300)return Y(e,t);const n=(0,C.map)({$metadata:re(e)});return await(0,C.collectBody)(e.body,t),n},"de_LogoutCommand"),Y=c(async(e,t)=>{const n={...e,body:await(0,G.parseJsonErrorBody)(e.body,t)},r=(0,G.loadRestJsonErrorCode)(e,n.body);switch(r){case"InvalidRequestException":case"com.amazonaws.sso#InvalidRequestException":throw await Z(n,t);case"ResourceNotFoundException":case"com.amazonaws.sso#ResourceNotFoundException":throw await ee(n,t);case"TooManyRequestsException":case"com.amazonaws.sso#TooManyRequestsException":throw await te(n,t);case"UnauthorizedException":case"com.amazonaws.sso#UnauthorizedException":throw await ne(n,t);default:const o=n.body;return Q({output:e,parsedBody:o,errorCode:r})}},"de_CommandError"),Q=(0,C.withBaseException)(T),Z=c(async(e,t)=>{const n=(0,C.map)({}),r=e.body,o=(0,C.take)(r,{message:C.expectString});Object.assign(n,o);const s=new D({$metadata:re(e),...n});return(0,C.decorateServiceException)(s,e.body)},"de_InvalidRequestExceptionRes"),ee=c(async(e,t)=>{const n=(0,C.map)({}),r=e.body,o=(0,C.take)(r,{message:C.expectString});Object.assign(n,o);const s=new k({$metadata:re(e),...n});return(0,C.decorateServiceException)(s,e.body)},"de_ResourceNotFoundExceptionRes"),te=c(async(e,t)=>{const n=(0,C.map)({}),r=e.body,o=(0,C.take)(r,{message:C.expectString});Object.assign(n,o);const s=new N({$metadata:re(e),...n});return(0,C.decorateServiceException)(s,e.body)},"de_TooManyRequestsExceptionRes"),ne=c(async(e,t)=>{const n=(0,C.map)({}),r=e.body,o=(0,C.take)(r,{message:C.expectString});Object.assign(n,o);const s=new j({$metadata:re(e),...n});return(0,C.decorateServiceException)(s,e.body)},"de_UnauthorizedExceptionRes"),re=c(e=>({httpStatusCode:e.statusCode,requestId:e.headers["x-amzn-requestid"]??e.headers["x-amzn-request-id"]??e.headers["x-amz-request-id"],extendedRequestId:e.headers["x-amz-id-2"],cfId:e.headers["x-amz-cf-id"]}),"deserializeMetadata"),oe="accountId",se="accessToken",ie="account_id",ae="maxResults",ce="max_result",le="nextToken",de="next_token",ue="roleName",pe="role_name",me="x-amz-sso_bearer_token",he=class extends(C.Command.classBuilder().ep(_).m(function(e,t,n,r){return[(0,R.getSerdePlugin)(n,this.serialize,this.deserialize),(0,y.getEndpointPlugin)(n,e.getEndpointParameterInstructions())]}).s("SWBPortalService","GetRoleCredentials",{}).n("SSOClient","GetRoleCredentialsCommand").f(M,F).ser(H).de(V).build()){static{c(this,"GetRoleCredentialsCommand")}},fe=class extends(C.Command.classBuilder().ep(_).m(function(e,t,n,r){return[(0,R.getSerdePlugin)(n,this.serialize,this.deserialize),(0,y.getEndpointPlugin)(n,e.getEndpointParameterInstructions())]}).s("SWBPortalService","ListAccountRoles",{}).n("SSOClient","ListAccountRolesCommand").f($,void 0).ser(z).de(J).build()){static{c(this,"ListAccountRolesCommand")}},ge=class extends(C.Command.classBuilder().ep(_).m(function(e,t,n,r){return[(0,R.getSerdePlugin)(n,this.serialize,this.deserialize),(0,y.getEndpointPlugin)(n,e.getEndpointParameterInstructions())]}).s("SWBPortalService","ListAccounts",{}).n("SSOClient","ListAccountsCommand").f(U,void 0).ser(q).de(K).build()){static{c(this,"ListAccountsCommand")}},ye=class extends(C.Command.classBuilder().ep(_).m(function(e,t,n,r){return[(0,R.getSerdePlugin)(n,this.serialize,this.deserialize),(0,y.getEndpointPlugin)(n,e.getEndpointParameterInstructions())]}).s("SWBPortalService","Logout",{}).n("SSOClient","LogoutCommand").f(B,void 0).ser(W).de(X).build()){static{c(this,"LogoutCommand")}},ve={GetRoleCredentialsCommand:he,ListAccountRolesCommand:fe,ListAccountsCommand:ge,LogoutCommand:ye},be=class extends I{static{c(this,"SSO")}};(0,C.createAggregatedClient)(ve,be);var Se=(0,f.createPaginator)(I,fe,"nextToken","nextToken","maxResults"),_e=(0,f.createPaginator)(I,ge,"nextToken","nextToken","maxResults")},2696:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getRuntimeConfig=void 0;const r=n(1860).__importDefault(n(5188)),o=n(8704),s=n(1656),i=n(9316),a=n(5092),c=n(9618),l=n(5704),d=n(1279),u=n(3638),p=n(5518),m=n(8073),h=n(1411),f=n(5435),g=n(1411);t.getRuntimeConfig=e=>{(0,g.emitWarningIfUnsupportedVersion)(process.version);const t=(0,f.resolveDefaultsModeConfig)(e),n=()=>t().then(h.loadConfigsForDefaultMode),y=(0,m.getRuntimeConfig)(e);(0,o.emitWarningIfUnsupportedVersion)(process.version);const v={profile:e?.profile,logger:y.logger};return{...y,...e,runtime:"node",defaultsMode:t,authSchemePreference:e?.authSchemePreference??(0,l.loadConfig)(o.NODE_AUTH_SCHEME_PREFERENCE_OPTIONS,v),bodyLengthChecker:e?.bodyLengthChecker??u.calculateBodyLength,defaultUserAgentProvider:e?.defaultUserAgentProvider??(0,s.createDefaultUserAgentProvider)({serviceId:y.serviceId,clientVersion:r.default.version}),maxAttempts:e?.maxAttempts??(0,l.loadConfig)(c.NODE_MAX_ATTEMPT_CONFIG_OPTIONS,e),region:e?.region??(0,l.loadConfig)(i.NODE_REGION_CONFIG_OPTIONS,{...i.NODE_REGION_CONFIG_FILE_OPTIONS,...v}),requestHandler:d.NodeHttpHandler.create(e?.requestHandler??n),retryMode:e?.retryMode??(0,l.loadConfig)({...c.NODE_RETRY_MODE_CONFIG_OPTIONS,default:async()=>(await n()).retryMode||p.DEFAULT_RETRY_MODE},e),sha256:e?.sha256??a.Hash.bind(null,"sha256"),streamCollector:e?.streamCollector??d.streamCollector,useDualstackEndpoint:e?.useDualstackEndpoint??(0,l.loadConfig)(i.NODE_USE_DUALSTACK_ENDPOINT_CONFIG_OPTIONS,v),useFipsEndpoint:e?.useFipsEndpoint??(0,l.loadConfig)(i.NODE_USE_FIPS_ENDPOINT_CONFIG_OPTIONS,v),userAgentAppId:e?.userAgentAppId??(0,l.loadConfig)(s.NODE_APP_ID_CONFIG_OPTIONS,v)}}},8073:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getRuntimeConfig=void 0;const r=n(8704),o=n(402),s=n(1411),i=n(4494),a=n(8385),c=n(1577),l=n(2041),d=n(3903);t.getRuntimeConfig=e=>({apiVersion:"2019-06-10",base64Decoder:e?.base64Decoder??a.fromBase64,base64Encoder:e?.base64Encoder??a.toBase64,disableHostPrefix:e?.disableHostPrefix??!1,endpointProvider:e?.endpointProvider??d.defaultEndpointResolver,extensions:e?.extensions??[],httpAuthSchemeProvider:e?.httpAuthSchemeProvider??l.defaultSSOHttpAuthSchemeProvider,httpAuthSchemes:e?.httpAuthSchemes??[{schemeId:"aws.auth#sigv4",identityProvider:e=>e.getIdentityProvider("aws.auth#sigv4"),signer:new r.AwsSdkSigV4Signer},{schemeId:"smithy.api#noAuth",identityProvider:e=>e.getIdentityProvider("smithy.api#noAuth")||(async()=>({})),signer:new o.NoAuthSigner}],logger:e?.logger??new s.NoOpLogger,serviceId:e?.serviceId??"SSO",urlParser:e?.urlParser??i.parseUrl,utf8Decoder:e?.utf8Decoder??c.fromUtf8,utf8Encoder:e?.utf8Encoder??c.toUtf8})},1548:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.STSClient=t.__Client=void 0;const r=n(2590),o=n(5242),s=n(1568),i=n(2959),a=n(9316),c=n(402),l=n(7212),d=n(99),u=n(9618),p=n(1411);Object.defineProperty(t,"__Client",{enumerable:!0,get:function(){return p.Client}});const m=n(9232),h=n(2912),f=n(2769),g=n(309);class y extends p.Client{config;constructor(...[e]){const t=(0,f.getRuntimeConfig)(e||{});super(t),this.initConfig=t;const n=(0,h.resolveClientEndpointParameters)(t),p=(0,i.resolveUserAgentConfig)(n),y=(0,u.resolveRetryConfig)(p),v=(0,a.resolveRegionConfig)(y),b=(0,r.resolveHostHeaderConfig)(v),S=(0,d.resolveEndpointConfig)(b),_=(0,m.resolveHttpAuthSchemeConfig)(S),w=(0,g.resolveRuntimeExtensions)(_,e?.extensions||[]);this.config=w,this.middlewareStack.use((0,i.getUserAgentPlugin)(this.config)),this.middlewareStack.use((0,u.getRetryPlugin)(this.config)),this.middlewareStack.use((0,l.getContentLengthPlugin)(this.config)),this.middlewareStack.use((0,r.getHostHeaderPlugin)(this.config)),this.middlewareStack.use((0,o.getLoggerPlugin)(this.config)),this.middlewareStack.use((0,s.getRecursionDetectionPlugin)(this.config)),this.middlewareStack.use((0,c.getHttpAuthSchemeEndpointRuleSetPlugin)(this.config,{httpAuthSchemeParametersProvider:m.defaultSTSHttpAuthSchemeParametersProvider,identityProviderConfigProvider:async e=>new c.DefaultIdentityProviderConfig({"aws.auth#sigv4":e.credentials})})),this.middlewareStack.use((0,c.getHttpSigningPlugin)(this.config))}destroy(){super.destroy()}}t.STSClient=y},9915:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.resolveHttpAuthRuntimeConfig=t.getHttpAuthExtensionConfiguration=void 0;t.getHttpAuthExtensionConfiguration=e=>{const t=e.httpAuthSchemes;let n=e.httpAuthSchemeProvider,r=e.credentials;return{setHttpAuthScheme(e){const n=t.findIndex(t=>t.schemeId===e.schemeId);-1===n?t.push(e):t.splice(n,1,e)},httpAuthSchemes:()=>t,setHttpAuthSchemeProvider(e){n=e},httpAuthSchemeProvider:()=>n,setCredentials(e){r=e},credentials:()=>r}};t.resolveHttpAuthRuntimeConfig=e=>({httpAuthSchemes:e.httpAuthSchemes(),httpAuthSchemeProvider:e.httpAuthSchemeProvider(),credentials:e.credentials()})},9232:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.resolveHttpAuthSchemeConfig=t.resolveStsAuthConfig=t.defaultSTSHttpAuthSchemeProvider=t.defaultSTSHttpAuthSchemeParametersProvider=void 0;const r=n(8704),o=n(6324),s=n(1548);t.defaultSTSHttpAuthSchemeParametersProvider=async(e,t,n)=>({operation:(0,o.getSmithyContext)(t).operation,region:await(0,o.normalizeProvider)(e.region)()||(()=>{throw new Error("expected `region` to be configured for `aws.auth#sigv4`")})()});t.defaultSTSHttpAuthSchemeProvider=e=>{const t=[];switch(e.operation){case"AssumeRoleWithSAML":case"AssumeRoleWithWebIdentity":t.push({schemeId:"smithy.api#noAuth"});break;default:t.push(function(e){return{schemeId:"aws.auth#sigv4",signingProperties:{name:"sts",region:e.region},propertiesExtractor:(e,t)=>({signingProperties:{config:e,context:t}})}}(e))}return t};t.resolveStsAuthConfig=e=>Object.assign(e,{stsClientCtor:s.STSClient});t.resolveHttpAuthSchemeConfig=e=>{const n=(0,t.resolveStsAuthConfig)(e),s=(0,r.resolveAwsSdkSigV4Config)(n);return Object.assign(s,{authSchemePreference:(0,o.normalizeProvider)(e.authSchemePreference??[])})}},2912:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.commonParams=t.resolveClientEndpointParameters=void 0;t.resolveClientEndpointParameters=e=>Object.assign(e,{useDualstackEndpoint:e.useDualstackEndpoint??!1,useFipsEndpoint:e.useFipsEndpoint??!1,useGlobalEndpoint:e.useGlobalEndpoint??!1,defaultSigningName:"sts"}),t.commonParams={UseGlobalEndpoint:{type:"builtInParams",name:"useGlobalEndpoint"},UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}},1030:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.defaultEndpointResolver=void 0;const r=n(3068),o=n(9674),s=n(6199),i=new o.EndpointCache({size:50,params:["Endpoint","Region","UseDualStack","UseFIPS","UseGlobalEndpoint"]});t.defaultEndpointResolver=(e,t={})=>i.get(e,()=>(0,o.resolveEndpoint)(s.ruleSet,{endpointParams:e,logger:t.logger})),o.customEndpointFunctions.aws=r.awsEndpointFunctions},6199:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ruleSet=void 0;const n="required",r="type",o="fn",s="argv",i="ref",a=!1,c=!0,l="booleanEquals",d="stringEquals",u="sigv4",p="us-east-1",m="endpoint",h="https://sts.{Region}.{PartitionResult#dnsSuffix}",f="tree",g="error",y="getAttr",v={[n]:!1,[r]:"String"},b={[n]:!0,default:!1,[r]:"Boolean"},S={[i]:"Endpoint"},_={[o]:"isSet",[s]:[{[i]:"Region"}]},w={[i]:"Region"},E={[o]:"aws.partition",[s]:[w],assign:"PartitionResult"},P={[i]:"UseFIPS"},C={[i]:"UseDualStack"},O={url:"https://sts.amazonaws.com",properties:{authSchemes:[{name:u,signingName:"sts",signingRegion:p}]},headers:{}},A={},x={conditions:[{[o]:d,[s]:[w,"aws-global"]}],[m]:O,[r]:m},I={[o]:l,[s]:[P,!0]},R={[o]:l,[s]:[C,!0]},T={[o]:y,[s]:[{[i]:"PartitionResult"},"supportsFIPS"]},D={[i]:"PartitionResult"},k={[o]:l,[s]:[!0,{[o]:y,[s]:[D,"supportsDualStack"]}]},N=[{[o]:"isSet",[s]:[S]}],j=[I],M=[R],L={version:"1.0",parameters:{Region:v,UseDualStack:b,UseFIPS:b,Endpoint:v,UseGlobalEndpoint:b},rules:[{conditions:[{[o]:l,[s]:[{[i]:"UseGlobalEndpoint"},c]},{[o]:"not",[s]:N},_,E,{[o]:l,[s]:[P,a]},{[o]:l,[s]:[C,a]}],rules:[{conditions:[{[o]:d,[s]:[w,"ap-northeast-1"]}],endpoint:O,[r]:m},{conditions:[{[o]:d,[s]:[w,"ap-south-1"]}],endpoint:O,[r]:m},{conditions:[{[o]:d,[s]:[w,"ap-southeast-1"]}],endpoint:O,[r]:m},{conditions:[{[o]:d,[s]:[w,"ap-southeast-2"]}],endpoint:O,[r]:m},x,{conditions:[{[o]:d,[s]:[w,"ca-central-1"]}],endpoint:O,[r]:m},{conditions:[{[o]:d,[s]:[w,"eu-central-1"]}],endpoint:O,[r]:m},{conditions:[{[o]:d,[s]:[w,"eu-north-1"]}],endpoint:O,[r]:m},{conditions:[{[o]:d,[s]:[w,"eu-west-1"]}],endpoint:O,[r]:m},{conditions:[{[o]:d,[s]:[w,"eu-west-2"]}],endpoint:O,[r]:m},{conditions:[{[o]:d,[s]:[w,"eu-west-3"]}],endpoint:O,[r]:m},{conditions:[{[o]:d,[s]:[w,"sa-east-1"]}],endpoint:O,[r]:m},{conditions:[{[o]:d,[s]:[w,p]}],endpoint:O,[r]:m},{conditions:[{[o]:d,[s]:[w,"us-east-2"]}],endpoint:O,[r]:m},{conditions:[{[o]:d,[s]:[w,"us-west-1"]}],endpoint:O,[r]:m},{conditions:[{[o]:d,[s]:[w,"us-west-2"]}],endpoint:O,[r]:m},{endpoint:{url:h,properties:{authSchemes:[{name:u,signingName:"sts",signingRegion:"{Region}"}]},headers:A},[r]:m}],[r]:f},{conditions:N,rules:[{conditions:j,error:"Invalid Configuration: FIPS and custom endpoint are not supported",[r]:g},{conditions:M,error:"Invalid Configuration: Dualstack and custom endpoint are not supported",[r]:g},{endpoint:{url:S,properties:A,headers:A},[r]:m}],[r]:f},{conditions:[_],rules:[{conditions:[E],rules:[{conditions:[I,R],rules:[{conditions:[{[o]:l,[s]:[c,T]},k],rules:[{endpoint:{url:"https://sts-fips.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:A,headers:A},[r]:m}],[r]:f},{error:"FIPS and DualStack are enabled, but this partition does not support one or both",[r]:g}],[r]:f},{conditions:j,rules:[{conditions:[{[o]:l,[s]:[T,c]}],rules:[{conditions:[{[o]:d,[s]:[{[o]:y,[s]:[D,"name"]},"aws-us-gov"]}],endpoint:{url:"https://sts.{Region}.amazonaws.com",properties:A,headers:A},[r]:m},{endpoint:{url:"https://sts-fips.{Region}.{PartitionResult#dnsSuffix}",properties:A,headers:A},[r]:m}],[r]:f},{error:"FIPS is enabled but this partition does not support FIPS",[r]:g}],[r]:f},{conditions:M,rules:[{conditions:[k],rules:[{endpoint:{url:"https://sts.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:A,headers:A},[r]:m}],[r]:f},{error:"DualStack is enabled but this partition does not support DualStack",[r]:g}],[r]:f},x,{endpoint:{url:h,properties:A,headers:A},[r]:m}],[r]:f}],[r]:f},{error:"Invalid Configuration: Missing Region",[r]:g}]};t.ruleSet=L},1695:(e,t,n)=>{"use strict";var r,o=Object.defineProperty,s=Object.getOwnPropertyDescriptor,i=Object.getOwnPropertyNames,a=Object.prototype.hasOwnProperty,c=(e,t)=>o(e,"name",{value:t,configurable:!0}),l=(e,t,n,r)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let c of i(t))a.call(e,c)||c===n||o(e,c,{get:()=>t[c],enumerable:!(r=s(t,c))||r.enumerable});return e},d={};((e,t)=>{for(var n in t)o(e,n,{get:t[n],enumerable:!0})})(d,{AssumeRoleCommand:()=>tn,AssumeRoleResponseFilterSensitiveLog:()=>C,AssumeRoleWithSAMLCommand:()=>rn,AssumeRoleWithSAMLRequestFilterSensitiveLog:()=>O,AssumeRoleWithSAMLResponseFilterSensitiveLog:()=>A,AssumeRoleWithWebIdentityCommand:()=>sn,AssumeRoleWithWebIdentityRequestFilterSensitiveLog:()=>x,AssumeRoleWithWebIdentityResponseFilterSensitiveLog:()=>I,AssumeRootCommand:()=>cn,AssumeRootResponseFilterSensitiveLog:()=>R,ClientInputEndpointParameters:()=>wn.ClientInputEndpointParameters,CredentialsFilterSensitiveLog:()=>P,DecodeAuthorizationMessageCommand:()=>dn,ExpiredTokenException:()=>g,GetAccessKeyInfoCommand:()=>pn,GetCallerIdentityCommand:()=>hn,GetFederationTokenCommand:()=>gn,GetFederationTokenResponseFilterSensitiveLog:()=>T,GetSessionTokenCommand:()=>vn,GetSessionTokenResponseFilterSensitiveLog:()=>D,IDPCommunicationErrorException:()=>w,IDPRejectedClaimException:()=>S,InvalidAuthorizationMessageException:()=>E,InvalidIdentityTokenException:()=>_,MalformedPolicyDocumentException:()=>y,PackedPolicyTooLargeException:()=>v,RegionDisabledException:()=>b,STS:()=>_n,STSServiceException:()=>f,decorateDefaultCredentialProvider:()=>Nn,getDefaultRoleAssumer:()=>Dn,getDefaultRoleAssumerWithWebIdentity:()=>kn}),e.exports=(r=d,l(o({},"__esModule",{value:!0}),r)),((e,t,n)=>{l(e,t,"default"),n&&l(n,t,"default")})(d,n(1548),e.exports);var u=n(99),p=n(3255),m=n(2912),h=n(1411),f=class e extends h.ServiceException{static{c(this,"STSServiceException")}constructor(t){super(t),Object.setPrototypeOf(this,e.prototype)}},g=class e extends f{static{c(this,"ExpiredTokenException")}name="ExpiredTokenException";$fault="client";constructor(t){super({name:"ExpiredTokenException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}},y=class e extends f{static{c(this,"MalformedPolicyDocumentException")}name="MalformedPolicyDocumentException";$fault="client";constructor(t){super({name:"MalformedPolicyDocumentException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}},v=class e extends f{static{c(this,"PackedPolicyTooLargeException")}name="PackedPolicyTooLargeException";$fault="client";constructor(t){super({name:"PackedPolicyTooLargeException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}},b=class e extends f{static{c(this,"RegionDisabledException")}name="RegionDisabledException";$fault="client";constructor(t){super({name:"RegionDisabledException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}},S=class e extends f{static{c(this,"IDPRejectedClaimException")}name="IDPRejectedClaimException";$fault="client";constructor(t){super({name:"IDPRejectedClaimException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}},_=class e extends f{static{c(this,"InvalidIdentityTokenException")}name="InvalidIdentityTokenException";$fault="client";constructor(t){super({name:"InvalidIdentityTokenException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}},w=class e extends f{static{c(this,"IDPCommunicationErrorException")}name="IDPCommunicationErrorException";$fault="client";constructor(t){super({name:"IDPCommunicationErrorException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}},E=class e extends f{static{c(this,"InvalidAuthorizationMessageException")}name="InvalidAuthorizationMessageException";$fault="client";constructor(t){super({name:"InvalidAuthorizationMessageException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}},P=c(e=>({...e,...e.SecretAccessKey&&{SecretAccessKey:h.SENSITIVE_STRING}}),"CredentialsFilterSensitiveLog"),C=c(e=>({...e,...e.Credentials&&{Credentials:P(e.Credentials)}}),"AssumeRoleResponseFilterSensitiveLog"),O=c(e=>({...e,...e.SAMLAssertion&&{SAMLAssertion:h.SENSITIVE_STRING}}),"AssumeRoleWithSAMLRequestFilterSensitiveLog"),A=c(e=>({...e,...e.Credentials&&{Credentials:P(e.Credentials)}}),"AssumeRoleWithSAMLResponseFilterSensitiveLog"),x=c(e=>({...e,...e.WebIdentityToken&&{WebIdentityToken:h.SENSITIVE_STRING}}),"AssumeRoleWithWebIdentityRequestFilterSensitiveLog"),I=c(e=>({...e,...e.Credentials&&{Credentials:P(e.Credentials)}}),"AssumeRoleWithWebIdentityResponseFilterSensitiveLog"),R=c(e=>({...e,...e.Credentials&&{Credentials:P(e.Credentials)}}),"AssumeRootResponseFilterSensitiveLog"),T=c(e=>({...e,...e.Credentials&&{Credentials:P(e.Credentials)}}),"GetFederationTokenResponseFilterSensitiveLog"),D=c(e=>({...e,...e.Credentials&&{Credentials:P(e.Credentials)}}),"GetSessionTokenResponseFilterSensitiveLog"),k=n(8704),N=n(2356),j=c(async(e,t)=>{const n=Ve;let r;return r=Zt({...ce(e,t),[Ke]:Ye,[Jt]:Je}),We(t,n,"/",void 0,r)},"se_AssumeRoleCommand"),M=c(async(e,t)=>{const n=Ve;let r;return r=Zt({...le(e,t),[Ke]:et,[Jt]:Je}),We(t,n,"/",void 0,r)},"se_AssumeRoleWithSAMLCommand"),L=c(async(e,t)=>{const n=Ve;let r;return r=Zt({...de(e,t),[Ke]:tt,[Jt]:Je}),We(t,n,"/",void 0,r)},"se_AssumeRoleWithWebIdentityCommand"),F=c(async(e,t)=>{const n=Ve;let r;return r=Zt({...ue(e,t),[Ke]:nt,[Jt]:Je}),We(t,n,"/",void 0,r)},"se_AssumeRootCommand"),$=c(async(e,t)=>{const n=Ve;let r;return r=Zt({...pe(e,t),[Ke]:ct,[Jt]:Je}),We(t,n,"/",void 0,r)},"se_DecodeAuthorizationMessageCommand"),U=c(async(e,t)=>{const n=Ve;let r;return r=Zt({...me(e,t),[Ke]:gt,[Jt]:Je}),We(t,n,"/",void 0,r)},"se_GetAccessKeyInfoCommand"),B=c(async(e,t)=>{const n=Ve;let r;return r=Zt({...he(e,t),[Ke]:yt,[Jt]:Je}),We(t,n,"/",void 0,r)},"se_GetCallerIdentityCommand"),G=c(async(e,t)=>{const n=Ve;let r;return r=Zt({...fe(e,t),[Ke]:vt,[Jt]:Je}),We(t,n,"/",void 0,r)},"se_GetFederationTokenCommand"),H=c(async(e,t)=>{const n=Ve;let r;return r=Zt({...ge(e,t),[Ke]:bt,[Jt]:Je}),We(t,n,"/",void 0,r)},"se_GetSessionTokenCommand"),z=c(async(e,t)=>{if(e.statusCode>=300)return Z(e,t);const n=await(0,k.parseXmlBody)(e.body,t);let r={};r=Ce(n.AssumeRoleResult,t);return{$metadata:ze(e),...r}},"de_AssumeRoleCommand"),q=c(async(e,t)=>{if(e.statusCode>=300)return Z(e,t);const n=await(0,k.parseXmlBody)(e.body,t);let r={};r=Oe(n.AssumeRoleWithSAMLResult,t);return{$metadata:ze(e),...r}},"de_AssumeRoleWithSAMLCommand"),W=c(async(e,t)=>{if(e.statusCode>=300)return Z(e,t);const n=await(0,k.parseXmlBody)(e.body,t);let r={};r=Ae(n.AssumeRoleWithWebIdentityResult,t);return{$metadata:ze(e),...r}},"de_AssumeRoleWithWebIdentityCommand"),V=c(async(e,t)=>{if(e.statusCode>=300)return Z(e,t);const n=await(0,k.parseXmlBody)(e.body,t);let r={};r=xe(n.AssumeRootResult,t);return{$metadata:ze(e),...r}},"de_AssumeRootCommand"),J=c(async(e,t)=>{if(e.statusCode>=300)return Z(e,t);const n=await(0,k.parseXmlBody)(e.body,t);let r={};r=Re(n.DecodeAuthorizationMessageResult,t);return{$metadata:ze(e),...r}},"de_DecodeAuthorizationMessageCommand"),K=c(async(e,t)=>{if(e.statusCode>=300)return Z(e,t);const n=await(0,k.parseXmlBody)(e.body,t);let r={};r=ke(n.GetAccessKeyInfoResult,t);return{$metadata:ze(e),...r}},"de_GetAccessKeyInfoCommand"),X=c(async(e,t)=>{if(e.statusCode>=300)return Z(e,t);const n=await(0,k.parseXmlBody)(e.body,t);let r={};r=Ne(n.GetCallerIdentityResult,t);return{$metadata:ze(e),...r}},"de_GetCallerIdentityCommand"),Y=c(async(e,t)=>{if(e.statusCode>=300)return Z(e,t);const n=await(0,k.parseXmlBody)(e.body,t);let r={};r=je(n.GetFederationTokenResult,t);return{$metadata:ze(e),...r}},"de_GetFederationTokenCommand"),Q=c(async(e,t)=>{if(e.statusCode>=300)return Z(e,t);const n=await(0,k.parseXmlBody)(e.body,t);let r={};r=Me(n.GetSessionTokenResult,t);return{$metadata:ze(e),...r}},"de_GetSessionTokenCommand"),Z=c(async(e,t)=>{const n={...e,body:await(0,k.parseXmlErrorBody)(e.body,t)},r=en(e,n.body);switch(r){case"ExpiredTokenException":case"com.amazonaws.sts#ExpiredTokenException":throw await ee(n,t);case"MalformedPolicyDocument":case"com.amazonaws.sts#MalformedPolicyDocumentException":throw await se(n,t);case"PackedPolicyTooLarge":case"com.amazonaws.sts#PackedPolicyTooLargeException":throw await ie(n,t);case"RegionDisabledException":case"com.amazonaws.sts#RegionDisabledException":throw await ae(n,t);case"IDPRejectedClaim":case"com.amazonaws.sts#IDPRejectedClaimException":throw await ne(n,t);case"InvalidIdentityToken":case"com.amazonaws.sts#InvalidIdentityTokenException":throw await oe(n,t);case"IDPCommunicationError":case"com.amazonaws.sts#IDPCommunicationErrorException":throw await te(n,t);case"InvalidAuthorizationMessageException":case"com.amazonaws.sts#InvalidAuthorizationMessageException":throw await re(n,t);default:const o=n.body;return qe({output:e,parsedBody:o.Error,errorCode:r})}},"de_CommandError"),ee=c(async(e,t)=>{const n=e.body,r=Te(n.Error,t),o=new g({$metadata:ze(e),...r});return(0,h.decorateServiceException)(o,n)},"de_ExpiredTokenExceptionRes"),te=c(async(e,t)=>{const n=e.body,r=Le(n.Error,t),o=new w({$metadata:ze(e),...r});return(0,h.decorateServiceException)(o,n)},"de_IDPCommunicationErrorExceptionRes"),ne=c(async(e,t)=>{const n=e.body,r=Fe(n.Error,t),o=new S({$metadata:ze(e),...r});return(0,h.decorateServiceException)(o,n)},"de_IDPRejectedClaimExceptionRes"),re=c(async(e,t)=>{const n=e.body,r=$e(n.Error,t),o=new E({$metadata:ze(e),...r});return(0,h.decorateServiceException)(o,n)},"de_InvalidAuthorizationMessageExceptionRes"),oe=c(async(e,t)=>{const n=e.body,r=Ue(n.Error,t),o=new _({$metadata:ze(e),...r});return(0,h.decorateServiceException)(o,n)},"de_InvalidIdentityTokenExceptionRes"),se=c(async(e,t)=>{const n=e.body,r=Be(n.Error,t),o=new y({$metadata:ze(e),...r});return(0,h.decorateServiceException)(o,n)},"de_MalformedPolicyDocumentExceptionRes"),ie=c(async(e,t)=>{const n=e.body,r=Ge(n.Error,t),o=new v({$metadata:ze(e),...r});return(0,h.decorateServiceException)(o,n)},"de_PackedPolicyTooLargeExceptionRes"),ae=c(async(e,t)=>{const n=e.body,r=He(n.Error,t),o=new b({$metadata:ze(e),...r});return(0,h.decorateServiceException)(o,n)},"de_RegionDisabledExceptionRes"),ce=c((e,t)=>{const n={};if(null!=e[Dt]&&(n[Dt]=e[Dt]),null!=e[kt]&&(n[kt]=e[kt]),null!=e[Ct]){const r=ye(e[Ct],t);0===e[Ct]?.length&&(n.PolicyArns=[]),Object.entries(r).forEach(([e,t])=>{n[`PolicyArns.${e}`]=t})}if(null!=e[Pt]&&(n[Pt]=e[Pt]),null!=e[dt]&&(n[dt]=e[dt]),null!=e[Gt]){const r=Ee(e[Gt],t);0===e[Gt]?.length&&(n.Tags=[]),Object.entries(r).forEach(([e,t])=>{n[`Tags.${e}`]=t})}if(null!=e[Wt]){const r=we(e[Wt],t);0===e[Wt]?.length&&(n.TransitiveTagKeys=[]),Object.entries(r).forEach(([e,t])=>{n[`TransitiveTagKeys.${e}`]=t})}if(null!=e[pt]&&(n[pt]=e[pt]),null!=e[$t]&&(n[$t]=e[$t]),null!=e[Ht]&&(n[Ht]=e[Ht]),null!=e[Ft]&&(n[Ft]=e[Ft]),null!=e[xt]){const r=Se(e[xt],t);0===e[xt]?.length&&(n.ProvidedContexts=[]),Object.entries(r).forEach(([e,t])=>{n[`ProvidedContexts.${e}`]=t})}return n},"se_AssumeRoleRequest"),le=c((e,t)=>{const n={};if(null!=e[Dt]&&(n[Dt]=e[Dt]),null!=e[Ot]&&(n[Ot]=e[Ot]),null!=e[Mt]&&(n[Mt]=e[Mt]),null!=e[Ct]){const r=ye(e[Ct],t);0===e[Ct]?.length&&(n.PolicyArns=[]),Object.entries(r).forEach(([e,t])=>{n[`PolicyArns.${e}`]=t})}return null!=e[Pt]&&(n[Pt]=e[Pt]),null!=e[dt]&&(n[dt]=e[dt]),n},"se_AssumeRoleWithSAMLRequest"),de=c((e,t)=>{const n={};if(null!=e[Dt]&&(n[Dt]=e[Dt]),null!=e[kt]&&(n[kt]=e[kt]),null!=e[Xt]&&(n[Xt]=e[Xt]),null!=e[It]&&(n[It]=e[It]),null!=e[Ct]){const r=ye(e[Ct],t);0===e[Ct]?.length&&(n.PolicyArns=[]),Object.entries(r).forEach(([e,t])=>{n[`PolicyArns.${e}`]=t})}return null!=e[Pt]&&(n[Pt]=e[Pt]),null!=e[dt]&&(n[dt]=e[dt]),n},"se_AssumeRoleWithWebIdentityRequest"),ue=c((e,t)=>{const n={};if(null!=e[zt]&&(n[zt]=e[zt]),null!=e[qt]){const r=ve(e[qt],t);Object.entries(r).forEach(([e,t])=>{n[`TaskPolicyArn.${e}`]=t})}return null!=e[dt]&&(n[dt]=e[dt]),n},"se_AssumeRootRequest"),pe=c((e,t)=>{const n={};return null!=e[mt]&&(n[mt]=e[mt]),n},"se_DecodeAuthorizationMessageRequest"),me=c((e,t)=>{const n={};return null!=e[Xe]&&(n[Xe]=e[Xe]),n},"se_GetAccessKeyInfoRequest"),he=c((e,t)=>({}),"se_GetCallerIdentityRequest"),fe=c((e,t)=>{const n={};if(null!=e[wt]&&(n[wt]=e[wt]),null!=e[Pt]&&(n[Pt]=e[Pt]),null!=e[Ct]){const r=ye(e[Ct],t);0===e[Ct]?.length&&(n.PolicyArns=[]),Object.entries(r).forEach(([e,t])=>{n[`PolicyArns.${e}`]=t})}if(null!=e[dt]&&(n[dt]=e[dt]),null!=e[Gt]){const r=Ee(e[Gt],t);0===e[Gt]?.length&&(n.Tags=[]),Object.entries(r).forEach(([e,t])=>{n[`Tags.${e}`]=t})}return n},"se_GetFederationTokenRequest"),ge=c((e,t)=>{const n={};return null!=e[dt]&&(n[dt]=e[dt]),null!=e[$t]&&(n[$t]=e[$t]),null!=e[Ht]&&(n[Ht]=e[Ht]),n},"se_GetSessionTokenRequest"),ye=c((e,t)=>{const n={};let r=1;for(const o of e){if(null===o)continue;const e=ve(o,t);Object.entries(e).forEach(([e,t])=>{n[`member.${r}.${e}`]=t}),r++}return n},"se_policyDescriptorListType"),ve=c((e,t)=>{const n={};return null!=e[Yt]&&(n[Yt]=e[Yt]),n},"se_PolicyDescriptorType"),be=c((e,t)=>{const n={};return null!=e[At]&&(n[At]=e[At]),null!=e[at]&&(n[at]=e[at]),n},"se_ProvidedContext"),Se=c((e,t)=>{const n={};let r=1;for(const o of e){if(null===o)continue;const e=be(o,t);Object.entries(e).forEach(([e,t])=>{n[`member.${r}.${e}`]=t}),r++}return n},"se_ProvidedContextsListType"),_e=c((e,t)=>{const n={};return null!=e[_t]&&(n[_t]=e[_t]),null!=e[Kt]&&(n[Kt]=e[Kt]),n},"se_Tag"),we=c((e,t)=>{const n={};let r=1;for(const t of e)null!==t&&(n[`member.${r}`]=t,r++);return n},"se_tagKeyListType"),Ee=c((e,t)=>{const n={};let r=1;for(const o of e){if(null===o)continue;const e=_e(o,t);Object.entries(e).forEach(([e,t])=>{n[`member.${r}.${e}`]=t}),r++}return n},"se_tagListType"),Pe=c((e,t)=>{const n={};return null!=e[Qe]&&(n[Qe]=(0,h.expectString)(e[Qe])),null!=e[ot]&&(n[ot]=(0,h.expectString)(e[ot])),n},"de_AssumedRoleUser"),Ce=c((e,t)=>{const n={};return null!=e[it]&&(n[it]=Ie(e[it],t)),null!=e[Ze]&&(n[Ze]=Pe(e[Ze],t)),null!=e[Rt]&&(n[Rt]=(0,h.strictParseInt32)(e[Rt])),null!=e[Ft]&&(n[Ft]=(0,h.expectString)(e[Ft])),n},"de_AssumeRoleResponse"),Oe=c((e,t)=>{const n={};return null!=e[it]&&(n[it]=Ie(e[it],t)),null!=e[Ze]&&(n[Ze]=Pe(e[Ze],t)),null!=e[Rt]&&(n[Rt]=(0,h.strictParseInt32)(e[Rt])),null!=e[Nt]&&(n[Nt]=(0,h.expectString)(e[Nt])),null!=e[Ut]&&(n[Ut]=(0,h.expectString)(e[Ut])),null!=e[St]&&(n[St]=(0,h.expectString)(e[St])),null!=e[st]&&(n[st]=(0,h.expectString)(e[st])),null!=e[Et]&&(n[Et]=(0,h.expectString)(e[Et])),null!=e[Ft]&&(n[Ft]=(0,h.expectString)(e[Ft])),n},"de_AssumeRoleWithSAMLResponse"),Ae=c((e,t)=>{const n={};return null!=e[it]&&(n[it]=Ie(e[it],t)),null!=e[Lt]&&(n[Lt]=(0,h.expectString)(e[Lt])),null!=e[Ze]&&(n[Ze]=Pe(e[Ze],t)),null!=e[Rt]&&(n[Rt]=(0,h.strictParseInt32)(e[Rt])),null!=e[Tt]&&(n[Tt]=(0,h.expectString)(e[Tt])),null!=e[st]&&(n[st]=(0,h.expectString)(e[st])),null!=e[Ft]&&(n[Ft]=(0,h.expectString)(e[Ft])),n},"de_AssumeRoleWithWebIdentityResponse"),xe=c((e,t)=>{const n={};return null!=e[it]&&(n[it]=Ie(e[it],t)),null!=e[Ft]&&(n[Ft]=(0,h.expectString)(e[Ft])),n},"de_AssumeRootResponse"),Ie=c((e,t)=>{const n={};return null!=e[Xe]&&(n[Xe]=(0,h.expectString)(e[Xe])),null!=e[jt]&&(n[jt]=(0,h.expectString)(e[jt])),null!=e[Bt]&&(n[Bt]=(0,h.expectString)(e[Bt])),null!=e[ut]&&(n[ut]=(0,h.expectNonNull)((0,h.parseRfc3339DateTimeWithOffset)(e[ut]))),n},"de_Credentials"),Re=c((e,t)=>{const n={};return null!=e[lt]&&(n[lt]=(0,h.expectString)(e[lt])),n},"de_DecodeAuthorizationMessageResponse"),Te=c((e,t)=>{const n={};return null!=e[Qt]&&(n[Qt]=(0,h.expectString)(e[Qt])),n},"de_ExpiredTokenException"),De=c((e,t)=>{const n={};return null!=e[ft]&&(n[ft]=(0,h.expectString)(e[ft])),null!=e[ot]&&(n[ot]=(0,h.expectString)(e[ot])),n},"de_FederatedUser"),ke=c((e,t)=>{const n={};return null!=e[rt]&&(n[rt]=(0,h.expectString)(e[rt])),n},"de_GetAccessKeyInfoResponse"),Ne=c((e,t)=>{const n={};return null!=e[Vt]&&(n[Vt]=(0,h.expectString)(e[Vt])),null!=e[rt]&&(n[rt]=(0,h.expectString)(e[rt])),null!=e[ot]&&(n[ot]=(0,h.expectString)(e[ot])),n},"de_GetCallerIdentityResponse"),je=c((e,t)=>{const n={};return null!=e[it]&&(n[it]=Ie(e[it],t)),null!=e[ht]&&(n[ht]=De(e[ht],t)),null!=e[Rt]&&(n[Rt]=(0,h.strictParseInt32)(e[Rt])),n},"de_GetFederationTokenResponse"),Me=c((e,t)=>{const n={};return null!=e[it]&&(n[it]=Ie(e[it],t)),n},"de_GetSessionTokenResponse"),Le=c((e,t)=>{const n={};return null!=e[Qt]&&(n[Qt]=(0,h.expectString)(e[Qt])),n},"de_IDPCommunicationErrorException"),Fe=c((e,t)=>{const n={};return null!=e[Qt]&&(n[Qt]=(0,h.expectString)(e[Qt])),n},"de_IDPRejectedClaimException"),$e=c((e,t)=>{const n={};return null!=e[Qt]&&(n[Qt]=(0,h.expectString)(e[Qt])),n},"de_InvalidAuthorizationMessageException"),Ue=c((e,t)=>{const n={};return null!=e[Qt]&&(n[Qt]=(0,h.expectString)(e[Qt])),n},"de_InvalidIdentityTokenException"),Be=c((e,t)=>{const n={};return null!=e[Qt]&&(n[Qt]=(0,h.expectString)(e[Qt])),n},"de_MalformedPolicyDocumentException"),Ge=c((e,t)=>{const n={};return null!=e[Qt]&&(n[Qt]=(0,h.expectString)(e[Qt])),n},"de_PackedPolicyTooLargeException"),He=c((e,t)=>{const n={};return null!=e[Qt]&&(n[Qt]=(0,h.expectString)(e[Qt])),n},"de_RegionDisabledException"),ze=c(e=>({httpStatusCode:e.statusCode,requestId:e.headers["x-amzn-requestid"]??e.headers["x-amzn-request-id"]??e.headers["x-amz-request-id"],extendedRequestId:e.headers["x-amz-id-2"],cfId:e.headers["x-amz-cf-id"]}),"deserializeMetadata"),qe=(0,h.withBaseException)(f),We=c(async(e,t,n,r,o)=>{const{hostname:s,protocol:i="https",port:a,path:c}=await e.endpoint(),l={protocol:i,hostname:s,port:a,method:"POST",path:c.endsWith("/")?c.slice(0,-1)+n:c+n,headers:t};return void 0!==r&&(l.hostname=r),void 0!==o&&(l.body=o),new N.HttpRequest(l)},"buildHttpRpcRequest"),Ve={"content-type":"application/x-www-form-urlencoded"},Je="2011-06-15",Ke="Action",Xe="AccessKeyId",Ye="AssumeRole",Qe="AssumedRoleId",Ze="AssumedRoleUser",et="AssumeRoleWithSAML",tt="AssumeRoleWithWebIdentity",nt="AssumeRoot",rt="Account",ot="Arn",st="Audience",it="Credentials",at="ContextAssertion",ct="DecodeAuthorizationMessage",lt="DecodedMessage",dt="DurationSeconds",ut="Expiration",pt="ExternalId",mt="EncodedMessage",ht="FederatedUser",ft="FederatedUserId",gt="GetAccessKeyInfo",yt="GetCallerIdentity",vt="GetFederationToken",bt="GetSessionToken",St="Issuer",_t="Key",wt="Name",Et="NameQualifier",Pt="Policy",Ct="PolicyArns",Ot="PrincipalArn",At="ProviderArn",xt="ProvidedContexts",It="ProviderId",Rt="PackedPolicySize",Tt="Provider",Dt="RoleArn",kt="RoleSessionName",Nt="Subject",jt="SecretAccessKey",Mt="SAMLAssertion",Lt="SubjectFromWebIdentityToken",Ft="SourceIdentity",$t="SerialNumber",Ut="SubjectType",Bt="SessionToken",Gt="Tags",Ht="TokenCode",zt="TargetPrincipal",qt="TaskPolicyArn",Wt="TransitiveTagKeys",Vt="UserId",Jt="Version",Kt="Value",Xt="WebIdentityToken",Yt="arn",Qt="message",Zt=c(e=>Object.entries(e).map(([e,t])=>(0,h.extendedEncodeURIComponent)(e)+"="+(0,h.extendedEncodeURIComponent)(t)).join("&"),"buildFormUrlencodedString"),en=c((e,t)=>void 0!==t.Error?.Code?t.Error.Code:404==e.statusCode?"NotFound":void 0,"loadQueryErrorCode"),tn=class extends(h.Command.classBuilder().ep(m.commonParams).m(function(e,t,n,r){return[(0,p.getSerdePlugin)(n,this.serialize,this.deserialize),(0,u.getEndpointPlugin)(n,e.getEndpointParameterInstructions())]}).s("AWSSecurityTokenServiceV20110615","AssumeRole",{}).n("STSClient","AssumeRoleCommand").f(void 0,C).ser(j).de(z).build()){static{c(this,"AssumeRoleCommand")}},nn=n(2912),rn=class extends(h.Command.classBuilder().ep(nn.commonParams).m(function(e,t,n,r){return[(0,p.getSerdePlugin)(n,this.serialize,this.deserialize),(0,u.getEndpointPlugin)(n,e.getEndpointParameterInstructions())]}).s("AWSSecurityTokenServiceV20110615","AssumeRoleWithSAML",{}).n("STSClient","AssumeRoleWithSAMLCommand").f(O,A).ser(M).de(q).build()){static{c(this,"AssumeRoleWithSAMLCommand")}},on=n(2912),sn=class extends(h.Command.classBuilder().ep(on.commonParams).m(function(e,t,n,r){return[(0,p.getSerdePlugin)(n,this.serialize,this.deserialize),(0,u.getEndpointPlugin)(n,e.getEndpointParameterInstructions())]}).s("AWSSecurityTokenServiceV20110615","AssumeRoleWithWebIdentity",{}).n("STSClient","AssumeRoleWithWebIdentityCommand").f(x,I).ser(L).de(W).build()){static{c(this,"AssumeRoleWithWebIdentityCommand")}},an=n(2912),cn=class extends(h.Command.classBuilder().ep(an.commonParams).m(function(e,t,n,r){return[(0,p.getSerdePlugin)(n,this.serialize,this.deserialize),(0,u.getEndpointPlugin)(n,e.getEndpointParameterInstructions())]}).s("AWSSecurityTokenServiceV20110615","AssumeRoot",{}).n("STSClient","AssumeRootCommand").f(void 0,R).ser(F).de(V).build()){static{c(this,"AssumeRootCommand")}},ln=n(2912),dn=class extends(h.Command.classBuilder().ep(ln.commonParams).m(function(e,t,n,r){return[(0,p.getSerdePlugin)(n,this.serialize,this.deserialize),(0,u.getEndpointPlugin)(n,e.getEndpointParameterInstructions())]}).s("AWSSecurityTokenServiceV20110615","DecodeAuthorizationMessage",{}).n("STSClient","DecodeAuthorizationMessageCommand").f(void 0,void 0).ser($).de(J).build()){static{c(this,"DecodeAuthorizationMessageCommand")}},un=n(2912),pn=class extends(h.Command.classBuilder().ep(un.commonParams).m(function(e,t,n,r){return[(0,p.getSerdePlugin)(n,this.serialize,this.deserialize),(0,u.getEndpointPlugin)(n,e.getEndpointParameterInstructions())]}).s("AWSSecurityTokenServiceV20110615","GetAccessKeyInfo",{}).n("STSClient","GetAccessKeyInfoCommand").f(void 0,void 0).ser(U).de(K).build()){static{c(this,"GetAccessKeyInfoCommand")}},mn=n(2912),hn=class extends(h.Command.classBuilder().ep(mn.commonParams).m(function(e,t,n,r){return[(0,p.getSerdePlugin)(n,this.serialize,this.deserialize),(0,u.getEndpointPlugin)(n,e.getEndpointParameterInstructions())]}).s("AWSSecurityTokenServiceV20110615","GetCallerIdentity",{}).n("STSClient","GetCallerIdentityCommand").f(void 0,void 0).ser(B).de(X).build()){static{c(this,"GetCallerIdentityCommand")}},fn=n(2912),gn=class extends(h.Command.classBuilder().ep(fn.commonParams).m(function(e,t,n,r){return[(0,p.getSerdePlugin)(n,this.serialize,this.deserialize),(0,u.getEndpointPlugin)(n,e.getEndpointParameterInstructions())]}).s("AWSSecurityTokenServiceV20110615","GetFederationToken",{}).n("STSClient","GetFederationTokenCommand").f(void 0,T).ser(G).de(Y).build()){static{c(this,"GetFederationTokenCommand")}},yn=n(2912),vn=class extends(h.Command.classBuilder().ep(yn.commonParams).m(function(e,t,n,r){return[(0,p.getSerdePlugin)(n,this.serialize,this.deserialize),(0,u.getEndpointPlugin)(n,e.getEndpointParameterInstructions())]}).s("AWSSecurityTokenServiceV20110615","GetSessionToken",{}).n("STSClient","GetSessionTokenCommand").f(void 0,D).ser(H).de(Q).build()){static{c(this,"GetSessionTokenCommand")}},bn=n(1548),Sn={AssumeRoleCommand:tn,AssumeRoleWithSAMLCommand:rn,AssumeRoleWithWebIdentityCommand:sn,AssumeRootCommand:cn,DecodeAuthorizationMessageCommand:dn,GetAccessKeyInfoCommand:pn,GetCallerIdentityCommand:hn,GetFederationTokenCommand:gn,GetSessionTokenCommand:vn},_n=class extends bn.STSClient{static{c(this,"STS")}};(0,h.createAggregatedClient)(Sn,_n);var wn=n(2912),En=n(5152),Pn="us-east-1",Cn=c(e=>{if("string"==typeof e?.Arn){const t=e.Arn.split(":");if(t.length>4&&""!==t[4])return t[4]}},"getAccountIdFromAssumedRoleUser"),On=c(async(e,t,n)=>{const r="function"==typeof e?await e():e,o="function"==typeof t?await t():t;return n?.debug?.("@aws-sdk/client-sts::resolveRegion","accepting first of:",`${r} (provider)`,`${o} (parent client)`,`${Pn} (STS default)`),r??o??Pn},"resolveRegion"),An=c((e,t)=>{let n,r;return async(o,s)=>{if(r=o,!n){const{logger:o=e?.parentClientConfig?.logger,region:s,requestHandler:i=e?.parentClientConfig?.requestHandler,credentialProviderLogger:a}=e,l=await On(s,e?.parentClientConfig?.region,a),d=!In(i);n=new t({profile:e?.parentClientConfig?.profile,credentialDefaultProvider:c(()=>async()=>r,"credentialDefaultProvider"),region:l,requestHandler:d?i:void 0,logger:o})}const{Credentials:i,AssumedRoleUser:a}=await n.send(new tn(s));if(!i||!i.AccessKeyId||!i.SecretAccessKey)throw new Error(`Invalid response from STS.assumeRole call with role ${s.RoleArn}`);const l=Cn(a),d={accessKeyId:i.AccessKeyId,secretAccessKey:i.SecretAccessKey,sessionToken:i.SessionToken,expiration:i.Expiration,...i.CredentialScope&&{credentialScope:i.CredentialScope},...l&&{accountId:l}};return(0,En.setCredentialFeature)(d,"CREDENTIALS_STS_ASSUME_ROLE","i"),d}},"getDefaultRoleAssumer"),xn=c((e,t)=>{let n;return async r=>{if(!n){const{logger:r=e?.parentClientConfig?.logger,region:o,requestHandler:s=e?.parentClientConfig?.requestHandler,credentialProviderLogger:i}=e,a=await On(o,e?.parentClientConfig?.region,i),c=!In(s);n=new t({profile:e?.parentClientConfig?.profile,region:a,requestHandler:c?s:void 0,logger:r})}const{Credentials:o,AssumedRoleUser:s}=await n.send(new sn(r));if(!o||!o.AccessKeyId||!o.SecretAccessKey)throw new Error(`Invalid response from STS.assumeRoleWithWebIdentity call with role ${r.RoleArn}`);const i=Cn(s),a={accessKeyId:o.AccessKeyId,secretAccessKey:o.SecretAccessKey,sessionToken:o.SessionToken,expiration:o.Expiration,...o.CredentialScope&&{credentialScope:o.CredentialScope},...i&&{accountId:i}};return i&&(0,En.setCredentialFeature)(a,"RESOLVED_ACCOUNT_ID","T"),(0,En.setCredentialFeature)(a,"CREDENTIALS_STS_ASSUME_ROLE_WEB_ID","k"),a}},"getDefaultRoleAssumerWithWebIdentity"),In=c(e=>"h2"===e?.metadata?.handlerProtocol,"isH2"),Rn=n(1548),Tn=c((e,t)=>t?class extends e{static{c(this,"CustomizableSTSClient")}constructor(e){super(e);for(const e of t)this.middlewareStack.use(e)}}:e,"getCustomizableStsClientCtor"),Dn=c((e={},t)=>An(e,Tn(Rn.STSClient,t)),"getDefaultRoleAssumer"),kn=c((e={},t)=>xn(e,Tn(Rn.STSClient,t)),"getDefaultRoleAssumerWithWebIdentity"),Nn=c(e=>t=>e({roleAssumer:Dn(t),roleAssumerWithWebIdentity:kn(t),...t}),"decorateDefaultCredentialProvider")},2769:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getRuntimeConfig=void 0;const r=n(1860).__importDefault(n(4959)),o=n(8704),s=n(5861),i=n(1656),a=n(9316),c=n(402),l=n(5092),d=n(9618),u=n(5704),p=n(1279),m=n(3638),h=n(5518),f=n(3238),g=n(1411),y=n(5435),v=n(1411);t.getRuntimeConfig=e=>{(0,v.emitWarningIfUnsupportedVersion)(process.version);const t=(0,y.resolveDefaultsModeConfig)(e),n=()=>t().then(g.loadConfigsForDefaultMode),b=(0,f.getRuntimeConfig)(e);(0,o.emitWarningIfUnsupportedVersion)(process.version);const S={profile:e?.profile,logger:b.logger};return{...b,...e,runtime:"node",defaultsMode:t,authSchemePreference:e?.authSchemePreference??(0,u.loadConfig)(o.NODE_AUTH_SCHEME_PREFERENCE_OPTIONS,S),bodyLengthChecker:e?.bodyLengthChecker??m.calculateBodyLength,credentialDefaultProvider:e?.credentialDefaultProvider??s.defaultProvider,defaultUserAgentProvider:e?.defaultUserAgentProvider??(0,i.createDefaultUserAgentProvider)({serviceId:b.serviceId,clientVersion:r.default.version}),httpAuthSchemes:e?.httpAuthSchemes??[{schemeId:"aws.auth#sigv4",identityProvider:e=>e.getIdentityProvider("aws.auth#sigv4")||(async e=>await(0,s.defaultProvider)(e?.__config||{})()),signer:new o.AwsSdkSigV4Signer},{schemeId:"smithy.api#noAuth",identityProvider:e=>e.getIdentityProvider("smithy.api#noAuth")||(async()=>({})),signer:new c.NoAuthSigner}],maxAttempts:e?.maxAttempts??(0,u.loadConfig)(d.NODE_MAX_ATTEMPT_CONFIG_OPTIONS,e),region:e?.region??(0,u.loadConfig)(a.NODE_REGION_CONFIG_OPTIONS,{...a.NODE_REGION_CONFIG_FILE_OPTIONS,...S}),requestHandler:p.NodeHttpHandler.create(e?.requestHandler??n),retryMode:e?.retryMode??(0,u.loadConfig)({...d.NODE_RETRY_MODE_CONFIG_OPTIONS,default:async()=>(await n()).retryMode||h.DEFAULT_RETRY_MODE},e),sha256:e?.sha256??l.Hash.bind(null,"sha256"),streamCollector:e?.streamCollector??p.streamCollector,useDualstackEndpoint:e?.useDualstackEndpoint??(0,u.loadConfig)(a.NODE_USE_DUALSTACK_ENDPOINT_CONFIG_OPTIONS,S),useFipsEndpoint:e?.useFipsEndpoint??(0,u.loadConfig)(a.NODE_USE_FIPS_ENDPOINT_CONFIG_OPTIONS,S),userAgentAppId:e?.userAgentAppId??(0,u.loadConfig)(i.NODE_APP_ID_CONFIG_OPTIONS,S)}}},3238:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getRuntimeConfig=void 0;const r=n(8704),o=n(402),s=n(1411),i=n(4494),a=n(8385),c=n(1577),l=n(9232),d=n(1030);t.getRuntimeConfig=e=>({apiVersion:"2011-06-15",base64Decoder:e?.base64Decoder??a.fromBase64,base64Encoder:e?.base64Encoder??a.toBase64,disableHostPrefix:e?.disableHostPrefix??!1,endpointProvider:e?.endpointProvider??d.defaultEndpointResolver,extensions:e?.extensions??[],httpAuthSchemeProvider:e?.httpAuthSchemeProvider??l.defaultSTSHttpAuthSchemeProvider,httpAuthSchemes:e?.httpAuthSchemes??[{schemeId:"aws.auth#sigv4",identityProvider:e=>e.getIdentityProvider("aws.auth#sigv4"),signer:new r.AwsSdkSigV4Signer},{schemeId:"smithy.api#noAuth",identityProvider:e=>e.getIdentityProvider("smithy.api#noAuth")||(async()=>({})),signer:new o.NoAuthSigner}],logger:e?.logger??new s.NoOpLogger,serviceId:e?.serviceId??"STS",urlParser:e?.urlParser??i.parseUrl,utf8Decoder:e?.utf8Decoder??c.fromUtf8,utf8Encoder:e?.utf8Encoder??c.toUtf8})},309:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.resolveRuntimeExtensions=void 0;const r=n(6463),o=n(2356),s=n(1411),i=n(9915);t.resolveRuntimeExtensions=(e,t)=>{const n=Object.assign((0,r.getAwsRegionExtensionConfiguration)(e),(0,s.getDefaultExtensionConfiguration)(e),(0,o.getHttpHandlerExtensionConfiguration)(e),(0,i.getHttpAuthExtensionConfiguration)(e));return t.forEach(e=>e.configure(n)),Object.assign(e,(0,r.resolveAwsRegionExtensionConfiguration)(n),(0,s.resolveDefaultRuntimeConfig)(n),(0,o.resolveHttpHandlerRuntimeConfig)(n),(0,i.resolveHttpAuthRuntimeConfig)(n))}},8704:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(1860);r.__exportStar(n(5152),t),r.__exportStar(n(7523),t),r.__exportStar(n(7288),t)},5152:e=>{"use strict";var t,n=Object.defineProperty,r=Object.getOwnPropertyDescriptor,o=Object.getOwnPropertyNames,s=Object.prototype.hasOwnProperty,i=(e,t)=>n(e,"name",{value:t,configurable:!0}),a={};((e,t)=>{for(var r in t)n(e,r,{get:t[r],enumerable:!0})})(a,{emitWarningIfUnsupportedVersion:()=>l,setCredentialFeature:()=>d,setFeature:()=>u,setTokenFeature:()=>p,state:()=>c}),e.exports=(t=a,((e,t,i,a)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let c of o(t))s.call(e,c)||c===i||n(e,c,{get:()=>t[c],enumerable:!(a=r(t,c))||a.enumerable});return e})(n({},"__esModule",{value:!0}),t));var c={warningEmitted:!1},l=i(e=>{e&&!c.warningEmitted&&parseInt(e.substring(1,e.indexOf(".")))<18&&(c.warningEmitted=!0,process.emitWarning("NodeDeprecationWarning: The AWS SDK for JavaScript (v3) will\nno longer support Node.js 16.x on January 6, 2025.\n\nTo continue receiving updates to AWS services, bug fixes, and security\nupdates please upgrade to a supported Node.js LTS version.\n\nMore information can be found at: https://a.co/74kJMmI"))},"emitWarningIfUnsupportedVersion");function d(e,t,n){return e.$source||(e.$source={}),e.$source[t]=n,e}function u(e,t,n){e.__aws_sdk_context?e.__aws_sdk_context.features||(e.__aws_sdk_context.features={}):e.__aws_sdk_context={features:{}},e.__aws_sdk_context.features[t]=n}function p(e,t,n){return e.$source||(e.$source={}),e.$source[t]=n,e}i(d,"setCredentialFeature"),i(u,"setFeature"),i(p,"setTokenFeature")},7523:(e,t,n)=>{"use strict";var r,o=Object.defineProperty,s=Object.getOwnPropertyDescriptor,i=Object.getOwnPropertyNames,a=Object.prototype.hasOwnProperty,c=(e,t)=>o(e,"name",{value:t,configurable:!0}),l={};((e,t)=>{for(var n in t)o(e,n,{get:t[n],enumerable:!0})})(l,{AWSSDKSigV4Signer:()=>b,AwsSdkSigV4ASigner:()=>_,AwsSdkSigV4Signer:()=>v,NODE_AUTH_SCHEME_PREFERENCE_OPTIONS:()=>O,NODE_SIGV4A_CONFIG_OPTIONS:()=>R,getBearerTokenEnvKey:()=>E,resolveAWSSDKSigV4Config:()=>j,resolveAwsSdkSigV4AConfig:()=>I,resolveAwsSdkSigV4Config:()=>N,validateSigningProperties:()=>y}),e.exports=(r=l,((e,t,n,r)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let c of i(t))a.call(e,c)||c===n||o(e,c,{get:()=>t[c],enumerable:!(r=s(t,c))||r.enumerable});return e})(o({},"__esModule",{value:!0}),r));var d=n(2356),u=n(2356),p=c(e=>u.HttpResponse.isInstance(e)?e.headers?.date??e.headers?.Date:void 0,"getDateHeader"),m=c(e=>new Date(Date.now()+e),"getSkewCorrectedDate"),h=c((e,t)=>Math.abs(m(t).getTime()-e)>=3e5,"isClockSkewed"),f=c((e,t)=>{const n=Date.parse(e);return h(n,t)?n-Date.now():t},"getUpdatedSystemClockOffset"),g=c((e,t)=>{if(!t)throw new Error(`Property \`${e}\` is not resolved for AWS SDK SigV4Auth`);return t},"throwSigningPropertyError"),y=c(async e=>{const t=g("context",e.context),n=g("config",e.config),r=t.endpointV2?.properties?.authSchemes?.[0],o=g("signer",n.signer),s=await o(r),i=e?.signingRegion,a=e?.signingRegionSet,c=e?.signingName;return{config:n,signer:s,signingRegion:i,signingRegionSet:a,signingName:c}},"validateSigningProperties"),v=class{static{c(this,"AwsSdkSigV4Signer")}async sign(e,t,n){if(!d.HttpRequest.isInstance(e))throw new Error("The request is not an instance of `HttpRequest` and cannot be signed");const r=await y(n),{config:o,signer:s}=r;let{signingRegion:i,signingName:a}=r;const c=n.context;if(c?.authSchemes?.length){const[e,t]=c.authSchemes;"sigv4a"===e?.name&&"sigv4"===t?.name&&(i=t?.signingRegion??i,a=t?.signingName??a)}return await s.sign(e,{signingDate:m(o.systemClockOffset),signingRegion:i,signingService:a})}errorHandler(e){return t=>{const n=t.ServerTime??p(t.$response);if(n){const r=g("config",e.config),o=r.systemClockOffset;r.systemClockOffset=f(n,r.systemClockOffset);r.systemClockOffset!==o&&t.$metadata&&(t.$metadata.clockSkewCorrected=!0)}throw t}}successHandler(e,t){const n=p(e);if(n){const e=g("config",t.config);e.systemClockOffset=f(n,e.systemClockOffset)}}},b=v,S=n(2356),_=class extends v{static{c(this,"AwsSdkSigV4ASigner")}async sign(e,t,n){if(!S.HttpRequest.isInstance(e))throw new Error("The request is not an instance of `HttpRequest` and cannot be signed");const{config:r,signer:o,signingRegion:s,signingRegionSet:i,signingName:a}=await y(n),c=(await(r.sigv4aSigningRegionSet?.())??i??[s]).join(",");return await o.sign(e,{signingDate:m(r.systemClockOffset),signingRegion:c,signingService:a})}},w=c(e=>"string"==typeof e&&e.length>0?e.split(",").map(e=>e.trim()):[],"getArrayForCommaSeparatedString"),E=c(e=>`AWS_BEARER_TOKEN_${e.replace(/[\s-]/g,"_").toUpperCase()}`,"getBearerTokenEnvKey"),P="AWS_AUTH_SCHEME_PREFERENCE",C="auth_scheme_preference",O={environmentVariableSelector:c((e,t)=>{if(t?.signingName){if(E(t.signingName)in e)return["httpBearerAuth"]}if(P in e)return w(e[P])},"environmentVariableSelector"),configFileSelector:c(e=>{if(C in e)return w(e[C])},"configFileSelector"),default:[]},A=n(402),x=n(1238),I=c(e=>(e.sigv4aSigningRegionSet=(0,A.normalizeProvider)(e.sigv4aSigningRegionSet),e),"resolveAwsSdkSigV4AConfig"),R={environmentVariableSelector(e){if(e.AWS_SIGV4A_SIGNING_REGION_SET)return e.AWS_SIGV4A_SIGNING_REGION_SET.split(",").map(e=>e.trim());throw new x.ProviderError("AWS_SIGV4A_SIGNING_REGION_SET not set in env.",{tryNextLink:!0})},configFileSelector(e){if(e.sigv4a_signing_region_set)return(e.sigv4a_signing_region_set??"").split(",").map(e=>e.trim());throw new x.ProviderError("sigv4a_signing_region_set not set in profile.",{tryNextLink:!0})},default:void 0},T=n(5152),D=n(402),k=n(5118),N=c(e=>{let t,n=e.credentials,r=!!e.credentials;Object.defineProperty(e,"credentials",{set(o){o&&o!==n&&o!==t&&(r=!0),n=o;const s=M(e,{credentials:n,credentialDefaultProvider:e.credentialDefaultProvider}),i=L(e,s);r&&!i.attributed?(t=c(async e=>i(e).then(e=>(0,T.setCredentialFeature)(e,"CREDENTIALS_CODE","e")),"resolvedCredentials"),t.memoized=i.memoized,t.configBound=i.configBound,t.attributed=!0):t=i},get:()=>t,enumerable:!0,configurable:!0}),e.credentials=n;const{signingEscapePath:o=!0,systemClockOffset:s=e.systemClockOffset||0,sha256:i}=e;let a;a=e.signer?(0,D.normalizeProvider)(e.signer):e.regionInfoProvider?c(()=>(0,D.normalizeProvider)(e.region)().then(async t=>[await e.regionInfoProvider(t,{useFipsEndpoint:await e.useFipsEndpoint(),useDualstackEndpoint:await e.useDualstackEndpoint()})||{},t]).then(([t,n])=>{const{signingRegion:r,signingService:s}=t;e.signingRegion=e.signingRegion||r||n,e.signingName=e.signingName||s||e.serviceId;const a={...e,credentials:e.credentials,region:e.signingRegion,service:e.signingName,sha256:i,uriEscapePath:o};return new(e.signerConstructor||k.SignatureV4)(a)}),"signer"):c(async t=>{const n=(t=Object.assign({},{name:"sigv4",signingName:e.signingName||e.defaultSigningName,signingRegion:await(0,D.normalizeProvider)(e.region)(),properties:{}},t)).signingRegion,r=t.signingName;e.signingRegion=e.signingRegion||n,e.signingName=e.signingName||r||e.serviceId;const s={...e,credentials:e.credentials,region:e.signingRegion,service:e.signingName,sha256:i,uriEscapePath:o};return new(e.signerConstructor||k.SignatureV4)(s)},"signer");return Object.assign(e,{systemClockOffset:s,signingEscapePath:o,signer:a})},"resolveAwsSdkSigV4Config"),j=N;function M(e,{credentials:t,credentialDefaultProvider:n}){let r;return r=t?t?.memoized?t:(0,D.memoizeIdentityProvider)(t,D.isIdentityExpired,D.doesIdentityRequireRefresh):n?(0,D.normalizeProvider)(n(Object.assign({},e,{parentClientConfig:e}))):c(async()=>{throw new Error("@aws-sdk/core::resolveAwsSdkSigV4Config - `credentials` not provided and no credentialDefaultProvider was configured.")},"credentialsProvider"),r.memoized=!0,r}function L(e,t){if(t.configBound)return t;const n=c(async n=>t({...n,callerClientConfig:e}),"fn");return n.memoized=t.memoized,n.configBound=!0,n}c(M,"normalizeCredentialProvider"),c(L,"bindCallerConfig")},7288:(e,t,n)=>{"use strict";var r,o=Object.defineProperty,s=Object.getOwnPropertyDescriptor,i=Object.getOwnPropertyNames,a=Object.prototype.hasOwnProperty,c=(e,t)=>o(e,"name",{value:t,configurable:!0}),l={};((e,t)=>{for(var n in t)o(e,n,{get:t[n],enumerable:!0})})(l,{AwsEc2QueryProtocol:()=>ie,AwsJson1_0Protocol:()=>M,AwsJson1_1Protocol:()=>L,AwsJsonRpcProtocol:()=>j,AwsQueryProtocol:()=>se,AwsRestJsonProtocol:()=>B,AwsRestXmlProtocol:()=>we,JsonCodec:()=>N,JsonShapeDeserializer:()=>A,JsonShapeSerializer:()=>k,XmlCodec:()=>_e,XmlShapeDeserializer:()=>Q,XmlShapeSerializer:()=>Se,_toBool:()=>u,_toNum:()=>p,_toStr:()=>d,awsExpectUnion:()=>H,loadRestJsonErrorCode:()=>O,loadRestXmlErrorCode:()=>he,parseJsonBody:()=>P,parseJsonErrorBody:()=>C,parseXmlBody:()=>pe,parseXmlErrorBody:()=>me}),e.exports=(r=l,((e,t,n,r)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let c of i(t))a.call(e,c)||c===n||o(e,c,{get:()=>t[c],enumerable:!(r=s(t,c))||r.enumerable});return e})(o({},"__esModule",{value:!0}),r));var d=c(e=>{if(null==e)return e;if("number"==typeof e||"bigint"==typeof e){const t=new Error(`Received number ${e} where a string was expected.`);return t.name="Warning",console.warn(t),String(e)}if("boolean"==typeof e){const t=new Error(`Received boolean ${e} where a string was expected.`);return t.name="Warning",console.warn(t),String(e)}return e},"_toStr"),u=c(e=>{if(null==e)return e;if("string"==typeof e){const t=e.toLowerCase();if(""!==e&&"false"!==t&&"true"!==t){const t=new Error(`Received string "${e}" where a boolean was expected.`);t.name="Warning",console.warn(t)}return""!==e&&"false"!==t}return e},"_toBool"),p=c(e=>{if(null==e)return e;if("string"==typeof e){const t=Number(e);if(t.toString()!==e){const t=new Error(`Received string "${e}" where a number was expected.`);return t.name="Warning",console.warn(t),e}return t}return e},"_toNum"),m=n(3422),h=n(6890),f=n(2098),g=class{static{c(this,"SerdeContextConfig")}serdeContext;setSerdeContext(e){this.serdeContext=e}},y=n(6890),v=n(2430),b=n(8385),S=n(2430);function _(e,t,n){if(n?.source){const e=n.source;if("number"==typeof t&&(t>Number.MAX_SAFE_INTEGER||t<Number.MIN_SAFE_INTEGER||e!==String(t))){return e.includes(".")?new S.NumericValue(e,"bigDecimal"):BigInt(e)}}return t}c(_,"jsonReviver");var w=n(1411),E=c((e,t)=>(0,w.collectBody)(e,t).then(e=>t.utf8Encoder(e)),"collectBodyString"),P=c((e,t)=>E(e,t).then(e=>{if(e.length)try{return JSON.parse(e)}catch(t){throw"SyntaxError"===t?.name&&Object.defineProperty(t,"$responseBodyText",{value:e}),t}return{}}),"parseJsonBody"),C=c(async(e,t)=>{const n=await P(e,t);return n.message=n.message??n.Message,n},"parseJsonErrorBody"),O=c((e,t)=>{const n=c((e,t)=>Object.keys(e).find(e=>e.toLowerCase()===t.toLowerCase()),"findKey"),r=c(e=>{let t=e;return"number"==typeof t&&(t=t.toString()),t.indexOf(",")>=0&&(t=t.split(",")[0]),t.indexOf(":")>=0&&(t=t.split(":")[0]),t.indexOf("#")>=0&&(t=t.split("#")[1]),t},"sanitizeErrorCode"),o=n(e.headers,"x-amzn-errortype");if(void 0!==o)return r(e.headers[o]);if(t&&"object"==typeof t){const e=n(t,"code");if(e&&void 0!==t[e])return r(t[e]);if(void 0!==t.__type)return r(t.__type)}},"loadRestJsonErrorCode"),A=class extends g{constructor(e){super(),this.settings=e}static{c(this,"JsonShapeDeserializer")}async read(e,t){return this._read(e,"string"==typeof t?JSON.parse(t,_):await P(t,this.serdeContext))}readObject(e,t){return this._read(e,t)}_read(e,t){const n=null!==t&&"object"==typeof t,r=y.NormalizedSchema.of(e);if(r.isListSchema()&&Array.isArray(t)){const e=r.getValueSchema(),n=[],o=!!r.getMergedTraits().sparse;for(const r of t)(o||null!=r)&&n.push(this._read(e,r));return n}if(r.isMapSchema()&&n){const e=r.getValueSchema(),n={},o=!!r.getMergedTraits().sparse;for(const[r,s]of Object.entries(t))(o||null!=s)&&(n[r]=this._read(e,s));return n}if(r.isStructSchema()&&n){const e={};for(const[n,o]of r.structIterator()){const r=this.settings.jsonName?o.getMergedTraits().jsonName??n:n,s=this._read(o,t[r]);null!=s&&(e[n]=s)}return e}if(r.isBlobSchema()&&"string"==typeof t)return(0,b.fromBase64)(t);const o=r.getMergedTraits().mediaType;if(r.isStringSchema()&&"string"==typeof t&&o){if("application/json"===o||o.endsWith("+json"))return v.LazyJsonString.from(t)}if(r.isTimestampSchema()){const e=this.settings.timestampFormat;switch(e.useTrait?r.getSchema()===y.SCHEMA.TIMESTAMP_DEFAULT?e.default:r.getSchema()??e.default:e.default){case y.SCHEMA.TIMESTAMP_DATE_TIME:return(0,v.parseRfc3339DateTimeWithOffset)(t);case y.SCHEMA.TIMESTAMP_HTTP_DATE:return(0,v.parseRfc7231DateTime)(t);case y.SCHEMA.TIMESTAMP_EPOCH_SECONDS:return(0,v.parseEpochTimestamp)(t);default:return console.warn("Missing timestamp format, parsing value with Date constructor:",t),new Date(t)}}if(r.isBigIntegerSchema()&&("number"==typeof t||"string"==typeof t))return BigInt(t);if(r.isBigDecimalSchema()&&null!=t)return t instanceof v.NumericValue?t:new v.NumericValue(String(t),"bigDecimal");if(r.isNumericSchema()&&"string"==typeof t)switch(t){case"Infinity":return 1/0;case"-Infinity":return-1/0;case"NaN":return NaN}return t}},x=n(6890),I=n(2430),R=n(2430),T=String.fromCharCode(925),D=class{static{c(this,"JsonReplacer")}values=new Map;counter=0;stage=0;createReplacer(){if(1===this.stage)throw new Error("@aws-sdk/core/protocols - JsonReplacer already created.");if(2===this.stage)throw new Error("@aws-sdk/core/protocols - JsonReplacer exhausted.");return this.stage=1,(e,t)=>{if(t instanceof R.NumericValue){const e=T+"nv"+this.counter+++"_"+t.string;return this.values.set(`"${e}"`,t.string),e}if("bigint"==typeof t){const e=t.toString(),n=T+"b"+this.counter+++"_"+e;return this.values.set(`"${n}"`,e),n}return t}}replaceInJson(e){if(0===this.stage)throw new Error("@aws-sdk/core/protocols - JsonReplacer not created yet.");if(2===this.stage)throw new Error("@aws-sdk/core/protocols - JsonReplacer exhausted.");if(this.stage=2,0===this.counter)return e;for(const[t,n]of this.values)e=e.replace(t,n);return e}},k=class extends g{constructor(e){super(),this.settings=e}static{c(this,"JsonShapeSerializer")}buffer;rootSchema;write(e,t){this.rootSchema=x.NormalizedSchema.of(e),this.buffer=this._write(this.rootSchema,t)}flush(){if(this.rootSchema?.isStructSchema()||this.rootSchema?.isDocumentSchema()){const e=new D;return e.replaceInJson(JSON.stringify(this.buffer,e.createReplacer(),0))}return this.buffer}_write(e,t,n){const r=null!==t&&"object"==typeof t,o=x.NormalizedSchema.of(e);if(o.isListSchema()&&Array.isArray(t)){const e=o.getValueSchema(),n=[],r=!!o.getMergedTraits().sparse;for(const o of t)(r||null!=o)&&n.push(this._write(e,o));return n}if(o.isMapSchema()&&r){const e=o.getValueSchema(),n={},r=!!o.getMergedTraits().sparse;for(const[o,s]of Object.entries(t))(r||null!=s)&&(n[o]=this._write(e,s));return n}if(o.isStructSchema()&&r){const e={};for(const[n,r]of o.structIterator()){const s=this.settings.jsonName?r.getMergedTraits().jsonName??n:n,i=this._write(r,t[n],o);void 0!==i&&(e[s]=i)}return e}if(null!==t||!n?.isStructSchema()){if(o.isBlobSchema()&&(t instanceof Uint8Array||"string"==typeof t)){if(o===this.rootSchema)return t;if(!this.serdeContext?.base64Encoder)throw new Error("Missing base64Encoder in serdeContext");return this.serdeContext?.base64Encoder(t)}if(o.isTimestampSchema()&&t instanceof Date){const e=this.settings.timestampFormat;switch(e.useTrait?o.getSchema()===x.SCHEMA.TIMESTAMP_DEFAULT?e.default:o.getSchema()??e.default:e.default){case x.SCHEMA.TIMESTAMP_DATE_TIME:return t.toISOString().replace(".000Z","Z");case x.SCHEMA.TIMESTAMP_HTTP_DATE:return(0,I.dateToUtcString)(t);case x.SCHEMA.TIMESTAMP_EPOCH_SECONDS:return t.getTime()/1e3;default:return console.warn("Missing timestamp format, using epoch seconds",t),t.getTime()/1e3}}if(o.isNumericSchema()&&"number"==typeof t&&(Math.abs(t)===1/0||isNaN(t)))return String(t);if(o.isStringSchema()){if(void 0===t&&o.isIdempotencyToken())return(0,I.generateIdempotencyToken)();const e=o.getMergedTraits().mediaType;if("string"==typeof t&&e){if("application/json"===e||e.endsWith("+json"))return I.LazyJsonString.from(t)}}return t}}},N=class extends g{constructor(e){super(),this.settings=e}static{c(this,"JsonCodec")}createSerializer(){const e=new k(this.settings);return e.setSerdeContext(this.serdeContext),e}createDeserializer(){const e=new A(this.settings);return e.setSerdeContext(this.serdeContext),e}},j=class extends m.RpcProtocol{static{c(this,"AwsJsonRpcProtocol")}serializer;deserializer;serviceTarget;codec;constructor({defaultNamespace:e,serviceTarget:t}){super({defaultNamespace:e}),this.serviceTarget=t,this.codec=new N({timestampFormat:{useTrait:!0,default:h.SCHEMA.TIMESTAMP_EPOCH_SECONDS},jsonName:!1}),this.serializer=this.codec.createSerializer(),this.deserializer=this.codec.createDeserializer()}async serializeRequest(e,t,n){const r=await super.serializeRequest(e,t,n);r.path.endsWith("/")||(r.path+="/"),Object.assign(r.headers,{"content-type":`application/x-amz-json-${this.getJsonRpcVersion()}`,"x-amz-target":`${this.serviceTarget}.${h.NormalizedSchema.of(e).getName()}`}),"unit"!==(0,h.deref)(e.input)&&r.body||(r.body="{}");try{r.headers["content-length"]=String((0,f.calculateBodyLength)(r.body))}catch(e){}return r}getPayloadCodec(){return this.codec}async handleError(e,t,n,r,o){const s=O(n,r)??"Unknown";let i=this.options.defaultNamespace,a=s;s.includes("#")&&([i,a]=s.split("#"));const c=h.TypeRegistry.for(i);let l;try{l=c.getSchema(s)}catch(e){const t=h.TypeRegistry.for("smithy.ts.sdk.synthetic."+i).getBaseException();if(t){const e=t.ctor;throw Object.assign(new e(a),r)}throw new Error(a)}const d=h.NormalizedSchema.of(l),u=r.message??r.Message??"Unknown",p=new l.ctor(u);await this.deserializeHttpMessage(l,t,n,r);const m={};for(const[e,t]of d.structIterator()){const n=t.getMergedTraits().jsonName??e;m[e]=this.codec.createDeserializer().readObject(t,r[n])}throw Object.assign(p,{$metadata:o,$response:n,$fault:d.getMergedTraits().error,message:u,...m}),p}},M=class extends j{static{c(this,"AwsJson1_0Protocol")}constructor({defaultNamespace:e,serviceTarget:t}){super({defaultNamespace:e,serviceTarget:t})}getShapeId(){return"aws.protocols#awsJson1_0"}getJsonRpcVersion(){return"1.0"}getDefaultContentType(){return"application/x-amz-json-1.0"}},L=class extends j{static{c(this,"AwsJson1_1Protocol")}constructor({defaultNamespace:e,serviceTarget:t}){super({defaultNamespace:e,serviceTarget:t})}getShapeId(){return"aws.protocols#awsJson1_1"}getJsonRpcVersion(){return"1.1"}getDefaultContentType(){return"application/x-amz-json-1.1"}},F=n(3422),$=n(6890),U=n(2098),B=class extends F.HttpBindingProtocol{static{c(this,"AwsRestJsonProtocol")}serializer;deserializer;codec;constructor({defaultNamespace:e}){super({defaultNamespace:e});const t={timestampFormat:{useTrait:!0,default:$.SCHEMA.TIMESTAMP_EPOCH_SECONDS},httpBindings:!0,jsonName:!0};this.codec=new N(t),this.serializer=new F.HttpInterceptingShapeSerializer(this.codec.createSerializer(),t),this.deserializer=new F.HttpInterceptingShapeDeserializer(this.codec.createDeserializer(),t)}getShapeId(){return"aws.protocols#restJson1"}getPayloadCodec(){return this.codec}setSerdeContext(e){this.codec.setSerdeContext(e),super.setSerdeContext(e)}async serializeRequest(e,t,n){const r=await super.serializeRequest(e,t,n),o=$.NormalizedSchema.of(e.input),s=o.getMemberSchemas();if(!r.headers["content-type"]){const e=Object.values(s).find(e=>!!e.getMergedTraits().httpPayload);if(e){const t=e.getMergedTraits().mediaType;t?r.headers["content-type"]=t:e.isStringSchema()?r.headers["content-type"]="text/plain":e.isBlobSchema()?r.headers["content-type"]="application/octet-stream":r.headers["content-type"]=this.getDefaultContentType()}else if(!o.isUnitSchema()){Object.values(s).find(e=>{const{httpQuery:t,httpQueryParams:n,httpHeader:r,httpLabel:o,httpPrefixHeaders:s}=e.getMergedTraits();return!(t||n||r||o||void 0!==s)})&&(r.headers["content-type"]=this.getDefaultContentType())}}if(r.headers["content-type"]&&!r.body&&(r.body="{}"),r.body)try{r.headers["content-length"]=String((0,U.calculateBodyLength)(r.body))}catch(e){}return r}async handleError(e,t,n,r,o){const s=O(n,r)??"Unknown";let i=this.options.defaultNamespace,a=s;s.includes("#")&&([i,a]=s.split("#"));const c=$.TypeRegistry.for(i);let l;try{l=c.getSchema(s)}catch(e){const t=$.TypeRegistry.for("smithy.ts.sdk.synthetic."+i).getBaseException();if(t){const e=t.ctor;throw Object.assign(new e(a),r)}throw new Error(a)}const d=$.NormalizedSchema.of(l),u=r.message??r.Message??"Unknown",p=new l.ctor(u);await this.deserializeHttpMessage(l,t,n,r);const m={};for(const[e,t]of d.structIterator()){const n=t.getMergedTraits().jsonName??e;m[e]=this.codec.createDeserializer().readObject(t,r[n])}throw Object.assign(p,{$metadata:o,$response:n,$fault:d.getMergedTraits().error,message:u,...m}),p}getDefaultContentType(){return"application/json"}},G=n(1411),H=c(e=>{if(null!=e)return"object"==typeof e&&"__type"in e&&delete e.__type,(0,G.expectUnion)(e)},"awsExpectUnion"),z=n(3422),q=n(6890),W=n(2098),V=n(3422),J=n(6890),K=n(1411),X=n(1577),Y=n(591),Q=class extends g{constructor(e){super(),this.settings=e,this.stringDeserializer=new V.FromStringShapeDeserializer(e)}static{c(this,"XmlShapeDeserializer")}stringDeserializer;setSerdeContext(e){this.serdeContext=e,this.stringDeserializer.setSerdeContext(e)}read(e,t,n){const r=J.NormalizedSchema.of(e),o=r.getMemberSchemas();if(r.isStructSchema()&&r.isMemberSchema()&&!!Object.values(o).find(e=>!!e.getMemberTraits().eventPayload)){const e={},n=Object.keys(o)[0];return o[n].isBlobSchema()?e[n]=t:e[n]=this.read(o[n],t),e}const s=(this.serdeContext?.utf8Encoder??X.toUtf8)(t),i=this.parseXml(s);return this.readSchema(e,n?i[n]:i)}readSchema(e,t){const n=J.NormalizedSchema.of(e),r=n.getMergedTraits();if(n.isListSchema()&&!Array.isArray(t))return this.readSchema(n,[t]);if(null==t)return t;if("object"==typeof t){const e=!!r.sparse,o=!!r.xmlFlattened;if(n.isListSchema()){const r=n.getValueSchema(),s=[],i=r.getMergedTraits().xmlName??"member",a=o?t:(t[0]??t)[i],c=Array.isArray(a)?a:[a];for(const t of c)(null!=t||e)&&s.push(this.readSchema(r,t));return s}const s={};if(n.isMapSchema()){const r=n.getKeySchema(),i=n.getValueSchema();let a;a=o?Array.isArray(t)?t:[t]:Array.isArray(t.entry)?t.entry:[t.entry];const c=r.getMergedTraits().xmlName??"key",l=i.getMergedTraits().xmlName??"value";for(const t of a){const n=t[c],r=t[l];(null!=r||e)&&(s[n]=this.readSchema(i,r))}return s}if(n.isStructSchema()){for(const[e,r]of n.structIterator()){const n=r.getMergedTraits(),o=n.httpPayload?n.xmlName??r.getName():r.getMemberTraits().xmlName??e;null!=t[o]&&(s[e]=this.readSchema(r,t[o]))}return s}if(n.isDocumentSchema())return t;throw new Error(`@aws-sdk/core/protocols - xml deserializer unhandled schema type for ${n.getName(!0)}`)}return n.isListSchema()?[]:n.isMapSchema()||n.isStructSchema()?{}:this.stringDeserializer.read(n,t)}parseXml(e){if(e.length){const t=new Y.XMLParser({attributeNamePrefix:"",htmlEntities:!0,ignoreAttributes:!1,ignoreDeclaration:!0,parseTagValue:!1,trimValues:!1,tagValueProcessor:c((e,t)=>""===t.trim()&&t.includes("\n")?"":void 0,"tagValueProcessor")});let n;t.addEntity("#xD","\r"),t.addEntity("#10","\n");try{n=t.parse(e,!0)}catch(t){throw t&&"object"==typeof t&&Object.defineProperty(t,"$responseBodyText",{value:e}),t}const r="#text",o=Object.keys(n)[0],s=n[o];return s[r]&&(s[o]=s[r],delete s[r]),(0,K.getValueFromTextNode)(s)}return{}}},Z=n(3422),ee=n(6890),te=n(2430),ne=n(1411),re=n(8385),oe=class extends g{constructor(e){super(),this.settings=e}static{c(this,"QueryShapeSerializer")}buffer;write(e,t,n=""){void 0===this.buffer&&(this.buffer="");const r=ee.NormalizedSchema.of(e);if(n&&!n.endsWith(".")&&(n+="."),r.isBlobSchema())("string"==typeof t||t instanceof Uint8Array)&&(this.writeKey(n),this.writeValue((this.serdeContext?.base64Encoder??re.toBase64)(t)));else if(r.isBooleanSchema()||r.isNumericSchema()||r.isStringSchema())null!=t?(this.writeKey(n),this.writeValue(String(t))):r.isIdempotencyToken()&&(this.writeKey(n),this.writeValue((0,te.generateIdempotencyToken)()));else if(r.isBigIntegerSchema())null!=t&&(this.writeKey(n),this.writeValue(String(t)));else if(r.isBigDecimalSchema())null!=t&&(this.writeKey(n),this.writeValue(t instanceof te.NumericValue?t.string:String(t)));else if(r.isTimestampSchema()){if(t instanceof Date){this.writeKey(n);switch((0,Z.determineTimestampFormat)(r,this.settings)){case ee.SCHEMA.TIMESTAMP_DATE_TIME:this.writeValue(t.toISOString().replace(".000Z","Z"));break;case ee.SCHEMA.TIMESTAMP_HTTP_DATE:this.writeValue((0,ne.dateToUtcString)(t));break;case ee.SCHEMA.TIMESTAMP_EPOCH_SECONDS:this.writeValue(String(t.getTime()/1e3))}}}else{if(r.isDocumentSchema())throw new Error(`@aws-sdk/core/protocols - QuerySerializer unsupported document type ${r.getName(!0)}`);if(r.isListSchema()){if(Array.isArray(t))if(0===t.length)this.settings.serializeEmptyLists&&(this.writeKey(n),this.writeValue(""));else{const e=r.getValueSchema(),o=this.settings.flattenLists||r.getMergedTraits().xmlFlattened;let s=1;for(const r of t){if(null==r)continue;const t=this.getKey("member",e.getMergedTraits().xmlName),i=o?`${n}${s}`:`${n}${t}.${s}`;this.write(e,r,i),++s}}}else if(r.isMapSchema()){if(t&&"object"==typeof t){const e=r.getKeySchema(),o=r.getValueSchema(),s=r.getMergedTraits().xmlFlattened;let i=1;for(const[r,a]of Object.entries(t)){if(null==a)continue;const t=this.getKey("key",e.getMergedTraits().xmlName),c=s?`${n}${i}.${t}`:`${n}entry.${i}.${t}`,l=this.getKey("value",o.getMergedTraits().xmlName),d=s?`${n}${i}.${l}`:`${n}entry.${i}.${l}`;this.write(e,r,c),this.write(o,a,d),++i}}}else if(r.isStructSchema()){if(t&&"object"==typeof t)for(const[e,o]of r.structIterator()){if(null==t[e]&&!o.isIdempotencyToken())continue;const r=`${n}${this.getKey(e,o.getMergedTraits().xmlName)}`;this.write(o,t[e],r)}}else if(!r.isUnitSchema())throw new Error(`@aws-sdk/core/protocols - QuerySerializer unrecognized schema type ${r.getName(!0)}`)}}flush(){if(void 0===this.buffer)throw new Error("@aws-sdk/core/protocols - QuerySerializer cannot flush with nothing written to buffer.");const e=this.buffer;return delete this.buffer,e}getKey(e,t){const n=t??e;return this.settings.capitalizeKeys?n[0].toUpperCase()+n.slice(1):n}writeKey(e){e.endsWith(".")&&(e=e.slice(0,e.length-1)),this.buffer+=`&${(0,Z.extendedEncodeURIComponent)(e)}=`}writeValue(e){this.buffer+=(0,Z.extendedEncodeURIComponent)(e)}},se=class extends z.RpcProtocol{constructor(e){super({defaultNamespace:e.defaultNamespace}),this.options=e;const t={timestampFormat:{useTrait:!0,default:q.SCHEMA.TIMESTAMP_DATE_TIME},httpBindings:!1,xmlNamespace:e.xmlNamespace,serviceNamespace:e.defaultNamespace,serializeEmptyLists:!0};this.serializer=new oe(t),this.deserializer=new Q(t)}static{c(this,"AwsQueryProtocol")}serializer;deserializer;getShapeId(){return"aws.protocols#awsQuery"}setSerdeContext(e){this.serializer.setSerdeContext(e),this.deserializer.setSerdeContext(e)}getPayloadCodec(){throw new Error("AWSQuery protocol has no payload codec.")}async serializeRequest(e,t,n){const r=await super.serializeRequest(e,t,n);r.path.endsWith("/")||(r.path+="/"),Object.assign(r.headers,{"content-type":"application/x-www-form-urlencoded"}),"unit"!==(0,q.deref)(e.input)&&r.body||(r.body=""),r.body=`Action=${e.name.split("#")[1]}&Version=${this.options.version}`+r.body,r.body.endsWith("&")&&(r.body=r.body.slice(-1));try{r.headers["content-length"]=String((0,W.calculateBodyLength)(r.body))}catch(e){}return r}async deserializeResponse(e,t,n){const r=this.deserializer,o=q.NormalizedSchema.of(e.output),s={};if(n.statusCode>=300){const o=await(0,z.collectBody)(n.body,t);o.byteLength>0&&Object.assign(s,await r.read(q.SCHEMA.DOCUMENT,o)),await this.handleError(e,t,n,s,this.deserializeMetadata(n))}for(const e in n.headers){const t=n.headers[e];delete n.headers[e],n.headers[e.toLowerCase()]=t}const i=o.isStructSchema()&&this.useNestedResult()?e.name.split("#")[1]+"Result":void 0,a=await(0,z.collectBody)(n.body,t);a.byteLength>0&&Object.assign(s,await r.read(o,a,i));return{$metadata:this.deserializeMetadata(n),...s}}useNestedResult(){return!0}async handleError(e,t,n,r,o){const s=this.loadQueryErrorCode(n,r)??"Unknown";let i=this.options.defaultNamespace,a=s;s.includes("#")&&([i,a]=s.split("#"));const c=this.loadQueryError(r),l=q.TypeRegistry.for(i);let d;try{d=l.find(e=>q.NormalizedSchema.of(e).getMergedTraits().awsQueryError?.[0]===a),d||(d=l.getSchema(s))}catch(e){const t=q.TypeRegistry.for("smithy.ts.sdk.synthetic."+i).getBaseException();if(t){const e=t.ctor;throw Object.assign(new e(a),c)}throw new Error(a)}const u=q.NormalizedSchema.of(d),p=this.loadQueryErrorMessage(r),m=new d.ctor(p),h={};for(const[e,t]of u.structIterator()){const n=t.getMergedTraits().xmlName??e,o=c[n]??r[n];h[e]=this.deserializer.readSchema(t,o)}throw Object.assign(m,{$metadata:o,$response:n,$fault:u.getMergedTraits().error,message:p,...h}),m}loadQueryErrorCode(e,t){const n=(t.Errors?.[0]?.Error??t.Errors?.Error??t.Error)?.Code;return void 0!==n?n:404==e.statusCode?"NotFound":void 0}loadQueryError(e){return e.Errors?.[0]?.Error??e.Errors?.Error??e.Error}loadQueryErrorMessage(e){const t=this.loadQueryError(e);return t?.message??t?.Message??e.message??e.Message??"Unknown"}getDefaultContentType(){return"application/x-www-form-urlencoded"}},ie=class extends se{constructor(e){super(e),this.options=e;Object.assign(this.serializer.settings,{capitalizeKeys:!0,flattenLists:!0,serializeEmptyLists:!1})}static{c(this,"AwsEc2QueryProtocol")}useNestedResult(){return!1}},ae=n(3422),ce=n(6890),le=n(2098),de=n(1411),ue=n(591),pe=c((e,t)=>E(e,t).then(e=>{if(e.length){const t=new ue.XMLParser({attributeNamePrefix:"",htmlEntities:!0,ignoreAttributes:!1,ignoreDeclaration:!0,parseTagValue:!1,trimValues:!1,tagValueProcessor:c((e,t)=>""===t.trim()&&t.includes("\n")?"":void 0,"tagValueProcessor")});let n;t.addEntity("#xD","\r"),t.addEntity("#10","\n");try{n=t.parse(e,!0)}catch(t){throw t&&"object"==typeof t&&Object.defineProperty(t,"$responseBodyText",{value:e}),t}const r="#text",o=Object.keys(n)[0],s=n[o];return s[r]&&(s[o]=s[r],delete s[r]),(0,de.getValueFromTextNode)(s)}return{}}),"parseXmlBody"),me=c(async(e,t)=>{const n=await pe(e,t);return n.Error&&(n.Error.message=n.Error.message??n.Error.Message),n},"parseXmlErrorBody"),he=c((e,t)=>void 0!==t?.Error?.Code?t.Error.Code:void 0!==t?.Code?t.Code:404==e.statusCode?"NotFound":void 0,"loadRestXmlErrorCode"),fe=n(4274),ge=n(6890),ye=n(2430),ve=n(1411),be=n(8385),Se=class extends g{constructor(e){super(),this.settings=e}static{c(this,"XmlShapeSerializer")}stringBuffer;byteBuffer;buffer;write(e,t){const n=ge.NormalizedSchema.of(e);if(n.isStringSchema()&&"string"==typeof t)this.stringBuffer=t;else if(n.isBlobSchema())this.byteBuffer="byteLength"in t?t:(this.serdeContext?.base64Decoder??be.fromBase64)(t);else{this.buffer=this.writeStruct(n,t,void 0);const e=n.getMergedTraits();e.httpPayload&&!e.xmlName&&this.buffer.withName(n.getName())}}flush(){if(void 0!==this.byteBuffer){const e=this.byteBuffer;return delete this.byteBuffer,e}if(void 0!==this.stringBuffer){const e=this.stringBuffer;return delete this.stringBuffer,e}const e=this.buffer;return this.settings.xmlNamespace&&(e?.attributes?.xmlns||e.addAttribute("xmlns",this.settings.xmlNamespace)),delete this.buffer,e.toString()}writeStruct(e,t,n){const r=e.getMergedTraits(),o=e.isMemberSchema()&&!r.httpPayload?e.getMemberTraits().xmlName??e.getMemberName():r.xmlName??e.getName();if(!o||!e.isStructSchema())throw new Error(`@aws-sdk/core/protocols - xml serializer, cannot write struct with empty name or non-struct, schema=${e.getName(!0)}.`);const s=fe.XmlNode.of(o),[i,a]=this.getXmlnsAttribute(e,n);a&&s.addAttribute(i,a);for(const[n,r]of e.structIterator()){const e=t[n];if(null!=e||r.isIdempotencyToken()){if(r.getMergedTraits().xmlAttribute){s.addAttribute(r.getMergedTraits().xmlName??n,this.writeSimple(r,e));continue}if(r.isListSchema())this.writeList(r,e,s,a);else if(r.isMapSchema())this.writeMap(r,e,s,a);else if(r.isStructSchema())s.addChildNode(this.writeStruct(r,e,a));else{const t=fe.XmlNode.of(r.getMergedTraits().xmlName??r.getMemberName());this.writeSimpleInto(r,e,t,a),s.addChildNode(t)}}}return s}writeList(e,t,n,r){if(!e.isMemberSchema())throw new Error(`@aws-sdk/core/protocols - xml serializer, cannot write non-member list: ${e.getName(!0)}`);const o=e.getMergedTraits(),s=e.getValueSchema(),i=s.getMergedTraits(),a=!!i.sparse,l=!!o.xmlFlattened,[d,u]=this.getXmlnsAttribute(e,r),p=c((t,n)=>{if(s.isListSchema())this.writeList(s,Array.isArray(n)?n:[n],t,u);else if(s.isMapSchema())this.writeMap(s,n,t,u);else if(s.isStructSchema()){const r=this.writeStruct(s,n,u);t.addChildNode(r.withName(l?o.xmlName??e.getMemberName():i.xmlName??"member"))}else{const r=fe.XmlNode.of(l?o.xmlName??e.getMemberName():i.xmlName??"member");this.writeSimpleInto(s,n,r,u),t.addChildNode(r)}},"writeItem");if(l)for(const e of t)(a||null!=e)&&p(n,e);else{const r=fe.XmlNode.of(o.xmlName??e.getMemberName());u&&r.addAttribute(d,u);for(const e of t)(a||null!=e)&&p(r,e);n.addChildNode(r)}}writeMap(e,t,n,r,o=!1){if(!e.isMemberSchema())throw new Error(`@aws-sdk/core/protocols - xml serializer, cannot write non-member map: ${e.getName(!0)}`);const s=e.getMergedTraits(),i=e.getKeySchema(),a=i.getMergedTraits().xmlName??"key",l=e.getValueSchema(),d=l.getMergedTraits(),u=d.xmlName??"value",p=!!d.sparse,m=!!s.xmlFlattened,[h,f]=this.getXmlnsAttribute(e,r),g=c((e,t,n)=>{const r=fe.XmlNode.of(a,t),[o,s]=this.getXmlnsAttribute(i,f);s&&r.addAttribute(o,s),e.addChildNode(r);let c=fe.XmlNode.of(u);l.isListSchema()?this.writeList(l,n,c,f):l.isMapSchema()?this.writeMap(l,n,c,f,!0):l.isStructSchema()?c=this.writeStruct(l,n,f):this.writeSimpleInto(l,n,c,f),e.addChildNode(c)},"addKeyValue");if(m){for(const[r,o]of Object.entries(t))if(p||null!=o){const t=fe.XmlNode.of(s.xmlName??e.getMemberName());g(t,r,o),n.addChildNode(t)}}else{let r;o||(r=fe.XmlNode.of(s.xmlName??e.getMemberName()),f&&r.addAttribute(h,f),n.addChildNode(r));for(const[e,s]of Object.entries(t))if(p||null!=s){const t=fe.XmlNode.of("entry");g(t,e,s),(o?n:r).addChildNode(t)}}}writeSimple(e,t){if(null===t)throw new Error("@aws-sdk/core/protocols - (XML serializer) cannot write null value.");const n=ge.NormalizedSchema.of(e);let r=null;if(t&&"object"==typeof t)if(n.isBlobSchema())r=(this.serdeContext?.base64Encoder??be.toBase64)(t);else{if(!(n.isTimestampSchema()&&t instanceof Date)){if(n.isBigDecimalSchema()&&t)return t instanceof ye.NumericValue?t.string:String(t);throw n.isMapSchema()||n.isListSchema()?new Error("@aws-sdk/core/protocols - xml serializer, cannot call _write() on List/Map schema, call writeList or writeMap() instead."):new Error(`@aws-sdk/core/protocols - xml serializer, unhandled schema type for object value and schema: ${n.getName(!0)}`)}{const e=this.settings.timestampFormat;switch(e.useTrait?n.getSchema()===ge.SCHEMA.TIMESTAMP_DEFAULT?e.default:n.getSchema()??e.default:e.default){case ge.SCHEMA.TIMESTAMP_DATE_TIME:r=t.toISOString().replace(".000Z","Z");break;case ge.SCHEMA.TIMESTAMP_HTTP_DATE:r=(0,ve.dateToUtcString)(t);break;case ge.SCHEMA.TIMESTAMP_EPOCH_SECONDS:r=String(t.getTime()/1e3);break;default:console.warn("Missing timestamp format, using http date",t),r=(0,ve.dateToUtcString)(t)}}}if((n.isBooleanSchema()||n.isNumericSchema()||n.isBigIntegerSchema()||n.isBigDecimalSchema())&&(r=String(t)),n.isStringSchema()&&(r=void 0===t&&n.isIdempotencyToken()?(0,ye.generateIdempotencyToken)():String(t)),null===r)throw new Error(`Unhandled schema-value pair ${n.getName(!0)}=${t}`);return r}writeSimpleInto(e,t,n,r){const o=this.writeSimple(e,t),s=ge.NormalizedSchema.of(e),i=new fe.XmlText(o),[a,c]=this.getXmlnsAttribute(s,r);c&&n.addAttribute(a,c),n.addChildNode(i)}getXmlnsAttribute(e,t){const n=e.getMergedTraits(),[r,o]=n.xmlNamespace??[];return o&&o!==t?[r?`xmlns:${r}`:"xmlns",o]:[void 0,void 0]}},_e=class extends g{constructor(e){super(),this.settings=e}static{c(this,"XmlCodec")}createSerializer(){const e=new Se(this.settings);return e.setSerdeContext(this.serdeContext),e}createDeserializer(){const e=new Q(this.settings);return e.setSerdeContext(this.serdeContext),e}},we=class extends ae.HttpBindingProtocol{static{c(this,"AwsRestXmlProtocol")}codec;serializer;deserializer;constructor(e){super(e);const t={timestampFormat:{useTrait:!0,default:ce.SCHEMA.TIMESTAMP_DATE_TIME},httpBindings:!0,xmlNamespace:e.xmlNamespace,serviceNamespace:e.defaultNamespace};this.codec=new _e(t),this.serializer=new ae.HttpInterceptingShapeSerializer(this.codec.createSerializer(),t),this.deserializer=new ae.HttpInterceptingShapeDeserializer(this.codec.createDeserializer(),t)}getPayloadCodec(){return this.codec}getShapeId(){return"aws.protocols#restXml"}async serializeRequest(e,t,n){const r=await super.serializeRequest(e,t,n),o=ce.NormalizedSchema.of(e.input),s=o.getMemberSchemas();if(r.path=String(r.path).split("/").filter(e=>"{Bucket}"!==e).join("/")||"/",!r.headers["content-type"]){const e=Object.values(s).find(e=>!!e.getMergedTraits().httpPayload);if(e){const t=e.getMergedTraits().mediaType;t?r.headers["content-type"]=t:e.isStringSchema()?r.headers["content-type"]="text/plain":e.isBlobSchema()?r.headers["content-type"]="application/octet-stream":r.headers["content-type"]=this.getDefaultContentType()}else if(!o.isUnitSchema()){Object.values(s).find(e=>{const{httpQuery:t,httpQueryParams:n,httpHeader:r,httpLabel:o,httpPrefixHeaders:s}=e.getMergedTraits();return!(t||n||r||o||void 0!==s)})&&(r.headers["content-type"]=this.getDefaultContentType())}}if(r.headers["content-type"]===this.getDefaultContentType()&&"string"==typeof r.body&&(r.body='<?xml version="1.0" encoding="UTF-8"?>'+r.body),r.body)try{r.headers["content-length"]=String((0,le.calculateBodyLength)(r.body))}catch(e){}return r}async deserializeResponse(e,t,n){return super.deserializeResponse(e,t,n)}async handleError(e,t,n,r,o){const s=he(n,r)??"Unknown";let i=this.options.defaultNamespace,a=s;s.includes("#")&&([i,a]=s.split("#"));const c=ce.TypeRegistry.for(i);let l;try{l=c.getSchema(s)}catch(e){const t=ce.TypeRegistry.for("smithy.ts.sdk.synthetic."+i).getBaseException();if(t){const e=t.ctor;throw Object.assign(new e(a),r)}throw new Error(a)}const d=ce.NormalizedSchema.of(l),u=r.Error?.message??r.Error?.Message??r.message??r.Message??"Unknown",p=new l.ctor(u);await this.deserializeHttpMessage(l,t,n,r);const m={};for(const[e,t]of d.structIterator()){const n=t.getMergedTraits().xmlName??e,o=r.Error?.[n]??r[n];m[e]=this.codec.createDeserializer().readSchema(t,o)}throw Object.assign(p,{$metadata:o,$response:n,$fault:d.getMergedTraits().error,message:u,...m}),p}getDefaultContentType(){return"application/xml"}}},5606:(e,t,n)=>{"use strict";var r,o=Object.defineProperty,s=Object.getOwnPropertyDescriptor,i=Object.getOwnPropertyNames,a=Object.prototype.hasOwnProperty,c=(e,t)=>o(e,"name",{value:t,configurable:!0}),l={};((e,t)=>{for(var n in t)o(e,n,{get:t[n],enumerable:!0})})(l,{ENV_ACCOUNT_ID:()=>y,ENV_CREDENTIAL_SCOPE:()=>g,ENV_EXPIRATION:()=>f,ENV_KEY:()=>p,ENV_SECRET:()=>m,ENV_SESSION:()=>h,fromEnv:()=>v}),e.exports=(r=l,((e,t,n,r)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let c of i(t))a.call(e,c)||c===n||o(e,c,{get:()=>t[c],enumerable:!(r=s(t,c))||r.enumerable});return e})(o({},"__esModule",{value:!0}),r));var d=n(5152),u=n(1238),p="AWS_ACCESS_KEY_ID",m="AWS_SECRET_ACCESS_KEY",h="AWS_SESSION_TOKEN",f="AWS_CREDENTIAL_EXPIRATION",g="AWS_CREDENTIAL_SCOPE",y="AWS_ACCOUNT_ID",v=c(e=>async()=>{e?.logger?.debug("@aws-sdk/credential-provider-env - fromEnv");const t=process.env[p],n=process.env[m],r=process.env[h],o=process.env[f],s=process.env[g],i=process.env[y];if(t&&n){const e={accessKeyId:t,secretAccessKey:n,...r&&{sessionToken:r},...o&&{expiration:new Date(o)},...s&&{credentialScope:s},...i&&{accountId:i}};return(0,d.setCredentialFeature)(e,"CREDENTIALS_ENV_VARS","g"),e}throw new u.CredentialsProviderError("Unable to find environment variable credentials.",{logger:e?.logger})},"fromEnv")},1509:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.checkUrl=void 0;const r=n(1238);t.checkUrl=(e,t)=>{if("https:"!==e.protocol&&"169.254.170.2"!==e.hostname&&"169.254.170.23"!==e.hostname&&"[fd00:ec2::23]"!==e.hostname){if(e.hostname.includes("[")){if("[::1]"===e.hostname||"[0000:0000:0000:0000:0000:0000:0000:0001]"===e.hostname)return}else{if("localhost"===e.hostname)return;const t=e.hostname.split("."),n=e=>{const t=parseInt(e,10);return 0<=t&&t<=255};if("127"===t[0]&&n(t[1])&&n(t[2])&&n(t[3])&&4===t.length)return}throw new r.CredentialsProviderError("URL not accepted. It must either be HTTPS or match one of the following:\n  - loopback CIDR 127.0.0.0/8 or [::1/128]\n  - ECS container host 169.254.170.2\n  - EKS container host 169.254.170.23 or [fd00:ec2::23]",{logger:t})}}},8712:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.fromHttp=void 0;const r=n(1860),o=n(5152),s=n(1279),i=n(1238),a=r.__importDefault(n(1943)),c=n(1509),l=n(8914),d=n(1122);t.fromHttp=(e={})=>{let t;e.logger?.debug("@aws-sdk/credential-provider-http - fromHttp");const n=e.awsContainerCredentialsRelativeUri??process.env.AWS_CONTAINER_CREDENTIALS_RELATIVE_URI,r=e.awsContainerCredentialsFullUri??process.env.AWS_CONTAINER_CREDENTIALS_FULL_URI,u=e.awsContainerAuthorizationToken??process.env.AWS_CONTAINER_AUTHORIZATION_TOKEN,p=e.awsContainerAuthorizationTokenFile??process.env.AWS_CONTAINER_AUTHORIZATION_TOKEN_FILE,m="NoOpLogger"!==e.logger?.constructor?.name&&e.logger?e.logger.warn:console.warn;if(n&&r&&(m("@aws-sdk/credential-provider-http: you have set both awsContainerCredentialsRelativeUri and awsContainerCredentialsFullUri."),m("awsContainerCredentialsFullUri will take precedence.")),u&&p&&(m("@aws-sdk/credential-provider-http: you have set both awsContainerAuthorizationToken and awsContainerAuthorizationTokenFile."),m("awsContainerAuthorizationToken will take precedence.")),r)t=r;else{if(!n)throw new i.CredentialsProviderError("No HTTP credential provider host provided.\nSet AWS_CONTAINER_CREDENTIALS_FULL_URI or AWS_CONTAINER_CREDENTIALS_RELATIVE_URI.",{logger:e.logger});t=`http://169.254.170.2${n}`}const h=new URL(t);(0,c.checkUrl)(h,e.logger);const f=new s.NodeHttpHandler({requestTimeout:e.timeout??1e3,connectionTimeout:e.timeout??1e3});return(0,d.retryWrapper)(async()=>{const t=(0,l.createGetRequest)(h);u?t.headers.Authorization=u:p&&(t.headers.Authorization=(await a.default.readFile(p)).toString());try{const e=await f.handle(t);return(0,l.getCredentials)(e.response).then(e=>(0,o.setCredentialFeature)(e,"CREDENTIALS_HTTP","z"))}catch(t){throw new i.CredentialsProviderError(String(t),{logger:e.logger})}},e.maxRetries??3,e.timeout??1e3)}},8914:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createGetRequest=function(e){return new o.HttpRequest({protocol:e.protocol,hostname:e.hostname,port:Number(e.port),path:e.pathname,query:Array.from(e.searchParams.entries()).reduce((e,[t,n])=>(e[t]=n,e),{}),fragment:e.hash})},t.getCredentials=async function(e,t){const n=(0,i.sdkStreamMixin)(e.body),o=await n.transformToString();if(200===e.statusCode){const e=JSON.parse(o);if("string"!=typeof e.AccessKeyId||"string"!=typeof e.SecretAccessKey||"string"!=typeof e.Token||"string"!=typeof e.Expiration)throw new r.CredentialsProviderError("HTTP credential provider response not of the required format, an object matching: { AccessKeyId: string, SecretAccessKey: string, Token: string, Expiration: string(rfc3339) }",{logger:t});return{accessKeyId:e.AccessKeyId,secretAccessKey:e.SecretAccessKey,sessionToken:e.Token,expiration:(0,s.parseRfc3339DateTime)(e.Expiration)}}if(e.statusCode>=400&&e.statusCode<500){let n={};try{n=JSON.parse(o)}catch(e){}throw Object.assign(new r.CredentialsProviderError(`Server responded with status: ${e.statusCode}`,{logger:t}),{Code:n.Code,Message:n.Message})}throw new r.CredentialsProviderError(`Server responded with status: ${e.statusCode}`,{logger:t})};const r=n(1238),o=n(2356),s=n(1411),i=n(4252)},1122:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.retryWrapper=void 0;t.retryWrapper=(e,t,n)=>async()=>{for(let r=0;r<t;++r)try{return await e()}catch(e){await new Promise(e=>setTimeout(e,n))}return await e()}},8605:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.fromHttp=void 0;var r=n(8712);Object.defineProperty(t,"fromHttp",{enumerable:!0,get:function(){return r.fromHttp}})},5869:(e,t,n)=>{"use strict";var r,o=Object.create,s=Object.defineProperty,i=Object.getOwnPropertyDescriptor,a=Object.getOwnPropertyNames,c=Object.getPrototypeOf,l=Object.prototype.hasOwnProperty,d=(e,t)=>s(e,"name",{value:t,configurable:!0}),u=(e,t,n,r)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let o of a(t))l.call(e,o)||o===n||s(e,o,{get:()=>t[o],enumerable:!(r=i(t,o))||r.enumerable});return e},p=(e,t,n)=>(n=null!=e?o(c(e)):{},u(!t&&e&&e.__esModule?n:s(n,"default",{value:e,enumerable:!0}),e)),m={};((e,t)=>{for(var n in t)s(e,n,{get:t[n],enumerable:!0})})(m,{fromIni:()=>k}),e.exports=(r=m,u(s({},"__esModule",{value:!0}),r));var h=n(4964),f=n(5152),g=n(1238),y=d((e,t,r)=>{const o={EcsContainer:d(async e=>{const{fromHttp:t}=await Promise.resolve().then(()=>p(n(8605))),{fromContainerMetadata:o}=await Promise.resolve().then(()=>p(n(566)));return r?.debug("@aws-sdk/credential-provider-ini - credential_source is EcsContainer"),async()=>(0,g.chain)(t(e??{}),o(e))().then(v)},"EcsContainer"),Ec2InstanceMetadata:d(async e=>{r?.debug("@aws-sdk/credential-provider-ini - credential_source is Ec2InstanceMetadata");const{fromInstanceMetadata:t}=await Promise.resolve().then(()=>p(n(566)));return async()=>t(e)().then(v)},"Ec2InstanceMetadata"),Environment:d(async e=>{r?.debug("@aws-sdk/credential-provider-ini - credential_source is Environment");const{fromEnv:t}=await Promise.resolve().then(()=>p(n(5606)));return async()=>t(e)().then(v)},"Environment")};if(e in o)return o[e];throw new g.CredentialsProviderError(`Unsupported credential source in profile ${t}. Got ${e}, expected EcsContainer or Ec2InstanceMetadata or Environment.`,{logger:r})},"resolveCredentialSource"),v=d(e=>(0,f.setCredentialFeature)(e,"CREDENTIALS_PROFILE_NAMED_PROVIDER","p"),"setNamedProvider"),b=d((e,{profile:t="default",logger:n}={})=>Boolean(e)&&"object"==typeof e&&"string"==typeof e.role_arn&&["undefined","string"].indexOf(typeof e.role_session_name)>-1&&["undefined","string"].indexOf(typeof e.external_id)>-1&&["undefined","string"].indexOf(typeof e.mfa_serial)>-1&&(S(e,{profile:t,logger:n})||_(e,{profile:t,logger:n})),"isAssumeRoleProfile"),S=d((e,{profile:t,logger:n})=>{const r="string"==typeof e.source_profile&&void 0===e.credential_source;return r&&n?.debug?.(`    ${t} isAssumeRoleWithSourceProfile source_profile=${e.source_profile}`),r},"isAssumeRoleWithSourceProfile"),_=d((e,{profile:t,logger:n})=>{const r="string"==typeof e.credential_source&&void 0===e.source_profile;return r&&n?.debug?.(`    ${t} isCredentialSourceProfile credential_source=${e.credential_source}`),r},"isCredentialSourceProfile"),w=d(async(e,t,r,o={})=>{r.logger?.debug("@aws-sdk/credential-provider-ini - resolveAssumeRoleCredentials (STS)");const s=t[e],{source_profile:i,region:a}=s;if(!r.roleAssumer){const{getDefaultRoleAssumer:e}=await Promise.resolve().then(()=>p(n(1136)));r.roleAssumer=e({...r.clientConfig,credentialProviderLogger:r.logger,parentClientConfig:{...r?.parentClientConfig,region:a??r?.parentClientConfig?.region}},r.clientPlugins)}if(i&&i in o)throw new g.CredentialsProviderError(`Detected a cycle attempting to resolve credentials for profile ${(0,h.getProfileName)(r)}. Profiles visited: `+Object.keys(o).join(", "),{logger:r.logger});r.logger?.debug("@aws-sdk/credential-provider-ini - finding credential resolver using "+(i?`source_profile=[${i}]`:`profile=[${e}]`));const c=i?D(i,t,r,{...o,[i]:!0},E(t[i]??{})):(await y(s.credential_source,e,r.logger)(r))();if(E(s))return c.then(e=>(0,f.setCredentialFeature)(e,"CREDENTIALS_PROFILE_SOURCE_PROFILE","o"));{const t={RoleArn:s.role_arn,RoleSessionName:s.role_session_name||`aws-sdk-js-${Date.now()}`,ExternalId:s.external_id,DurationSeconds:parseInt(s.duration_seconds||"3600",10)},{mfa_serial:n}=s;if(n){if(!r.mfaCodeProvider)throw new g.CredentialsProviderError(`Profile ${e} requires multi-factor authentication, but no MFA code callback was provided.`,{logger:r.logger,tryNextLink:!1});t.SerialNumber=n,t.TokenCode=await r.mfaCodeProvider(n)}const o=await c;return r.roleAssumer(o,t).then(e=>(0,f.setCredentialFeature)(e,"CREDENTIALS_PROFILE_SOURCE_PROFILE","o"))}},"resolveAssumeRoleCredentials"),E=d(e=>!e.role_arn&&!!e.credential_source,"isCredentialSourceWithoutRoleArn"),P=d(e=>Boolean(e)&&"object"==typeof e&&"string"==typeof e.credential_process,"isProcessProfile"),C=d(async(e,t)=>Promise.resolve().then(()=>p(n(5360))).then(({fromProcess:n})=>n({...e,profile:t})().then(e=>(0,f.setCredentialFeature)(e,"CREDENTIALS_PROFILE_PROCESS","v"))),"resolveProcessCredentials"),O=d(async(e,t,r={})=>{const{fromSSO:o}=await Promise.resolve().then(()=>p(n(998)));return o({profile:e,logger:r.logger,parentClientConfig:r.parentClientConfig,clientConfig:r.clientConfig})().then(e=>t.sso_session?(0,f.setCredentialFeature)(e,"CREDENTIALS_PROFILE_SSO","r"):(0,f.setCredentialFeature)(e,"CREDENTIALS_PROFILE_SSO_LEGACY","t"))},"resolveSsoCredentials"),A=d(e=>e&&("string"==typeof e.sso_start_url||"string"==typeof e.sso_account_id||"string"==typeof e.sso_session||"string"==typeof e.sso_region||"string"==typeof e.sso_role_name),"isSsoProfile"),x=d(e=>Boolean(e)&&"object"==typeof e&&"string"==typeof e.aws_access_key_id&&"string"==typeof e.aws_secret_access_key&&["undefined","string"].indexOf(typeof e.aws_session_token)>-1&&["undefined","string"].indexOf(typeof e.aws_account_id)>-1,"isStaticCredsProfile"),I=d(async(e,t)=>{t?.logger?.debug("@aws-sdk/credential-provider-ini - resolveStaticCredentials");const n={accessKeyId:e.aws_access_key_id,secretAccessKey:e.aws_secret_access_key,sessionToken:e.aws_session_token,...e.aws_credential_scope&&{credentialScope:e.aws_credential_scope},...e.aws_account_id&&{accountId:e.aws_account_id}};return(0,f.setCredentialFeature)(n,"CREDENTIALS_PROFILE","n")},"resolveStaticCredentials"),R=d(e=>Boolean(e)&&"object"==typeof e&&"string"==typeof e.web_identity_token_file&&"string"==typeof e.role_arn&&["undefined","string"].indexOf(typeof e.role_session_name)>-1,"isWebIdentityProfile"),T=d(async(e,t)=>Promise.resolve().then(()=>p(n(9956))).then(({fromTokenFile:n})=>n({webIdentityTokenFile:e.web_identity_token_file,roleArn:e.role_arn,roleSessionName:e.role_session_name,roleAssumerWithWebIdentity:t.roleAssumerWithWebIdentity,logger:t.logger,parentClientConfig:t.parentClientConfig})().then(e=>(0,f.setCredentialFeature)(e,"CREDENTIALS_PROFILE_STS_WEB_ID_TOKEN","q"))),"resolveWebIdentityCredentials"),D=d(async(e,t,n,r={},o=!1)=>{const s=t[e];if(Object.keys(r).length>0&&x(s))return I(s,n);if(o||b(s,{profile:e,logger:n.logger}))return w(e,t,n,r);if(x(s))return I(s,n);if(R(s))return T(s,n);if(P(s))return C(n,e);if(A(s))return await O(e,s,n);throw new g.CredentialsProviderError(`Could not resolve credentials using profile: [${e}] in configuration/credentials file(s).`,{logger:n.logger})},"resolveProfileData"),k=d((e={})=>async({callerClientConfig:t}={})=>{const n={...e,parentClientConfig:{...t,...e.parentClientConfig}};n.logger?.debug("@aws-sdk/credential-provider-ini - fromIni");const r=await(0,h.parseKnownFiles)(n);return D((0,h.getProfileName)({profile:e.profile??t?.profile}),r,n)},"fromIni")},5861:(e,t,n)=>{"use strict";var r,o=Object.create,s=Object.defineProperty,i=Object.getOwnPropertyDescriptor,a=Object.getOwnPropertyNames,c=Object.getPrototypeOf,l=Object.prototype.hasOwnProperty,d=(e,t)=>s(e,"name",{value:t,configurable:!0}),u=(e,t,n,r)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let o of a(t))l.call(e,o)||o===n||s(e,o,{get:()=>t[o],enumerable:!(r=i(t,o))||r.enumerable});return e},p=(e,t,n)=>(n=null!=e?o(c(e)):{},u(!t&&e&&e.__esModule?n:s(n,"default",{value:e,enumerable:!0}),e)),m={};((e,t)=>{for(var n in t)s(e,n,{get:t[n],enumerable:!0})})(m,{credentialsTreatedAsExpired:()=>w,credentialsWillNeedRefresh:()=>_,defaultProvider:()=>S}),e.exports=(r=m,u(s({},"__esModule",{value:!0}),r));var h=n(5606),f=n(4964),g=n(1238),y="AWS_EC2_METADATA_DISABLED",v=d(async e=>{const{ENV_CMDS_FULL_URI:t,ENV_CMDS_RELATIVE_URI:r,fromContainerMetadata:o,fromInstanceMetadata:s}=await Promise.resolve().then(()=>p(n(566)));if(process.env[r]||process.env[t]){e.logger?.debug("@aws-sdk/credential-provider-node - remoteProvider::fromHttp/fromContainerMetadata");const{fromHttp:t}=await Promise.resolve().then(()=>p(n(8605)));return(0,g.chain)(t(e),o(e))}return process.env[y]&&"false"!==process.env[y]?async()=>{throw new g.CredentialsProviderError("EC2 Instance Metadata Service access disabled",{logger:e.logger})}:(e.logger?.debug("@aws-sdk/credential-provider-node - remoteProvider::fromInstanceMetadata"),s(e))},"remoteProvider"),b=!1,S=d((e={})=>(0,g.memoize)((0,g.chain)(async()=>{if(e.profile??process.env[f.ENV_PROFILE]){if(process.env[h.ENV_KEY]&&process.env[h.ENV_SECRET]&&!b){(e.logger?.warn&&"NoOpLogger"!==e.logger?.constructor?.name?e.logger.warn:console.warn)("@aws-sdk/credential-provider-node - defaultProvider::fromEnv WARNING:\n    Multiple credential sources detected: \n    Both AWS_PROFILE and the pair AWS_ACCESS_KEY_ID/AWS_SECRET_ACCESS_KEY static credentials are set.\n    This SDK will proceed with the AWS_PROFILE value.\n    \n    However, a future version may change this behavior to prefer the ENV static credentials.\n    Please ensure that your environment only sets either the AWS_PROFILE or the\n    AWS_ACCESS_KEY_ID/AWS_SECRET_ACCESS_KEY pair.\n"),b=!0}throw new g.CredentialsProviderError("AWS_PROFILE is set, skipping fromEnv provider.",{logger:e.logger,tryNextLink:!0})}return e.logger?.debug("@aws-sdk/credential-provider-node - defaultProvider::fromEnv"),(0,h.fromEnv)(e)()},async()=>{e.logger?.debug("@aws-sdk/credential-provider-node - defaultProvider::fromSSO");const{ssoStartUrl:t,ssoAccountId:r,ssoRegion:o,ssoRoleName:s,ssoSession:i}=e;if(!(t||r||o||s||i))throw new g.CredentialsProviderError("Skipping SSO provider in default chain (inputs do not include SSO fields).",{logger:e.logger});const{fromSSO:a}=await Promise.resolve().then(()=>p(n(998)));return a(e)()},async()=>{e.logger?.debug("@aws-sdk/credential-provider-node - defaultProvider::fromIni");const{fromIni:t}=await Promise.resolve().then(()=>p(n(5869)));return t(e)()},async()=>{e.logger?.debug("@aws-sdk/credential-provider-node - defaultProvider::fromProcess");const{fromProcess:t}=await Promise.resolve().then(()=>p(n(5360)));return t(e)()},async()=>{e.logger?.debug("@aws-sdk/credential-provider-node - defaultProvider::fromTokenFile");const{fromTokenFile:t}=await Promise.resolve().then(()=>p(n(9956)));return t(e)()},async()=>(e.logger?.debug("@aws-sdk/credential-provider-node - defaultProvider::remoteProvider"),(await v(e))()),async()=>{throw new g.CredentialsProviderError("Could not load credentials from any providers",{tryNextLink:!1,logger:e.logger})}),w,_),"defaultProvider"),_=d(e=>void 0!==e?.expiration,"credentialsWillNeedRefresh"),w=d(e=>void 0!==e?.expiration&&e.expiration.getTime()-Date.now()<3e5,"credentialsTreatedAsExpired")},5360:(e,t,n)=>{"use strict";var r,o=Object.defineProperty,s=Object.getOwnPropertyDescriptor,i=Object.getOwnPropertyNames,a=Object.prototype.hasOwnProperty,c=(e,t)=>o(e,"name",{value:t,configurable:!0}),l={};((e,t)=>{for(var n in t)o(e,n,{get:t[n],enumerable:!0})})(l,{fromProcess:()=>y}),e.exports=(r=l,((e,t,n,r)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let c of i(t))a.call(e,c)||c===n||o(e,c,{get:()=>t[c],enumerable:!(r=s(t,c))||r.enumerable});return e})(o({},"__esModule",{value:!0}),r));var d=n(4964),u=n(1238),p=n(5317),m=n(9023),h=n(5152),f=c((e,t,n)=>{if(1!==t.Version)throw Error(`Profile ${e} credential_process did not return Version 1.`);if(void 0===t.AccessKeyId||void 0===t.SecretAccessKey)throw Error(`Profile ${e} credential_process returned invalid credentials.`);if(t.Expiration){const n=new Date;if(new Date(t.Expiration)<n)throw Error(`Profile ${e} credential_process returned expired credentials.`)}let r=t.AccountId;!r&&n?.[e]?.aws_account_id&&(r=n[e].aws_account_id);const o={accessKeyId:t.AccessKeyId,secretAccessKey:t.SecretAccessKey,...t.SessionToken&&{sessionToken:t.SessionToken},...t.Expiration&&{expiration:new Date(t.Expiration)},...t.CredentialScope&&{credentialScope:t.CredentialScope},...r&&{accountId:r}};return(0,h.setCredentialFeature)(o,"CREDENTIALS_PROCESS","w"),o},"getValidatedProcessCredentials"),g=c(async(e,t,n)=>{const r=t[e];if(!t[e])throw new u.CredentialsProviderError(`Profile ${e} could not be found in shared credentials file.`,{logger:n});{const o=r.credential_process;if(void 0===o)throw new u.CredentialsProviderError(`Profile ${e} did not contain credential_process.`,{logger:n});{const r=(0,m.promisify)(p.exec);try{const{stdout:n}=await r(o);let s;try{s=JSON.parse(n.trim())}catch{throw Error(`Profile ${e} credential_process returned invalid JSON.`)}return f(e,s,t)}catch(e){throw new u.CredentialsProviderError(e.message,{logger:n})}}}},"resolveProcessCredentials"),y=c((e={})=>async({callerClientConfig:t}={})=>{e.logger?.debug("@aws-sdk/credential-provider-process - fromProcess");const n=await(0,d.parseKnownFiles)(e);return g((0,d.getProfileName)({profile:e.profile??t?.profile}),n,e.logger)},"fromProcess")},998:(e,t,n)=>{"use strict";var r,o=Object.defineProperty,s=Object.getOwnPropertyDescriptor,i=Object.getOwnPropertyNames,a=Object.prototype.hasOwnProperty,c=(e,t)=>o(e,"name",{value:t,configurable:!0}),l=(e,t)=>{for(var n in t)o(e,n,{get:t[n],enumerable:!0})},d={};l(d,{GetRoleCredentialsCommand:()=>r.GetRoleCredentialsCommand,SSOClient:()=>r.SSOClient});var u,p,m,h=(u={"src/loadSso.ts"(){r=n(2054)}},function(){return u&&(p=(0,u[i(u)[0]])(u=0)),p}),f={};l(f,{fromSSO:()=>P,isSsoProfile:()=>g,validateSsoProfile:()=>E}),e.exports=(m=f,((e,t,n,r)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let c of i(t))a.call(e,c)||c===n||o(e,c,{get:()=>t[c],enumerable:!(r=s(t,c))||r.enumerable});return e})(o({},"__esModule",{value:!0}),m));var g=c(e=>e&&("string"==typeof e.sso_start_url||"string"==typeof e.sso_account_id||"string"==typeof e.sso_session||"string"==typeof e.sso_region||"string"==typeof e.sso_role_name),"isSsoProfile"),y=n(5152),v=n(5433),b=n(1238),S=n(4964),_=!1,w=c(async({ssoStartUrl:e,ssoSession:t,ssoAccountId:n,ssoRegion:r,ssoRoleName:o,ssoClient:s,clientConfig:i,parentClientConfig:a,profile:c,logger:l})=>{let u;const p="To refresh this SSO session run aws sso login with the corresponding profile.";if(t)try{const e=await(0,v.fromSso)({profile:c})();u={accessToken:e.token,expiresAt:new Date(e.expiration).toISOString()}}catch(e){throw new b.CredentialsProviderError(e.message,{tryNextLink:_,logger:l})}else try{u=await(0,S.getSSOTokenFromFile)(e)}catch(e){throw new b.CredentialsProviderError(`The SSO session associated with this profile is invalid. ${p}`,{tryNextLink:_,logger:l})}if(new Date(u.expiresAt).getTime()-Date.now()<=0)throw new b.CredentialsProviderError(`The SSO session associated with this profile has expired. ${p}`,{tryNextLink:_,logger:l});const{accessToken:m}=u,{SSOClient:f,GetRoleCredentialsCommand:g}=await Promise.resolve().then(()=>(h(),d)),w=s||new f(Object.assign({},i??{},{logger:i?.logger??a?.logger,region:i?.region??r}));let E;try{E=await w.send(new g({accountId:n,roleName:o,accessToken:m}))}catch(e){throw new b.CredentialsProviderError(e,{tryNextLink:_,logger:l})}const{roleCredentials:{accessKeyId:P,secretAccessKey:C,sessionToken:O,expiration:A,credentialScope:x,accountId:I}={}}=E;if(!(P&&C&&O&&A))throw new b.CredentialsProviderError("SSO returns an invalid temporary credential.",{tryNextLink:_,logger:l});const R={accessKeyId:P,secretAccessKey:C,sessionToken:O,expiration:new Date(A),...x&&{credentialScope:x},...I&&{accountId:I}};return t?(0,y.setCredentialFeature)(R,"CREDENTIALS_SSO","s"):(0,y.setCredentialFeature)(R,"CREDENTIALS_SSO_LEGACY","u"),R},"resolveSSOCredentials"),E=c((e,t)=>{const{sso_start_url:n,sso_account_id:r,sso_region:o,sso_role_name:s}=e;if(!(n&&r&&o&&s))throw new b.CredentialsProviderError(`Profile is configured with invalid SSO credentials. Required parameters "sso_account_id", "sso_region", "sso_role_name", "sso_start_url". Got ${Object.keys(e).join(", ")}\nReference: https://docs.aws.amazon.com/cli/latest/userguide/cli-configure-sso.html`,{tryNextLink:!1,logger:t});return e},"validateSsoProfile"),P=c((e={})=>async({callerClientConfig:t}={})=>{e.logger?.debug("@aws-sdk/credential-provider-sso - fromSSO");const{ssoStartUrl:n,ssoAccountId:r,ssoRegion:o,ssoRoleName:s,ssoSession:i}=e,{ssoClient:a}=e,c=(0,S.getProfileName)({profile:e.profile??t?.profile});if(n||r||o||s||i){if(n&&r&&o&&s)return w({ssoStartUrl:n,ssoSession:i,ssoAccountId:r,ssoRegion:o,ssoRoleName:s,ssoClient:a,clientConfig:e.clientConfig,parentClientConfig:e.parentClientConfig,profile:c});throw new b.CredentialsProviderError('Incomplete configuration. The fromSSO() argument hash must include "ssoStartUrl", "ssoAccountId", "ssoRegion", "ssoRoleName"',{tryNextLink:!1,logger:e.logger})}{const t=(await(0,S.parseKnownFiles)(e))[c];if(!t)throw new b.CredentialsProviderError(`Profile ${c} was not found.`,{logger:e.logger});if(!g(t))throw new b.CredentialsProviderError(`Profile ${c} is not configured with SSO credentials.`,{logger:e.logger});if(t?.sso_session){const r=(await(0,S.loadSsoSessionData)(e))[t.sso_session],s=` configurations in profile ${c} and sso-session ${t.sso_session}`;if(o&&o!==r.sso_region)throw new b.CredentialsProviderError("Conflicting SSO region"+s,{tryNextLink:!1,logger:e.logger});if(n&&n!==r.sso_start_url)throw new b.CredentialsProviderError("Conflicting SSO start_url"+s,{tryNextLink:!1,logger:e.logger});t.sso_region=r.sso_region,t.sso_start_url=r.sso_start_url}const{sso_start_url:r,sso_account_id:s,sso_region:i,sso_role_name:l,sso_session:d}=E(t,e.logger);return w({ssoStartUrl:r,ssoSession:d,ssoAccountId:s,ssoRegion:i,ssoRoleName:l,ssoClient:a,clientConfig:e.clientConfig,parentClientConfig:e.parentClientConfig,profile:c})}},"fromSSO")},8079:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.fromTokenFile=void 0;const r=n(5152),o=n(1238),s=n(9896),i=n(4453),a="AWS_WEB_IDENTITY_TOKEN_FILE";t.fromTokenFile=(e={})=>async()=>{e.logger?.debug("@aws-sdk/credential-provider-web-identity - fromTokenFile");const t=e?.webIdentityTokenFile??process.env[a],n=e?.roleArn??process.env.AWS_ROLE_ARN,c=e?.roleSessionName??process.env.AWS_ROLE_SESSION_NAME;if(!t||!n)throw new o.CredentialsProviderError("Web identity configuration not specified",{logger:e.logger});const l=await(0,i.fromWebToken)({...e,webIdentityToken:(0,s.readFileSync)(t,{encoding:"ascii"}),roleArn:n,roleSessionName:c})();return t===process.env[a]&&(0,r.setCredentialFeature)(l,"CREDENTIALS_ENV_VARS_STS_WEB_ID_TOKEN","h"),l}},4453:function(e,t,n){"use strict";var r,o=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(t,n);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,o)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),s=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__importStar||(r=function(e){return r=Object.getOwnPropertyNames||function(e){var t=[];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[t.length]=n);return t},r(e)},function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n=r(e),i=0;i<n.length;i++)"default"!==n[i]&&o(t,e,n[i]);return s(t,e),t});Object.defineProperty(t,"__esModule",{value:!0}),t.fromWebToken=void 0;t.fromWebToken=e=>async t=>{e.logger?.debug("@aws-sdk/credential-provider-web-identity - fromWebToken");const{roleArn:r,roleSessionName:o,webIdentityToken:s,providerId:a,policyArns:c,policy:l,durationSeconds:d}=e;let{roleAssumerWithWebIdentity:u}=e;if(!u){const{getDefaultRoleAssumerWithWebIdentity:r}=await Promise.resolve().then(()=>i(n(1136)));u=r({...e.clientConfig,credentialProviderLogger:e.logger,parentClientConfig:{...t?.callerClientConfig,...e.parentClientConfig}},e.clientPlugins)}return u({RoleArn:r,RoleSessionName:o??`aws-sdk-js-session-${Date.now()}`,WebIdentityToken:s,ProviderId:a,PolicyArns:c,Policy:l,DurationSeconds:d})}},9956:(e,t,n)=>{"use strict";var r,o=Object.defineProperty,s=Object.getOwnPropertyDescriptor,i=Object.getOwnPropertyNames,a=Object.prototype.hasOwnProperty,c=(e,t,n,r)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let c of i(t))a.call(e,c)||c===n||o(e,c,{get:()=>t[c],enumerable:!(r=s(t,c))||r.enumerable});return e},l=(e,t,n)=>(c(e,t,"default"),n&&c(n,t,"default")),d={};e.exports=(r=d,c(o({},"__esModule",{value:!0}),r)),l(d,n(8079),e.exports),l(d,n(4453),e.exports)},557:(e,t,n)=>{"use strict";var r,o=Object.defineProperty,s=Object.getOwnPropertyDescriptor,i=Object.getOwnPropertyNames,a=Object.prototype.hasOwnProperty,c=(e,t)=>o(e,"name",{value:t,configurable:!0}),l={};((e,t)=>{for(var n in t)o(e,n,{get:t[n],enumerable:!0})})(l,{eventStreamPayloadHandlerProvider:()=>f}),e.exports=(r=l,((e,t,n,r)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let c of i(t))a.call(e,c)||c===n||o(e,c,{get:()=>t[c],enumerable:!(r=s(t,c))||r.enumerable});return e})(o({},"__esModule",{value:!0}),r));var d=n(7788),u=n(2203),p=class extends u.Transform{static{c(this,"EventSigningStream")}priorSignature;messageSigner;eventStreamCodec;systemClockOffsetProvider;constructor(e){super({autoDestroy:!0,readableObjectMode:!0,writableObjectMode:!0,...e}),this.priorSignature=e.priorSignature,this.eventStreamCodec=e.eventStreamCodec,this.messageSigner=e.messageSigner,this.systemClockOffsetProvider=e.systemClockOffsetProvider}async _transform(e,t,n){try{const t=new Date(Date.now()+await this.systemClockOffsetProvider()),r={":date":{type:"timestamp",value:t}},o=await this.messageSigner.sign({message:{body:e,headers:r},priorSignature:this.priorSignature},{signingDate:t});this.priorSignature=o.signature;const s=this.eventStreamCodec.encode({headers:{...r,":chunk-signature":{type:"binary",value:m(o.signature)}},body:e});return this.push(s),n()}catch(e){n(e)}}};function m(e){const t=Buffer.from(e,"hex");return new Uint8Array(t.buffer,t.byteOffset,t.byteLength/Uint8Array.BYTES_PER_ELEMENT)}c(m,"getSignatureBinary");var h=class{static{c(this,"EventStreamPayloadHandler")}messageSigner;eventStreamCodec;systemClockOffsetProvider;constructor(e){this.messageSigner=e.messageSigner,this.eventStreamCodec=new d.EventStreamCodec(e.utf8Encoder,e.utf8Decoder),this.systemClockOffsetProvider=async()=>e.systemClockOffset??0}async handle(e,t,n={}){const r=t.request,{body:o,query:s}=r;if(!(o instanceof u.Readable))throw new Error("Eventstream payload must be a Readable stream.");const i=o;r.body=new u.PassThrough({objectMode:!0});const a=r.headers?.authorization?.match(/Signature=([\w]+)$/),c=new p({priorSignature:a?.[1]??s?.["X-Amz-Signature"]??"",eventStreamCodec:this.eventStreamCodec,messageSigner:await this.messageSigner(),systemClockOffsetProvider:this.systemClockOffsetProvider});let l;(0,u.pipeline)(i,c,r.body,e=>{if(e)throw e});try{l=await e(t)}catch(e){throw r.body.end(),e}return l}},f=c(e=>new h(e),"eventStreamPayloadHandlerProvider")},8254:(e,t,n)=>{"use strict";var r,o=Object.defineProperty,s=Object.getOwnPropertyDescriptor,i=Object.getOwnPropertyNames,a=Object.prototype.hasOwnProperty,c=(e,t)=>o(e,"name",{value:t,configurable:!0}),l={};function d(e){const t=e.signer,n=e.signer,r=Object.assign(e,{eventSigner:t,messageSigner:n}),o=r.eventStreamPayloadHandlerProvider(r);return Object.assign(r,{eventStreamPayloadHandler:o})}((e,t)=>{for(var n in t)o(e,n,{get:t[n],enumerable:!0})})(l,{eventStreamHandlingMiddleware:()=>p,eventStreamHandlingMiddlewareOptions:()=>m,eventStreamHeaderMiddleware:()=>h,eventStreamHeaderMiddlewareOptions:()=>f,getEventStreamPlugin:()=>g,resolveEventStreamConfig:()=>d}),e.exports=(r=l,((e,t,n,r)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let c of i(t))a.call(e,c)||c===n||o(e,c,{get:()=>t[c],enumerable:!(r=s(t,c))||r.enumerable});return e})(o({},"__esModule",{value:!0}),r)),c(d,"resolveEventStreamConfig");var u=n(2356),p=c(e=>(t,n)=>async r=>{const{request:o}=r;return u.HttpRequest.isInstance(o)?e.eventStreamPayloadHandler.handle(t,r,n):t(r)},"eventStreamHandlingMiddleware"),m={tags:["EVENT_STREAM","SIGNATURE","HANDLE"],name:"eventStreamHandlingMiddleware",relation:"after",toMiddleware:"awsAuthMiddleware",override:!0},h=c(e=>async t=>{const{request:n}=t;return u.HttpRequest.isInstance(n)?(n.headers={...n.headers,"content-type":"application/vnd.amazon.eventstream","x-amz-content-sha256":"STREAMING-AWS4-HMAC-SHA256-EVENTS"},e({...t,request:n})):e(t)},"eventStreamHeaderMiddleware"),f={step:"build",tags:["EVENT_STREAM","HEADER","CONTENT_TYPE","CONTENT_SHA256"],name:"eventStreamHeaderMiddleware",override:!0},g=c(e=>({applyToStack:c(t=>{t.addRelativeTo(p(e),m),t.add(h,f)},"applyToStack")}),"getEventStreamPlugin")},2590:(e,t,n)=>{"use strict";var r,o=Object.defineProperty,s=Object.getOwnPropertyDescriptor,i=Object.getOwnPropertyNames,a=Object.prototype.hasOwnProperty,c=(e,t)=>o(e,"name",{value:t,configurable:!0}),l={};((e,t)=>{for(var n in t)o(e,n,{get:t[n],enumerable:!0})})(l,{getHostHeaderPlugin:()=>h,hostHeaderMiddleware:()=>p,hostHeaderMiddlewareOptions:()=>m,resolveHostHeaderConfig:()=>u}),e.exports=(r=l,((e,t,n,r)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let c of i(t))a.call(e,c)||c===n||o(e,c,{get:()=>t[c],enumerable:!(r=s(t,c))||r.enumerable});return e})(o({},"__esModule",{value:!0}),r));var d=n(2356);function u(e){return e}c(u,"resolveHostHeaderConfig");var p=c(e=>t=>async n=>{if(!d.HttpRequest.isInstance(n.request))return t(n);const{request:r}=n,{handlerProtocol:o=""}=e.requestHandler.metadata||{};if(o.indexOf("h2")>=0&&!r.headers[":authority"])delete r.headers.host,r.headers[":authority"]=r.hostname+(r.port?":"+r.port:"");else if(!r.headers.host){let e=r.hostname;null!=r.port&&(e+=`:${r.port}`),r.headers.host=e}return t(n)},"hostHeaderMiddleware"),m={name:"hostHeaderMiddleware",step:"build",priority:"low",tags:["HOST"],override:!0},h=c(e=>({applyToStack:c(t=>{t.add(p(e),m)},"applyToStack")}),"getHostHeaderPlugin")},5242:e=>{"use strict";var t,n=Object.defineProperty,r=Object.getOwnPropertyDescriptor,o=Object.getOwnPropertyNames,s=Object.prototype.hasOwnProperty,i=(e,t)=>n(e,"name",{value:t,configurable:!0}),a={};((e,t)=>{for(var r in t)n(e,r,{get:t[r],enumerable:!0})})(a,{getLoggerPlugin:()=>d,loggerMiddleware:()=>c,loggerMiddlewareOptions:()=>l}),e.exports=(t=a,((e,t,i,a)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let c of o(t))s.call(e,c)||c===i||n(e,c,{get:()=>t[c],enumerable:!(a=r(t,c))||a.enumerable});return e})(n({},"__esModule",{value:!0}),t));var c=i(()=>(e,t)=>async n=>{try{const r=await e(n),{clientName:o,commandName:s,logger:i,dynamoDbDocumentClientOptions:a={}}=t,{overrideInputFilterSensitiveLog:c,overrideOutputFilterSensitiveLog:l}=a,d=c??t.inputFilterSensitiveLog,u=l??t.outputFilterSensitiveLog,{$metadata:p,...m}=r.output;return i?.info?.({clientName:o,commandName:s,input:d(n.input),output:u(m),metadata:p}),r}catch(e){const{clientName:r,commandName:o,logger:s,dynamoDbDocumentClientOptions:i={}}=t,{overrideInputFilterSensitiveLog:a}=i,c=a??t.inputFilterSensitiveLog;throw s?.error?.({clientName:r,commandName:o,input:c(n.input),error:e,metadata:e.$metadata}),e}},"loggerMiddleware"),l={name:"loggerMiddleware",tags:["LOGGER"],step:"initialize",override:!0},d=i(e=>({applyToStack:i(e=>{e.add(c(),l)},"applyToStack")}),"getLoggerPlugin")},1568:(e,t,n)=>{"use strict";var r,o=Object.defineProperty,s=Object.getOwnPropertyDescriptor,i=Object.getOwnPropertyNames,a=Object.prototype.hasOwnProperty,c=(e,t)=>o(e,"name",{value:t,configurable:!0}),l={};((e,t)=>{for(var n in t)o(e,n,{get:t[n],enumerable:!0})})(l,{addRecursionDetectionMiddlewareOptions:()=>m,getRecursionDetectionPlugin:()=>h,recursionDetectionMiddleware:()=>p}),e.exports=(r=l,((e,t,n,r)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let c of i(t))a.call(e,c)||c===n||o(e,c,{get:()=>t[c],enumerable:!(r=s(t,c))||r.enumerable});return e})(o({},"__esModule",{value:!0}),r));var d=n(2356),u="X-Amzn-Trace-Id",p=c(e=>t=>async n=>{const{request:r}=n;if(!d.HttpRequest.isInstance(r)||"node"!==e.runtime)return t(n);const o=Object.keys(r.headers??{}).find(e=>e.toLowerCase()===u.toLowerCase())??u;if(r.headers.hasOwnProperty(o))return t(n);const s=process.env.AWS_LAMBDA_FUNCTION_NAME,i=process.env._X_AMZN_TRACE_ID,a=c(e=>"string"==typeof e&&e.length>0,"nonEmptyString");return a(s)&&a(i)&&(r.headers[u]=i),t({...n,request:r})},"recursionDetectionMiddleware"),m={step:"build",tags:["RECURSION_DETECTION"],name:"recursionDetectionMiddleware",override:!0,priority:"low"},h=c(e=>({applyToStack:c(t=>{t.add(p(e),m)},"applyToStack")}),"getRecursionDetectionPlugin")},2959:(e,t,n)=>{"use strict";var r,o=Object.defineProperty,s=Object.getOwnPropertyDescriptor,i=Object.getOwnPropertyNames,a=Object.prototype.hasOwnProperty,c=(e,t)=>o(e,"name",{value:t,configurable:!0}),l={};((e,t)=>{for(var n in t)o(e,n,{get:t[n],enumerable:!0})})(l,{DEFAULT_UA_APP_ID:()=>u,getUserAgentMiddlewareOptions:()=>O,getUserAgentPlugin:()=>A,resolveUserAgentConfig:()=>m,userAgentMiddleware:()=>P}),e.exports=(r=l,((e,t,n,r)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let c of i(t))a.call(e,c)||c===n||o(e,c,{get:()=>t[c],enumerable:!(r=s(t,c))||r.enumerable});return e})(o({},"__esModule",{value:!0}),r));var d=n(402),u=void 0;function p(e){return void 0===e||"string"==typeof e&&e.length<=50}function m(e){const t=(0,d.normalizeProvider)(e.userAgentAppId??u),{customUserAgent:n}=e;return Object.assign(e,{customUserAgent:"string"==typeof n?[[n]]:n,userAgentAppId:c(async()=>{const n=await t();if(!p(n)){const t="NoOpLogger"!==e.logger?.constructor?.name&&e.logger?e.logger:console;"string"!=typeof n?t?.warn("userAgentAppId must be a string or undefined."):n.length>50&&t?.warn("The provided userAgentAppId exceeds the maximum length of 50 characters.")}return n},"userAgentAppId")})}c(p,"isValidUserAgentAppId"),c(m,"resolveUserAgentConfig");var h=n(3068),f=n(2356),g=n(8704),y=/\d{12}\.ddb/;async function v(e,t,n){const r=n.request;if("rpc-v2-cbor"===r?.headers?.["smithy-protocol"]&&(0,g.setFeature)(e,"PROTOCOL_RPC_V2_CBOR","M"),"function"==typeof t.retryStrategy){const n=await t.retryStrategy();"function"==typeof n.acquireInitialRetryToken?n.constructor?.name?.includes("Adaptive")?(0,g.setFeature)(e,"RETRY_MODE_ADAPTIVE","F"):(0,g.setFeature)(e,"RETRY_MODE_STANDARD","E"):(0,g.setFeature)(e,"RETRY_MODE_LEGACY","D")}if("function"==typeof t.accountIdEndpointMode){const n=e.endpointV2;switch(String(n?.url?.hostname).match(y)&&(0,g.setFeature)(e,"ACCOUNT_ID_ENDPOINT","O"),await(t.accountIdEndpointMode?.())){case"disabled":(0,g.setFeature)(e,"ACCOUNT_ID_MODE_DISABLED","Q");break;case"preferred":(0,g.setFeature)(e,"ACCOUNT_ID_MODE_PREFERRED","P");break;case"required":(0,g.setFeature)(e,"ACCOUNT_ID_MODE_REQUIRED","R")}}const o=e.__smithy_context?.selectedHttpAuthScheme?.identity;if(o?.$source){const t=o;t.accountId&&(0,g.setFeature)(e,"RESOLVED_ACCOUNT_ID","T");for(const[n,r]of Object.entries(t.$source??{}))(0,g.setFeature)(e,n,r)}}c(v,"checkFeatures");var b="user-agent",S="x-amz-user-agent",_=/[^\!\$\%\&\'\*\+\-\.\^\_\`\|\~\d\w]/g,w=/[^\!\$\%\&\'\*\+\-\.\^\_\`\|\~\d\w\#]/g;function E(e){let t="";for(const n in e){const r=e[n];if(!(t.length+r.length+1<=1024))break;t.length?t+=","+r:t+=r}return t}c(E,"encodeFeatures");var P=c(e=>(t,n)=>async r=>{const{request:o}=r;if(!f.HttpRequest.isInstance(o))return t(r);const{headers:s}=o,i=n?.userAgent?.map(C)||[],a=(await e.defaultUserAgentProvider()).map(C);await v(n,e,r);const c=n;a.push(`m/${E(Object.assign({},n.__smithy_context?.features,c.__aws_sdk_context?.features))}`);const l=e?.customUserAgent?.map(C)||[],d=await e.userAgentAppId();d&&a.push(C([`app/${d}`]));const u=(0,h.getUserAgentPrefix)(),p=(u?[u]:[]).concat([...a,...i,...l]).join(" "),m=[...a.filter(e=>e.startsWith("aws-sdk-")),...l].join(" ");return"browser"!==e.runtime?(m&&(s[S]=s[S]?`${s[b]} ${m}`:m),s[b]=p):s[S]=p,t({...r,request:o})},"userAgentMiddleware"),C=c(e=>{const t=e[0].split("/").map(e=>e.replace(_,"-")).join("/"),n=e[1]?.replace(w,"-"),r=t.indexOf("/"),o=t.substring(0,r);let s=t.substring(r+1);return"api"===o&&(s=s.toLowerCase()),[o,s,n].filter(e=>e&&e.length>0).reduce((e,t,n)=>{switch(n){case 0:return t;case 1:return`${e}/${t}`;default:return`${e}#${t}`}},"")},"escapeUserAgent"),O={name:"getUserAgentMiddleware",step:"build",priority:"low",tags:["SET_USER_AGENT","USER_AGENT"],override:!0},A=c(e=>({applyToStack:c(t=>{t.add(P(e),O)},"applyToStack")}),"getUserAgentPlugin")},8255:(e,t,n)=>{"use strict";var r,o=Object.defineProperty,s=Object.getOwnPropertyDescriptor,i=Object.getOwnPropertyNames,a=Object.prototype.hasOwnProperty,c=(e,t)=>o(e,"name",{value:t,configurable:!0}),l={};((e,t)=>{for(var n in t)o(e,n,{get:t[n],enumerable:!0})})(l,{WebSocketFetchHandler:()=>I,eventStreamPayloadHandlerProvider:()=>h,getWebSocketPlugin:()=>S,resolveWebSocketConfig:()=>E}),e.exports=(r=l,((e,t,n,r)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let c of i(t))a.call(e,c)||c===n||o(e,c,{get:()=>t[c],enumerable:!(r=s(t,c))||r.enumerable});return e})(o({},"__esModule",{value:!0}),r));var d=n(7788),u=n(6435),p=c((e,t,n,r)=>{let o=e;return new TransformStream({...{start(){},async transform(e,s){try{const i=new Date(Date.now()+await r()),a={":date":{type:"timestamp",value:i}},c=await t.sign({message:{body:e,headers:a},priorSignature:o},{signingDate:i});o=c.signature;const l=n.encode({headers:{...a,":chunk-signature":{type:"binary",value:(0,u.fromHex)(c.signature)}},body:e});s.enqueue(l)}catch(e){s.error(e)}}}})},"getEventSigningTransformStream"),m=class{static{c(this,"EventStreamPayloadHandler")}messageSigner;eventStreamCodec;systemClockOffsetProvider;constructor(e){this.messageSigner=e.messageSigner,this.eventStreamCodec=new d.EventStreamCodec(e.utf8Encoder,e.utf8Decoder),this.systemClockOffsetProvider=async()=>e.systemClockOffset??0}async handle(e,t,n={}){const r=t.request,{body:o,headers:s,query:i}=r;if(!(o instanceof ReadableStream))throw new Error("Eventstream payload must be a ReadableStream.");const a=new TransformStream;let c;r.body=a.readable;try{c=await e(t)}catch(e){throw r.body.cancel(),e}const l=((s.authorization||"").match(/Signature=([\w]+)$/)||[])[1]||i&&i["X-Amz-Signature"]||"",d=p(l,await this.messageSigner(),this.eventStreamCodec,this.systemClockOffsetProvider);return o.pipeThrough(d).pipeThrough(a),c}},h=c(e=>new m(e),"eventStreamPayloadHandlerProvider"),f=c(()=>e=>async t=>{const n={...t.input},r=await e(t),o=r.output;return n.SessionId&&null==o.SessionId&&(o.SessionId=n.SessionId),r},"injectSessionIdMiddleware"),g={step:"initialize",name:"injectSessionIdMiddleware",tags:["WEBSOCKET","EVENT_STREAM"],override:!0},y=n(2356),v=c((e,t)=>n=>r=>{const{request:o}=r;if(y.HttpRequest.isInstance(o)&&e.requestHandler.metadata?.handlerProtocol?.toLowerCase().includes("websocket")){o.protocol="wss:",o.method="GET",o.path=`${o.path}-websocket`;const{headers:e}=o;delete e["content-type"],delete e["x-amz-content-sha256"];for(const n of Object.keys(e))if(0===n.indexOf(t.headerPrefix)){const r=n.replace(t.headerPrefix,"");o.query[r]=e[n]}e["x-amz-user-agent"]&&(o.query["user-agent"]=e["x-amz-user-agent"]),o.headers={host:e.host??o.hostname}}return n(r)},"websocketEndpointMiddleware"),b={name:"websocketEndpointMiddleware",tags:["WEBSOCKET","EVENT_STREAM"],relation:"after",toMiddleware:"eventStreamHeaderMiddleware",override:!0},S=c((e,t)=>({applyToStack:c(n=>{n.addRelativeTo(v(e,t),b),n.add(f(),g)},"applyToStack")}),"getWebSocketPlugin"),_=c(e=>"ws:"===e.protocol||"wss:"===e.protocol,"isWebSocketRequest"),w=class{static{c(this,"WebsocketSignatureV4")}signer;constructor(e){this.signer=e.signer}presign(e,t={}){return this.signer.presign(e,t)}async sign(e,t){if(y.HttpRequest.isInstance(e)&&_(e)){return{...await this.signer.presign({...e,body:""},{...t,expiresIn:60,unsignableHeaders:new Set(Object.keys(e.headers).filter(e=>"host"!==e))}),body:e.body}}return this.signer.sign(e,t)}},E=c(e=>{const{signer:t}=e;return Object.assign(e,{signer:c(async e=>{const n=await t(e);if(P(n))return new w({signer:n});throw new Error("Expected WebsocketSignatureV4 signer, please check the client constructor.")},"signer")})},"resolveWebSocketConfig"),P=c(e=>!!e,"validateSigner"),C=n(8831),O=n(422),A=n(7809),x=2e3,I=class e{static{c(this,"WebSocketFetchHandler")}metadata={handlerProtocol:"websocket/h1.1"};config;configPromise;httpHandler;sockets={};static create(t,n=new A.FetchHttpHandler){return"function"==typeof t?.handle?t:new e(t,n)}constructor(e,t=new A.FetchHttpHandler){this.httpHandler=t,"function"==typeof e?(this.config={},this.configPromise=e().then(e=>this.config=e??{})):(this.config=e??{},this.configPromise=Promise.resolve(this.config))}destroy(){for(const[e,t]of Object.entries(this.sockets)){for(const e of t)e.close(1e3,"Socket closed through destroy() call");delete this.sockets[e]}}async handle(e){if(!_(e))return this.httpHandler.handle(e);const t=(0,C.formatUrl)(e),n=new WebSocket(t);this.sockets[t]||(this.sockets[t]=[]),this.sockets[t].push(n),n.binaryType="arraybuffer",this.config=await this.configPromise;const{connectionTimeout:r=x}=this.config;await this.waitForReady(n,r);const{body:o}=e,s=R(o),i=this.connect(n,s),a=T(i);return{response:new y.HttpResponse({statusCode:200,body:a})}}updateHttpClientConfig(e,t){this.configPromise=this.configPromise.then(n=>(n[e]=t,n))}httpHandlerConfigs(){return this.config??{}}removeNotUsableSockets(e){this.sockets[e]=(this.sockets[e]??[]).filter(e=>![WebSocket.CLOSING,WebSocket.CLOSED].includes(e.readyState))}waitForReady(e,t){return new Promise((n,r)=>{const o=setTimeout(()=>{this.removeNotUsableSockets(e.url),r({$metadata:{httpStatusCode:500}})},t);e.onopen=()=>{clearTimeout(o),n()}})}connect(e,t){let n,r=!1,o=c(()=>{},"reject"),s=c(()=>{},"resolve");e.onmessage=e=>{s({done:!1,value:new Uint8Array(e.data)})},e.onerror=t=>{r=!0,e.close(),o(t)},e.onclose=()=>{this.removeNotUsableSockets(e.url),r||(n?o(n):s({done:!0,value:void 0}))};const i={[Symbol.asyncIterator]:()=>({next:c(()=>new Promise((e,t)=>{s=e,o=t}),"next")})};return c(async()=>{try{for await(const n of t)e.send(n)}catch(e){n=e}finally{e.close(1e3)}},"send")(),i}},R=c(e=>e[Symbol.asyncIterator]?e:D(e)?(0,O.readableStreamtoIterable)(e):{[Symbol.asyncIterator]:async function*(){yield e}},"getIterator"),T=c(e=>"function"==typeof ReadableStream?(0,O.iterableToReadableStream)(e):e,"toReadableStream"),D=c(e=>"function"==typeof ReadableStream&&e instanceof ReadableStream,"isReadableStream")},8396:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.resolveHttpAuthSchemeConfig=t.defaultSSOOIDCHttpAuthSchemeProvider=t.defaultSSOOIDCHttpAuthSchemeParametersProvider=void 0;const r=n(8704),o=n(6324);t.defaultSSOOIDCHttpAuthSchemeParametersProvider=async(e,t,n)=>({operation:(0,o.getSmithyContext)(t).operation,region:await(0,o.normalizeProvider)(e.region)()||(()=>{throw new Error("expected `region` to be configured for `aws.auth#sigv4`")})()});t.defaultSSOOIDCHttpAuthSchemeProvider=e=>{const t=[];if("CreateToken"===e.operation)t.push({schemeId:"smithy.api#noAuth"});else t.push(function(e){return{schemeId:"aws.auth#sigv4",signingProperties:{name:"sso-oauth",region:e.region},propertiesExtractor:(e,t)=>({signingProperties:{config:e,context:t}})}}(e));return t};t.resolveHttpAuthSchemeConfig=e=>{const t=(0,r.resolveAwsSdkSigV4Config)(e);return Object.assign(t,{authSchemePreference:(0,o.normalizeProvider)(e.authSchemePreference??[])})}},546:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.defaultEndpointResolver=void 0;const r=n(3068),o=n(9674),s=n(9947),i=new o.EndpointCache({size:50,params:["Endpoint","Region","UseDualStack","UseFIPS"]});t.defaultEndpointResolver=(e,t={})=>i.get(e,()=>(0,o.resolveEndpoint)(s.ruleSet,{endpointParams:e,logger:t.logger})),o.customEndpointFunctions.aws=r.awsEndpointFunctions},9947:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ruleSet=void 0;const n="required",r="fn",o="argv",s="ref",i=!0,a="isSet",c="booleanEquals",l="error",d="endpoint",u="tree",p="PartitionResult",m="getAttr",h={[n]:!1,type:"String"},f={[n]:!0,default:!1,type:"Boolean"},g={[s]:"Endpoint"},y={[r]:c,[o]:[{[s]:"UseFIPS"},!0]},v={[r]:c,[o]:[{[s]:"UseDualStack"},!0]},b={},S={[r]:m,[o]:[{[s]:p},"supportsFIPS"]},_={[s]:p},w={[r]:c,[o]:[!0,{[r]:m,[o]:[_,"supportsDualStack"]}]},E=[y],P=[v],C=[{[s]:"Region"}],O={version:"1.0",parameters:{Region:h,UseDualStack:f,UseFIPS:f,Endpoint:h},rules:[{conditions:[{[r]:a,[o]:[g]}],rules:[{conditions:E,error:"Invalid Configuration: FIPS and custom endpoint are not supported",type:l},{conditions:P,error:"Invalid Configuration: Dualstack and custom endpoint are not supported",type:l},{endpoint:{url:g,properties:b,headers:b},type:d}],type:u},{conditions:[{[r]:a,[o]:C}],rules:[{conditions:[{[r]:"aws.partition",[o]:C,assign:p}],rules:[{conditions:[y,v],rules:[{conditions:[{[r]:c,[o]:[i,S]},w],rules:[{endpoint:{url:"https://oidc-fips.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:b,headers:b},type:d}],type:u},{error:"FIPS and DualStack are enabled, but this partition does not support one or both",type:l}],type:u},{conditions:E,rules:[{conditions:[{[r]:c,[o]:[S,i]}],rules:[{conditions:[{[r]:"stringEquals",[o]:[{[r]:m,[o]:[_,"name"]},"aws-us-gov"]}],endpoint:{url:"https://oidc.{Region}.amazonaws.com",properties:b,headers:b},type:d},{endpoint:{url:"https://oidc-fips.{Region}.{PartitionResult#dnsSuffix}",properties:b,headers:b},type:d}],type:u},{error:"FIPS is enabled but this partition does not support FIPS",type:l}],type:u},{conditions:P,rules:[{conditions:[w],rules:[{endpoint:{url:"https://oidc.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:b,headers:b},type:d}],type:u},{error:"DualStack is enabled but this partition does not support DualStack",type:l}],type:u},{endpoint:{url:"https://oidc.{Region}.{PartitionResult#dnsSuffix}",properties:b,headers:b},type:d}],type:u}],type:u},{error:"Invalid Configuration: Missing Region",type:l}]};t.ruleSet=O},9443:(e,t,n)=>{"use strict";var r,o=Object.defineProperty,s=Object.getOwnPropertyDescriptor,i=Object.getOwnPropertyNames,a=Object.prototype.hasOwnProperty,c=(e,t)=>o(e,"name",{value:t,configurable:!0}),l={};((e,t)=>{for(var n in t)o(e,n,{get:t[n],enumerable:!0})})(l,{$Command:()=>N.Command,AccessDeniedException:()=>F,AuthorizationPendingException:()=>$,CreateTokenCommand:()=>ge,CreateTokenRequestFilterSensitiveLog:()=>U,CreateTokenResponseFilterSensitiveLog:()=>B,ExpiredTokenException:()=>G,InternalServerException:()=>H,InvalidClientException:()=>z,InvalidGrantException:()=>q,InvalidRequestException:()=>W,InvalidScopeException:()=>V,SSOOIDC:()=>ve,SSOOIDCClient:()=>R,SSOOIDCServiceException:()=>L,SlowDownException:()=>J,UnauthorizedClientException:()=>K,UnsupportedGrantTypeException:()=>X,__Client:()=>b.Client}),e.exports=(r=l,((e,t,n,r)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let c of i(t))a.call(e,c)||c===n||o(e,c,{get:()=>t[c],enumerable:!(r=s(t,c))||r.enumerable});return e})(o({},"__esModule",{value:!0}),r));var d=n(2590),u=n(5242),p=n(1568),m=n(2959),h=n(9316),f=n(402),g=n(7212),y=n(99),v=n(9618),b=n(1411),S=n(8396),_=c(e=>Object.assign(e,{useDualstackEndpoint:e.useDualstackEndpoint??!1,useFipsEndpoint:e.useFipsEndpoint??!1,defaultSigningName:"sso-oauth"}),"resolveClientEndpointParameters"),w={UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}},E=n(6901),P=n(6463),C=n(2356),O=n(1411),A=c(e=>{const t=e.httpAuthSchemes;let n=e.httpAuthSchemeProvider,r=e.credentials;return{setHttpAuthScheme(e){const n=t.findIndex(t=>t.schemeId===e.schemeId);-1===n?t.push(e):t.splice(n,1,e)},httpAuthSchemes:()=>t,setHttpAuthSchemeProvider(e){n=e},httpAuthSchemeProvider:()=>n,setCredentials(e){r=e},credentials:()=>r}},"getHttpAuthExtensionConfiguration"),x=c(e=>({httpAuthSchemes:e.httpAuthSchemes(),httpAuthSchemeProvider:e.httpAuthSchemeProvider(),credentials:e.credentials()}),"resolveHttpAuthRuntimeConfig"),I=c((e,t)=>{const n=Object.assign((0,P.getAwsRegionExtensionConfiguration)(e),(0,O.getDefaultExtensionConfiguration)(e),(0,C.getHttpHandlerExtensionConfiguration)(e),A(e));return t.forEach(e=>e.configure(n)),Object.assign(e,(0,P.resolveAwsRegionExtensionConfiguration)(n),(0,O.resolveDefaultRuntimeConfig)(n),(0,C.resolveHttpHandlerRuntimeConfig)(n),x(n))},"resolveRuntimeExtensions"),R=class extends b.Client{static{c(this,"SSOOIDCClient")}config;constructor(...[e]){const t=(0,E.getRuntimeConfig)(e||{});super(t),this.initConfig=t;const n=_(t),r=(0,m.resolveUserAgentConfig)(n),o=(0,v.resolveRetryConfig)(r),s=(0,h.resolveRegionConfig)(o),i=(0,d.resolveHostHeaderConfig)(s),a=(0,y.resolveEndpointConfig)(i),l=(0,S.resolveHttpAuthSchemeConfig)(a),b=I(l,e?.extensions||[]);this.config=b,this.middlewareStack.use((0,m.getUserAgentPlugin)(this.config)),this.middlewareStack.use((0,v.getRetryPlugin)(this.config)),this.middlewareStack.use((0,g.getContentLengthPlugin)(this.config)),this.middlewareStack.use((0,d.getHostHeaderPlugin)(this.config)),this.middlewareStack.use((0,u.getLoggerPlugin)(this.config)),this.middlewareStack.use((0,p.getRecursionDetectionPlugin)(this.config)),this.middlewareStack.use((0,f.getHttpAuthSchemeEndpointRuleSetPlugin)(this.config,{httpAuthSchemeParametersProvider:S.defaultSSOOIDCHttpAuthSchemeParametersProvider,identityProviderConfigProvider:c(async e=>new f.DefaultIdentityProviderConfig({"aws.auth#sigv4":e.credentials}),"identityProviderConfigProvider")})),this.middlewareStack.use((0,f.getHttpSigningPlugin)(this.config))}destroy(){super.destroy()}},T=n(1411),D=n(99),k=n(3255),N=n(1411),j=n(1411),M=n(1411),L=class e extends M.ServiceException{static{c(this,"SSOOIDCServiceException")}constructor(t){super(t),Object.setPrototypeOf(this,e.prototype)}},F=class e extends L{static{c(this,"AccessDeniedException")}name="AccessDeniedException";$fault="client";error;error_description;constructor(t){super({name:"AccessDeniedException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype),this.error=t.error,this.error_description=t.error_description}},$=class e extends L{static{c(this,"AuthorizationPendingException")}name="AuthorizationPendingException";$fault="client";error;error_description;constructor(t){super({name:"AuthorizationPendingException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype),this.error=t.error,this.error_description=t.error_description}},U=c(e=>({...e,...e.clientSecret&&{clientSecret:j.SENSITIVE_STRING},...e.refreshToken&&{refreshToken:j.SENSITIVE_STRING},...e.codeVerifier&&{codeVerifier:j.SENSITIVE_STRING}}),"CreateTokenRequestFilterSensitiveLog"),B=c(e=>({...e,...e.accessToken&&{accessToken:j.SENSITIVE_STRING},...e.refreshToken&&{refreshToken:j.SENSITIVE_STRING},...e.idToken&&{idToken:j.SENSITIVE_STRING}}),"CreateTokenResponseFilterSensitiveLog"),G=class e extends L{static{c(this,"ExpiredTokenException")}name="ExpiredTokenException";$fault="client";error;error_description;constructor(t){super({name:"ExpiredTokenException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype),this.error=t.error,this.error_description=t.error_description}},H=class e extends L{static{c(this,"InternalServerException")}name="InternalServerException";$fault="server";error;error_description;constructor(t){super({name:"InternalServerException",$fault:"server",...t}),Object.setPrototypeOf(this,e.prototype),this.error=t.error,this.error_description=t.error_description}},z=class e extends L{static{c(this,"InvalidClientException")}name="InvalidClientException";$fault="client";error;error_description;constructor(t){super({name:"InvalidClientException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype),this.error=t.error,this.error_description=t.error_description}},q=class e extends L{static{c(this,"InvalidGrantException")}name="InvalidGrantException";$fault="client";error;error_description;constructor(t){super({name:"InvalidGrantException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype),this.error=t.error,this.error_description=t.error_description}},W=class e extends L{static{c(this,"InvalidRequestException")}name="InvalidRequestException";$fault="client";error;error_description;constructor(t){super({name:"InvalidRequestException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype),this.error=t.error,this.error_description=t.error_description}},V=class e extends L{static{c(this,"InvalidScopeException")}name="InvalidScopeException";$fault="client";error;error_description;constructor(t){super({name:"InvalidScopeException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype),this.error=t.error,this.error_description=t.error_description}},J=class e extends L{static{c(this,"SlowDownException")}name="SlowDownException";$fault="client";error;error_description;constructor(t){super({name:"SlowDownException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype),this.error=t.error,this.error_description=t.error_description}},K=class e extends L{static{c(this,"UnauthorizedClientException")}name="UnauthorizedClientException";$fault="client";error;error_description;constructor(t){super({name:"UnauthorizedClientException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype),this.error=t.error,this.error_description=t.error_description}},X=class e extends L{static{c(this,"UnsupportedGrantTypeException")}name="UnsupportedGrantTypeException";$fault="client";error;error_description;constructor(t){super({name:"UnsupportedGrantTypeException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype),this.error=t.error,this.error_description=t.error_description}},Y=n(8704),Q=n(402),Z=n(1411),ee=c(async(e,t)=>{const n=(0,Q.requestBuilder)(e,t);let r;return n.bp("/token"),r=JSON.stringify((0,Z.take)(e,{clientId:[],clientSecret:[],code:[],codeVerifier:[],deviceCode:[],grantType:[],redirectUri:[],refreshToken:[],scope:c(e=>(0,Z._json)(e),"scope")})),n.m("POST").h({"content-type":"application/json"}).b(r),n.build()},"se_CreateTokenCommand"),te=c(async(e,t)=>{if(200!==e.statusCode&&e.statusCode>=300)return ne(e,t);const n=(0,Z.map)({$metadata:fe(e)}),r=(0,Z.expectNonNull)((0,Z.expectObject)(await(0,Y.parseJsonBody)(e.body,t)),"body"),o=(0,Z.take)(r,{accessToken:Z.expectString,expiresIn:Z.expectInt32,idToken:Z.expectString,refreshToken:Z.expectString,tokenType:Z.expectString});return Object.assign(n,o),n},"de_CreateTokenCommand"),ne=c(async(e,t)=>{const n={...e,body:await(0,Y.parseJsonErrorBody)(e.body,t)},r=(0,Y.loadRestJsonErrorCode)(e,n.body);switch(r){case"AccessDeniedException":case"com.amazonaws.ssooidc#AccessDeniedException":throw await oe(n,t);case"AuthorizationPendingException":case"com.amazonaws.ssooidc#AuthorizationPendingException":throw await se(n,t);case"ExpiredTokenException":case"com.amazonaws.ssooidc#ExpiredTokenException":throw await ie(n,t);case"InternalServerException":case"com.amazonaws.ssooidc#InternalServerException":throw await ae(n,t);case"InvalidClientException":case"com.amazonaws.ssooidc#InvalidClientException":throw await ce(n,t);case"InvalidGrantException":case"com.amazonaws.ssooidc#InvalidGrantException":throw await le(n,t);case"InvalidRequestException":case"com.amazonaws.ssooidc#InvalidRequestException":throw await de(n,t);case"InvalidScopeException":case"com.amazonaws.ssooidc#InvalidScopeException":throw await ue(n,t);case"SlowDownException":case"com.amazonaws.ssooidc#SlowDownException":throw await pe(n,t);case"UnauthorizedClientException":case"com.amazonaws.ssooidc#UnauthorizedClientException":throw await me(n,t);case"UnsupportedGrantTypeException":case"com.amazonaws.ssooidc#UnsupportedGrantTypeException":throw await he(n,t);default:const o=n.body;return re({output:e,parsedBody:o,errorCode:r})}},"de_CommandError"),re=(0,Z.withBaseException)(L),oe=c(async(e,t)=>{const n=(0,Z.map)({}),r=e.body,o=(0,Z.take)(r,{error:Z.expectString,error_description:Z.expectString});Object.assign(n,o);const s=new F({$metadata:fe(e),...n});return(0,Z.decorateServiceException)(s,e.body)},"de_AccessDeniedExceptionRes"),se=c(async(e,t)=>{const n=(0,Z.map)({}),r=e.body,o=(0,Z.take)(r,{error:Z.expectString,error_description:Z.expectString});Object.assign(n,o);const s=new $({$metadata:fe(e),...n});return(0,Z.decorateServiceException)(s,e.body)},"de_AuthorizationPendingExceptionRes"),ie=c(async(e,t)=>{const n=(0,Z.map)({}),r=e.body,o=(0,Z.take)(r,{error:Z.expectString,error_description:Z.expectString});Object.assign(n,o);const s=new G({$metadata:fe(e),...n});return(0,Z.decorateServiceException)(s,e.body)},"de_ExpiredTokenExceptionRes"),ae=c(async(e,t)=>{const n=(0,Z.map)({}),r=e.body,o=(0,Z.take)(r,{error:Z.expectString,error_description:Z.expectString});Object.assign(n,o);const s=new H({$metadata:fe(e),...n});return(0,Z.decorateServiceException)(s,e.body)},"de_InternalServerExceptionRes"),ce=c(async(e,t)=>{const n=(0,Z.map)({}),r=e.body,o=(0,Z.take)(r,{error:Z.expectString,error_description:Z.expectString});Object.assign(n,o);const s=new z({$metadata:fe(e),...n});return(0,Z.decorateServiceException)(s,e.body)},"de_InvalidClientExceptionRes"),le=c(async(e,t)=>{const n=(0,Z.map)({}),r=e.body,o=(0,Z.take)(r,{error:Z.expectString,error_description:Z.expectString});Object.assign(n,o);const s=new q({$metadata:fe(e),...n});return(0,Z.decorateServiceException)(s,e.body)},"de_InvalidGrantExceptionRes"),de=c(async(e,t)=>{const n=(0,Z.map)({}),r=e.body,o=(0,Z.take)(r,{error:Z.expectString,error_description:Z.expectString});Object.assign(n,o);const s=new W({$metadata:fe(e),...n});return(0,Z.decorateServiceException)(s,e.body)},"de_InvalidRequestExceptionRes"),ue=c(async(e,t)=>{const n=(0,Z.map)({}),r=e.body,o=(0,Z.take)(r,{error:Z.expectString,error_description:Z.expectString});Object.assign(n,o);const s=new V({$metadata:fe(e),...n});return(0,Z.decorateServiceException)(s,e.body)},"de_InvalidScopeExceptionRes"),pe=c(async(e,t)=>{const n=(0,Z.map)({}),r=e.body,o=(0,Z.take)(r,{error:Z.expectString,error_description:Z.expectString});Object.assign(n,o);const s=new J({$metadata:fe(e),...n});return(0,Z.decorateServiceException)(s,e.body)},"de_SlowDownExceptionRes"),me=c(async(e,t)=>{const n=(0,Z.map)({}),r=e.body,o=(0,Z.take)(r,{error:Z.expectString,error_description:Z.expectString});Object.assign(n,o);const s=new K({$metadata:fe(e),...n});return(0,Z.decorateServiceException)(s,e.body)},"de_UnauthorizedClientExceptionRes"),he=c(async(e,t)=>{const n=(0,Z.map)({}),r=e.body,o=(0,Z.take)(r,{error:Z.expectString,error_description:Z.expectString});Object.assign(n,o);const s=new X({$metadata:fe(e),...n});return(0,Z.decorateServiceException)(s,e.body)},"de_UnsupportedGrantTypeExceptionRes"),fe=c(e=>({httpStatusCode:e.statusCode,requestId:e.headers["x-amzn-requestid"]??e.headers["x-amzn-request-id"]??e.headers["x-amz-request-id"],extendedRequestId:e.headers["x-amz-id-2"],cfId:e.headers["x-amz-cf-id"]}),"deserializeMetadata"),ge=class extends(N.Command.classBuilder().ep(w).m(function(e,t,n,r){return[(0,k.getSerdePlugin)(n,this.serialize,this.deserialize),(0,D.getEndpointPlugin)(n,e.getEndpointParameterInstructions())]}).s("AWSSSOOIDCService","CreateToken",{}).n("SSOOIDCClient","CreateTokenCommand").f(U,B).ser(ee).de(te).build()){static{c(this,"CreateTokenCommand")}},ye={CreateTokenCommand:ge},ve=class extends R{static{c(this,"SSOOIDC")}};(0,T.createAggregatedClient)(ye,ve)},6901:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getRuntimeConfig=void 0;const r=n(1860).__importDefault(n(9955)),o=n(8704),s=n(1656),i=n(9316),a=n(5092),c=n(9618),l=n(5704),d=n(1279),u=n(3638),p=n(5518),m=n(1546),h=n(1411),f=n(5435),g=n(1411);t.getRuntimeConfig=e=>{(0,g.emitWarningIfUnsupportedVersion)(process.version);const t=(0,f.resolveDefaultsModeConfig)(e),n=()=>t().then(h.loadConfigsForDefaultMode),y=(0,m.getRuntimeConfig)(e);(0,o.emitWarningIfUnsupportedVersion)(process.version);const v={profile:e?.profile,logger:y.logger};return{...y,...e,runtime:"node",defaultsMode:t,authSchemePreference:e?.authSchemePreference??(0,l.loadConfig)(o.NODE_AUTH_SCHEME_PREFERENCE_OPTIONS,v),bodyLengthChecker:e?.bodyLengthChecker??u.calculateBodyLength,defaultUserAgentProvider:e?.defaultUserAgentProvider??(0,s.createDefaultUserAgentProvider)({serviceId:y.serviceId,clientVersion:r.default.version}),maxAttempts:e?.maxAttempts??(0,l.loadConfig)(c.NODE_MAX_ATTEMPT_CONFIG_OPTIONS,e),region:e?.region??(0,l.loadConfig)(i.NODE_REGION_CONFIG_OPTIONS,{...i.NODE_REGION_CONFIG_FILE_OPTIONS,...v}),requestHandler:d.NodeHttpHandler.create(e?.requestHandler??n),retryMode:e?.retryMode??(0,l.loadConfig)({...c.NODE_RETRY_MODE_CONFIG_OPTIONS,default:async()=>(await n()).retryMode||p.DEFAULT_RETRY_MODE},e),sha256:e?.sha256??a.Hash.bind(null,"sha256"),streamCollector:e?.streamCollector??d.streamCollector,useDualstackEndpoint:e?.useDualstackEndpoint??(0,l.loadConfig)(i.NODE_USE_DUALSTACK_ENDPOINT_CONFIG_OPTIONS,v),useFipsEndpoint:e?.useFipsEndpoint??(0,l.loadConfig)(i.NODE_USE_FIPS_ENDPOINT_CONFIG_OPTIONS,v),userAgentAppId:e?.userAgentAppId??(0,l.loadConfig)(s.NODE_APP_ID_CONFIG_OPTIONS,v)}}},1546:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getRuntimeConfig=void 0;const r=n(8704),o=n(402),s=n(1411),i=n(4494),a=n(8385),c=n(1577),l=n(8396),d=n(546);t.getRuntimeConfig=e=>({apiVersion:"2019-06-10",base64Decoder:e?.base64Decoder??a.fromBase64,base64Encoder:e?.base64Encoder??a.toBase64,disableHostPrefix:e?.disableHostPrefix??!1,endpointProvider:e?.endpointProvider??d.defaultEndpointResolver,extensions:e?.extensions??[],httpAuthSchemeProvider:e?.httpAuthSchemeProvider??l.defaultSSOOIDCHttpAuthSchemeProvider,httpAuthSchemes:e?.httpAuthSchemes??[{schemeId:"aws.auth#sigv4",identityProvider:e=>e.getIdentityProvider("aws.auth#sigv4"),signer:new r.AwsSdkSigV4Signer},{schemeId:"smithy.api#noAuth",identityProvider:e=>e.getIdentityProvider("smithy.api#noAuth")||(async()=>({})),signer:new o.NoAuthSigner}],logger:e?.logger??new s.NoOpLogger,serviceId:e?.serviceId??"SSO OIDC",urlParser:e?.urlParser??i.parseUrl,utf8Decoder:e?.utf8Decoder??c.fromUtf8,utf8Encoder:e?.utf8Encoder??c.toUtf8})},3723:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.STSClient=t.__Client=void 0;const r=n(2590),o=n(5242),s=n(1568),i=n(2959),a=n(9316),c=n(402),l=n(7212),d=n(99),u=n(9618),p=n(1411);Object.defineProperty(t,"__Client",{enumerable:!0,get:function(){return p.Client}});const m=n(7851),h=n(6811),f=n(6578),g=n(7742);class y extends p.Client{config;constructor(...[e]){const t=(0,f.getRuntimeConfig)(e||{});super(t),this.initConfig=t;const n=(0,h.resolveClientEndpointParameters)(t),p=(0,i.resolveUserAgentConfig)(n),y=(0,u.resolveRetryConfig)(p),v=(0,a.resolveRegionConfig)(y),b=(0,r.resolveHostHeaderConfig)(v),S=(0,d.resolveEndpointConfig)(b),_=(0,m.resolveHttpAuthSchemeConfig)(S),w=(0,g.resolveRuntimeExtensions)(_,e?.extensions||[]);this.config=w,this.middlewareStack.use((0,i.getUserAgentPlugin)(this.config)),this.middlewareStack.use((0,u.getRetryPlugin)(this.config)),this.middlewareStack.use((0,l.getContentLengthPlugin)(this.config)),this.middlewareStack.use((0,r.getHostHeaderPlugin)(this.config)),this.middlewareStack.use((0,o.getLoggerPlugin)(this.config)),this.middlewareStack.use((0,s.getRecursionDetectionPlugin)(this.config)),this.middlewareStack.use((0,c.getHttpAuthSchemeEndpointRuleSetPlugin)(this.config,{httpAuthSchemeParametersProvider:m.defaultSTSHttpAuthSchemeParametersProvider,identityProviderConfigProvider:async e=>new c.DefaultIdentityProviderConfig({"aws.auth#sigv4":e.credentials})})),this.middlewareStack.use((0,c.getHttpSigningPlugin)(this.config))}destroy(){super.destroy()}}t.STSClient=y},4532:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.resolveHttpAuthRuntimeConfig=t.getHttpAuthExtensionConfiguration=void 0;t.getHttpAuthExtensionConfiguration=e=>{const t=e.httpAuthSchemes;let n=e.httpAuthSchemeProvider,r=e.credentials;return{setHttpAuthScheme(e){const n=t.findIndex(t=>t.schemeId===e.schemeId);-1===n?t.push(e):t.splice(n,1,e)},httpAuthSchemes:()=>t,setHttpAuthSchemeProvider(e){n=e},httpAuthSchemeProvider:()=>n,setCredentials(e){r=e},credentials:()=>r}};t.resolveHttpAuthRuntimeConfig=e=>({httpAuthSchemes:e.httpAuthSchemes(),httpAuthSchemeProvider:e.httpAuthSchemeProvider(),credentials:e.credentials()})},7851:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.resolveHttpAuthSchemeConfig=t.resolveStsAuthConfig=t.defaultSTSHttpAuthSchemeProvider=t.defaultSTSHttpAuthSchemeParametersProvider=void 0;const r=n(8704),o=n(6324),s=n(3723);t.defaultSTSHttpAuthSchemeParametersProvider=async(e,t,n)=>({operation:(0,o.getSmithyContext)(t).operation,region:await(0,o.normalizeProvider)(e.region)()||(()=>{throw new Error("expected `region` to be configured for `aws.auth#sigv4`")})()});t.defaultSTSHttpAuthSchemeProvider=e=>{const t=[];if("AssumeRoleWithWebIdentity"===e.operation)t.push({schemeId:"smithy.api#noAuth"});else t.push(function(e){return{schemeId:"aws.auth#sigv4",signingProperties:{name:"sts",region:e.region},propertiesExtractor:(e,t)=>({signingProperties:{config:e,context:t}})}}(e));return t};t.resolveStsAuthConfig=e=>Object.assign(e,{stsClientCtor:s.STSClient});t.resolveHttpAuthSchemeConfig=e=>{const n=(0,t.resolveStsAuthConfig)(e),s=(0,r.resolveAwsSdkSigV4Config)(n);return Object.assign(s,{authSchemePreference:(0,o.normalizeProvider)(e.authSchemePreference??[])})}},6811:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.commonParams=t.resolveClientEndpointParameters=void 0;t.resolveClientEndpointParameters=e=>Object.assign(e,{useDualstackEndpoint:e.useDualstackEndpoint??!1,useFipsEndpoint:e.useFipsEndpoint??!1,useGlobalEndpoint:e.useGlobalEndpoint??!1,defaultSigningName:"sts"}),t.commonParams={UseGlobalEndpoint:{type:"builtInParams",name:"useGlobalEndpoint"},UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}},9765:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.defaultEndpointResolver=void 0;const r=n(3068),o=n(9674),s=n(1670),i=new o.EndpointCache({size:50,params:["Endpoint","Region","UseDualStack","UseFIPS","UseGlobalEndpoint"]});t.defaultEndpointResolver=(e,t={})=>i.get(e,()=>(0,o.resolveEndpoint)(s.ruleSet,{endpointParams:e,logger:t.logger})),o.customEndpointFunctions.aws=r.awsEndpointFunctions},1670:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ruleSet=void 0;const n="required",r="type",o="fn",s="argv",i="ref",a=!1,c=!0,l="booleanEquals",d="stringEquals",u="sigv4",p="us-east-1",m="endpoint",h="https://sts.{Region}.{PartitionResult#dnsSuffix}",f="tree",g="error",y="getAttr",v={[n]:!1,[r]:"String"},b={[n]:!0,default:!1,[r]:"Boolean"},S={[i]:"Endpoint"},_={[o]:"isSet",[s]:[{[i]:"Region"}]},w={[i]:"Region"},E={[o]:"aws.partition",[s]:[w],assign:"PartitionResult"},P={[i]:"UseFIPS"},C={[i]:"UseDualStack"},O={url:"https://sts.amazonaws.com",properties:{authSchemes:[{name:u,signingName:"sts",signingRegion:p}]},headers:{}},A={},x={conditions:[{[o]:d,[s]:[w,"aws-global"]}],[m]:O,[r]:m},I={[o]:l,[s]:[P,!0]},R={[o]:l,[s]:[C,!0]},T={[o]:y,[s]:[{[i]:"PartitionResult"},"supportsFIPS"]},D={[i]:"PartitionResult"},k={[o]:l,[s]:[!0,{[o]:y,[s]:[D,"supportsDualStack"]}]},N=[{[o]:"isSet",[s]:[S]}],j=[I],M=[R],L={version:"1.0",parameters:{Region:v,UseDualStack:b,UseFIPS:b,Endpoint:v,UseGlobalEndpoint:b},rules:[{conditions:[{[o]:l,[s]:[{[i]:"UseGlobalEndpoint"},c]},{[o]:"not",[s]:N},_,E,{[o]:l,[s]:[P,a]},{[o]:l,[s]:[C,a]}],rules:[{conditions:[{[o]:d,[s]:[w,"ap-northeast-1"]}],endpoint:O,[r]:m},{conditions:[{[o]:d,[s]:[w,"ap-south-1"]}],endpoint:O,[r]:m},{conditions:[{[o]:d,[s]:[w,"ap-southeast-1"]}],endpoint:O,[r]:m},{conditions:[{[o]:d,[s]:[w,"ap-southeast-2"]}],endpoint:O,[r]:m},x,{conditions:[{[o]:d,[s]:[w,"ca-central-1"]}],endpoint:O,[r]:m},{conditions:[{[o]:d,[s]:[w,"eu-central-1"]}],endpoint:O,[r]:m},{conditions:[{[o]:d,[s]:[w,"eu-north-1"]}],endpoint:O,[r]:m},{conditions:[{[o]:d,[s]:[w,"eu-west-1"]}],endpoint:O,[r]:m},{conditions:[{[o]:d,[s]:[w,"eu-west-2"]}],endpoint:O,[r]:m},{conditions:[{[o]:d,[s]:[w,"eu-west-3"]}],endpoint:O,[r]:m},{conditions:[{[o]:d,[s]:[w,"sa-east-1"]}],endpoint:O,[r]:m},{conditions:[{[o]:d,[s]:[w,p]}],endpoint:O,[r]:m},{conditions:[{[o]:d,[s]:[w,"us-east-2"]}],endpoint:O,[r]:m},{conditions:[{[o]:d,[s]:[w,"us-west-1"]}],endpoint:O,[r]:m},{conditions:[{[o]:d,[s]:[w,"us-west-2"]}],endpoint:O,[r]:m},{endpoint:{url:h,properties:{authSchemes:[{name:u,signingName:"sts",signingRegion:"{Region}"}]},headers:A},[r]:m}],[r]:f},{conditions:N,rules:[{conditions:j,error:"Invalid Configuration: FIPS and custom endpoint are not supported",[r]:g},{conditions:M,error:"Invalid Configuration: Dualstack and custom endpoint are not supported",[r]:g},{endpoint:{url:S,properties:A,headers:A},[r]:m}],[r]:f},{conditions:[_],rules:[{conditions:[E],rules:[{conditions:[I,R],rules:[{conditions:[{[o]:l,[s]:[c,T]},k],rules:[{endpoint:{url:"https://sts-fips.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:A,headers:A},[r]:m}],[r]:f},{error:"FIPS and DualStack are enabled, but this partition does not support one or both",[r]:g}],[r]:f},{conditions:j,rules:[{conditions:[{[o]:l,[s]:[T,c]}],rules:[{conditions:[{[o]:d,[s]:[{[o]:y,[s]:[D,"name"]},"aws-us-gov"]}],endpoint:{url:"https://sts.{Region}.amazonaws.com",properties:A,headers:A},[r]:m},{endpoint:{url:"https://sts-fips.{Region}.{PartitionResult#dnsSuffix}",properties:A,headers:A},[r]:m}],[r]:f},{error:"FIPS is enabled but this partition does not support FIPS",[r]:g}],[r]:f},{conditions:M,rules:[{conditions:[k],rules:[{endpoint:{url:"https://sts.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:A,headers:A},[r]:m}],[r]:f},{error:"DualStack is enabled but this partition does not support DualStack",[r]:g}],[r]:f},x,{endpoint:{url:h,properties:A,headers:A},[r]:m}],[r]:f}],[r]:f},{error:"Invalid Configuration: Missing Region",[r]:g}]};t.ruleSet=L},1136:(e,t,n)=>{"use strict";var r,o=Object.defineProperty,s=Object.getOwnPropertyDescriptor,i=Object.getOwnPropertyNames,a=Object.prototype.hasOwnProperty,c=(e,t)=>o(e,"name",{value:t,configurable:!0}),l=(e,t,n,r)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let c of i(t))a.call(e,c)||c===n||o(e,c,{get:()=>t[c],enumerable:!(r=s(t,c))||r.enumerable});return e},d={};((e,t)=>{for(var n in t)o(e,n,{get:t[n],enumerable:!0})})(d,{AssumeRoleCommand:()=>et,AssumeRoleResponseFilterSensitiveLog:()=>S,AssumeRoleWithWebIdentityCommand:()=>st,AssumeRoleWithWebIdentityRequestFilterSensitiveLog:()=>A,AssumeRoleWithWebIdentityResponseFilterSensitiveLog:()=>x,ClientInputEndpointParameters:()=>lt.ClientInputEndpointParameters,CredentialsFilterSensitiveLog:()=>b,ExpiredTokenException:()=>_,IDPCommunicationErrorException:()=>I,IDPRejectedClaimException:()=>C,InvalidIdentityTokenException:()=>O,MalformedPolicyDocumentException:()=>w,PackedPolicyTooLargeException:()=>E,RegionDisabledException:()=>P,STS:()=>ct,STSServiceException:()=>v,decorateDefaultCredentialProvider:()=>_t,getDefaultRoleAssumer:()=>bt,getDefaultRoleAssumerWithWebIdentity:()=>St}),e.exports=(r=d,l(o({},"__esModule",{value:!0}),r)),((e,t,n)=>{l(e,t,"default"),n&&l(n,t,"default")})(d,n(3723),e.exports);var u=n(1411),p=n(99),m=n(3255),h=n(1411),f=n(6811),g=n(1411),y=n(1411),v=class e extends y.ServiceException{static{c(this,"STSServiceException")}constructor(t){super(t),Object.setPrototypeOf(this,e.prototype)}},b=c(e=>({...e,...e.SecretAccessKey&&{SecretAccessKey:g.SENSITIVE_STRING}}),"CredentialsFilterSensitiveLog"),S=c(e=>({...e,...e.Credentials&&{Credentials:b(e.Credentials)}}),"AssumeRoleResponseFilterSensitiveLog"),_=class e extends v{static{c(this,"ExpiredTokenException")}name="ExpiredTokenException";$fault="client";constructor(t){super({name:"ExpiredTokenException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}},w=class e extends v{static{c(this,"MalformedPolicyDocumentException")}name="MalformedPolicyDocumentException";$fault="client";constructor(t){super({name:"MalformedPolicyDocumentException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}},E=class e extends v{static{c(this,"PackedPolicyTooLargeException")}name="PackedPolicyTooLargeException";$fault="client";constructor(t){super({name:"PackedPolicyTooLargeException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}},P=class e extends v{static{c(this,"RegionDisabledException")}name="RegionDisabledException";$fault="client";constructor(t){super({name:"RegionDisabledException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}},C=class e extends v{static{c(this,"IDPRejectedClaimException")}name="IDPRejectedClaimException";$fault="client";constructor(t){super({name:"IDPRejectedClaimException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}},O=class e extends v{static{c(this,"InvalidIdentityTokenException")}name="InvalidIdentityTokenException";$fault="client";constructor(t){super({name:"InvalidIdentityTokenException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}},A=c(e=>({...e,...e.WebIdentityToken&&{WebIdentityToken:g.SENSITIVE_STRING}}),"AssumeRoleWithWebIdentityRequestFilterSensitiveLog"),x=c(e=>({...e,...e.Credentials&&{Credentials:b(e.Credentials)}}),"AssumeRoleWithWebIdentityResponseFilterSensitiveLog"),I=class e extends v{static{c(this,"IDPCommunicationErrorException")}name="IDPCommunicationErrorException";$fault="client";constructor(t){super({name:"IDPCommunicationErrorException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}},R=n(8704),T=n(2356),D=n(1411),k=c(async(e,t)=>{const n=he;let r;return r=Qe({...q(e,t),[ge]:ve,[Ve]:fe}),me(t,n,"/",void 0,r)},"se_AssumeRoleCommand"),N=c(async(e,t)=>{const n=he;let r;return r=Qe({...W(e,t),[ge]:_e,[Ve]:fe}),me(t,n,"/",void 0,r)},"se_AssumeRoleWithWebIdentityCommand"),j=c(async(e,t)=>{if(e.statusCode>=300)return L(e,t);const n=await(0,R.parseXmlBody)(e.body,t);let r={};r=te(n.AssumeRoleResult,t);return{$metadata:ue(e),...r}},"de_AssumeRoleCommand"),M=c(async(e,t)=>{if(e.statusCode>=300)return L(e,t);const n=await(0,R.parseXmlBody)(e.body,t);let r={};r=ne(n.AssumeRoleWithWebIdentityResult,t);return{$metadata:ue(e),...r}},"de_AssumeRoleWithWebIdentityCommand"),L=c(async(e,t)=>{const n={...e,body:await(0,R.parseXmlErrorBody)(e.body,t)},r=Ze(e,n.body);switch(r){case"ExpiredTokenException":case"com.amazonaws.sts#ExpiredTokenException":throw await F(n,t);case"MalformedPolicyDocument":case"com.amazonaws.sts#MalformedPolicyDocumentException":throw await G(n,t);case"PackedPolicyTooLarge":case"com.amazonaws.sts#PackedPolicyTooLargeException":throw await H(n,t);case"RegionDisabledException":case"com.amazonaws.sts#RegionDisabledException":throw await z(n,t);case"IDPCommunicationError":case"com.amazonaws.sts#IDPCommunicationErrorException":throw await $(n,t);case"IDPRejectedClaim":case"com.amazonaws.sts#IDPRejectedClaimException":throw await U(n,t);case"InvalidIdentityToken":case"com.amazonaws.sts#InvalidIdentityTokenException":throw await B(n,t);default:const o=n.body;return pe({output:e,parsedBody:o.Error,errorCode:r})}},"de_CommandError"),F=c(async(e,t)=>{const n=e.body,r=oe(n.Error,t),o=new _({$metadata:ue(e),...r});return(0,D.decorateServiceException)(o,n)},"de_ExpiredTokenExceptionRes"),$=c(async(e,t)=>{const n=e.body,r=se(n.Error,t),o=new I({$metadata:ue(e),...r});return(0,D.decorateServiceException)(o,n)},"de_IDPCommunicationErrorExceptionRes"),U=c(async(e,t)=>{const n=e.body,r=ie(n.Error,t),o=new C({$metadata:ue(e),...r});return(0,D.decorateServiceException)(o,n)},"de_IDPRejectedClaimExceptionRes"),B=c(async(e,t)=>{const n=e.body,r=ae(n.Error,t),o=new O({$metadata:ue(e),...r});return(0,D.decorateServiceException)(o,n)},"de_InvalidIdentityTokenExceptionRes"),G=c(async(e,t)=>{const n=e.body,r=ce(n.Error,t),o=new w({$metadata:ue(e),...r});return(0,D.decorateServiceException)(o,n)},"de_MalformedPolicyDocumentExceptionRes"),H=c(async(e,t)=>{const n=e.body,r=le(n.Error,t),o=new E({$metadata:ue(e),...r});return(0,D.decorateServiceException)(o,n)},"de_PackedPolicyTooLargeExceptionRes"),z=c(async(e,t)=>{const n=e.body,r=de(n.Error,t),o=new P({$metadata:ue(e),...r});return(0,D.decorateServiceException)(o,n)},"de_RegionDisabledExceptionRes"),q=c((e,t)=>{const n={};if(null!=e[Le]&&(n[Le]=e[Le]),null!=e[Fe]&&(n[Fe]=e[Fe]),null!=e[Te]){const r=V(e[Te],t);0===e[Te]?.length&&(n.PolicyArns=[]),Object.entries(r).forEach(([e,t])=>{n[`PolicyArns.${e}`]=t})}if(null!=e[Re]&&(n[Re]=e[Re]),null!=e[Oe]&&(n[Oe]=e[Oe]),null!=e[ze]){const r=Z(e[ze],t);0===e[ze]?.length&&(n.Tags=[]),Object.entries(r).forEach(([e,t])=>{n[`Tags.${e}`]=t})}if(null!=e[We]){const r=Q(e[We],t);0===e[We]?.length&&(n.TransitiveTagKeys=[]),Object.entries(r).forEach(([e,t])=>{n[`TransitiveTagKeys.${e}`]=t})}if(null!=e[xe]&&(n[xe]=e[xe]),null!=e[Ge]&&(n[Ge]=e[Ge]),null!=e[qe]&&(n[qe]=e[qe]),null!=e[Be]&&(n[Be]=e[Be]),null!=e[ke]){const r=X(e[ke],t);0===e[ke]?.length&&(n.ProvidedContexts=[]),Object.entries(r).forEach(([e,t])=>{n[`ProvidedContexts.${e}`]=t})}return n},"se_AssumeRoleRequest"),W=c((e,t)=>{const n={};if(null!=e[Le]&&(n[Le]=e[Le]),null!=e[Fe]&&(n[Fe]=e[Fe]),null!=e[Ke]&&(n[Ke]=e[Ke]),null!=e[Ne]&&(n[Ne]=e[Ne]),null!=e[Te]){const r=V(e[Te],t);0===e[Te]?.length&&(n.PolicyArns=[]),Object.entries(r).forEach(([e,t])=>{n[`PolicyArns.${e}`]=t})}return null!=e[Re]&&(n[Re]=e[Re]),null!=e[Oe]&&(n[Oe]=e[Oe]),n},"se_AssumeRoleWithWebIdentityRequest"),V=c((e,t)=>{const n={};let r=1;for(const o of e){if(null===o)continue;const e=J(o,t);Object.entries(e).forEach(([e,t])=>{n[`member.${r}.${e}`]=t}),r++}return n},"se_policyDescriptorListType"),J=c((e,t)=>{const n={};return null!=e[Xe]&&(n[Xe]=e[Xe]),n},"se_PolicyDescriptorType"),K=c((e,t)=>{const n={};return null!=e[De]&&(n[De]=e[De]),null!=e[Ce]&&(n[Ce]=e[Ce]),n},"se_ProvidedContext"),X=c((e,t)=>{const n={};let r=1;for(const o of e){if(null===o)continue;const e=K(o,t);Object.entries(e).forEach(([e,t])=>{n[`member.${r}.${e}`]=t}),r++}return n},"se_ProvidedContextsListType"),Y=c((e,t)=>{const n={};return null!=e[Ie]&&(n[Ie]=e[Ie]),null!=e[Je]&&(n[Je]=e[Je]),n},"se_Tag"),Q=c((e,t)=>{const n={};let r=1;for(const t of e)null!==t&&(n[`member.${r}`]=t,r++);return n},"se_tagKeyListType"),Z=c((e,t)=>{const n={};let r=1;for(const o of e){if(null===o)continue;const e=Y(o,t);Object.entries(e).forEach(([e,t])=>{n[`member.${r}.${e}`]=t}),r++}return n},"se_tagListType"),ee=c((e,t)=>{const n={};return null!=e[be]&&(n[be]=(0,D.expectString)(e[be])),null!=e[we]&&(n[we]=(0,D.expectString)(e[we])),n},"de_AssumedRoleUser"),te=c((e,t)=>{const n={};return null!=e[Pe]&&(n[Pe]=re(e[Pe],t)),null!=e[Se]&&(n[Se]=ee(e[Se],t)),null!=e[je]&&(n[je]=(0,D.strictParseInt32)(e[je])),null!=e[Be]&&(n[Be]=(0,D.expectString)(e[Be])),n},"de_AssumeRoleResponse"),ne=c((e,t)=>{const n={};return null!=e[Pe]&&(n[Pe]=re(e[Pe],t)),null!=e[Ue]&&(n[Ue]=(0,D.expectString)(e[Ue])),null!=e[Se]&&(n[Se]=ee(e[Se],t)),null!=e[je]&&(n[je]=(0,D.strictParseInt32)(e[je])),null!=e[Me]&&(n[Me]=(0,D.expectString)(e[Me])),null!=e[Ee]&&(n[Ee]=(0,D.expectString)(e[Ee])),null!=e[Be]&&(n[Be]=(0,D.expectString)(e[Be])),n},"de_AssumeRoleWithWebIdentityResponse"),re=c((e,t)=>{const n={};return null!=e[ye]&&(n[ye]=(0,D.expectString)(e[ye])),null!=e[$e]&&(n[$e]=(0,D.expectString)(e[$e])),null!=e[He]&&(n[He]=(0,D.expectString)(e[He])),null!=e[Ae]&&(n[Ae]=(0,D.expectNonNull)((0,D.parseRfc3339DateTimeWithOffset)(e[Ae]))),n},"de_Credentials"),oe=c((e,t)=>{const n={};return null!=e[Ye]&&(n[Ye]=(0,D.expectString)(e[Ye])),n},"de_ExpiredTokenException"),se=c((e,t)=>{const n={};return null!=e[Ye]&&(n[Ye]=(0,D.expectString)(e[Ye])),n},"de_IDPCommunicationErrorException"),ie=c((e,t)=>{const n={};return null!=e[Ye]&&(n[Ye]=(0,D.expectString)(e[Ye])),n},"de_IDPRejectedClaimException"),ae=c((e,t)=>{const n={};return null!=e[Ye]&&(n[Ye]=(0,D.expectString)(e[Ye])),n},"de_InvalidIdentityTokenException"),ce=c((e,t)=>{const n={};return null!=e[Ye]&&(n[Ye]=(0,D.expectString)(e[Ye])),n},"de_MalformedPolicyDocumentException"),le=c((e,t)=>{const n={};return null!=e[Ye]&&(n[Ye]=(0,D.expectString)(e[Ye])),n},"de_PackedPolicyTooLargeException"),de=c((e,t)=>{const n={};return null!=e[Ye]&&(n[Ye]=(0,D.expectString)(e[Ye])),n},"de_RegionDisabledException"),ue=c(e=>({httpStatusCode:e.statusCode,requestId:e.headers["x-amzn-requestid"]??e.headers["x-amzn-request-id"]??e.headers["x-amz-request-id"],extendedRequestId:e.headers["x-amz-id-2"],cfId:e.headers["x-amz-cf-id"]}),"deserializeMetadata"),pe=(0,D.withBaseException)(v),me=c(async(e,t,n,r,o)=>{const{hostname:s,protocol:i="https",port:a,path:c}=await e.endpoint(),l={protocol:i,hostname:s,port:a,method:"POST",path:c.endsWith("/")?c.slice(0,-1)+n:c+n,headers:t};return void 0!==r&&(l.hostname=r),void 0!==o&&(l.body=o),new T.HttpRequest(l)},"buildHttpRpcRequest"),he={"content-type":"application/x-www-form-urlencoded"},fe="2011-06-15",ge="Action",ye="AccessKeyId",ve="AssumeRole",be="AssumedRoleId",Se="AssumedRoleUser",_e="AssumeRoleWithWebIdentity",we="Arn",Ee="Audience",Pe="Credentials",Ce="ContextAssertion",Oe="DurationSeconds",Ae="Expiration",xe="ExternalId",Ie="Key",Re="Policy",Te="PolicyArns",De="ProviderArn",ke="ProvidedContexts",Ne="ProviderId",je="PackedPolicySize",Me="Provider",Le="RoleArn",Fe="RoleSessionName",$e="SecretAccessKey",Ue="SubjectFromWebIdentityToken",Be="SourceIdentity",Ge="SerialNumber",He="SessionToken",ze="Tags",qe="TokenCode",We="TransitiveTagKeys",Ve="Version",Je="Value",Ke="WebIdentityToken",Xe="arn",Ye="message",Qe=c(e=>Object.entries(e).map(([e,t])=>(0,D.extendedEncodeURIComponent)(e)+"="+(0,D.extendedEncodeURIComponent)(t)).join("&"),"buildFormUrlencodedString"),Ze=c((e,t)=>void 0!==t.Error?.Code?t.Error.Code:404==e.statusCode?"NotFound":void 0,"loadQueryErrorCode"),et=class extends(h.Command.classBuilder().ep(f.commonParams).m(function(e,t,n,r){return[(0,m.getSerdePlugin)(n,this.serialize,this.deserialize),(0,p.getEndpointPlugin)(n,e.getEndpointParameterInstructions())]}).s("AWSSecurityTokenServiceV20110615","AssumeRole",{}).n("STSClient","AssumeRoleCommand").f(void 0,S).ser(k).de(j).build()){static{c(this,"AssumeRoleCommand")}},tt=n(99),nt=n(3255),rt=n(1411),ot=n(6811),st=class extends(rt.Command.classBuilder().ep(ot.commonParams).m(function(e,t,n,r){return[(0,nt.getSerdePlugin)(n,this.serialize,this.deserialize),(0,tt.getEndpointPlugin)(n,e.getEndpointParameterInstructions())]}).s("AWSSecurityTokenServiceV20110615","AssumeRoleWithWebIdentity",{}).n("STSClient","AssumeRoleWithWebIdentityCommand").f(A,x).ser(N).de(M).build()){static{c(this,"AssumeRoleWithWebIdentityCommand")}},it=n(3723),at={AssumeRoleCommand:et,AssumeRoleWithWebIdentityCommand:st},ct=class extends it.STSClient{static{c(this,"STS")}};(0,u.createAggregatedClient)(at,ct);var lt=n(6811),dt=n(5152),ut="us-east-1",pt=c(e=>{if("string"==typeof e?.Arn){const t=e.Arn.split(":");if(t.length>4&&""!==t[4])return t[4]}},"getAccountIdFromAssumedRoleUser"),mt=c(async(e,t,n)=>{const r="function"==typeof e?await e():e,o="function"==typeof t?await t():t;return n?.debug?.("@aws-sdk/client-sts::resolveRegion","accepting first of:",`${r} (provider)`,`${o} (parent client)`,`${ut} (STS default)`),r??o??ut},"resolveRegion"),ht=c((e,t)=>{let n,r;return async(o,s)=>{if(r=o,!n){const{logger:o=e?.parentClientConfig?.logger,region:s,requestHandler:i=e?.parentClientConfig?.requestHandler,credentialProviderLogger:a}=e,l=await mt(s,e?.parentClientConfig?.region,a),d=!gt(i);n=new t({profile:e?.parentClientConfig?.profile,credentialDefaultProvider:c(()=>async()=>r,"credentialDefaultProvider"),region:l,requestHandler:d?i:void 0,logger:o})}const{Credentials:i,AssumedRoleUser:a}=await n.send(new et(s));if(!i||!i.AccessKeyId||!i.SecretAccessKey)throw new Error(`Invalid response from STS.assumeRole call with role ${s.RoleArn}`);const l=pt(a),d={accessKeyId:i.AccessKeyId,secretAccessKey:i.SecretAccessKey,sessionToken:i.SessionToken,expiration:i.Expiration,...i.CredentialScope&&{credentialScope:i.CredentialScope},...l&&{accountId:l}};return(0,dt.setCredentialFeature)(d,"CREDENTIALS_STS_ASSUME_ROLE","i"),d}},"getDefaultRoleAssumer"),ft=c((e,t)=>{let n;return async r=>{if(!n){const{logger:r=e?.parentClientConfig?.logger,region:o,requestHandler:s=e?.parentClientConfig?.requestHandler,credentialProviderLogger:i}=e,a=await mt(o,e?.parentClientConfig?.region,i),c=!gt(s);n=new t({profile:e?.parentClientConfig?.profile,region:a,requestHandler:c?s:void 0,logger:r})}const{Credentials:o,AssumedRoleUser:s}=await n.send(new st(r));if(!o||!o.AccessKeyId||!o.SecretAccessKey)throw new Error(`Invalid response from STS.assumeRoleWithWebIdentity call with role ${r.RoleArn}`);const i=pt(s),a={accessKeyId:o.AccessKeyId,secretAccessKey:o.SecretAccessKey,sessionToken:o.SessionToken,expiration:o.Expiration,...o.CredentialScope&&{credentialScope:o.CredentialScope},...i&&{accountId:i}};return i&&(0,dt.setCredentialFeature)(a,"RESOLVED_ACCOUNT_ID","T"),(0,dt.setCredentialFeature)(a,"CREDENTIALS_STS_ASSUME_ROLE_WEB_ID","k"),a}},"getDefaultRoleAssumerWithWebIdentity"),gt=c(e=>"h2"===e?.metadata?.handlerProtocol,"isH2"),yt=n(3723),vt=c((e,t)=>t?class extends e{static{c(this,"CustomizableSTSClient")}constructor(e){super(e);for(const e of t)this.middlewareStack.use(e)}}:e,"getCustomizableStsClientCtor"),bt=c((e={},t)=>ht(e,vt(yt.STSClient,t)),"getDefaultRoleAssumer"),St=c((e={},t)=>ft(e,vt(yt.STSClient,t)),"getDefaultRoleAssumerWithWebIdentity"),_t=c(e=>t=>e({roleAssumer:bt(t),roleAssumerWithWebIdentity:St(t),...t}),"decorateDefaultCredentialProvider")},6578:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getRuntimeConfig=void 0;const r=n(1860).__importDefault(n(9955)),o=n(8704),s=n(1656),i=n(9316),a=n(402),c=n(5092),l=n(9618),d=n(5704),u=n(1279),p=n(3638),m=n(5518),h=n(4443),f=n(1411),g=n(5435),y=n(1411);t.getRuntimeConfig=e=>{(0,y.emitWarningIfUnsupportedVersion)(process.version);const t=(0,g.resolveDefaultsModeConfig)(e),n=()=>t().then(f.loadConfigsForDefaultMode),v=(0,h.getRuntimeConfig)(e);(0,o.emitWarningIfUnsupportedVersion)(process.version);const b={profile:e?.profile,logger:v.logger};return{...v,...e,runtime:"node",defaultsMode:t,authSchemePreference:e?.authSchemePreference??(0,d.loadConfig)(o.NODE_AUTH_SCHEME_PREFERENCE_OPTIONS,b),bodyLengthChecker:e?.bodyLengthChecker??p.calculateBodyLength,defaultUserAgentProvider:e?.defaultUserAgentProvider??(0,s.createDefaultUserAgentProvider)({serviceId:v.serviceId,clientVersion:r.default.version}),httpAuthSchemes:e?.httpAuthSchemes??[{schemeId:"aws.auth#sigv4",identityProvider:t=>t.getIdentityProvider("aws.auth#sigv4")||(async t=>await e.credentialDefaultProvider(t?.__config||{})()),signer:new o.AwsSdkSigV4Signer},{schemeId:"smithy.api#noAuth",identityProvider:e=>e.getIdentityProvider("smithy.api#noAuth")||(async()=>({})),signer:new a.NoAuthSigner}],maxAttempts:e?.maxAttempts??(0,d.loadConfig)(l.NODE_MAX_ATTEMPT_CONFIG_OPTIONS,e),region:e?.region??(0,d.loadConfig)(i.NODE_REGION_CONFIG_OPTIONS,{...i.NODE_REGION_CONFIG_FILE_OPTIONS,...b}),requestHandler:u.NodeHttpHandler.create(e?.requestHandler??n),retryMode:e?.retryMode??(0,d.loadConfig)({...l.NODE_RETRY_MODE_CONFIG_OPTIONS,default:async()=>(await n()).retryMode||m.DEFAULT_RETRY_MODE},e),sha256:e?.sha256??c.Hash.bind(null,"sha256"),streamCollector:e?.streamCollector??u.streamCollector,useDualstackEndpoint:e?.useDualstackEndpoint??(0,d.loadConfig)(i.NODE_USE_DUALSTACK_ENDPOINT_CONFIG_OPTIONS,b),useFipsEndpoint:e?.useFipsEndpoint??(0,d.loadConfig)(i.NODE_USE_FIPS_ENDPOINT_CONFIG_OPTIONS,b),userAgentAppId:e?.userAgentAppId??(0,d.loadConfig)(s.NODE_APP_ID_CONFIG_OPTIONS,b)}}},4443:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getRuntimeConfig=void 0;const r=n(8704),o=n(402),s=n(1411),i=n(4494),a=n(8385),c=n(1577),l=n(7851),d=n(9765);t.getRuntimeConfig=e=>({apiVersion:"2011-06-15",base64Decoder:e?.base64Decoder??a.fromBase64,base64Encoder:e?.base64Encoder??a.toBase64,disableHostPrefix:e?.disableHostPrefix??!1,endpointProvider:e?.endpointProvider??d.defaultEndpointResolver,extensions:e?.extensions??[],httpAuthSchemeProvider:e?.httpAuthSchemeProvider??l.defaultSTSHttpAuthSchemeProvider,httpAuthSchemes:e?.httpAuthSchemes??[{schemeId:"aws.auth#sigv4",identityProvider:e=>e.getIdentityProvider("aws.auth#sigv4"),signer:new r.AwsSdkSigV4Signer},{schemeId:"smithy.api#noAuth",identityProvider:e=>e.getIdentityProvider("smithy.api#noAuth")||(async()=>({})),signer:new o.NoAuthSigner}],logger:e?.logger??new s.NoOpLogger,serviceId:e?.serviceId??"STS",urlParser:e?.urlParser??i.parseUrl,utf8Decoder:e?.utf8Decoder??c.fromUtf8,utf8Encoder:e?.utf8Encoder??c.toUtf8})},7742:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.resolveRuntimeExtensions=void 0;const r=n(6463),o=n(2356),s=n(1411),i=n(4532);t.resolveRuntimeExtensions=(e,t)=>{const n=Object.assign((0,r.getAwsRegionExtensionConfiguration)(e),(0,s.getDefaultExtensionConfiguration)(e),(0,o.getHttpHandlerExtensionConfiguration)(e),(0,i.getHttpAuthExtensionConfiguration)(e));return t.forEach(e=>e.configure(n)),Object.assign(e,(0,r.resolveAwsRegionExtensionConfiguration)(n),(0,s.resolveDefaultRuntimeConfig)(n),(0,o.resolveHttpHandlerRuntimeConfig)(n),(0,i.resolveHttpAuthRuntimeConfig)(n))}},6463:e=>{"use strict";var t,n=Object.defineProperty,r=Object.getOwnPropertyDescriptor,o=Object.getOwnPropertyNames,s=Object.prototype.hasOwnProperty,i=(e,t)=>n(e,"name",{value:t,configurable:!0}),a={};((e,t)=>{for(var r in t)n(e,r,{get:t[r],enumerable:!0})})(a,{NODE_REGION_CONFIG_FILE_OPTIONS:()=>m,NODE_REGION_CONFIG_OPTIONS:()=>p,REGION_ENV_NAME:()=>d,REGION_INI_NAME:()=>u,getAwsRegionExtensionConfiguration:()=>c,resolveAwsRegionExtensionConfiguration:()=>l,resolveRegionConfig:()=>g}),e.exports=(t=a,((e,t,i,a)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let c of o(t))s.call(e,c)||c===i||n(e,c,{get:()=>t[c],enumerable:!(a=r(t,c))||a.enumerable});return e})(n({},"__esModule",{value:!0}),t));var c=i(e=>({setRegion(t){e.region=t},region:()=>e.region}),"getAwsRegionExtensionConfiguration"),l=i(e=>({region:e.region()}),"resolveAwsRegionExtensionConfiguration"),d="AWS_REGION",u="region",p={environmentVariableSelector:i(e=>e[d],"environmentVariableSelector"),configFileSelector:i(e=>e[u],"configFileSelector"),default:i(()=>{throw new Error("Region is missing")},"default")},m={preferredFile:"credentials"},h=i(e=>"string"==typeof e&&(e.startsWith("fips-")||e.endsWith("-fips")),"isFipsRegion"),f=i(e=>h(e)?["fips-aws-global","aws-fips"].includes(e)?"us-east-1":e.replace(/fips-(dkr-|prod-)?|-fips/,""):e,"getRealRegion"),g=i(e=>{const{region:t,useFipsEndpoint:n}=e;if(!t)throw new Error("Region is missing");return Object.assign(e,{region:i(async()=>{if("string"==typeof t)return f(t);const e=await t();return f(e)},"region"),useFipsEndpoint:i(async()=>{const e="string"==typeof t?t:await t();return!!h(e)||("function"!=typeof n?Promise.resolve(!!n):n())},"useFipsEndpoint")})},"resolveRegionConfig")},5433:(e,t,n)=>{"use strict";var r,o=Object.create,s=Object.defineProperty,i=Object.getOwnPropertyDescriptor,a=Object.getOwnPropertyNames,c=Object.getPrototypeOf,l=Object.prototype.hasOwnProperty,d=(e,t)=>s(e,"name",{value:t,configurable:!0}),u=(e,t,n,r)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let o of a(t))l.call(e,o)||o===n||s(e,o,{get:()=>t[o],enumerable:!(r=i(t,o))||r.enumerable});return e},p=(e,t,n)=>(n=null!=e?o(c(e)):{},u(!t&&e&&e.__esModule?n:s(n,"default",{value:e,enumerable:!0}),e)),m={};((e,t)=>{for(var n in t)s(e,n,{get:t[n],enumerable:!0})})(m,{fromEnvSigningName:()=>y,fromSso:()=>x,fromStatic:()=>I,nodeProvider:()=>R}),e.exports=(r=m,u(s({},"__esModule",{value:!0}),r));var h=n(5152),f=n(7523),g=n(1238),y=d(({logger:e,signingName:t}={})=>async()=>{if(e?.debug?.("@aws-sdk/token-providers - fromEnvSigningName"),!t)throw new g.TokenProviderError("Please pass 'signingName' to compute environment variable key",{logger:e});const n=(0,f.getBearerTokenEnvKey)(t);if(!(n in process.env))throw new g.TokenProviderError(`Token not present in '${n}' environment variable`,{logger:e});const r={token:process.env[n]};return(0,h.setTokenFeature)(r,"BEARER_SERVICE_ENV_VARS","3"),r},"fromEnvSigningName"),v="To refresh this SSO session run 'aws sso login' with the corresponding profile.",b=d(async(e,t={})=>{const{SSOOIDCClient:r}=await Promise.resolve().then(()=>p(n(9443)));return new r(Object.assign({},t.clientConfig??{},{region:e??t.clientConfig?.region,logger:t.clientConfig?.logger??t.parentClientConfig?.logger}))},"getSsoOidcClient"),S=d(async(e,t,r={})=>{const{CreateTokenCommand:o}=await Promise.resolve().then(()=>p(n(9443)));return(await b(t,r)).send(new o({clientId:e.clientId,clientSecret:e.clientSecret,refreshToken:e.refreshToken,grantType:"refresh_token"}))},"getNewSsoOidcToken"),_=d(e=>{if(e.expiration&&e.expiration.getTime()<Date.now())throw new g.TokenProviderError(`Token is expired. ${v}`,!1)},"validateTokenExpiry"),w=d((e,t,n=!1)=>{if(void 0===t)throw new g.TokenProviderError(`Value not present for '${e}' in SSO Token${n?". Cannot refresh":""}. ${v}`,!1)},"validateTokenKey"),E=n(4964),P=n(9896),{writeFile:C}=P.promises,O=d((e,t)=>{const n=(0,E.getSSOTokenFilepath)(e),r=JSON.stringify(t,null,2);return C(n,r)},"writeSSOTokenToFile"),A=new Date(0),x=d((e={})=>async({callerClientConfig:t}={})=>{const n={...e,parentClientConfig:{...t,...e.parentClientConfig}};n.logger?.debug("@aws-sdk/token-providers - fromSso");const r=await(0,E.parseKnownFiles)(n),o=(0,E.getProfileName)({profile:n.profile??t?.profile}),s=r[o];if(!s)throw new g.TokenProviderError(`Profile '${o}' could not be found in shared credentials file.`,!1);if(!s.sso_session)throw new g.TokenProviderError(`Profile '${o}' is missing required property 'sso_session'.`);const i=s.sso_session,a=(await(0,E.loadSsoSessionData)(n))[i];if(!a)throw new g.TokenProviderError(`Sso session '${i}' could not be found in shared credentials file.`,!1);for(const e of["sso_start_url","sso_region"])if(!a[e])throw new g.TokenProviderError(`Sso session '${i}' is missing required property '${e}'.`,!1);a.sso_start_url;const c=a.sso_region;let l;try{l=await(0,E.getSSOTokenFromFile)(i)}catch(e){throw new g.TokenProviderError(`The SSO session token associated with profile=${o} was not found or is invalid. ${v}`,!1)}w("accessToken",l.accessToken),w("expiresAt",l.expiresAt);const{accessToken:d,expiresAt:u}=l,p={token:d,expiration:new Date(u)};if(p.expiration.getTime()-Date.now()>3e5)return p;if(Date.now()-A.getTime()<3e4)return _(p),p;w("clientId",l.clientId,!0),w("clientSecret",l.clientSecret,!0),w("refreshToken",l.refreshToken,!0);try{A.setTime(Date.now());const e=await S(l,c,n);w("accessToken",e.accessToken),w("expiresIn",e.expiresIn);const t=new Date(Date.now()+1e3*e.expiresIn);try{await O(i,{...l,accessToken:e.accessToken,expiresAt:t.toISOString(),refreshToken:e.refreshToken})}catch(e){}return{token:e.accessToken,expiration:t}}catch(e){return _(p),p}},"fromSso"),I=d(({token:e,logger:t})=>async()=>{if(t?.debug("@aws-sdk/token-providers - fromStatic"),!e||!e.token)throw new g.TokenProviderError("Please pass a valid token to fromStatic",!1);return e},"fromStatic"),R=d((e={})=>(0,g.memoize)((0,g.chain)(x(e),async()=>{throw new g.TokenProviderError("Could not load token from any providers",!1)}),e=>void 0!==e.expiration&&e.expiration.getTime()-Date.now()<3e5,e=>void 0!==e.expiration),"nodeProvider")},3068:(e,t,n)=>{"use strict";var r,o=Object.defineProperty,s=Object.getOwnPropertyDescriptor,i=Object.getOwnPropertyNames,a=Object.prototype.hasOwnProperty,c=(e,t)=>o(e,"name",{value:t,configurable:!0}),l={};((e,t)=>{for(var n in t)o(e,n,{get:t[n],enumerable:!0})})(l,{ConditionObject:()=>d.ConditionObject,DeprecatedObject:()=>d.DeprecatedObject,EndpointError:()=>d.EndpointError,EndpointObject:()=>d.EndpointObject,EndpointObjectHeaders:()=>d.EndpointObjectHeaders,EndpointObjectProperties:()=>d.EndpointObjectProperties,EndpointParams:()=>d.EndpointParams,EndpointResolverOptions:()=>d.EndpointResolverOptions,EndpointRuleObject:()=>d.EndpointRuleObject,ErrorRuleObject:()=>d.ErrorRuleObject,EvaluateOptions:()=>d.EvaluateOptions,Expression:()=>d.Expression,FunctionArgv:()=>d.FunctionArgv,FunctionObject:()=>d.FunctionObject,FunctionReturn:()=>d.FunctionReturn,ParameterObject:()=>d.ParameterObject,ReferenceObject:()=>d.ReferenceObject,ReferenceRecord:()=>d.ReferenceRecord,RuleSetObject:()=>d.RuleSetObject,RuleSetRules:()=>d.RuleSetRules,TreeRuleObject:()=>d.TreeRuleObject,awsEndpointFunctions:()=>S,getUserAgentPrefix:()=>b,isIpAddress:()=>d.isIpAddress,partition:()=>g,resolveDefaultAwsRegionalEndpointsConfig:()=>w,resolveEndpoint:()=>d.resolveEndpoint,setPartitionInfo:()=>y,toEndpointV1:()=>E,useDefaultPartitionInfo:()=>v}),e.exports=(r=l,((e,t,n,r)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let c of i(t))a.call(e,c)||c===n||o(e,c,{get:()=>t[c],enumerable:!(r=s(t,c))||r.enumerable});return e})(o({},"__esModule",{value:!0}),r));var d=n(9674),u=c((e,t=!1)=>{if(t){for(const t of e.split("."))if(!u(t))return!1;return!0}return!!(0,d.isValidHostLabel)(e)&&(!(e.length<3||e.length>63)&&(e===e.toLowerCase()&&!(0,d.isIpAddress)(e)))},"isVirtualHostableS3Bucket"),p=c(e=>{const t=e.split(":");if(t.length<6)return null;const[n,r,o,s,i,...a]=t;if("arn"!==n||""===r||""===o||""===a.join(":"))return null;return{partition:r,service:o,region:s,accountId:i,resourceId:a.map(e=>e.split("/")).flat()}},"parseArn"),m={partitions:[{id:"aws",outputs:{dnsSuffix:"amazonaws.com",dualStackDnsSuffix:"api.aws",implicitGlobalRegion:"us-east-1",name:"aws",supportsDualStack:!0,supportsFIPS:!0},regionRegex:"^(us|eu|ap|sa|ca|me|af|il|mx)\\-\\w+\\-\\d+$",regions:{"af-south-1":{description:"Africa (Cape Town)"},"ap-east-1":{description:"Asia Pacific (Hong Kong)"},"ap-east-2":{description:"Asia Pacific (Taipei)"},"ap-northeast-1":{description:"Asia Pacific (Tokyo)"},"ap-northeast-2":{description:"Asia Pacific (Seoul)"},"ap-northeast-3":{description:"Asia Pacific (Osaka)"},"ap-south-1":{description:"Asia Pacific (Mumbai)"},"ap-south-2":{description:"Asia Pacific (Hyderabad)"},"ap-southeast-1":{description:"Asia Pacific (Singapore)"},"ap-southeast-2":{description:"Asia Pacific (Sydney)"},"ap-southeast-3":{description:"Asia Pacific (Jakarta)"},"ap-southeast-4":{description:"Asia Pacific (Melbourne)"},"ap-southeast-5":{description:"Asia Pacific (Malaysia)"},"ap-southeast-7":{description:"Asia Pacific (Thailand)"},"aws-global":{description:"AWS Standard global region"},"ca-central-1":{description:"Canada (Central)"},"ca-west-1":{description:"Canada West (Calgary)"},"eu-central-1":{description:"Europe (Frankfurt)"},"eu-central-2":{description:"Europe (Zurich)"},"eu-north-1":{description:"Europe (Stockholm)"},"eu-south-1":{description:"Europe (Milan)"},"eu-south-2":{description:"Europe (Spain)"},"eu-west-1":{description:"Europe (Ireland)"},"eu-west-2":{description:"Europe (London)"},"eu-west-3":{description:"Europe (Paris)"},"il-central-1":{description:"Israel (Tel Aviv)"},"me-central-1":{description:"Middle East (UAE)"},"me-south-1":{description:"Middle East (Bahrain)"},"mx-central-1":{description:"Mexico (Central)"},"sa-east-1":{description:"South America (Sao Paulo)"},"us-east-1":{description:"US East (N. Virginia)"},"us-east-2":{description:"US East (Ohio)"},"us-west-1":{description:"US West (N. California)"},"us-west-2":{description:"US West (Oregon)"}}},{id:"aws-cn",outputs:{dnsSuffix:"amazonaws.com.cn",dualStackDnsSuffix:"api.amazonwebservices.com.cn",implicitGlobalRegion:"cn-northwest-1",name:"aws-cn",supportsDualStack:!0,supportsFIPS:!0},regionRegex:"^cn\\-\\w+\\-\\d+$",regions:{"aws-cn-global":{description:"AWS China global region"},"cn-north-1":{description:"China (Beijing)"},"cn-northwest-1":{description:"China (Ningxia)"}}},{id:"aws-us-gov",outputs:{dnsSuffix:"amazonaws.com",dualStackDnsSuffix:"api.aws",implicitGlobalRegion:"us-gov-west-1",name:"aws-us-gov",supportsDualStack:!0,supportsFIPS:!0},regionRegex:"^us\\-gov\\-\\w+\\-\\d+$",regions:{"aws-us-gov-global":{description:"AWS GovCloud (US) global region"},"us-gov-east-1":{description:"AWS GovCloud (US-East)"},"us-gov-west-1":{description:"AWS GovCloud (US-West)"}}},{id:"aws-iso",outputs:{dnsSuffix:"c2s.ic.gov",dualStackDnsSuffix:"c2s.ic.gov",implicitGlobalRegion:"us-iso-east-1",name:"aws-iso",supportsDualStack:!1,supportsFIPS:!0},regionRegex:"^us\\-iso\\-\\w+\\-\\d+$",regions:{"aws-iso-global":{description:"AWS ISO (US) global region"},"us-iso-east-1":{description:"US ISO East"},"us-iso-west-1":{description:"US ISO WEST"}}},{id:"aws-iso-b",outputs:{dnsSuffix:"sc2s.sgov.gov",dualStackDnsSuffix:"sc2s.sgov.gov",implicitGlobalRegion:"us-isob-east-1",name:"aws-iso-b",supportsDualStack:!1,supportsFIPS:!0},regionRegex:"^us\\-isob\\-\\w+\\-\\d+$",regions:{"aws-iso-b-global":{description:"AWS ISOB (US) global region"},"us-isob-east-1":{description:"US ISOB East (Ohio)"}}},{id:"aws-iso-e",outputs:{dnsSuffix:"cloud.adc-e.uk",dualStackDnsSuffix:"cloud.adc-e.uk",implicitGlobalRegion:"eu-isoe-west-1",name:"aws-iso-e",supportsDualStack:!1,supportsFIPS:!0},regionRegex:"^eu\\-isoe\\-\\w+\\-\\d+$",regions:{"aws-iso-e-global":{description:"AWS ISOE (Europe) global region"},"eu-isoe-west-1":{description:"EU ISOE West"}}},{id:"aws-iso-f",outputs:{dnsSuffix:"csp.hci.ic.gov",dualStackDnsSuffix:"csp.hci.ic.gov",implicitGlobalRegion:"us-isof-south-1",name:"aws-iso-f",supportsDualStack:!1,supportsFIPS:!0},regionRegex:"^us\\-isof\\-\\w+\\-\\d+$",regions:{"aws-iso-f-global":{description:"AWS ISOF global region"},"us-isof-east-1":{description:"US ISOF EAST"},"us-isof-south-1":{description:"US ISOF SOUTH"}}},{id:"aws-eusc",outputs:{dnsSuffix:"amazonaws.eu",dualStackDnsSuffix:"amazonaws.eu",implicitGlobalRegion:"eusc-de-east-1",name:"aws-eusc",supportsDualStack:!1,supportsFIPS:!0},regionRegex:"^eusc\\-(de)\\-\\w+\\-\\d+$",regions:{"eusc-de-east-1":{description:"EU (Germany)"}}}],version:"1.1"},h=m,f="",g=c(e=>{const{partitions:t}=h;for(const n of t){const{regions:t,outputs:r}=n;for(const[n,o]of Object.entries(t))if(n===e)return{...r,...o}}for(const n of t){const{regionRegex:t,outputs:r}=n;if(new RegExp(t).test(e))return{...r}}const n=t.find(e=>"aws"===e.id);if(!n)throw new Error("Provided region was not found in the partition array or regex, and default partition with id 'aws' doesn't exist.");return{...n.outputs}},"partition"),y=c((e,t="")=>{h=e,f=t},"setPartitionInfo"),v=c(()=>{y(m,"")},"useDefaultPartitionInfo"),b=c(()=>f,"getUserAgentPrefix"),S={isVirtualHostableS3Bucket:u,parseArn:p,partition:g};d.customEndpointFunctions.aws=S;var _=n(4494),w=c(e=>{if("function"!=typeof e.endpointProvider)throw new Error("@aws-sdk/util-endpoint - endpointProvider and endpoint missing in config for this client.");const{endpoint:t}=e;return void 0===t&&(e.endpoint=async()=>E(e.endpointProvider({Region:"function"==typeof e.region?await e.region():e.region,UseDualStack:"function"==typeof e.useDualstackEndpoint?await e.useDualstackEndpoint():e.useDualstackEndpoint,UseFIPS:"function"==typeof e.useFipsEndpoint?await e.useFipsEndpoint():e.useFipsEndpoint,Endpoint:void 0},{logger:e.logger}))),e},"resolveDefaultAwsRegionalEndpointsConfig"),E=c(e=>(0,_.parseUrl)(e.url),"toEndpointV1")},8831:(e,t,n)=>{"use strict";var r,o=Object.defineProperty,s=Object.getOwnPropertyDescriptor,i=Object.getOwnPropertyNames,a=Object.prototype.hasOwnProperty,c={};((e,t)=>{for(var n in t)o(e,n,{get:t[n],enumerable:!0})})(c,{formatUrl:()=>d}),e.exports=(r=c,((e,t,n,r)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let c of i(t))a.call(e,c)||c===n||o(e,c,{get:()=>t[c],enumerable:!(r=s(t,c))||r.enumerable});return e})(o({},"__esModule",{value:!0}),r));var l=n(8256);function d(e){const{port:t,query:n}=e;let{protocol:r,path:o,hostname:s}=e;r&&":"!==r.slice(-1)&&(r+=":"),t&&(s+=`:${t}`),o&&"/"!==o.charAt(0)&&(o=`/${o}`);let i=n?(0,l.buildQueryString)(n):"";i&&"?"!==i[0]&&(i=`?${i}`);let a="";if(null!=e.username||null!=e.password){a=`${e.username??""}:${e.password??""}@`}let c="";return e.fragment&&(c=`#${e.fragment}`),`${r}//${a}${s}${o}${i}${c}`}o(d,"name",{value:"formatUrl",configurable:!0})},1656:(e,t,n)=>{"use strict";var r,o=Object.defineProperty,s=Object.getOwnPropertyDescriptor,i=Object.getOwnPropertyNames,a=Object.prototype.hasOwnProperty,c=(e,t)=>o(e,"name",{value:t,configurable:!0}),l={};((e,t)=>{for(var n in t)o(e,n,{get:t[n],enumerable:!0})})(l,{NODE_APP_ID_CONFIG_OPTIONS:()=>b,UA_APP_ID_ENV_NAME:()=>y,UA_APP_ID_INI_NAME:()=>v,createDefaultUserAgentProvider:()=>h,crtAvailability:()=>p,defaultUserAgent:()=>f}),e.exports=(r=l,((e,t,n,r)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let c of i(t))a.call(e,c)||c===n||o(e,c,{get:()=>t[c],enumerable:!(r=s(t,c))||r.enumerable});return e})(o({},"__esModule",{value:!0}),r));var d=n(857),u=n(932),p={isCrtAvailable:!1},m=c(()=>p.isCrtAvailable?["md/crt-avail"]:null,"isCrtAvailable"),h=c(({serviceId:e,clientVersion:t})=>async n=>{const r=[["aws-sdk-js",t],["ua","2.1"],[`os/${(0,d.platform)()}`,(0,d.release)()],["lang/js"],["md/nodejs",`${u.versions.node}`]],o=m();o&&r.push(o),e&&r.push([`api/${e}`,t]),u.env.AWS_EXECUTION_ENV&&r.push([`exec-env/${u.env.AWS_EXECUTION_ENV}`]);const s=await(n?.userAgentAppId?.());return s?[...r,[`app/${s}`]]:[...r]},"createDefaultUserAgentProvider"),f=h,g=n(2959),y="AWS_SDK_UA_APP_ID",v="sdk_ua_app_id",b={environmentVariableSelector:c(e=>e[y],"environmentVariableSelector"),configFileSelector:c(e=>e[v]??e["sdk-ua-app-id"],"configFileSelector"),default:g.DEFAULT_UA_APP_ID}},4274:e=>{"use strict";var t,n=Object.defineProperty,r=Object.getOwnPropertyDescriptor,o=Object.getOwnPropertyNames,s=Object.prototype.hasOwnProperty,i=(e,t)=>n(e,"name",{value:t,configurable:!0}),a={};function c(e){return e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")}function l(e){return e.replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&apos;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\r/g,"&#x0D;").replace(/\n/g,"&#x0A;").replace(/\u0085/g,"&#x85;").replace(/\u2028/,"&#x2028;")}((e,t)=>{for(var r in t)n(e,r,{get:t[r],enumerable:!0})})(a,{XmlNode:()=>u,XmlText:()=>d}),e.exports=(t=a,((e,t,i,a)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let c of o(t))s.call(e,c)||c===i||n(e,c,{get:()=>t[c],enumerable:!(a=r(t,c))||a.enumerable});return e})(n({},"__esModule",{value:!0}),t)),i(c,"escapeAttribute"),i(l,"escapeElement");var d=class{constructor(e){this.value=e}static{i(this,"XmlText")}toString(){return l(""+this.value)}},u=class e{constructor(e,t=[]){this.name=e,this.children=t}static{i(this,"XmlNode")}attributes={};static of(t,n,r){const o=new e(t);return void 0!==n&&o.addChildNode(new d(n)),void 0!==r&&o.withName(r),o}withName(e){return this.name=e,this}addAttribute(e,t){return this.attributes[e]=t,this}addChildNode(e){return this.children.push(e),this}removeAttribute(e){return delete this.attributes[e],this}n(e){return this.name=e,this}c(e){return this.children.push(e),this}a(e,t){return null!=t&&(this.attributes[e]=t),this}cc(t,n,r=n){if(null!=t[n]){const o=e.of(n,t[n]).withName(r);this.c(o)}}l(e,t,n,r){if(null!=e[t]){r().map(e=>{e.withName(n),this.c(e)})}}lc(t,n,r,o){if(null!=t[n]){const t=o(),n=new e(r);t.map(e=>{n.c(e)}),this.c(n)}}toString(){const e=Boolean(this.children.length);let t=`<${this.name}`;const n=this.attributes;for(const e of Object.keys(n)){const r=n[e];null!=r&&(t+=` ${e}="${c(""+r)}"`)}return t+(e?`>${this.children.map(e=>e.toString()).join("")}</${this.name}>`:"/>")}}},7656:(e,t)=>{"use strict";var n,r,o;t.SchemaType=void 0,(n=t.SchemaType||(t.SchemaType={})).STRING="string",n.NUMBER="number",n.INTEGER="integer",n.BOOLEAN="boolean",n.ARRAY="array",n.OBJECT="object",
/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
t.ExecutableCodeLanguage=void 0,(r=t.ExecutableCodeLanguage||(t.ExecutableCodeLanguage={})).LANGUAGE_UNSPECIFIED="language_unspecified",r.PYTHON="python",t.Outcome=void 0,(o=t.Outcome||(t.Outcome={})).OUTCOME_UNSPECIFIED="outcome_unspecified",o.OUTCOME_OK="outcome_ok",o.OUTCOME_FAILED="outcome_failed",o.OUTCOME_DEADLINE_EXCEEDED="outcome_deadline_exceeded";
/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
const s=["user","model","function","system"];var i,a,c,l,d,u,p,m;t.HarmCategory=void 0,(i=t.HarmCategory||(t.HarmCategory={})).HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",i.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",i.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",i.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",i.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",i.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY",t.HarmBlockThreshold=void 0,(a=t.HarmBlockThreshold||(t.HarmBlockThreshold={})).HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",a.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",a.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",a.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",a.BLOCK_NONE="BLOCK_NONE",t.HarmProbability=void 0,(c=t.HarmProbability||(t.HarmProbability={})).HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",c.NEGLIGIBLE="NEGLIGIBLE",c.LOW="LOW",c.MEDIUM="MEDIUM",c.HIGH="HIGH",t.BlockReason=void 0,(l=t.BlockReason||(t.BlockReason={})).BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",l.SAFETY="SAFETY",l.OTHER="OTHER",t.FinishReason=void 0,(d=t.FinishReason||(t.FinishReason={})).FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",d.STOP="STOP",d.MAX_TOKENS="MAX_TOKENS",d.SAFETY="SAFETY",d.RECITATION="RECITATION",d.LANGUAGE="LANGUAGE",d.BLOCKLIST="BLOCKLIST",d.PROHIBITED_CONTENT="PROHIBITED_CONTENT",d.SPII="SPII",d.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",d.OTHER="OTHER",t.TaskType=void 0,(u=t.TaskType||(t.TaskType={})).TASK_TYPE_UNSPECIFIED="TASK_TYPE_UNSPECIFIED",u.RETRIEVAL_QUERY="RETRIEVAL_QUERY",u.RETRIEVAL_DOCUMENT="RETRIEVAL_DOCUMENT",u.SEMANTIC_SIMILARITY="SEMANTIC_SIMILARITY",u.CLASSIFICATION="CLASSIFICATION",u.CLUSTERING="CLUSTERING",t.FunctionCallingMode=void 0,(p=t.FunctionCallingMode||(t.FunctionCallingMode={})).MODE_UNSPECIFIED="MODE_UNSPECIFIED",p.AUTO="AUTO",p.ANY="ANY",p.NONE="NONE",t.DynamicRetrievalMode=void 0,(m=t.DynamicRetrievalMode||(t.DynamicRetrievalMode={})).MODE_UNSPECIFIED="MODE_UNSPECIFIED",m.MODE_DYNAMIC="MODE_DYNAMIC";
/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class h extends Error{constructor(e){super(`[GoogleGenerativeAI Error]: ${e}`)}}class f extends h{constructor(e,t){super(e),this.response=t}}class g extends h{constructor(e,t,n,r){super(e),this.status=t,this.statusText=n,this.errorDetails=r}}class y extends h{}class v extends h{}
/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var b;!function(e){e.GENERATE_CONTENT="generateContent",e.STREAM_GENERATE_CONTENT="streamGenerateContent",e.COUNT_TOKENS="countTokens",e.EMBED_CONTENT="embedContent",e.BATCH_EMBED_CONTENTS="batchEmbedContents"}(b||(b={}));class S{constructor(e,t,n,r,o){this.model=e,this.task=t,this.apiKey=n,this.stream=r,this.requestOptions=o}toString(){var e,t;const n=(null===(e=this.requestOptions)||void 0===e?void 0:e.apiVersion)||"v1beta";let r=`${(null===(t=this.requestOptions)||void 0===t?void 0:t.baseUrl)||"https://generativelanguage.googleapis.com"}/${n}/${this.model}:${this.task}`;return this.stream&&(r+="?alt=sse"),r}}async function _(e){var t;const n=new Headers;n.append("Content-Type","application/json"),n.append("x-goog-api-client",function(e){const t=[];return(null==e?void 0:e.apiClient)&&t.push(e.apiClient),t.push("genai-js/0.24.1"),t.join(" ")}(e.requestOptions)),n.append("x-goog-api-key",e.apiKey);let r=null===(t=e.requestOptions)||void 0===t?void 0:t.customHeaders;if(r){if(!(r instanceof Headers))try{r=new Headers(r)}catch(e){throw new y(`unable to convert customHeaders value ${JSON.stringify(r)} to Headers: ${e.message}`)}for(const[e,t]of r.entries()){if("x-goog-api-key"===e)throw new y(`Cannot set reserved header name ${e}`);if("x-goog-api-client"===e)throw new y(`Header name ${e} can only be set using the apiClient field`);n.append(e,t)}}return n}async function w(e,t,n,r,o,s={},i=fetch){const{url:a,fetchOptions:c}=await async function(e,t,n,r,o,s){const i=new S(e,t,n,r,s);return{url:i.toString(),fetchOptions:Object.assign(Object.assign({},E(s)),{method:"POST",headers:await _(i),body:o})}}(e,t,n,r,o,s);return async function(e,t,n=fetch){let r;try{r=await n(e,t)}catch(t){!function(e,t){let n=e;"AbortError"===n.name?(n=new v(`Request aborted when fetching ${t.toString()}: ${e.message}`),n.stack=e.stack):e instanceof g||e instanceof y||(n=new h(`Error fetching from ${t.toString()}: ${e.message}`),n.stack=e.stack);throw n}(t,e)}r.ok||await async function(e,t){let n,r="";try{const t=await e.json();r=t.error.message,t.error.details&&(r+=` ${JSON.stringify(t.error.details)}`,n=t.error.details)}catch(e){}throw new g(`Error fetching from ${t.toString()}: [${e.status} ${e.statusText}] ${r}`,e.status,e.statusText,n)}(r,e);return r}(a,c,i)}function E(e){const t={};if(void 0!==(null==e?void 0:e.signal)||(null==e?void 0:e.timeout)>=0){const n=new AbortController;(null==e?void 0:e.timeout)>=0&&setTimeout(()=>n.abort(),e.timeout),(null==e?void 0:e.signal)&&e.signal.addEventListener("abort",()=>{n.abort()}),t.signal=n.signal}return t}
/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function P(e){return e.text=()=>{if(e.candidates&&e.candidates.length>0){if(e.candidates.length>1&&console.warn(`This response had ${e.candidates.length} candidates. Returning text from the first candidate only. Access response.candidates directly to use the other candidates.`),A(e.candidates[0]))throw new f(`${x(e)}`,e);return function(e){var t,n,r,o;const s=[];if(null===(n=null===(t=e.candidates)||void 0===t?void 0:t[0].content)||void 0===n?void 0:n.parts)for(const t of null===(o=null===(r=e.candidates)||void 0===r?void 0:r[0].content)||void 0===o?void 0:o.parts)t.text&&s.push(t.text),t.executableCode&&s.push("\n```"+t.executableCode.language+"\n"+t.executableCode.code+"\n```\n"),t.codeExecutionResult&&s.push("\n```\n"+t.codeExecutionResult.output+"\n```\n");return s.length>0?s.join(""):""}(e)}if(e.promptFeedback)throw new f(`Text not available. ${x(e)}`,e);return""},e.functionCall=()=>{if(e.candidates&&e.candidates.length>0){if(e.candidates.length>1&&console.warn(`This response had ${e.candidates.length} candidates. Returning function calls from the first candidate only. Access response.candidates directly to use the other candidates.`),A(e.candidates[0]))throw new f(`${x(e)}`,e);return console.warn("response.functionCall() is deprecated. Use response.functionCalls() instead."),C(e)[0]}if(e.promptFeedback)throw new f(`Function call not available. ${x(e)}`,e)},e.functionCalls=()=>{if(e.candidates&&e.candidates.length>0){if(e.candidates.length>1&&console.warn(`This response had ${e.candidates.length} candidates. Returning function calls from the first candidate only. Access response.candidates directly to use the other candidates.`),A(e.candidates[0]))throw new f(`${x(e)}`,e);return C(e)}if(e.promptFeedback)throw new f(`Function call not available. ${x(e)}`,e)},e}function C(e){var t,n,r,o;const s=[];if(null===(n=null===(t=e.candidates)||void 0===t?void 0:t[0].content)||void 0===n?void 0:n.parts)for(const t of null===(o=null===(r=e.candidates)||void 0===r?void 0:r[0].content)||void 0===o?void 0:o.parts)t.functionCall&&s.push(t.functionCall);return s.length>0?s:void 0}const O=[t.FinishReason.RECITATION,t.FinishReason.SAFETY,t.FinishReason.LANGUAGE];function A(e){return!!e.finishReason&&O.includes(e.finishReason)}function x(e){var t,n,r;let o="";if(e.candidates&&0!==e.candidates.length||!e.promptFeedback){if(null===(r=e.candidates)||void 0===r?void 0:r[0]){const t=e.candidates[0];A(t)&&(o+=`Candidate was blocked due to ${t.finishReason}`,t.finishMessage&&(o+=`: ${t.finishMessage}`))}}else o+="Response was blocked",(null===(t=e.promptFeedback)||void 0===t?void 0:t.blockReason)&&(o+=` due to ${e.promptFeedback.blockReason}`),(null===(n=e.promptFeedback)||void 0===n?void 0:n.blockReasonMessage)&&(o+=`: ${e.promptFeedback.blockReasonMessage}`);return o}function I(e){return this instanceof I?(this.v=e,this):new I(e)}function R(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,o=n.apply(e,t||[]),s=[];return r={},i("next"),i("throw"),i("return"),r[Symbol.asyncIterator]=function(){return this},r;function i(e){o[e]&&(r[e]=function(t){return new Promise(function(n,r){s.push([e,t,n,r])>1||a(e,t)})})}function a(e,t){try{(n=o[e](t)).value instanceof I?Promise.resolve(n.value.v).then(c,l):d(s[0][2],n)}catch(e){d(s[0][3],e)}var n}function c(e){a("next",e)}function l(e){a("throw",e)}function d(e,t){e(t),s.shift(),s.length&&a(s[0][0],s[0][1])}}"function"==typeof SuppressedError&&SuppressedError;
/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
const T=/^data\: (.*)(?:\n\n|\r\r|\r\n\r\n)/;function D(e){const t=function(e){const t=e.getReader();return new ReadableStream({start(e){let n="";return r();function r(){return t.read().then(({value:t,done:o})=>{if(o)return n.trim()?void e.error(new h("Failed to parse stream")):void e.close();n+=t;let s,i=n.match(T);for(;i;){try{s=JSON.parse(i[1])}catch(t){return void e.error(new h(`Error parsing JSON response: "${i[1]}"`))}e.enqueue(s),n=n.substring(i[0].length),i=n.match(T)}return r()}).catch(e=>{let t=e;throw t.stack=e.stack,t="AbortError"===t.name?new v("Request aborted when reading from the stream"):new h("Error reading from the stream"),t})}}})}(e.body.pipeThrough(new TextDecoderStream("utf8",{fatal:!0}))),[n,r]=t.tee();return{stream:N(n),response:k(r)}}async function k(e){const t=[],n=e.getReader();for(;;){const{done:e,value:r}=await n.read();if(e)return P(j(t));t.push(r)}}function N(e){return R(this,arguments,function*(){const t=e.getReader();for(;;){const{value:e,done:n}=yield I(t.read());if(n)break;yield yield I(P(e))}})}function j(e){const t=e[e.length-1],n={promptFeedback:null==t?void 0:t.promptFeedback};for(const t of e){if(t.candidates){let e=0;for(const r of t.candidates)if(n.candidates||(n.candidates=[]),n.candidates[e]||(n.candidates[e]={index:e}),n.candidates[e].citationMetadata=r.citationMetadata,n.candidates[e].groundingMetadata=r.groundingMetadata,n.candidates[e].finishReason=r.finishReason,n.candidates[e].finishMessage=r.finishMessage,n.candidates[e].safetyRatings=r.safetyRatings,r.content&&r.content.parts){n.candidates[e].content||(n.candidates[e].content={role:r.content.role||"user",parts:[]});const t={};for(const o of r.content.parts)o.text&&(t.text=o.text),o.functionCall&&(t.functionCall=o.functionCall),o.executableCode&&(t.executableCode=o.executableCode),o.codeExecutionResult&&(t.codeExecutionResult=o.codeExecutionResult),0===Object.keys(t).length&&(t.text=""),n.candidates[e].content.parts.push(t)}e++}t.usageMetadata&&(n.usageMetadata=t.usageMetadata)}return n}
/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function M(e,t,n,r){return D(await w(t,b.STREAM_GENERATE_CONTENT,e,!0,JSON.stringify(n),r))}async function L(e,t,n,r){const o=await w(t,b.GENERATE_CONTENT,e,!1,JSON.stringify(n),r);return{response:P(await o.json())}}
/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function F(e){if(null!=e)return"string"==typeof e?{role:"system",parts:[{text:e}]}:e.text?{role:"system",parts:[e]}:e.parts?e.role?e:{role:"system",parts:e.parts}:void 0}function $(e){let t=[];if("string"==typeof e)t=[{text:e}];else for(const n of e)"string"==typeof n?t.push({text:n}):t.push(n);return function(e){const t={role:"user",parts:[]},n={role:"function",parts:[]};let r=!1,o=!1;for(const s of e)"functionResponse"in s?(n.parts.push(s),o=!0):(t.parts.push(s),r=!0);if(r&&o)throw new h("Within a single message, FunctionResponse cannot be mixed with other type of part in the request for sending chat message.");if(!r&&!o)throw new h("No content is provided for sending chat message.");if(r)return t;return n}(t)}function U(e){let t;if(e.contents)t=e;else{t={contents:[$(e)]}}return e.systemInstruction&&(t.systemInstruction=F(e.systemInstruction)),t}
/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
const B=["text","inlineData","functionCall","functionResponse","executableCode","codeExecutionResult"],G={user:["text","inlineData"],function:["functionResponse"],model:["text","functionCall","executableCode","codeExecutionResult"],system:["text"]};function H(e){var t;if(void 0===e.candidates||0===e.candidates.length)return!1;const n=null===(t=e.candidates[0])||void 0===t?void 0:t.content;if(void 0===n)return!1;if(void 0===n.parts||0===n.parts.length)return!1;for(const e of n.parts){if(void 0===e||0===Object.keys(e).length)return!1;if(void 0!==e.text&&""===e.text)return!1}return!0}
/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z="SILENT_ERROR";class q{constructor(e,t,n,r={}){this.model=t,this.params=n,this._requestOptions=r,this._history=[],this._sendPromise=Promise.resolve(),this._apiKey=e,(null==n?void 0:n.history)&&(!function(e){let t=!1;for(const n of e){const{role:e,parts:r}=n;if(!t&&"user"!==e)throw new h(`First content should be with role 'user', got ${e}`);if(!s.includes(e))throw new h(`Each item should include role field. Got ${e} but valid roles are: ${JSON.stringify(s)}`);if(!Array.isArray(r))throw new h("Content should have 'parts' property with an array of Parts");if(0===r.length)throw new h("Each Content should have at least one part");const o={text:0,inlineData:0,functionCall:0,functionResponse:0,fileData:0,executableCode:0,codeExecutionResult:0};for(const e of r)for(const t of B)t in e&&(o[t]+=1);const i=G[e];for(const t of B)if(!i.includes(t)&&o[t]>0)throw new h(`Content with role '${e}' can't contain '${t}' part`);t=!0}}(n.history),this._history=n.history)}async getHistory(){return await this._sendPromise,this._history}async sendMessage(e,t={}){var n,r,o,s,i,a;await this._sendPromise;const c=$(e),l={safetySettings:null===(n=this.params)||void 0===n?void 0:n.safetySettings,generationConfig:null===(r=this.params)||void 0===r?void 0:r.generationConfig,tools:null===(o=this.params)||void 0===o?void 0:o.tools,toolConfig:null===(s=this.params)||void 0===s?void 0:s.toolConfig,systemInstruction:null===(i=this.params)||void 0===i?void 0:i.systemInstruction,cachedContent:null===(a=this.params)||void 0===a?void 0:a.cachedContent,contents:[...this._history,c]},d=Object.assign(Object.assign({},this._requestOptions),t);let u;return this._sendPromise=this._sendPromise.then(()=>L(this._apiKey,this.model,l,d)).then(e=>{var t;if(H(e.response)){this._history.push(c);const n=Object.assign({parts:[],role:"model"},null===(t=e.response.candidates)||void 0===t?void 0:t[0].content);this._history.push(n)}else{const t=x(e.response);t&&console.warn(`sendMessage() was unsuccessful. ${t}. Inspect response object for details.`)}u=e}).catch(e=>{throw this._sendPromise=Promise.resolve(),e}),await this._sendPromise,u}async sendMessageStream(e,t={}){var n,r,o,s,i,a;await this._sendPromise;const c=$(e),l={safetySettings:null===(n=this.params)||void 0===n?void 0:n.safetySettings,generationConfig:null===(r=this.params)||void 0===r?void 0:r.generationConfig,tools:null===(o=this.params)||void 0===o?void 0:o.tools,toolConfig:null===(s=this.params)||void 0===s?void 0:s.toolConfig,systemInstruction:null===(i=this.params)||void 0===i?void 0:i.systemInstruction,cachedContent:null===(a=this.params)||void 0===a?void 0:a.cachedContent,contents:[...this._history,c]},d=Object.assign(Object.assign({},this._requestOptions),t),u=M(this._apiKey,this.model,l,d);return this._sendPromise=this._sendPromise.then(()=>u).catch(e=>{throw new Error(z)}).then(e=>e.response).then(e=>{if(H(e)){this._history.push(c);const t=Object.assign({},e.candidates[0].content);t.role||(t.role="model"),this._history.push(t)}else{const t=x(e);t&&console.warn(`sendMessageStream() was unsuccessful. ${t}. Inspect response object for details.`)}}).catch(e=>{e.message!==z&&console.error(e)}),u}}
/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class W{constructor(e,t,n={}){this.apiKey=e,this._requestOptions=n,t.model.includes("/")?this.model=t.model:this.model=`models/${t.model}`,this.generationConfig=t.generationConfig||{},this.safetySettings=t.safetySettings||[],this.tools=t.tools,this.toolConfig=t.toolConfig,this.systemInstruction=F(t.systemInstruction),this.cachedContent=t.cachedContent}async generateContent(e,t={}){var n;const r=U(e),o=Object.assign(Object.assign({},this._requestOptions),t);return L(this.apiKey,this.model,Object.assign({generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,cachedContent:null===(n=this.cachedContent)||void 0===n?void 0:n.name},r),o)}async generateContentStream(e,t={}){var n;const r=U(e),o=Object.assign(Object.assign({},this._requestOptions),t);return M(this.apiKey,this.model,Object.assign({generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,cachedContent:null===(n=this.cachedContent)||void 0===n?void 0:n.name},r),o)}startChat(e){var t;return new q(this.apiKey,this.model,Object.assign({generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,cachedContent:null===(t=this.cachedContent)||void 0===t?void 0:t.name},e),this._requestOptions)}async countTokens(e,t={}){const n=function(e,t){var n;let r={model:null==t?void 0:t.model,generationConfig:null==t?void 0:t.generationConfig,safetySettings:null==t?void 0:t.safetySettings,tools:null==t?void 0:t.tools,toolConfig:null==t?void 0:t.toolConfig,systemInstruction:null==t?void 0:t.systemInstruction,cachedContent:null===(n=null==t?void 0:t.cachedContent)||void 0===n?void 0:n.name,contents:[]};const o=null!=e.generateContentRequest;if(e.contents){if(o)throw new y("CountTokensRequest must have one of contents or generateContentRequest, not both.");r.contents=e.contents}else if(o)r=Object.assign(Object.assign({},r),e.generateContentRequest);else{const t=$(e);r.contents=[t]}return{generateContentRequest:r}}(e,{model:this.model,generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,cachedContent:this.cachedContent}),r=Object.assign(Object.assign({},this._requestOptions),t);return async function(e,t,n,r){return(await w(t,b.COUNT_TOKENS,e,!1,JSON.stringify(n),r)).json()}
/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(this.apiKey,this.model,n,r)}async embedContent(e,t={}){const n=function(e){if("string"==typeof e||Array.isArray(e))return{content:$(e)};return e}(e),r=Object.assign(Object.assign({},this._requestOptions),t);return async function(e,t,n,r){return(await w(t,b.EMBED_CONTENT,e,!1,JSON.stringify(n),r)).json()}(this.apiKey,this.model,n,r)}async batchEmbedContents(e,t={}){const n=Object.assign(Object.assign({},this._requestOptions),t);return async function(e,t,n,r){const o=n.requests.map(e=>Object.assign(Object.assign({},e),{model:t}));return(await w(t,b.BATCH_EMBED_CONTENTS,e,!1,JSON.stringify({requests:o}),r)).json()}(this.apiKey,this.model,e,n)}}
/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */t.ChatSession=q,t.GenerativeModel=W,t.GoogleGenerativeAI=class{constructor(e){this.apiKey=e}getGenerativeModel(e,t){if(!e.model)throw new h("Must provide a model name. Example: genai.getGenerativeModel({ model: 'my-model-name' })");return new W(this.apiKey,e,t)}getGenerativeModelFromCachedContent(e,t,n){if(!e.name)throw new y("Cached content must contain a `name` field.");if(!e.model)throw new y("Cached content must contain a `model` field.");const r=["model","systemInstruction"];for(const n of r)if((null==t?void 0:t[n])&&e[n]&&(null==t?void 0:t[n])!==e[n]){if("model"===n){if((t.model.startsWith("models/")?t.model.replace("models/",""):t.model)===(e.model.startsWith("models/")?e.model.replace("models/",""):e.model))continue}throw new y(`Different value for "${n}" specified in modelParams (${t[n]}) and cachedContent (${e[n]})`)}const o=Object.assign(Object.assign({},t),{model:e.model,tools:e.tools,toolConfig:e.toolConfig,systemInstruction:e.systemInstruction,cachedContent:e});return new W(this.apiKey,o,n)}},t.GoogleGenerativeAIAbortError=v,t.GoogleGenerativeAIError=h,t.GoogleGenerativeAIFetchError=g,t.GoogleGenerativeAIRequestInputError=y,t.GoogleGenerativeAIResponseError=f,t.POSSIBLE_ROLES=s},9316:(e,t,n)=>{var r,o=Object.defineProperty,s=Object.getOwnPropertyDescriptor,i=Object.getOwnPropertyNames,a=Object.prototype.hasOwnProperty,c=(e,t)=>o(e,"name",{value:t,configurable:!0}),l={};((e,t)=>{for(var n in t)o(e,n,{get:t[n],enumerable:!0})})(l,{CONFIG_USE_DUALSTACK_ENDPOINT:()=>p,CONFIG_USE_FIPS_ENDPOINT:()=>g,DEFAULT_USE_DUALSTACK_ENDPOINT:()=>m,DEFAULT_USE_FIPS_ENDPOINT:()=>y,ENV_USE_DUALSTACK_ENDPOINT:()=>u,ENV_USE_FIPS_ENDPOINT:()=>f,NODE_REGION_CONFIG_FILE_OPTIONS:()=>O,NODE_REGION_CONFIG_OPTIONS:()=>C,NODE_USE_DUALSTACK_ENDPOINT_CONFIG_OPTIONS:()=>h,NODE_USE_FIPS_ENDPOINT_CONFIG_OPTIONS:()=>v,REGION_ENV_NAME:()=>E,REGION_INI_NAME:()=>P,getRegionInfo:()=>N,resolveCustomEndpointsConfig:()=>S,resolveEndpointsConfig:()=>w,resolveRegionConfig:()=>I}),e.exports=(r=l,((e,t,n,r)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let c of i(t))a.call(e,c)||c===n||o(e,c,{get:()=>t[c],enumerable:!(r=s(t,c))||r.enumerable});return e})(o({},"__esModule",{value:!0}),r));var d=n(6716),u="AWS_USE_DUALSTACK_ENDPOINT",p="use_dualstack_endpoint",m=!1,h={environmentVariableSelector:e=>(0,d.booleanSelector)(e,u,d.SelectorType.ENV),configFileSelector:e=>(0,d.booleanSelector)(e,p,d.SelectorType.CONFIG),default:!1},f="AWS_USE_FIPS_ENDPOINT",g="use_fips_endpoint",y=!1,v={environmentVariableSelector:e=>(0,d.booleanSelector)(e,f,d.SelectorType.ENV),configFileSelector:e=>(0,d.booleanSelector)(e,g,d.SelectorType.CONFIG),default:!1},b=n(6324),S=c(e=>{const{tls:t,endpoint:n,urlParser:r,useDualstackEndpoint:o}=e;return Object.assign(e,{tls:t??!0,endpoint:(0,b.normalizeProvider)("string"==typeof n?r(n):n),isCustomEndpoint:!0,useDualstackEndpoint:(0,b.normalizeProvider)(o??!1)})},"resolveCustomEndpointsConfig"),_=c(async e=>{const{tls:t=!0}=e,n=await e.region();if(!new RegExp(/^([a-zA-Z0-9]|[a-zA-Z0-9][a-zA-Z0-9-]{0,61}[a-zA-Z0-9])$/).test(n))throw new Error("Invalid region in client config");const r=await e.useDualstackEndpoint(),o=await e.useFipsEndpoint(),{hostname:s}=await e.regionInfoProvider(n,{useDualstackEndpoint:r,useFipsEndpoint:o})??{};if(!s)throw new Error("Cannot resolve hostname from client config");return e.urlParser(`${t?"https:":"http:"}//${s}`)},"getEndpointFromRegion"),w=c(e=>{const t=(0,b.normalizeProvider)(e.useDualstackEndpoint??!1),{endpoint:n,useFipsEndpoint:r,urlParser:o,tls:s}=e;return Object.assign(e,{tls:s??!0,endpoint:n?(0,b.normalizeProvider)("string"==typeof n?o(n):n):()=>_({...e,useDualstackEndpoint:t,useFipsEndpoint:r}),isCustomEndpoint:!!n,useDualstackEndpoint:t})},"resolveEndpointsConfig"),E="AWS_REGION",P="region",C={environmentVariableSelector:e=>e[E],configFileSelector:e=>e[P],default:()=>{throw new Error("Region is missing")}},O={preferredFile:"credentials"},A=c(e=>"string"==typeof e&&(e.startsWith("fips-")||e.endsWith("-fips")),"isFipsRegion"),x=c(e=>A(e)?["fips-aws-global","aws-fips"].includes(e)?"us-east-1":e.replace(/fips-(dkr-|prod-)?|-fips/,""):e,"getRealRegion"),I=c(e=>{const{region:t,useFipsEndpoint:n}=e;if(!t)throw new Error("Region is missing");return Object.assign(e,{region:async()=>{if("string"==typeof t)return x(t);const e=await t();return x(e)},useFipsEndpoint:async()=>{const e="string"==typeof t?t:await t();return!!A(e)||("function"!=typeof n?Promise.resolve(!!n):n())}})},"resolveRegionConfig"),R=c((e=[],{useFipsEndpoint:t,useDualstackEndpoint:n})=>e.find(({tags:e})=>t===e.includes("fips")&&n===e.includes("dualstack"))?.hostname,"getHostnameFromVariants"),T=c((e,{regionHostname:t,partitionHostname:n})=>t||(n?n.replace("{region}",e):void 0),"getResolvedHostname"),D=c((e,{partitionHash:t})=>Object.keys(t||{}).find(n=>t[n].regions.includes(e))??"aws","getResolvedPartition"),k=c((e,{signingRegion:t,regionRegex:n,useFipsEndpoint:r})=>{if(t)return t;if(r){const t=n.replace("\\\\","\\").replace(/^\^/g,"\\.").replace(/\$$/g,"\\."),r=e.match(t);if(r)return r[0].slice(1,-1)}},"getResolvedSigningRegion"),N=c((e,{useFipsEndpoint:t=!1,useDualstackEndpoint:n=!1,signingService:r,regionHash:o,partitionHash:s})=>{const i=D(e,{partitionHash:s}),a=e in o?e:s[i]?.endpoint??e,c={useFipsEndpoint:t,useDualstackEndpoint:n},l=R(o[a]?.variants,c),d=R(s[i]?.variants,c),u=T(a,{regionHostname:l,partitionHostname:d});if(void 0===u)throw new Error(`Endpoint resolution failed for: ${{resolvedRegion:a,useFipsEndpoint:t,useDualstackEndpoint:n}}`);const p=k(u,{signingRegion:o[a]?.signingRegion,regionRegex:s[i].regionRegex,useFipsEndpoint:t});return{partition:i,signingService:r,hostname:u,...p&&{signingRegion:p},...o[a]?.signingService&&{signingService:o[a].signingService}}},"getRegionInfo")},402:(e,t,n)=>{var r,o=Object.defineProperty,s=Object.getOwnPropertyDescriptor,i=Object.getOwnPropertyNames,a=Object.prototype.hasOwnProperty,c=(e,t)=>o(e,"name",{value:t,configurable:!0}),l={};((e,t)=>{for(var n in t)o(e,n,{get:t[n],enumerable:!0})})(l,{DefaultIdentityProviderConfig:()=>D,EXPIRATION_MS:()=>L,HttpApiKeyAuthSigner:()=>k,HttpBearerAuthSigner:()=>N,NoAuthSigner:()=>j,createIsIdentityExpiredFunction:()=>M,createPaginator:()=>x,doesIdentityRequireRefresh:()=>$,getHttpAuthSchemeEndpointRuleSetPlugin:()=>y,getHttpAuthSchemePlugin:()=>b,getHttpSigningPlugin:()=>C,getSmithyContext:()=>u,httpAuthSchemeEndpointRuleSetMiddlewareOptions:()=>g,httpAuthSchemeMiddleware:()=>f,httpAuthSchemeMiddlewareOptions:()=>v,httpSigningMiddleware:()=>E,httpSigningMiddlewareOptions:()=>P,isIdentityExpired:()=>F,memoizeIdentityProvider:()=>U,normalizeProvider:()=>O,requestBuilder:()=>R.requestBuilder,setFeature:()=>T}),e.exports=(r=l,((e,t,n,r)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let c of i(t))a.call(e,c)||c===n||o(e,c,{get:()=>t[c],enumerable:!(r=s(t,c))||r.enumerable});return e})(o({},"__esModule",{value:!0}),r));var d=n(690),u=c(e=>e[d.SMITHY_CONTEXT_KEY]||(e[d.SMITHY_CONTEXT_KEY]={}),"getSmithyContext"),p=n(6324),m=c((e,t)=>{if(!t||0===t.length)return e;const n=[];for(const r of t)for(const t of e){t.schemeId.split("#")[1]===r&&n.push(t)}for(const t of e)n.find(({schemeId:e})=>e===t.schemeId)||n.push(t);return n},"resolveAuthOptions");function h(e){const t=new Map;for(const n of e)t.set(n.schemeId,n);return t}c(h,"convertHttpAuthSchemesToMap");var f=c((e,t)=>(n,r)=>async o=>{const s=e.httpAuthSchemeProvider(await t.httpAuthSchemeParametersProvider(e,r,o.input)),i=e.authSchemePreference?await e.authSchemePreference():[],a=m(s,i),c=h(e.httpAuthSchemes),l=(0,p.getSmithyContext)(r),d=[];for(const n of a){const o=c.get(n.schemeId);if(!o){d.push(`HttpAuthScheme \`${n.schemeId}\` was not enabled for this service.`);continue}const s=o.identityProvider(await t.identityProviderConfigProvider(e));if(!s){d.push(`HttpAuthScheme \`${n.schemeId}\` did not have an IdentityProvider configured.`);continue}const{identityProperties:i={},signingProperties:a={}}=n.propertiesExtractor?.(e,r)||{};n.identityProperties=Object.assign(n.identityProperties||{},i),n.signingProperties=Object.assign(n.signingProperties||{},a),l.selectedHttpAuthScheme={httpAuthOption:n,identity:await s(n.identityProperties),signer:o.signer};break}if(!l.selectedHttpAuthScheme)throw new Error(d.join("\n"));return n(o)},"httpAuthSchemeMiddleware"),g={step:"serialize",tags:["HTTP_AUTH_SCHEME"],name:"httpAuthSchemeMiddleware",override:!0,relation:"before",toMiddleware:"endpointV2Middleware"},y=c((e,{httpAuthSchemeParametersProvider:t,identityProviderConfigProvider:n})=>({applyToStack:r=>{r.addRelativeTo(f(e,{httpAuthSchemeParametersProvider:t,identityProviderConfigProvider:n}),g)}}),"getHttpAuthSchemeEndpointRuleSetPlugin"),v={step:"serialize",tags:["HTTP_AUTH_SCHEME"],name:"httpAuthSchemeMiddleware",override:!0,relation:"before",toMiddleware:n(3255).serializerMiddlewareOption.name},b=c((e,{httpAuthSchemeParametersProvider:t,identityProviderConfigProvider:n})=>({applyToStack:r=>{r.addRelativeTo(f(e,{httpAuthSchemeParametersProvider:t,identityProviderConfigProvider:n}),v)}}),"getHttpAuthSchemePlugin"),S=n(2356),_=c(e=>e=>{throw e},"defaultErrorHandler"),w=c((e,t)=>{},"defaultSuccessHandler"),E=c(e=>(e,t)=>async n=>{if(!S.HttpRequest.isInstance(n.request))return e(n);const r=(0,p.getSmithyContext)(t).selectedHttpAuthScheme;if(!r)throw new Error("No HttpAuthScheme was selected: unable to sign request");const{httpAuthOption:{signingProperties:o={}},identity:s,signer:i}=r,a=await e({...n,request:await i.sign(n.request,s,o)}).catch((i.errorHandler||_)(o));return(i.successHandler||w)(a.response,o),a},"httpSigningMiddleware"),P={step:"finalizeRequest",tags:["HTTP_SIGNING"],name:"httpSigningMiddleware",aliases:["apiKeyMiddleware","tokenMiddleware","awsAuthMiddleware"],override:!0,relation:"after",toMiddleware:"retryMiddleware"},C=c(e=>({applyToStack:t=>{t.addRelativeTo(E(e),P)}}),"getHttpSigningPlugin"),O=c(e=>{if("function"==typeof e)return e;const t=Promise.resolve(e);return()=>t},"normalizeProvider"),A=c(async(e,t,n,r=e=>e,...o)=>{let s=new e(n);return s=r(s)??s,await t.send(s,...o)},"makePagedClientRequest");function x(e,t,n,r,o){return c(async function*(s,i,...a){const c=i;let l,d=s.startingToken??c[n],u=!0;for(;u;){if(c[n]=d,o&&(c[o]=c[o]??s.pageSize),!(s.client instanceof e))throw new Error(`Invalid client, expected instance of ${e.name}`);l=await A(t,s.client,i,s.withCommand,...a),yield l;const p=d;d=I(l,r),u=!(!d||s.stopOnSameToken&&d===p)}},"paginateOperation")}c(x,"createPaginator");var I=c((e,t)=>{let n=e;const r=t.split(".");for(const e of r){if(!n||"object"!=typeof n)return;n=n[e]}return n},"get"),R=n(3422);function T(e,t,n){e.__smithy_context?e.__smithy_context.features||(e.__smithy_context.features={}):e.__smithy_context={features:{}},e.__smithy_context.features[t]=n}c(T,"setFeature");var D=class{constructor(e){this.authSchemes=new Map;for(const[t,n]of Object.entries(e))void 0!==n&&this.authSchemes.set(t,n)}static{c(this,"DefaultIdentityProviderConfig")}getIdentityProvider(e){return this.authSchemes.get(e)}},k=class{static{c(this,"HttpApiKeyAuthSigner")}async sign(e,t,n){if(!n)throw new Error("request could not be signed with `apiKey` since the `name` and `in` signer properties are missing");if(!n.name)throw new Error("request could not be signed with `apiKey` since the `name` signer property is missing");if(!n.in)throw new Error("request could not be signed with `apiKey` since the `in` signer property is missing");if(!t.apiKey)throw new Error("request could not be signed with `apiKey` since the `apiKey` is not defined");const r=S.HttpRequest.clone(e);if(n.in===d.HttpApiKeyAuthLocation.QUERY)r.query[n.name]=t.apiKey;else{if(n.in!==d.HttpApiKeyAuthLocation.HEADER)throw new Error("request can only be signed with `apiKey` locations `query` or `header`, but found: `"+n.in+"`");r.headers[n.name]=n.scheme?`${n.scheme} ${t.apiKey}`:t.apiKey}return r}},N=class{static{c(this,"HttpBearerAuthSigner")}async sign(e,t,n){const r=S.HttpRequest.clone(e);if(!t.token)throw new Error("request could not be signed with `token` since the `token` is not defined");return r.headers.Authorization=`Bearer ${t.token}`,r}},j=class{static{c(this,"NoAuthSigner")}async sign(e,t,n){return e}},M=c(e=>t=>$(t)&&t.expiration.getTime()-Date.now()<e,"createIsIdentityExpiredFunction"),L=3e5,F=M(L),$=c(e=>void 0!==e.expiration,"doesIdentityRequireRefresh"),U=c((e,t,n)=>{if(void 0===e)return;const r="function"!=typeof e?async()=>Promise.resolve(e):e;let o,s,i,a=!1;const l=c(async e=>{s||(s=r(e));try{o=await s,i=!0,a=!1}finally{s=void 0}return o},"coalesceProvider");return void 0===t?async e=>(i&&!e?.forceRefresh||(o=await l(e)),o):async e=>(i&&!e?.forceRefresh||(o=await l(e)),a?o:n(o)?t(o)?(await l(e),o):o:(a=!0,o))},"memoizeIdentityProvider")},3422:(e,t,n)=>{var r,o=Object.defineProperty,s=Object.getOwnPropertyDescriptor,i=Object.getOwnPropertyNames,a=Object.prototype.hasOwnProperty,c={};((e,t)=>{for(var n in t)o(e,n,{get:t[n],enumerable:!0})})(c,{FromStringShapeDeserializer:()=>k,HttpBindingProtocol:()=>b,HttpInterceptingShapeDeserializer:()=>M,HttpInterceptingShapeSerializer:()=>G,RequestBuilder:()=>O,RpcProtocol:()=>w,ToStringShapeSerializer:()=>B,collectBody:()=>d,determineTimestampFormat:()=>D,extendedEncodeURIComponent:()=>u,requestBuilder:()=>C,resolvedPath:()=>P}),e.exports=(r=c,((e,t,n,r)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let c of i(t))a.call(e,c)||c===n||o(e,c,{get:()=>t[c],enumerable:!(r=s(t,c))||r.enumerable});return e})(o({},"__esModule",{value:!0}),r));var l=n(4252),d=async(e=new Uint8Array,t)=>{if(e instanceof Uint8Array)return l.Uint8ArrayBlobAdapter.mutate(e);if(!e)return l.Uint8ArrayBlobAdapter.mutate(new Uint8Array);const n=t.streamCollector(e);return l.Uint8ArrayBlobAdapter.mutate(await n)};function u(e){return encodeURIComponent(e).replace(/[!'()*]/g,function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()})}var p=n(6890),m=n(2430),h=n(2356),f=n(4252),g=n(6890),y=n(2356),v=class{constructor(e){this.options=e}getRequestType(){return y.HttpRequest}getResponseType(){return y.HttpResponse}setSerdeContext(e){this.serdeContext=e,this.serializer.setSerdeContext(e),this.deserializer.setSerdeContext(e),this.getPayloadCodec()&&this.getPayloadCodec().setSerdeContext(e)}updateServiceEndpoint(e,t){if("url"in t){e.protocol=t.url.protocol,e.hostname=t.url.hostname,e.port=t.url.port?Number(t.url.port):void 0,e.path=t.url.pathname,e.fragment=t.url.hash||void 0,e.username=t.url.username||void 0,e.password=t.url.password||void 0;for(const[n,r]of t.url.searchParams.entries())e.query||(e.query={}),e.query[n]=r;return e}return e.protocol=t.protocol,e.hostname=t.hostname,e.port=t.port?Number(t.port):void 0,e.path=t.path,e.query={...t.query},e}setHostPrefix(e,t,n){const r=g.NormalizedSchema.of(t),o=g.NormalizedSchema.of(t.input);if(r.getMergedTraits().endpoint){let t=r.getMergedTraits().endpoint?.[0];if("string"==typeof t){const r=[...o.structIterator()].filter(([,e])=>e.getMergedTraits().hostLabel);for(const[e]of r){const r=n[e];if("string"!=typeof r)throw new Error(`@smithy/core/schema - ${e} in input must be a string as hostLabel.`);t=t.replace(`{${e}}`,r)}e.hostname=t+e.hostname}}}deserializeMetadata(e){return{httpStatusCode:e.statusCode,requestId:e.headers["x-amzn-requestid"]??e.headers["x-amzn-request-id"]??e.headers["x-amz-request-id"],extendedRequestId:e.headers["x-amz-id-2"],cfId:e.headers["x-amz-cf-id"]}}async deserializeHttpMessage(e,t,n,r,o){return[]}},b=class extends v{async serializeRequest(e,t,n){const r={...t??{}},o=this.serializer,s={},i={},a=await n.endpoint(),c=p.NormalizedSchema.of(e?.input),l=c.getSchema();let d,m=!1;const f=new h.HttpRequest({protocol:"",hostname:"",port:void 0,path:"",fragment:void 0,query:s,headers:i,body:void 0});if(a){this.updateServiceEndpoint(f,a),this.setHostPrefix(f,e,r);const t=p.NormalizedSchema.translateTraits(e.traits);if(t.http){f.method=t.http[0];const[e,n]=t.http[1].split("?");"/"==f.path?f.path=e:f.path+=e;const r=new URLSearchParams(n??"");Object.assign(s,Object.fromEntries(r))}}for(const[e,t]of c.structIterator()){const n=t.getMergedTraits()??{},a=r[e];if(null!=a)if(n.httpPayload){if(t.isStreaming()){if(t.isStructSchema())throw new Error("serialization of event streams is not yet implemented");d=a}else o.write(t,a),d=o.flush();delete r[e]}else if(n.httpLabel){o.write(t,a);const n=o.flush();f.path.includes(`{${e}+}`)?f.path=f.path.replace(`{${e}+}`,n.split("/").map(u).join("/")):f.path.includes(`{${e}}`)&&(f.path=f.path.replace(`{${e}}`,u(n))),delete r[e]}else if(n.httpHeader)o.write(t,a),i[n.httpHeader.toLowerCase()]=String(o.flush()),delete r[e];else if("string"==typeof n.httpPrefixHeaders){for(const[e,r]of Object.entries(a)){const s=n.httpPrefixHeaders+e;o.write([t.getValueSchema(),{httpHeader:s}],r),i[s.toLowerCase()]=o.flush()}delete r[e]}else n.httpQuery||n.httpQueryParams?(this.serializeQuery(t,a,s),delete r[e]):m=!0}return m&&r&&(o.write(l,r),d=o.flush()),f.headers=i,f.query=s,f.body=d,f}serializeQuery(e,t,n){const r=this.serializer,o=e.getMergedTraits();if(o.httpQueryParams)for(const[r,s]of Object.entries(t))r in n||this.serializeQuery(p.NormalizedSchema.of([e.getValueSchema(),{...o,httpQuery:r,httpQueryParams:void 0}]),s,n);else if(e.isListSchema()){const s=!!e.getMergedTraits().sparse,i=[];for(const n of t){r.write([e.getValueSchema(),o],n);const t=r.flush();(s||void 0!==t)&&i.push(t)}n[o.httpQuery]=i}else r.write([e,o],t),n[o.httpQuery]=r.flush()}async deserializeResponse(e,t,n){const r=this.deserializer,o=p.NormalizedSchema.of(e.output),s={};if(n.statusCode>=300){const o=await d(n.body,t);throw o.byteLength>0&&Object.assign(s,await r.read(p.SCHEMA.DOCUMENT,o)),await this.handleError(e,t,n,s,this.deserializeMetadata(n)),new Error("@smithy/core/protocols - HTTP Protocol error handler failed to throw.")}for(const e in n.headers){const t=n.headers[e];delete n.headers[e],n.headers[e.toLowerCase()]=t}const i=await this.deserializeHttpMessage(o,t,n,s);if(i.length){const e=await d(n.body,t);if(e.byteLength>0){const t=await r.read(o,e);for(const e of i)s[e]=t[e]}}return{$metadata:this.deserializeMetadata(n),...s}}async deserializeHttpMessage(e,t,n,r,o){let s;s=r instanceof Set?o:r;const i=this.deserializer,a=p.NormalizedSchema.of(e),c=[];for(const[e,r]of a.structIterator()){const o=r.getMemberTraits();if(o.httpPayload){if(r.isStreaming()){if(r.isStructSchema()){const t=this.serdeContext;if(!t.eventStreamMarshaller)throw new Error("@smithy/core - HttpProtocol: eventStreamMarshaller missing in serdeContext.");const o=r.getMemberSchemas();s[e]=t.eventStreamMarshaller.deserialize(n.body,async e=>{const t=Object.keys(e).find(e=>"__type"!==e)??"";if(t in o){const n=o[t];return{[t]:await i.read(n,e[t].body)}}return{$unknown:e}})}else s[e]=(0,f.sdkStreamMixin)(n.body)}else if(n.body){const o=await d(n.body,t);o.byteLength>0&&(s[e]=await i.read(r,o))}}else if(o.httpHeader){const t=String(o.httpHeader).toLowerCase(),a=n.headers[t];if(null!=a)if(r.isListSchema()){const n=r.getValueSchema();let o;o=n.isTimestampSchema()&&n.getSchema()===p.SCHEMA.TIMESTAMP_DEFAULT?(0,m.splitEvery)(a,",",2):(0,m.splitHeader)(a);const c=[];for(const e of o)c.push(await i.read([n,{httpHeader:t}],e.trim()));s[e]=c}else s[e]=await i.read(r,a)}else if(void 0!==o.httpPrefixHeaders){s[e]={};for(const[t,a]of Object.entries(n.headers))t.startsWith(o.httpPrefixHeaders)&&(s[e][t.slice(o.httpPrefixHeaders.length)]=await i.read([r.getValueSchema(),{httpHeader:t}],a))}else o.httpResponseCode?s[e]=n.statusCode:c.push(e)}return c}},S=n(6890),_=n(2356),w=class extends v{async serializeRequest(e,t,n){const r=this.serializer,o={},s={},i=await n.endpoint(),a=S.NormalizedSchema.of(e?.input).getSchema();let c;const l=new _.HttpRequest({protocol:"",hostname:"",port:void 0,path:"/",fragment:void 0,query:o,headers:s,body:void 0});i&&(this.updateServiceEndpoint(l,i),this.setHostPrefix(l,e,t));const d={...t};return t&&(r.write(a,d),c=r.flush()),l.headers=s,l.query=o,l.body=c,l.method="POST",l}async deserializeResponse(e,t,n){const r=this.deserializer,o=S.NormalizedSchema.of(e.output),s={};if(n.statusCode>=300){const o=await d(n.body,t);throw o.byteLength>0&&Object.assign(s,await r.read(S.SCHEMA.DOCUMENT,o)),await this.handleError(e,t,n,s,this.deserializeMetadata(n)),new Error("@smithy/core/protocols - RPC Protocol error handler failed to throw.")}for(const e in n.headers){const t=n.headers[e];delete n.headers[e],n.headers[e.toLowerCase()]=t}const i=await d(n.body,t);i.byteLength>0&&Object.assign(s,await r.read(o,i));return{$metadata:this.deserializeMetadata(n),...s}}},E=n(2356),P=(e,t,n,r,o,s)=>{if(null==t||void 0===t[n])throw new Error("No value provided for input HTTP label: "+n+".");{const t=r();if(t.length<=0)throw new Error("Empty value provided for input HTTP label: "+n+".");e=e.replace(o,s?t.split("/").map(e=>u(e)).join("/"):u(t))}return e};function C(e,t){return new O(e,t)}var O=class{constructor(e,t){this.input=e,this.context=t,this.query={},this.method="",this.headers={},this.path="",this.body=null,this.hostname="",this.resolvePathStack=[]}async build(){const{hostname:e,protocol:t="https",port:n,path:r}=await this.context.endpoint();this.path=r;for(const e of this.resolvePathStack)e(this.path);return new E.HttpRequest({protocol:t,hostname:this.hostname||e,port:n,method:this.method,path:this.path,query:this.query,body:this.body,headers:this.headers})}hn(e){return this.hostname=e,this}bp(e){return this.resolvePathStack.push(t=>{this.path=`${t?.endsWith("/")?t.slice(0,-1):t||""}`+e}),this}p(e,t,n,r){return this.resolvePathStack.push(o=>{this.path=P(o,this.input,e,t,n,r)}),this}h(e){return this.headers=e,this}q(e){return this.query=e,this}b(e){return this.body=e,this}m(e){return this.method=e,this}},A=n(6890),x=n(2430),I=n(8385),R=n(1577),T=n(6890);function D(e,t){if(t.timestampFormat.useTrait&&e.isTimestampSchema()&&(e.getSchema()===T.SCHEMA.TIMESTAMP_DATE_TIME||e.getSchema()===T.SCHEMA.TIMESTAMP_HTTP_DATE||e.getSchema()===T.SCHEMA.TIMESTAMP_EPOCH_SECONDS))return e.getSchema();const{httpLabel:n,httpPrefixHeaders:r,httpHeader:o,httpQuery:s}=e.getMergedTraits();return(t.httpBindings?"string"==typeof r||Boolean(o)?T.SCHEMA.TIMESTAMP_HTTP_DATE:Boolean(s)||Boolean(n)?T.SCHEMA.TIMESTAMP_DATE_TIME:void 0:void 0)??t.timestampFormat.default}var k=class{constructor(e){this.settings=e}setSerdeContext(e){this.serdeContext=e}read(e,t){const n=A.NormalizedSchema.of(e);if(n.isListSchema())return(0,x.splitHeader)(t).map(e=>this.read(n.getValueSchema(),e));if(n.isBlobSchema())return(this.serdeContext?.base64Decoder??I.fromBase64)(t);if(n.isTimestampSchema()){switch(D(n,this.settings)){case A.SCHEMA.TIMESTAMP_DATE_TIME:return(0,x.parseRfc3339DateTimeWithOffset)(t);case A.SCHEMA.TIMESTAMP_HTTP_DATE:return(0,x.parseRfc7231DateTime)(t);case A.SCHEMA.TIMESTAMP_EPOCH_SECONDS:return(0,x.parseEpochTimestamp)(t);default:return console.warn("Missing timestamp format, parsing value with Date constructor:",t),new Date(t)}}if(n.isStringSchema()){const e=n.getMergedTraits().mediaType;let r=t;if(e){n.getMergedTraits().httpHeader&&(r=this.base64ToUtf8(r));return("application/json"===e||e.endsWith("+json"))&&(r=x.LazyJsonString.from(r)),r}}switch(!0){case n.isNumericSchema():return Number(t);case n.isBigIntegerSchema():return BigInt(t);case n.isBigDecimalSchema():return new x.NumericValue(t,"bigDecimal");case n.isBooleanSchema():return"true"===String(t).toLowerCase()}return t}base64ToUtf8(e){return(this.serdeContext?.utf8Encoder??R.toUtf8)((this.serdeContext?.base64Decoder??I.fromBase64)(e))}},N=n(6890),j=n(1577),M=class{constructor(e,t){this.codecDeserializer=e,this.stringDeserializer=new k(t)}setSerdeContext(e){this.stringDeserializer.setSerdeContext(e),this.codecDeserializer.setSerdeContext(e),this.serdeContext=e}read(e,t){const n=N.NormalizedSchema.of(e),r=n.getMergedTraits(),o=this.serdeContext?.utf8Encoder??j.toUtf8;if(r.httpHeader||r.httpResponseCode)return this.stringDeserializer.read(n,o(t));if(r.httpPayload){if(n.isBlobSchema()){const e=this.serdeContext?.utf8Decoder??j.fromUtf8;return"string"==typeof t?e(t):t}if(n.isStringSchema())return"byteLength"in t?o(t):t}return this.codecDeserializer.read(n,t)}},L=n(6890),F=n(6890),$=n(2430),U=n(8385),B=class{constructor(e){this.settings=e,this.stringBuffer="",this.serdeContext=void 0}setSerdeContext(e){this.serdeContext=e}write(e,t){const n=F.NormalizedSchema.of(e);switch(typeof t){case"object":if(null===t)return void(this.stringBuffer="null");if(n.isTimestampSchema()){if(!(t instanceof Date))throw new Error(`@smithy/core/protocols - received non-Date value ${t} when schema expected Date in ${n.getName(!0)}`);switch(D(n,this.settings)){case F.SCHEMA.TIMESTAMP_DATE_TIME:this.stringBuffer=t.toISOString().replace(".000Z","Z");break;case F.SCHEMA.TIMESTAMP_HTTP_DATE:this.stringBuffer=(0,$.dateToUtcString)(t);break;case F.SCHEMA.TIMESTAMP_EPOCH_SECONDS:this.stringBuffer=String(t.getTime()/1e3);break;default:console.warn("Missing timestamp format, using epoch seconds",t),this.stringBuffer=String(t.getTime()/1e3)}return}if(n.isBlobSchema()&&"byteLength"in t)return void(this.stringBuffer=(this.serdeContext?.base64Encoder??U.toBase64)(t));if(n.isListSchema()&&Array.isArray(t)){let e="";for(const r of t){this.write([n.getValueSchema(),n.getMergedTraits()],r);const t=this.flush();""!==e&&(e+=", "),e+=n.getValueSchema().isTimestampSchema()?t:(0,$.quoteHeader)(t)}return void(this.stringBuffer=e)}this.stringBuffer=JSON.stringify(t,null,2);break;case"string":const e=n.getMergedTraits().mediaType;let r=t;if(e){if(("application/json"===e||e.endsWith("+json"))&&(r=$.LazyJsonString.from(r)),n.getMergedTraits().httpHeader)return void(this.stringBuffer=(this.serdeContext?.base64Encoder??U.toBase64)(r.toString()))}this.stringBuffer=t;break;default:this.stringBuffer=String(t)}}flush(){const e=this.stringBuffer;return this.stringBuffer="",e}},G=class{constructor(e,t,n=new B(t)){this.codecSerializer=e,this.stringSerializer=n}setSerdeContext(e){this.codecSerializer.setSerdeContext(e),this.stringSerializer.setSerdeContext(e)}write(e,t){const n=L.NormalizedSchema.of(e),r=n.getMergedTraits();return r.httpHeader||r.httpLabel||r.httpQuery?(this.stringSerializer.write(n,t),void(this.buffer=this.stringSerializer.flush())):this.codecSerializer.write(n,t)}flush(){if(void 0!==this.buffer){const e=this.buffer;return this.buffer=void 0,e}return this.codecSerializer.flush()}}},6890:(e,t,n)=>{var r,o=Object.defineProperty,s=Object.getOwnPropertyDescriptor,i=Object.getOwnPropertyNames,a=Object.prototype.hasOwnProperty,c={};((e,t)=>{for(var n in t)o(e,n,{get:t[n],enumerable:!0})})(c,{ErrorSchema:()=>I,ListSchema:()=>_,MapSchema:()=>E,NormalizedSchema:()=>N,OperationSchema:()=>C,SCHEMA:()=>T,Schema:()=>S,SimpleSchema:()=>D,StructureSchema:()=>A,TypeRegistry:()=>b,deref:()=>l,deserializerMiddlewareOption:()=>g,error:()=>R,getSchemaSerdePlugin:()=>v,list:()=>w,map:()=>P,op:()=>O,serializerMiddlewareOption:()=>y,sim:()=>k,struct:()=>x}),e.exports=(r=c,((e,t,n,r)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let c of i(t))a.call(e,c)||c===n||o(e,c,{get:()=>t[c],enumerable:!(r=s(t,c))||r.enumerable});return e})(o({},"__esModule",{value:!0}),r));var l=e=>"function"==typeof e?e():e,d=n(2356),u=n(6324),p=e=>(t,n)=>async r=>{const{response:o}=await t(r),{operationSchema:s}=(0,u.getSmithyContext)(n);try{return{response:o,output:await e.protocol.deserializeResponse(s,{...e,...n},o)}}catch(e){if(Object.defineProperty(e,"$response",{value:o}),!("$metadata"in e)){const t="Deserialization error: to see the raw response, inspect the hidden field {error}.$response on this object.";try{e.message+="\n  "+t}catch(e){n.logger&&"NoOpLogger"!==n.logger?.constructor?.name?n.logger?.warn?.(t):console.warn(t)}void 0!==e.$responseBodyText&&e.$response&&(e.$response.body=e.$responseBodyText);try{if(d.HttpResponse.isInstance(o)){const{headers:t={}}=o,n=Object.entries(t);e.$metadata={httpStatusCode:o.statusCode,requestId:m(/^x-[\w-]+-request-?id$/,n),extendedRequestId:m(/^x-[\w-]+-id-2$/,n),cfId:m(/^x-[\w-]+-cf-id$/,n)}}}catch(e){}}throw e}},m=(e,t)=>(t.find(([t])=>t.match(e))||[void 0,void 0])[1],h=n(6324),f=e=>(t,n)=>async r=>{const{operationSchema:o}=(0,h.getSmithyContext)(n),s=n.endpointV2?.url&&e.urlParser?async()=>e.urlParser(n.endpointV2.url):e.endpoint,i=await e.protocol.serializeRequest(o,r.input,{...e,...n,endpoint:s});return t({...r,request:i})},g={name:"deserializerMiddleware",step:"deserialize",tags:["DESERIALIZER"],override:!0},y={name:"serializerMiddleware",step:"serialize",tags:["SERIALIZER"],override:!0};function v(e){return{applyToStack:t=>{t.add(f(e),y),t.add(p(e),g),e.protocol.setSerdeContext(e)}}}var b=class e{constructor(e,t=new Map){this.namespace=e,this.schemas=t}static{this.registries=new Map}static for(t){return e.registries.has(t)||e.registries.set(t,new e(t)),e.registries.get(t)}register(t,n){const r=this.normalizeShapeId(t);e.for(this.getNamespace(t)).schemas.set(r,n)}getSchema(e){const t=this.normalizeShapeId(e);if(!this.schemas.has(t))throw new Error(`@smithy/core/schema - schema not found for ${t}`);return this.schemas.get(t)}getBaseException(){for(const[e,t]of this.schemas.entries())if(e.startsWith("smithy.ts.sdk.synthetic.")&&e.endsWith("ServiceException"))return t}find(e){return[...this.schemas.values()].find(e)}destroy(){e.registries.delete(this.namespace),this.schemas.clear()}normalizeShapeId(e){return e.includes("#")?e:this.namespace+"#"+e}getNamespace(e){return this.normalizeShapeId(e).split("#")[0]}},S=class{constructor(e,t){this.name=e,this.traits=t}},_=class e extends S{constructor(t,n,r){super(t,n),this.name=t,this.traits=n,this.valueSchema=r,this.symbol=e.symbol}static{this.symbol=Symbol.for("@smithy/core/schema::ListSchema")}static[Symbol.hasInstance](t){const n=e.prototype.isPrototypeOf(t);if(!n&&"object"==typeof t&&null!==t){return t.symbol===e.symbol}return n}};function w(e,t,n={},r){const o=new _(e+"#"+t,n,"function"==typeof r?r():r);return b.for(e).register(t,o),o}var E=class e extends S{constructor(t,n,r,o){super(t,n),this.name=t,this.traits=n,this.keySchema=r,this.valueSchema=o,this.symbol=e.symbol}static{this.symbol=Symbol.for("@smithy/core/schema::MapSchema")}static[Symbol.hasInstance](t){const n=e.prototype.isPrototypeOf(t);if(!n&&"object"==typeof t&&null!==t){return t.symbol===e.symbol}return n}};function P(e,t,n={},r,o){const s=new E(e+"#"+t,n,r,"function"==typeof o?o():o);return b.for(e).register(t,s),s}var C=class extends S{constructor(e,t,n,r){super(e,t),this.name=e,this.traits=t,this.input=n,this.output=r}};function O(e,t,n={},r,o){const s=new C(e+"#"+t,n,r,o);return b.for(e).register(t,s),s}var A=class e extends S{constructor(t,n,r,o){super(t,n),this.name=t,this.traits=n,this.memberNames=r,this.memberList=o,this.symbol=e.symbol,this.members={};for(let e=0;e<r.length;++e)this.members[r[e]]=Array.isArray(o[e])?o[e]:[o[e],0]}static{this.symbol=Symbol.for("@smithy/core/schema::StructureSchema")}static[Symbol.hasInstance](t){const n=e.prototype.isPrototypeOf(t);if(!n&&"object"==typeof t&&null!==t){return t.symbol===e.symbol}return n}};function x(e,t,n,r,o){const s=new A(e+"#"+t,n,r,o);return b.for(e).register(t,s),s}var I=class e extends A{constructor(t,n,r,o,s){super(t,n,r,o),this.name=t,this.traits=n,this.memberNames=r,this.memberList=o,this.ctor=s,this.symbol=e.symbol}static{this.symbol=Symbol.for("@smithy/core/schema::ErrorSchema")}static[Symbol.hasInstance](t){const n=e.prototype.isPrototypeOf(t);if(!n&&"object"==typeof t&&null!==t){return t.symbol===e.symbol}return n}};function R(e,t,n={},r,o,s){const i=new I(e+"#"+t,n,r,o,s);return b.for(e).register(t,i),i}var T={BLOB:21,STREAMING_BLOB:42,BOOLEAN:2,STRING:0,NUMERIC:1,BIG_INTEGER:17,BIG_DECIMAL:19,DOCUMENT:15,TIMESTAMP_DEFAULT:4,TIMESTAMP_DATE_TIME:5,TIMESTAMP_HTTP_DATE:6,TIMESTAMP_EPOCH_SECONDS:7,LIST_MODIFIER:64,MAP_MODIFIER:128},D=class e extends S{constructor(t,n,r){super(t,r),this.name=t,this.schemaRef=n,this.traits=r,this.symbol=e.symbol}static{this.symbol=Symbol.for("@smithy/core/schema::SimpleSchema")}static[Symbol.hasInstance](t){const n=e.prototype.isPrototypeOf(t);if(!n&&"object"==typeof t&&null!==t){return t.symbol===e.symbol}return n}};function k(e,t,n,r){const o=new D(e+"#"+t,n,r);return b.for(e).register(t,o),o}var N=class e{constructor(t,n){this.ref=t,this.memberName=n,this.symbol=e.symbol;const r=[];let o=t,s=t;for(this._isMemberSchema=!1;Array.isArray(o);)r.push(o[1]),o=o[0],s=l(o),this._isMemberSchema=!0;if(r.length>0){this.memberTraits={};for(let t=r.length-1;t>=0;--t){const n=r[t];Object.assign(this.memberTraits,e.translateTraits(n))}}else this.memberTraits=0;if(s instanceof e)return this.name=s.name,this.traits=s.traits,this._isMemberSchema=s._isMemberSchema,this.schema=s.schema,this.memberTraits=Object.assign({},s.getMemberTraits(),this.getMemberTraits()),this.normalizedTraits=void 0,this.ref=s.ref,void(this.memberName=n??s.memberName);if(this.schema=l(s),this.schema&&"object"==typeof this.schema?this.traits=this.schema?.traits??{}:this.traits=0,this.name=("object"==typeof this.schema?this.schema?.name:void 0)??this.memberName??this.getSchemaName(),this._isMemberSchema&&!n)throw new Error(`@smithy/core/schema - NormalizedSchema member schema ${this.getName(!0)} must initialize with memberName argument.`)}static{this.symbol=Symbol.for("@smithy/core/schema::NormalizedSchema")}static[Symbol.hasInstance](t){const n=e.prototype.isPrototypeOf(t);if(!n&&"object"==typeof t&&null!==t){return t.symbol===e.symbol}return n}static of(t,n){return t instanceof e?t:new e(t,n)}static translateTraits(e){if("object"==typeof e)return e;const t={};return 1&~(e|=0)||(t.httpLabel=1),1==(e>>1&1)&&(t.idempotent=1),1==(e>>2&1)&&(t.idempotencyToken=1),1==(e>>3&1)&&(t.sensitive=1),1==(e>>4&1)&&(t.httpPayload=1),1==(e>>5&1)&&(t.httpResponseCode=1),1==(e>>6&1)&&(t.httpQueryParams=1),t}static memberFrom(t,n){return t instanceof e?(t.memberName=n,t._isMemberSchema=!0,t):new e(t,n)}getSchema(){return this.schema instanceof e?this.schema=this.schema.getSchema():this.schema instanceof D?l(this.schema.schemaRef):l(this.schema)}getName(e=!1){return!e&&this.name&&this.name.includes("#")?this.name.split("#")[1]:this.name||void 0}getMemberName(){if(!this.isMemberSchema())throw new Error(`@smithy/core/schema - cannot get member name on non-member schema: ${this.getName(!0)}`);return this.memberName}isMemberSchema(){return this._isMemberSchema}isUnitSchema(){return"unit"===this.getSchema()}isListSchema(){const e=this.getSchema();return"number"==typeof e?e>=T.LIST_MODIFIER&&e<T.MAP_MODIFIER:e instanceof _}isMapSchema(){const e=this.getSchema();return"number"==typeof e?e>=T.MAP_MODIFIER&&e<=255:e instanceof E}isDocumentSchema(){return this.getSchema()===T.DOCUMENT}isStructSchema(){const e=this.getSchema();return null!==e&&"object"==typeof e&&"members"in e||e instanceof A}isBlobSchema(){return this.getSchema()===T.BLOB||this.getSchema()===T.STREAMING_BLOB}isTimestampSchema(){const e=this.getSchema();return"number"==typeof e&&e>=T.TIMESTAMP_DEFAULT&&e<=T.TIMESTAMP_EPOCH_SECONDS}isStringSchema(){return this.getSchema()===T.STRING}isBooleanSchema(){return this.getSchema()===T.BOOLEAN}isNumericSchema(){return this.getSchema()===T.NUMERIC}isBigIntegerSchema(){return this.getSchema()===T.BIG_INTEGER}isBigDecimalSchema(){return this.getSchema()===T.BIG_DECIMAL}isStreaming(){return!!this.getMergedTraits().streaming||this.getSchema()===T.STREAMING_BLOB}isIdempotencyToken(){return"number"==typeof this.traits?!(4&~this.traits):"object"==typeof this.traits&&!!this.traits.idempotencyToken}getMergedTraits(){return this.normalizedTraits||(this.normalizedTraits={...this.getOwnTraits(),...this.getMemberTraits()}),this.normalizedTraits}getMemberTraits(){return e.translateTraits(this.memberTraits)}getOwnTraits(){return e.translateTraits(this.traits)}getKeySchema(){if(this.isDocumentSchema())return e.memberFrom([T.DOCUMENT,0],"key");if(!this.isMapSchema())throw new Error(`@smithy/core/schema - cannot get key schema for non-map schema: ${this.getName(!0)}`);const t=this.getSchema();return"number"==typeof t?e.memberFrom([63&t,0],"key"):e.memberFrom([t.keySchema,0],"key")}getValueSchema(){const t=this.getSchema();if("number"==typeof t){if(this.isMapSchema())return e.memberFrom([63&t,0],"value");if(this.isListSchema())return e.memberFrom([63&t,0],"member")}if(t&&"object"==typeof t){if(this.isStructSchema())throw new Error(`cannot call getValueSchema() with StructureSchema ${this.getName(!0)}`);const n=t;if("valueSchema"in n){if(this.isMapSchema())return e.memberFrom([n.valueSchema,0],"value");if(this.isListSchema())return e.memberFrom([n.valueSchema,0],"member")}}if(this.isDocumentSchema())return e.memberFrom([T.DOCUMENT,0],"value");throw new Error(`@smithy/core/schema - the schema ${this.getName(!0)} does not have a value member.`)}getMemberSchema(t){if(this.isStructSchema()){const n=this.getSchema();if(!(t in n.members))throw new Error(`@smithy/core/schema - the schema ${this.getName(!0)} does not have a member with name=${t}.`);return e.memberFrom(n.members[t],t)}if(this.isDocumentSchema())return e.memberFrom([T.DOCUMENT,0],t);throw new Error(`@smithy/core/schema - the schema ${this.getName(!0)} does not have members.`)}getMemberSchemas(){const{schema:e}=this,t=e;if(!t||"object"!=typeof t)return{};if("members"in t){const e={};for(const n of t.memberNames)e[n]=this.getMemberSchema(n);return e}return{}}*structIterator(){if(this.isUnitSchema())return;if(!this.isStructSchema())throw new Error("@smithy/core/schema - cannot acquire structIterator on non-struct schema.");const t=this.getSchema();for(let n=0;n<t.memberNames.length;++n)yield[t.memberNames[n],e.memberFrom([t.memberList[n],0],t.memberNames[n])]}getSchemaName(){const e=this.getSchema();if("number"==typeof e){const t=63&e,n=192&e,r=Object.entries(T).find(([,e])=>e===t)?.[0]??"Unknown";switch(n){case T.MAP_MODIFIER:return`${r}Map`;case T.LIST_MODIFIER:return`${r}List`;case 0:return r}}return"Unknown"}}},2430:(e,t,n)=>{var r,o=Object.defineProperty,s=Object.getOwnPropertyDescriptor,i=Object.getOwnPropertyNames,a=Object.prototype.hasOwnProperty,c={};((e,t)=>{for(var n in t)o(e,n,{get:t[n],enumerable:!0})})(c,{LazyJsonString:()=>me,NumericValue:()=>ye,copyDocumentWithTransform:()=>l,dateToUtcString:()=>q,expectBoolean:()=>u,expectByte:()=>b,expectFloat32:()=>h,expectInt:()=>g,expectInt32:()=>y,expectLong:()=>f,expectNonNull:()=>w,expectNumber:()=>p,expectObject:()=>E,expectShort:()=>v,expectString:()=>P,expectUnion:()=>C,generateIdempotencyToken:()=>pe.v4,handleFloat:()=>D,limitedParseDouble:()=>T,limitedParseFloat:()=>k,limitedParseFloat32:()=>N,logger:()=>G,nv:()=>ve,parseBoolean:()=>d,parseEpochTimestamp:()=>ee,parseRfc3339DateTime:()=>V,parseRfc3339DateTimeWithOffset:()=>K,parseRfc7231DateTime:()=>Z,quoteHeader:()=>he,splitEvery:()=>fe,splitHeader:()=>ge,strictParseByte:()=>U,strictParseDouble:()=>O,strictParseFloat:()=>A,strictParseFloat32:()=>x,strictParseInt:()=>L,strictParseInt32:()=>F,strictParseLong:()=>M,strictParseShort:()=>$}),e.exports=(r=c,((e,t,n,r)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let c of i(t))a.call(e,c)||c===n||o(e,c,{get:()=>t[c],enumerable:!(r=s(t,c))||r.enumerable});return e})(o({},"__esModule",{value:!0}),r));var l=(e,t,n=e=>e)=>e,d=e=>{switch(e){case"true":return!0;case"false":return!1;default:throw new Error(`Unable to parse boolean value "${e}"`)}},u=e=>{if(null!=e){if("number"==typeof e){if(0!==e&&1!==e||G.warn(B(`Expected boolean, got ${typeof e}: ${e}`)),0===e)return!1;if(1===e)return!0}if("string"==typeof e){const t=e.toLowerCase();if("false"!==t&&"true"!==t||G.warn(B(`Expected boolean, got ${typeof e}: ${e}`)),"false"===t)return!1;if("true"===t)return!0}if("boolean"==typeof e)return e;throw new TypeError(`Expected boolean, got ${typeof e}: ${e}`)}},p=e=>{if(null!=e){if("string"==typeof e){const t=parseFloat(e);if(!Number.isNaN(t))return String(t)!==String(e)&&G.warn(B(`Expected number but observed string: ${e}`)),t}if("number"==typeof e)return e;throw new TypeError(`Expected number, got ${typeof e}: ${e}`)}},m=Math.ceil(2**127*(2-2**-23)),h=e=>{const t=p(e);if(void 0!==t&&!Number.isNaN(t)&&t!==1/0&&t!==-1/0&&Math.abs(t)>m)throw new TypeError(`Expected 32-bit float, got ${e}`);return t},f=e=>{if(null!=e){if(Number.isInteger(e)&&!Number.isNaN(e))return e;throw new TypeError(`Expected integer, got ${typeof e}: ${e}`)}},g=f,y=e=>S(e,32),v=e=>S(e,16),b=e=>S(e,8),S=(e,t)=>{const n=f(e);if(void 0!==n&&_(n,t)!==n)throw new TypeError(`Expected ${t}-bit integer, got ${e}`);return n},_=(e,t)=>{switch(t){case 32:return Int32Array.of(e)[0];case 16:return Int16Array.of(e)[0];case 8:return Int8Array.of(e)[0]}},w=(e,t)=>{if(null==e){if(t)throw new TypeError(`Expected a non-null value for ${t}`);throw new TypeError("Expected a non-null value")}return e},E=e=>{if(null==e)return;if("object"==typeof e&&!Array.isArray(e))return e;const t=Array.isArray(e)?"array":typeof e;throw new TypeError(`Expected object, got ${t}: ${e}`)},P=e=>{if(null!=e){if("string"==typeof e)return e;if(["boolean","number","bigint"].includes(typeof e))return G.warn(B(`Expected string, got ${typeof e}: ${e}`)),String(e);throw new TypeError(`Expected string, got ${typeof e}: ${e}`)}},C=e=>{if(null==e)return;const t=E(e),n=Object.entries(t).filter(([,e])=>null!=e).map(([e])=>e);if(0===n.length)throw new TypeError("Unions must have exactly one non-null member. None were found.");if(n.length>1)throw new TypeError(`Unions must have exactly one non-null member. Keys ${n} were not null.`);return t},O=e=>p("string"==typeof e?R(e):e),A=O,x=e=>h("string"==typeof e?R(e):e),I=/(-?(?:0|[1-9]\d*)(?:\.\d+)?(?:[eE][+-]?\d+)?)|(-?Infinity)|(NaN)/g,R=e=>{const t=e.match(I);if(null===t||t[0].length!==e.length)throw new TypeError("Expected real number, got implicit NaN");return parseFloat(e)},T=e=>"string"==typeof e?j(e):p(e),D=T,k=T,N=e=>"string"==typeof e?j(e):h(e),j=e=>{switch(e){case"NaN":return NaN;case"Infinity":return 1/0;case"-Infinity":return-1/0;default:throw new Error(`Unable to parse float value: ${e}`)}},M=e=>f("string"==typeof e?R(e):e),L=M,F=e=>y("string"==typeof e?R(e):e),$=e=>v("string"==typeof e?R(e):e),U=e=>b("string"==typeof e?R(e):e),B=e=>String(new TypeError(e).stack||e).split("\n").slice(0,5).filter(e=>!e.includes("stackTraceWarning")).join("\n"),G={warn:console.warn},H=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],z=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function q(e){const t=e.getUTCFullYear(),n=e.getUTCMonth(),r=e.getUTCDay(),o=e.getUTCDate(),s=e.getUTCHours(),i=e.getUTCMinutes(),a=e.getUTCSeconds(),c=o<10?`0${o}`:`${o}`,l=s<10?`0${s}`:`${s}`,d=i<10?`0${i}`:`${i}`,u=a<10?`0${a}`:`${a}`;return`${H[r]}, ${c} ${z[n]} ${t} ${l}:${d}:${u} GMT`}var W=new RegExp(/^(\d{4})-(\d{2})-(\d{2})[tT](\d{2}):(\d{2}):(\d{2})(?:\.(\d+))?[zZ]$/),V=e=>{if(null==e)return;if("string"!=typeof e)throw new TypeError("RFC-3339 date-times must be expressed as strings");const t=W.exec(e);if(!t)throw new TypeError("Invalid RFC-3339 date-time value");const[n,r,o,s,i,a,c,l]=t,d=$(ue(r)),u=ce(o,"month",1,12),p=ce(s,"day",1,31);return te(d,u,p,{hours:i,minutes:a,seconds:c,fractionalMilliseconds:l})},J=new RegExp(/^(\d{4})-(\d{2})-(\d{2})[tT](\d{2}):(\d{2}):(\d{2})(?:\.(\d+))?(([-+]\d{2}\:\d{2})|[zZ])$/),K=e=>{if(null==e)return;if("string"!=typeof e)throw new TypeError("RFC-3339 date-times must be expressed as strings");const t=J.exec(e);if(!t)throw new TypeError("Invalid RFC-3339 date-time value");const[n,r,o,s,i,a,c,l,d]=t,u=$(ue(r)),p=ce(o,"month",1,12),m=ce(s,"day",1,31),h=te(u,p,m,{hours:i,minutes:a,seconds:c,fractionalMilliseconds:l});return"Z"!=d.toUpperCase()&&h.setTime(h.getTime()-de(d)),h},X=new RegExp(/^(?:Mon|Tue|Wed|Thu|Fri|Sat|Sun), (\d{2}) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) (\d{4}) (\d{1,2}):(\d{2}):(\d{2})(?:\.(\d+))? GMT$/),Y=new RegExp(/^(?:Monday|Tuesday|Wednesday|Thursday|Friday|Saturday|Sunday), (\d{2})-(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)-(\d{2}) (\d{1,2}):(\d{2}):(\d{2})(?:\.(\d+))? GMT$/),Q=new RegExp(/^(?:Mon|Tue|Wed|Thu|Fri|Sat|Sun) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) ( [1-9]|\d{2}) (\d{1,2}):(\d{2}):(\d{2})(?:\.(\d+))? (\d{4})$/),Z=e=>{if(null==e)return;if("string"!=typeof e)throw new TypeError("RFC-7231 date-times must be expressed as strings");let t=X.exec(e);if(t){const[e,n,r,o,s,i,a,c]=t;return te($(ue(o)),oe(r),ce(n,"day",1,31),{hours:s,minutes:i,seconds:a,fractionalMilliseconds:c})}if(t=Y.exec(e),t){const[e,n,r,o,s,i,a,c]=t;return re(te(ne(o),oe(r),ce(n,"day",1,31),{hours:s,minutes:i,seconds:a,fractionalMilliseconds:c}))}if(t=Q.exec(e),t){const[e,n,r,o,s,i,a,c]=t;return te($(ue(c)),oe(n),ce(r.trimLeft(),"day",1,31),{hours:o,minutes:s,seconds:i,fractionalMilliseconds:a})}throw new TypeError("Invalid RFC-7231 date-time value")},ee=e=>{if(null==e)return;let t;if("number"==typeof e)t=e;else if("string"==typeof e)t=O(e);else{if("object"!=typeof e||1!==e.tag)throw new TypeError("Epoch timestamps must be expressed as floating point numbers or their string representation");t=e.value}if(Number.isNaN(t)||t===1/0||t===-1/0)throw new TypeError("Epoch timestamps must be valid, non-Infinite, non-NaN numerics");return new Date(Math.round(1e3*t))},te=(e,t,n,r)=>{const o=t-1;return ie(e,o,n),new Date(Date.UTC(e,o,n,ce(r.hours,"hour",0,23),ce(r.minutes,"minute",0,59),ce(r.seconds,"seconds",0,60),le(r.fractionalMilliseconds)))},ne=e=>{const t=(new Date).getUTCFullYear(),n=100*Math.floor(t/100)+$(ue(e));return n<t?n+100:n},re=e=>e.getTime()-(new Date).getTime()>15768e8?new Date(Date.UTC(e.getUTCFullYear()-100,e.getUTCMonth(),e.getUTCDate(),e.getUTCHours(),e.getUTCMinutes(),e.getUTCSeconds(),e.getUTCMilliseconds())):e,oe=e=>{const t=z.indexOf(e);if(t<0)throw new TypeError(`Invalid month: ${e}`);return t+1},se=[31,28,31,30,31,30,31,31,30,31,30,31],ie=(e,t,n)=>{let r=se[t];if(1===t&&ae(e)&&(r=29),n>r)throw new TypeError(`Invalid day for ${z[t]} in ${e}: ${n}`)},ae=e=>e%4==0&&(e%100!=0||e%400==0),ce=(e,t,n,r)=>{const o=U(ue(e));if(o<n||o>r)throw new TypeError(`${t} must be between ${n} and ${r}, inclusive`);return o},le=e=>null==e?0:1e3*x("0."+e),de=e=>{const t=e[0];let n=1;if("+"==t)n=1;else{if("-"!=t)throw new TypeError(`Offset direction, ${t}, must be "+" or "-"`);n=-1}return n*(60*Number(e.substring(1,3))+Number(e.substring(4,6)))*60*1e3},ue=e=>{let t=0;for(;t<e.length-1&&"0"===e.charAt(t);)t++;return 0===t?e:e.slice(t)},pe=n(2048),me=function(e){return Object.assign(new String(e),{deserializeJSON:()=>JSON.parse(String(e)),toString:()=>String(e),toJSON:()=>String(e)})};function he(e){return(e.includes(",")||e.includes('"'))&&(e=`"${e.replace(/"/g,'\\"')}"`),e}function fe(e,t,n){if(n<=0||!Number.isInteger(n))throw new Error("Invalid number of delimiters ("+n+") for splitEvery.");const r=e.split(t);if(1===n)return r;const o=[];let s="";for(let e=0;e<r.length;e++)""===s?s=r[e]:s+=t+r[e],(e+1)%n===0&&(o.push(s),s="");return""!==s&&o.push(s),o}me.from=e=>e&&"object"==typeof e&&(e instanceof me||"deserializeJSON"in e)?e:"string"==typeof e||Object.getPrototypeOf(e)===String.prototype?me(String(e)):me(JSON.stringify(e)),me.fromObject=me.from;var ge=e=>{const t=e.length,n=[];let r,o=!1,s=0;for(let i=0;i<t;++i){const t=e[i];switch(t){case'"':"\\"!==r&&(o=!o);break;case",":o||(n.push(e.slice(s,i)),s=i+1)}r=t}return n.push(e.slice(s)),n.map(e=>{const t=(e=e.trim()).length;return t<2?e:('"'===e[0]&&'"'===e[t-1]&&(e=e.slice(1,t-1)),e.replace(/\\"/g,'"'))})},ye=class e{constructor(e,t){this.string=e,this.type=t;let n=0;for(let t=0;t<e.length;++t){const r=e.charCodeAt(t);if(0!==t||45!==r)if(46!==r){if(r<48||r>57)throw new Error('@smithy/core/serde - NumericValue must only contain [0-9], at most one decimal point ".", and an optional negation prefix "-".')}else{if(n)throw new Error("@smithy/core/serde - NumericValue must contain at most one decimal point.");n=1}}}toString(){return this.string}static[Symbol.hasInstance](t){if(!t||"object"!=typeof t)return!1;const n=t,r=e.prototype.isPrototypeOf(t.constructor?.prototype);return r||("string"==typeof n.string&&"string"==typeof n.type&&"NumericValue"===n.constructor?.name||r)}};function ve(e){return new ye(String(e),"bigDecimal")}},566:(e,t,n)=>{var r,o=Object.defineProperty,s=Object.getOwnPropertyDescriptor,i=Object.getOwnPropertyNames,a=Object.prototype.hasOwnProperty,c=(e,t)=>o(e,"name",{value:t,configurable:!0}),l={};((e,t)=>{for(var n in t)o(e,n,{get:t[n],enumerable:!0})})(l,{DEFAULT_MAX_RETRIES:()=>v,DEFAULT_TIMEOUT:()=>y,ENV_CMDS_AUTH_TOKEN:()=>E,ENV_CMDS_FULL_URI:()=>_,ENV_CMDS_RELATIVE_URI:()=>w,Endpoint:()=>D,fromContainerMetadata:()=>P,fromInstanceMetadata:()=>q,getInstanceMetadataEndpoint:()=>M,httpRequest:()=>h,providerConfigFromInit:()=>b}),e.exports=(r=l,((e,t,n,r)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let c of i(t))a.call(e,c)||c===n||o(e,c,{get:()=>t[c],enumerable:!(r=s(t,c))||r.enumerable});return e})(o({},"__esModule",{value:!0}),r));var d=n(7016),u=n(1238),p=n(181),m=n(8611);function h(e){return new Promise((t,n)=>{const r=(0,m.request)({method:"GET",...e,hostname:e.hostname?.replace(/^\[(.+)\]$/,"$1")});r.on("error",e=>{n(Object.assign(new u.ProviderError("Unable to connect to instance metadata service"),e)),r.destroy()}),r.on("timeout",()=>{n(new u.ProviderError("TimeoutError from instance metadata service")),r.destroy()}),r.on("response",e=>{const{statusCode:o=400}=e;(o<200||300<=o)&&(n(Object.assign(new u.ProviderError("Error response received from instance metadata service"),{statusCode:o})),r.destroy());const s=[];e.on("data",e=>{s.push(e)}),e.on("end",()=>{t(p.Buffer.concat(s)),r.destroy()})}),r.end()})}c(h,"httpRequest");var f=c(e=>Boolean(e)&&"object"==typeof e&&"string"==typeof e.AccessKeyId&&"string"==typeof e.SecretAccessKey&&"string"==typeof e.Token&&"string"==typeof e.Expiration,"isImdsCredentials"),g=c(e=>({accessKeyId:e.AccessKeyId,secretAccessKey:e.SecretAccessKey,sessionToken:e.Token,expiration:new Date(e.Expiration),...e.AccountId&&{accountId:e.AccountId}}),"fromImdsCredentials"),y=1e3,v=0,b=c(({maxRetries:e=v,timeout:t=y})=>({maxRetries:e,timeout:t}),"providerConfigFromInit"),S=c((e,t)=>{let n=e();for(let r=0;r<t;r++)n=n.catch(e);return n},"retry"),_="AWS_CONTAINER_CREDENTIALS_FULL_URI",w="AWS_CONTAINER_CREDENTIALS_RELATIVE_URI",E="AWS_CONTAINER_AUTHORIZATION_TOKEN",P=c((e={})=>{const{timeout:t,maxRetries:n}=b(e);return()=>S(async()=>{const n=await x({logger:e.logger}),r=JSON.parse(await C(t,n));if(!f(r))throw new u.CredentialsProviderError("Invalid response received from instance metadata service.",{logger:e.logger});return g(r)},n)},"fromContainerMetadata"),C=c(async(e,t)=>{process.env[E]&&(t.headers={...t.headers,Authorization:process.env[E]});return(await h({...t,timeout:e})).toString()},"requestFromEcsImds"),O={localhost:!0,"127.0.0.1":!0},A={"http:":!0,"https:":!0},x=c(async({logger:e})=>{if(process.env[w])return{hostname:"169.254.170.2",path:process.env[w]};if(process.env[_]){const t=(0,d.parse)(process.env[_]);if(!t.hostname||!(t.hostname in O))throw new u.CredentialsProviderError(`${t.hostname} is not a valid container metadata service hostname`,{tryNextLink:!1,logger:e});if(!t.protocol||!(t.protocol in A))throw new u.CredentialsProviderError(`${t.protocol} is not a valid container metadata service protocol`,{tryNextLink:!1,logger:e});return{...t,port:t.port?parseInt(t.port,10):void 0}}throw new u.CredentialsProviderError(`The container metadata credential provider cannot be used unless the ${w} or ${_} environment variable is set`,{tryNextLink:!1,logger:e})},"getCmdsUri"),I=class e extends u.CredentialsProviderError{constructor(t,n=!0){super(t,n),this.tryNextLink=n,this.name="InstanceMetadataV1FallbackError",Object.setPrototypeOf(this,e.prototype)}static{c(this,"InstanceMetadataV1FallbackError")}},R=n(5704),T=n(4494),D=(e=>(e.IPv4="http://169.254.169.254",e.IPv6="http://[fd00:ec2::254]",e))(D||{}),k={environmentVariableSelector:e=>e.AWS_EC2_METADATA_SERVICE_ENDPOINT,configFileSelector:e=>e.ec2_metadata_service_endpoint,default:void 0},N=(e=>(e.IPv4="IPv4",e.IPv6="IPv6",e))(N||{}),j={environmentVariableSelector:e=>e.AWS_EC2_METADATA_SERVICE_ENDPOINT_MODE,configFileSelector:e=>e.ec2_metadata_service_endpoint_mode,default:"IPv4"},M=c(async()=>(0,T.parseUrl)(await L()||await F()),"getInstanceMetadataEndpoint"),L=c(async()=>(0,R.loadConfig)(k)(),"getFromEndpointConfig"),F=c(async()=>{const e=await(0,R.loadConfig)(j)();switch(e){case"IPv4":return"http://169.254.169.254";case"IPv6":return"http://[fd00:ec2::254]";default:throw new Error(`Unsupported endpoint mode: ${e}. Select from ${Object.values(N)}`)}},"getFromEndpointModeConfig"),$=c((e,t)=>{const n=300+Math.floor(300*Math.random()),r=new Date(Date.now()+1e3*n);t.warn(`Attempting credential expiration extension due to a credential service availability issue. A refresh of these credentials will be attempted after ${new Date(r)}.\nFor more information, please visit: https://docs.aws.amazon.com/sdkref/latest/guide/feature-static-credentials.html`);const o=e.originalExpiration??e.expiration;return{...e,...o?{originalExpiration:o}:{},expiration:r}},"getExtendedInstanceMetadataCredentials"),U=c((e,t={})=>{const n=t?.logger||console;let r;return async()=>{let t;try{t=await e(),t.expiration&&t.expiration.getTime()<Date.now()&&(t=$(t,n))}catch(e){if(!r)throw e;n.warn("Credential renew failed: ",e),t=$(r,n)}return r=t,t}},"staticStabilityProvider"),B="/latest/meta-data/iam/security-credentials/",G="AWS_EC2_METADATA_V1_DISABLED",H="ec2_metadata_v1_disabled",z="x-aws-ec2-metadata-token",q=c((e={})=>U(W(e),{logger:e.logger}),"fromInstanceMetadata"),W=c((e={})=>{let t=!1;const{logger:n,profile:r}=e,{timeout:o,maxRetries:s}=b(e),i=c(async(n,o)=>{if(t||null==o.headers?.[z]){let t=!1,n=!1;const o=await(0,R.loadConfig)({environmentVariableSelector:t=>{const r=t[G];if(n=!!r&&"false"!==r,void 0===r)throw new u.CredentialsProviderError(`${G} not set in env, checking config file next.`,{logger:e.logger});return n},configFileSelector:e=>{const n=e[H];return t=!!n&&"false"!==n,t},default:!1},{profile:r})();if(e.ec2MetadataV1Disabled||o){const r=[];throw e.ec2MetadataV1Disabled&&r.push("credential provider initialization (runtime option ec2MetadataV1Disabled)"),t&&r.push(`config file profile (${H})`),n&&r.push(`process environment variable (${G})`),new I(`AWS EC2 Metadata v1 fallback has been blocked by AWS SDK configuration in the following: [${r.join(", ")}].`)}}const s=(await S(async()=>{let e;try{e=await J(o)}catch(e){throw 401===e.statusCode&&(t=!1),e}return e},n)).trim();return S(async()=>{let n;try{n=await K(s,o,e)}catch(e){throw 401===e.statusCode&&(t=!1),e}return n},n)},"getCredentials");return async()=>{const e=await M();if(t)return n?.debug("AWS SDK Instance Metadata","using v1 fallback (no token fetch)"),i(s,{...e,timeout:o});{let r;try{r=(await V({...e,timeout:o})).toString()}catch(r){if(400===r?.statusCode)throw Object.assign(r,{message:"EC2 Metadata token request returned error"});return("TimeoutError"===r.message||[403,404,405].includes(r.statusCode))&&(t=!0),n?.debug("AWS SDK Instance Metadata","using v1 fallback (initial)"),i(s,{...e,timeout:o})}return i(s,{...e,headers:{[z]:r},timeout:o})}}},"getInstanceMetadataProvider"),V=c(async e=>h({...e,path:"/latest/api/token",method:"PUT",headers:{"x-aws-ec2-metadata-token-ttl-seconds":"21600"}}),"getMetadataToken"),J=c(async e=>(await h({...e,path:B})).toString(),"getProfile"),K=c(async(e,t,n)=>{const r=JSON.parse((await h({...t,path:B+e})).toString());if(!f(r))throw new u.CredentialsProviderError("Invalid response received from instance metadata service.",{logger:n.logger});return g(r)},"getCredentialsFromProfile")},7788:(e,t,n)=>{var r,o=Object.defineProperty,s=Object.getOwnPropertyDescriptor,i=Object.getOwnPropertyNames,a=Object.prototype.hasOwnProperty,c=(e,t)=>o(e,"name",{value:t,configurable:!0}),l={};((e,t)=>{for(var n in t)o(e,n,{get:t[n],enumerable:!0})})(l,{EventStreamCodec:()=>A,HeaderMarshaller:()=>h,Int64:()=>p,MessageDecoderStream:()=>x,MessageEncoderStream:()=>I,SmithyMessageDecoderStream:()=>R,SmithyMessageEncoderStream:()=>T}),e.exports=(r=l,((e,t,n,r)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let c of i(t))a.call(e,c)||c===n||o(e,c,{get:()=>t[c],enumerable:!(r=s(t,c))||r.enumerable});return e})(o({},"__esModule",{value:!0}),r));var d=n(2110),u=n(6435),p=class e{constructor(e){if(this.bytes=e,8!==e.byteLength)throw new Error("Int64 buffers must be exactly 8 bytes")}static{c(this,"Int64")}static fromNumber(t){if(t>0x8000000000000000||t<-0x8000000000000000)throw new Error(`${t} is too large (or, if negative, too small) to represent as an Int64`);const n=new Uint8Array(8);for(let e=7,r=Math.abs(Math.round(t));e>-1&&r>0;e--,r/=256)n[e]=r;return t<0&&m(n),new e(n)}valueOf(){const e=this.bytes.slice(0),t=128&e[0];return t&&m(e),parseInt((0,u.toHex)(e),16)*(t?-1:1)}toString(){return String(this.valueOf())}};function m(e){for(let t=0;t<8;t++)e[t]^=255;for(let t=7;t>-1&&(e[t]++,0===e[t]);t--);}c(m,"negate");var h=class{constructor(e,t){this.toUtf8=e,this.fromUtf8=t}static{c(this,"HeaderMarshaller")}format(e){const t=[];for(const n of Object.keys(e)){const r=this.fromUtf8(n);t.push(Uint8Array.from([r.byteLength]),r,this.formatHeaderValue(e[n]))}const n=new Uint8Array(t.reduce((e,t)=>e+t.byteLength,0));let r=0;for(const e of t)n.set(e,r),r+=e.byteLength;return n}formatHeaderValue(e){switch(e.type){case"boolean":return Uint8Array.from([e.value?0:1]);case"byte":return Uint8Array.from([2,e.value]);case"short":const t=new DataView(new ArrayBuffer(3));return t.setUint8(0,3),t.setInt16(1,e.value,!1),new Uint8Array(t.buffer);case"integer":const n=new DataView(new ArrayBuffer(5));return n.setUint8(0,4),n.setInt32(1,e.value,!1),new Uint8Array(n.buffer);case"long":const r=new Uint8Array(9);return r[0]=5,r.set(e.value.bytes,1),r;case"binary":const o=new DataView(new ArrayBuffer(3+e.value.byteLength));o.setUint8(0,6),o.setUint16(1,e.value.byteLength,!1);const s=new Uint8Array(o.buffer);return s.set(e.value,3),s;case"string":const i=this.fromUtf8(e.value),a=new DataView(new ArrayBuffer(3+i.byteLength));a.setUint8(0,7),a.setUint16(1,i.byteLength,!1);const c=new Uint8Array(a.buffer);return c.set(i,3),c;case"timestamp":const l=new Uint8Array(9);return l[0]=8,l.set(p.fromNumber(e.value.valueOf()).bytes,1),l;case"uuid":if(!P.test(e.value))throw new Error(`Invalid UUID received: ${e.value}`);const d=new Uint8Array(17);return d[0]=9,d.set((0,u.fromHex)(e.value.replace(/\-/g,"")),1),d}}parse(e){const t={};let n=0;for(;n<e.byteLength;){const r=e.getUint8(n++),o=this.toUtf8(new Uint8Array(e.buffer,e.byteOffset+n,r));switch(n+=r,e.getUint8(n++)){case 0:t[o]={type:f,value:!0};break;case 1:t[o]={type:f,value:!1};break;case 2:t[o]={type:g,value:e.getInt8(n++)};break;case 3:t[o]={type:y,value:e.getInt16(n,!1)},n+=2;break;case 4:t[o]={type:v,value:e.getInt32(n,!1)},n+=4;break;case 5:t[o]={type:b,value:new p(new Uint8Array(e.buffer,e.byteOffset+n,8))},n+=8;break;case 6:const r=e.getUint16(n,!1);n+=2,t[o]={type:S,value:new Uint8Array(e.buffer,e.byteOffset+n,r)},n+=r;break;case 7:const s=e.getUint16(n,!1);n+=2,t[o]={type:_,value:this.toUtf8(new Uint8Array(e.buffer,e.byteOffset+n,s))},n+=s;break;case 8:t[o]={type:w,value:new Date(new p(new Uint8Array(e.buffer,e.byteOffset+n,8)).valueOf())},n+=8;break;case 9:const i=new Uint8Array(e.buffer,e.byteOffset+n,16);n+=16,t[o]={type:E,value:`${(0,u.toHex)(i.subarray(0,4))}-${(0,u.toHex)(i.subarray(4,6))}-${(0,u.toHex)(i.subarray(6,8))}-${(0,u.toHex)(i.subarray(8,10))}-${(0,u.toHex)(i.subarray(10))}`};break;default:throw new Error("Unrecognized header type tag")}}return t}},f="boolean",g="byte",y="short",v="integer",b="long",S="binary",_="string",w="timestamp",E="uuid",P=/^[a-f0-9]{8}-[a-f0-9]{4}-[a-f0-9]{4}-[a-f0-9]{4}-[a-f0-9]{12}$/,C=n(2110);function O({byteLength:e,byteOffset:t,buffer:n}){if(e<16)throw new Error("Provided message too short to accommodate event stream message overhead");const r=new DataView(n,t,e),o=r.getUint32(0,!1);if(e!==o)throw new Error("Reported message length does not match received message length");const s=r.getUint32(4,!1),i=r.getUint32(8,!1),a=r.getUint32(e-4,!1),c=(new C.Crc32).update(new Uint8Array(n,t,8));if(i!==c.digest())throw new Error(`The prelude checksum specified in the message (${i}) does not match the calculated CRC32 checksum (${c.digest()})`);if(c.update(new Uint8Array(n,t+8,e-12)),a!==c.digest())throw new Error(`The message checksum (${c.digest()}) did not match the expected value of ${a}`);return{headers:new DataView(n,t+8+4,s),body:new Uint8Array(n,t+8+4+s,o-s-16)}}c(O,"splitMessage");var A=class{static{c(this,"EventStreamCodec")}constructor(e,t){this.headerMarshaller=new h(e,t),this.messageBuffer=[],this.isEndOfStream=!1}feed(e){this.messageBuffer.push(this.decode(e))}endOfStream(){this.isEndOfStream=!0}getMessage(){const e=this.messageBuffer.pop(),t=this.isEndOfStream;return{getMessage:()=>e,isEndOfStream:()=>t}}getAvailableMessages(){const e=this.messageBuffer;this.messageBuffer=[];const t=this.isEndOfStream;return{getMessages:()=>e,isEndOfStream:()=>t}}encode({headers:e,body:t}){const n=this.headerMarshaller.format(e),r=n.byteLength+t.byteLength+16,o=new Uint8Array(r),s=new DataView(o.buffer,o.byteOffset,o.byteLength),i=new d.Crc32;return s.setUint32(0,r,!1),s.setUint32(4,n.byteLength,!1),s.setUint32(8,i.update(o.subarray(0,8)).digest(),!1),o.set(n,12),o.set(t,n.byteLength+12),s.setUint32(r-4,i.update(o.subarray(8,r-4)).digest(),!1),o}decode(e){const{headers:t,body:n}=O(e);return{headers:this.headerMarshaller.parse(t),body:n}}formatHeaders(e){return this.headerMarshaller.format(e)}},x=class{constructor(e){this.options=e}static{c(this,"MessageDecoderStream")}[Symbol.asyncIterator](){return this.asyncIterator()}async*asyncIterator(){for await(const e of this.options.inputStream){const t=this.options.decoder.decode(e);yield t}}},I=class{constructor(e){this.options=e}static{c(this,"MessageEncoderStream")}[Symbol.asyncIterator](){return this.asyncIterator()}async*asyncIterator(){for await(const e of this.options.messageStream){const t=this.options.encoder.encode(e);yield t}this.options.includeEndFrame&&(yield new Uint8Array(0))}},R=class{constructor(e){this.options=e}static{c(this,"SmithyMessageDecoderStream")}[Symbol.asyncIterator](){return this.asyncIterator()}async*asyncIterator(){for await(const e of this.options.messageStream){const t=await this.options.deserializer(e);void 0!==t&&(yield t)}}},T=class{constructor(e){this.options=e}static{c(this,"SmithyMessageEncoderStream")}[Symbol.asyncIterator](){return this.asyncIterator()}async*asyncIterator(){for await(const e of this.options.inputStream){const t=this.options.serializer(e);yield t}}}},422:(e,t,n)=>{var r,o=Object.defineProperty,s=Object.getOwnPropertyDescriptor,i=Object.getOwnPropertyNames,a=Object.prototype.hasOwnProperty,c=(e,t)=>o(e,"name",{value:t,configurable:!0}),l={};((e,t)=>{for(var n in t)o(e,n,{get:t[n],enumerable:!0})})(l,{EventStreamMarshaller:()=>m,eventStreamSerdeProvider:()=>f,iterableToReadableStream:()=>p,readableStreamtoIterable:()=>u}),e.exports=(r=l,((e,t,n,r)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let c of i(t))a.call(e,c)||c===n||o(e,c,{get:()=>t[c],enumerable:!(r=s(t,c))||r.enumerable});return e})(o({},"__esModule",{value:!0}),r));var d=n(6602),u=c(e=>({[Symbol.asyncIterator]:async function*(){const t=e.getReader();try{for(;;){const{done:e,value:n}=await t.read();if(e)return;yield n}}finally{t.releaseLock()}}}),"readableStreamtoIterable"),p=c(e=>{const t=e[Symbol.asyncIterator]();return new ReadableStream({async pull(e){const{done:n,value:r}=await t.next();if(n)return e.close();e.enqueue(r)}})},"iterableToReadableStream"),m=class{static{c(this,"EventStreamMarshaller")}constructor({utf8Encoder:e,utf8Decoder:t}){this.universalMarshaller=new d.EventStreamMarshaller({utf8Decoder:t,utf8Encoder:e})}deserialize(e,t){const n=h(e)?u(e):e;return this.universalMarshaller.deserialize(n,t)}serialize(e,t){const n=this.universalMarshaller.serialize(e,t);return"function"==typeof ReadableStream?p(n):n}},h=c(e=>"function"==typeof ReadableStream&&e instanceof ReadableStream,"isReadableStream"),f=c(e=>new m(e),"eventStreamSerdeProvider")},6895:e=>{var t,n=Object.defineProperty,r=Object.getOwnPropertyDescriptor,o=Object.getOwnPropertyNames,s=Object.prototype.hasOwnProperty,i=(e,t)=>n(e,"name",{value:t,configurable:!0}),a={};((e,t)=>{for(var r in t)n(e,r,{get:t[r],enumerable:!0})})(a,{resolveEventStreamSerdeConfig:()=>c}),e.exports=(t=a,((e,t,i,a)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let c of o(t))s.call(e,c)||c===i||n(e,c,{get:()=>t[c],enumerable:!(a=r(t,c))||a.enumerable});return e})(n({},"__esModule",{value:!0}),t));var c=i(e=>Object.assign(e,{eventStreamMarshaller:e.eventStreamSerdeProvider(e)}),"resolveEventStreamSerdeConfig")},9770:(e,t,n)=>{var r,o=Object.defineProperty,s=Object.getOwnPropertyDescriptor,i=Object.getOwnPropertyNames,a=Object.prototype.hasOwnProperty,c=(e,t)=>o(e,"name",{value:t,configurable:!0}),l={};((e,t)=>{for(var n in t)o(e,n,{get:t[n],enumerable:!0})})(l,{EventStreamMarshaller:()=>m,eventStreamSerdeProvider:()=>h}),e.exports=(r=l,((e,t,n,r)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let c of i(t))a.call(e,c)||c===n||o(e,c,{get:()=>t[c],enumerable:!(r=s(t,c))||r.enumerable});return e})(o({},"__esModule",{value:!0}),r));var d=n(6602),u=n(2203);async function*p(e){let t=!1,n=!1;const r=new Array;for(e.on("error",e=>{if(t||(t=!0),e)throw e}),e.on("data",e=>{r.push(e)}),e.on("end",()=>{t=!0});!n;){const e=await new Promise(e=>setTimeout(()=>e(r.shift()),0));e&&(yield e),n=t&&0===r.length}}c(p,"readabletoIterable");var m=class{static{c(this,"EventStreamMarshaller")}constructor({utf8Encoder:e,utf8Decoder:t}){this.universalMarshaller=new d.EventStreamMarshaller({utf8Decoder:t,utf8Encoder:e})}deserialize(e,t){const n="function"==typeof e[Symbol.asyncIterator]?e:p(e);return this.universalMarshaller.deserialize(n,t)}serialize(e,t){return u.Readable.from(this.universalMarshaller.serialize(e,t))}},h=c(e=>new m(e),"eventStreamSerdeProvider")},6602:(e,t,n)=>{var r,o=Object.defineProperty,s=Object.getOwnPropertyDescriptor,i=Object.getOwnPropertyNames,a=Object.prototype.hasOwnProperty,c=(e,t)=>o(e,"name",{value:t,configurable:!0}),l={};((e,t)=>{for(var n in t)o(e,n,{get:t[n],enumerable:!0})})(l,{EventStreamMarshaller:()=>m,eventStreamSerdeProvider:()=>h}),e.exports=(r=l,((e,t,n,r)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let c of i(t))a.call(e,c)||c===n||o(e,c,{get:()=>t[c],enumerable:!(r=s(t,c))||r.enumerable});return e})(o({},"__esModule",{value:!0}),r));var d=n(7788);function u(e){let t=0,n=0,r=null,o=null;const s=c(e=>{if("number"!=typeof e)throw new Error("Attempted to allocate an event message where size was not a number: "+e);t=e,n=4,r=new Uint8Array(e);new DataView(r.buffer).setUint32(0,e,!1)},"allocateMessage"),i=c(async function*(){const i=e[Symbol.asyncIterator]();for(;;){const{value:e,done:a}=await i.next();if(a){if(!t)return;if(t!==n)throw new Error("Truncated event message received.");return void(yield r)}const c=e.length;let l=0;for(;l<c;){if(!r){const t=c-l;o||(o=new Uint8Array(4));const r=Math.min(4-n,t);if(o.set(e.slice(l,l+r),n),n+=r,l+=r,n<4)break;s(new DataView(o.buffer).getUint32(0,!1)),o=null}const i=Math.min(t-n,c-l);r.set(e.slice(l,l+i),n),n+=i,l+=i,t&&t===n&&(yield r,r=null,t=0,n=0)}}},"iterator");return{[Symbol.asyncIterator]:i}}function p(e,t){return async function(n){const{value:r}=n.headers[":message-type"];if("error"===r){const e=new Error(n.headers[":error-message"].value||"UnknownError");throw e.name=n.headers[":error-code"].value,e}if("exception"===r){const r=n.headers[":exception-type"].value,o={[r]:n},s=await e(o);if(s.$unknown){const e=new Error(t(n.body));throw e.name=r,e}throw s[r]}if("event"===r){const t={[n.headers[":event-type"].value]:n},r=await e(t);if(r.$unknown)return;return r}throw Error(`Unrecognizable event type: ${n.headers[":event-type"].value}`)}}c(u,"getChunkedStream"),c(p,"getMessageUnmarshaller");var m=class{static{c(this,"EventStreamMarshaller")}constructor({utf8Encoder:e,utf8Decoder:t}){this.eventStreamCodec=new d.EventStreamCodec(e,t),this.utfEncoder=e}deserialize(e,t){const n=u(e);return new d.SmithyMessageDecoderStream({messageStream:new d.MessageDecoderStream({inputStream:n,decoder:this.eventStreamCodec}),deserializer:p(t,this.utfEncoder)})}serialize(e,t){return new d.MessageEncoderStream({messageStream:new d.SmithyMessageEncoderStream({inputStream:e,serializer:t}),encoder:this.eventStreamCodec,includeEndFrame:!0})}},h=c(e=>new m(e),"eventStreamSerdeProvider")},7809:(e,t,n)=>{var r,o=Object.defineProperty,s=Object.getOwnPropertyDescriptor,i=Object.getOwnPropertyNames,a=Object.prototype.hasOwnProperty,c=(e,t)=>o(e,"name",{value:t,configurable:!0}),l={};((e,t)=>{for(var n in t)o(e,n,{get:t[n],enumerable:!0})})(l,{FetchHttpHandler:()=>f,keepAliveSupport:()=>h,streamCollector:()=>y}),e.exports=(r=l,((e,t,n,r)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let c of i(t))a.call(e,c)||c===n||o(e,c,{get:()=>t[c],enumerable:!(r=s(t,c))||r.enumerable});return e})(o({},"__esModule",{value:!0}),r));var d=n(2356),u=n(8256);function p(e,t){return new Request(e,t)}function m(e=0){return new Promise((t,n)=>{e&&setTimeout(()=>{const t=new Error(`Request did not complete within ${e} ms`);t.name="TimeoutError",n(t)},e)})}c(p,"createRequest"),c(m,"requestTimeout");var h={supported:void 0},f=class e{static{c(this,"FetchHttpHandler")}static create(t){return"function"==typeof t?.handle?t:new e(t)}constructor(e){"function"==typeof e?this.configProvider=e().then(e=>e||{}):(this.config=e??{},this.configProvider=Promise.resolve(this.config)),void 0===h.supported&&(h.supported=Boolean("undefined"!=typeof Request&&"keepalive"in p("https://[::1]")))}destroy(){}async handle(e,{abortSignal:t,requestTimeout:n}={}){this.config||(this.config=await this.configProvider);const r=n??this.config.requestTimeout,o=!0===this.config.keepAlive,s=this.config.credentials;if(t?.aborted){const e=new Error("Request aborted");return e.name="AbortError",Promise.reject(e)}let i=e.path;const a=(0,u.buildQueryString)(e.query||{});a&&(i+=`?${a}`),e.fragment&&(i+=`#${e.fragment}`);let l="";if(null!=e.username||null!=e.password){l=`${e.username??""}:${e.password??""}@`}const{port:f,method:g}=e,y=`${e.protocol}//${l}${e.hostname}${f?`:${f}`:""}${i}`,v="GET"===g||"HEAD"===g?void 0:e.body,b={body:v,headers:new Headers(e.headers),method:g,credentials:s};this.config?.cache&&(b.cache=this.config.cache),v&&(b.duplex="half"),"undefined"!=typeof AbortController&&(b.signal=t),h.supported&&(b.keepalive=o),"function"==typeof this.config.requestInit&&Object.assign(b,this.config.requestInit(e));let S=c(()=>{},"removeSignalEventListener");const _=p(y,b),w=[fetch(_).then(e=>{const t=e.headers,n={};for(const e of t.entries())n[e[0]]=e[1];return null!=e.body?{response:new d.HttpResponse({headers:n,reason:e.statusText,statusCode:e.status,body:e.body})}:e.blob().then(t=>({response:new d.HttpResponse({headers:n,reason:e.statusText,statusCode:e.status,body:t})}))}),m(r)];return t&&w.push(new Promise((e,n)=>{const r=c(()=>{const e=new Error("Request aborted");e.name="AbortError",n(e)},"onAbort");if("function"==typeof t.addEventListener){const e=t;e.addEventListener("abort",r,{once:!0}),S=c(()=>e.removeEventListener("abort",r),"removeSignalEventListener")}else t.onabort=r})),Promise.race(w).finally(S)}updateHttpClientConfig(e,t){this.config=void 0,this.configProvider=this.configProvider.then(n=>(n[e]=t,n))}httpHandlerConfigs(){return this.config??{}}},g=n(8385),y=c(async e=>"function"==typeof Blob&&e instanceof Blob||"Blob"===e.constructor?.name?void 0!==Blob.prototype.arrayBuffer?new Uint8Array(await e.arrayBuffer()):v(e):b(e),"streamCollector");async function v(e){const t=await S(e),n=(0,g.fromBase64)(t);return new Uint8Array(n)}async function b(e){const t=[],n=e.getReader();let r=!1,o=0;for(;!r;){const{done:e,value:s}=await n.read();s&&(t.push(s),o+=s.length),r=e}const s=new Uint8Array(o);let i=0;for(const e of t)s.set(e,i),i+=e.length;return s}function S(e){return new Promise((t,n)=>{const r=new FileReader;r.onloadend=()=>{if(2!==r.readyState)return n(new Error("Reader aborted too early"));const e=r.result??"",o=e.indexOf(","),s=o>-1?o+1:e.length;t(e.substring(s))},r.onabort=()=>n(new Error("Read aborted")),r.onerror=()=>n(r.error),r.readAsDataURL(e)})}c(v,"collectBlob"),c(b,"collectStream"),c(S,"readToBase64")},5092:(e,t,n)=>{var r,o=Object.defineProperty,s=Object.getOwnPropertyDescriptor,i=Object.getOwnPropertyNames,a=Object.prototype.hasOwnProperty,c=(e,t)=>o(e,"name",{value:t,configurable:!0}),l={};((e,t)=>{for(var n in t)o(e,n,{get:t[n],enumerable:!0})})(l,{Hash:()=>h}),e.exports=(r=l,((e,t,n,r)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let c of i(t))a.call(e,c)||c===n||o(e,c,{get:()=>t[c],enumerable:!(r=s(t,c))||r.enumerable});return e})(o({},"__esModule",{value:!0}),r));var d=n(4151),u=n(1577),p=n(181),m=n(6982),h=class{static{c(this,"Hash")}constructor(e,t){this.algorithmIdentifier=e,this.secret=t,this.reset()}update(e,t){this.hash.update((0,u.toUint8Array)(f(e,t)))}digest(){return Promise.resolve(this.hash.digest())}reset(){this.hash=this.secret?(0,m.createHmac)(this.algorithmIdentifier,f(this.secret)):(0,m.createHash)(this.algorithmIdentifier)}};function f(e,t){return p.Buffer.isBuffer(e)?e:"string"==typeof e?(0,d.fromString)(e,t):ArrayBuffer.isView(e)?(0,d.fromArrayBuffer)(e.buffer,e.byteOffset,e.byteLength):(0,d.fromArrayBuffer)(e)}c(f,"castSourceData")},6130:e=>{var t,n=Object.defineProperty,r=Object.getOwnPropertyDescriptor,o=Object.getOwnPropertyNames,s=Object.prototype.hasOwnProperty,i=(e,t)=>n(e,"name",{value:t,configurable:!0}),a={};((e,t)=>{for(var r in t)n(e,r,{get:t[r],enumerable:!0})})(a,{isArrayBuffer:()=>c}),e.exports=(t=a,((e,t,i,a)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let c of o(t))s.call(e,c)||c===i||n(e,c,{get:()=>t[c],enumerable:!(a=r(t,c))||a.enumerable});return e})(n({},"__esModule",{value:!0}),t));var c=i(e=>"function"==typeof ArrayBuffer&&e instanceof ArrayBuffer||"[object ArrayBuffer]"===Object.prototype.toString.call(e),"isArrayBuffer")},7212:(e,t,n)=>{var r,o=Object.defineProperty,s=Object.getOwnPropertyDescriptor,i=Object.getOwnPropertyNames,a=Object.prototype.hasOwnProperty,c=(e,t)=>o(e,"name",{value:t,configurable:!0}),l={};((e,t)=>{for(var n in t)o(e,n,{get:t[n],enumerable:!0})})(l,{contentLengthMiddleware:()=>p,contentLengthMiddlewareOptions:()=>m,getContentLengthPlugin:()=>h}),e.exports=(r=l,((e,t,n,r)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let c of i(t))a.call(e,c)||c===n||o(e,c,{get:()=>t[c],enumerable:!(r=s(t,c))||r.enumerable});return e})(o({},"__esModule",{value:!0}),r));var d=n(2356),u="content-length";function p(e){return t=>async n=>{const r=n.request;if(d.HttpRequest.isInstance(r)){const{body:t,headers:n}=r;if(t&&-1===Object.keys(n).map(e=>e.toLowerCase()).indexOf(u))try{const n=e(t);r.headers={...r.headers,[u]:String(n)}}catch(e){}}return t({...n,request:r})}}c(p,"contentLengthMiddleware");var m={step:"build",tags:["SET_CONTENT_LENGTH","CONTENT_LENGTH"],name:"contentLengthMiddleware",override:!0},h=c(e=>({applyToStack:t=>{t.add(p(e.bodyLengthChecker),m)}}),"getContentLengthPlugin")},6041:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getEndpointFromConfig=void 0;const r=n(5704),o=n(8008);t.getEndpointFromConfig=async e=>(0,r.loadConfig)((0,o.getEndpointUrlConfig)(null!=e?e:""))()},8008:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getEndpointUrlConfig=void 0;const r=n(4964),o="AWS_ENDPOINT_URL",s="endpoint_url";t.getEndpointUrlConfig=e=>({environmentVariableSelector:t=>{const n=e.split(" ").map(e=>e.toUpperCase()),r=t[[o,...n].join("_")];if(r)return r;const s=t[o];return s||void 0},configFileSelector:(t,n)=>{if(n&&t.services){const o=n[["services",t.services].join(r.CONFIG_PREFIX_SEPARATOR)];if(o){const t=o[[e.split(" ").map(e=>e.toLowerCase()).join("_"),s].join(r.CONFIG_PREFIX_SEPARATOR)];if(t)return t}}const o=t[s];if(o)return o},default:void 0})},99:(e,t,n)=>{var r,o=Object.defineProperty,s=Object.getOwnPropertyDescriptor,i=Object.getOwnPropertyNames,a=Object.prototype.hasOwnProperty,c=(e,t)=>o(e,"name",{value:t,configurable:!0}),l={};((e,t)=>{for(var n in t)o(e,n,{get:t[n],enumerable:!0})})(l,{endpointMiddleware:()=>P,endpointMiddlewareOptions:()=>C,getEndpointFromInstructions:()=>S,getEndpointPlugin:()=>O,resolveEndpointConfig:()=>x,resolveEndpointRequiredConfig:()=>I,resolveParams:()=>_,toEndpointV1:()=>b}),e.exports=(r=l,((e,t,n,r)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let c of i(t))a.call(e,c)||c===n||o(e,c,{get:()=>t[c],enumerable:!(r=s(t,c))||r.enumerable});return e})(o({},"__esModule",{value:!0}),r));var d=c(async e=>{const t=e?.Bucket||"";if("string"==typeof e.Bucket&&(e.Bucket=t.replace(/#/g,encodeURIComponent("#")).replace(/\?/g,encodeURIComponent("?"))),f(t)){if(!0===e.ForcePathStyle)throw new Error("Path-style addressing cannot be used with ARN buckets")}else(!h(t)||-1!==t.indexOf(".")&&!String(e.Endpoint).startsWith("http:")||t.toLowerCase()!==t||t.length<3)&&(e.ForcePathStyle=!0);return e.DisableMultiRegionAccessPoints&&(e.disableMultiRegionAccessPoints=!0,e.DisableMRAP=!0),e},"resolveParamsForS3"),u=/^[a-z0-9][a-z0-9\.\-]{1,61}[a-z0-9]$/,p=/(\d+\.){3}\d+/,m=/\.\./,h=c(e=>u.test(e)&&!p.test(e)&&!m.test(e),"isDnsCompatibleBucketName"),f=c(e=>{const[t,n,r,,,o]=e.split(":"),s="arn"===t&&e.split(":").length>=6,i=Boolean(s&&n&&r&&o);if(s&&!i)throw new Error(`Invalid ARN: ${e} was an invalid ARN.`);return i},"isArnBucketName"),g=c((e,t,n)=>{const r=c(async()=>{const r=n[e]??n[t];return"function"==typeof r?r():r},"configProvider");return"credentialScope"===e||"CredentialScope"===t?async()=>{const e="function"==typeof n.credentials?await n.credentials():n.credentials;return e?.credentialScope??e?.CredentialScope}:"accountId"===e||"AccountId"===t?async()=>{const e="function"==typeof n.credentials?await n.credentials():n.credentials;return e?.accountId??e?.AccountId}:"endpoint"===e||"endpoint"===t?async()=>{if(!1===n.isCustomEndpoint)return;const e=await r();if(e&&"object"==typeof e){if("url"in e)return e.url.href;if("hostname"in e){const{protocol:t,hostname:n,port:r,path:o}=e;return`${t}//${n}${r?":"+r:""}${o}`}}return e}:r},"createConfigValueProvider"),y=n(6041),v=n(4494),b=c(e=>"object"==typeof e?"url"in e?(0,v.parseUrl)(e.url):e:(0,v.parseUrl)(e),"toEndpointV1"),S=c(async(e,t,n,r)=>{if(!n.isCustomEndpoint){let e;e=n.serviceConfiguredEndpoint?await n.serviceConfiguredEndpoint():await(0,y.getEndpointFromConfig)(n.serviceId),e&&(n.endpoint=()=>Promise.resolve(b(e)),n.isCustomEndpoint=!0)}const o=await _(e,t,n);if("function"!=typeof n.endpointProvider)throw new Error("config.endpointProvider is not set.");return n.endpointProvider(o,r)},"getEndpointFromInstructions"),_=c(async(e,t,n)=>{const r={},o=t?.getEndpointParameterInstructions?.()||{};for(const[t,s]of Object.entries(o))switch(s.type){case"staticContextParams":r[t]=s.value;break;case"contextParams":r[t]=e[s.name];break;case"clientContextParams":case"builtInParams":r[t]=await g(s.name,t,n)();break;case"operationContextParams":r[t]=s.get(e);break;default:throw new Error("Unrecognized endpoint parameter instruction: "+JSON.stringify(s))}return 0===Object.keys(o).length&&Object.assign(r,n),"s3"===String(n.serviceId).toLowerCase()&&await d(r),r},"resolveParams"),w=n(402),E=n(6324),P=c(({config:e,instructions:t})=>(n,r)=>async o=>{e.isCustomEndpoint&&(0,w.setFeature)(r,"ENDPOINT_OVERRIDE","N");const s=await S(o.input,{getEndpointParameterInstructions:()=>t},{...e},r);r.endpointV2=s,r.authSchemes=s.properties?.authSchemes;const i=r.authSchemes?.[0];if(i){r.signing_region=i.signingRegion,r.signing_service=i.signingName;const e=(0,E.getSmithyContext)(r),t=e?.selectedHttpAuthScheme?.httpAuthOption;t&&(t.signingProperties=Object.assign(t.signingProperties||{},{signing_region:i.signingRegion,signingRegion:i.signingRegion,signing_service:i.signingName,signingName:i.signingName,signingRegionSet:i.signingRegionSet},i.properties))}return n({...o})},"endpointMiddleware"),C={step:"serialize",tags:["ENDPOINT_PARAMETERS","ENDPOINT_V2","ENDPOINT"],name:"endpointV2Middleware",override:!0,relation:"before",toMiddleware:n(3255).serializerMiddlewareOption.name},O=c((e,t)=>({applyToStack:n=>{n.addRelativeTo(P({config:e,instructions:t}),C)}}),"getEndpointPlugin"),A=n(6041),x=c(e=>{const t=e.tls??!0,{endpoint:n,useDualstackEndpoint:r,useFipsEndpoint:o}=e,s=null!=n?async()=>b(await(0,E.normalizeProvider)(n)()):void 0,i=!!n,a=Object.assign(e,{endpoint:s,tls:t,isCustomEndpoint:i,useDualstackEndpoint:(0,E.normalizeProvider)(r??!1),useFipsEndpoint:(0,E.normalizeProvider)(o??!1)});let c;return a.serviceConfiguredEndpoint=async()=>(e.serviceId&&!c&&(c=(0,A.getEndpointFromConfig)(e.serviceId)),c),a},"resolveEndpointConfig"),I=c(e=>{const{endpoint:t}=e;return void 0===t&&(e.endpoint=async()=>{throw new Error("@smithy/middleware-endpoint: (default endpointRuleSet) endpoint is not set - you must configure an endpoint.")}),e},"resolveEndpointRequiredConfig")},9618:(e,t,n)=>{var r,o=Object.defineProperty,s=Object.getOwnPropertyDescriptor,i=Object.getOwnPropertyNames,a=Object.prototype.hasOwnProperty,c=(e,t)=>o(e,"name",{value:t,configurable:!0}),l={};((e,t)=>{for(var n in t)o(e,n,{get:t[n],enumerable:!0})})(l,{AdaptiveRetryStrategy:()=>S,CONFIG_MAX_ATTEMPTS:()=>E,CONFIG_RETRY_MODE:()=>A,ENV_MAX_ATTEMPTS:()=>w,ENV_RETRY_MODE:()=>O,NODE_MAX_ATTEMPT_CONFIG_OPTIONS:()=>P,NODE_RETRY_MODE_CONFIG_OPTIONS:()=>x,StandardRetryStrategy:()=>v,defaultDelayDecider:()=>h,defaultRetryDecider:()=>g,getOmitRetryHeadersPlugin:()=>T,getRetryAfterHint:()=>U,getRetryPlugin:()=>$,omitRetryHeadersMiddleware:()=>I,omitRetryHeadersMiddlewareOptions:()=>R,resolveRetryConfig:()=>C,retryMiddleware:()=>N,retryMiddlewareOptions:()=>F}),e.exports=(r=l,((e,t,n,r)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let c of i(t))a.call(e,c)||c===n||o(e,c,{get:()=>t[c],enumerable:!(r=s(t,c))||r.enumerable});return e})(o({},"__esModule",{value:!0}),r));var d=n(2356),u=n(2048),p=n(5518),m=c((e,t)=>{const n=e,r=t?.noRetryIncrement??p.NO_RETRY_INCREMENT,o=t?.retryCost??p.RETRY_COST,s=t?.timeoutRetryCost??p.TIMEOUT_RETRY_COST;let i=e;const a=c(e=>"TimeoutError"===e.name?s:o,"getCapacityAmount"),l=c(e=>a(e)<=i,"hasRetryTokens"),d=c(e=>{if(!l(e))throw new Error("No retry token available");const t=a(e);return i-=t,t},"retrieveRetryTokens"),u=c(e=>{i+=e??r,i=Math.min(i,n)},"releaseRetryTokens");return Object.freeze({hasRetryTokens:l,retrieveRetryTokens:d,releaseRetryTokens:u})},"getDefaultRetryQuota"),h=c((e,t)=>Math.floor(Math.min(p.MAXIMUM_RETRY_DELAY,Math.random()*2**t*e)),"defaultDelayDecider"),f=n(2058),g=c(e=>!!e&&((0,f.isRetryableByTrait)(e)||(0,f.isClockSkewError)(e)||(0,f.isThrottlingError)(e)||(0,f.isTransientError)(e)),"defaultRetryDecider"),y=c(e=>e instanceof Error?e:e instanceof Object?Object.assign(new Error,e):"string"==typeof e?new Error(e):new Error(`AWS SDK error wrapper for ${e}`),"asSdkError"),v=class{constructor(e,t){this.maxAttemptsProvider=e,this.mode=p.RETRY_MODES.STANDARD,this.retryDecider=t?.retryDecider??g,this.delayDecider=t?.delayDecider??h,this.retryQuota=t?.retryQuota??m(p.INITIAL_RETRY_TOKENS)}static{c(this,"StandardRetryStrategy")}shouldRetry(e,t,n){return t<n&&this.retryDecider(e)&&this.retryQuota.hasRetryTokens(e)}async getMaxAttempts(){let e;try{e=await this.maxAttemptsProvider()}catch(t){e=p.DEFAULT_MAX_ATTEMPTS}return e}async retry(e,t,n){let r,o=0,s=0;const i=await this.getMaxAttempts(),{request:a}=t;for(d.HttpRequest.isInstance(a)&&(a.headers[p.INVOCATION_ID_HEADER]=(0,u.v4)());;)try{d.HttpRequest.isInstance(a)&&(a.headers[p.REQUEST_HEADER]=`attempt=${o+1}; max=${i}`),n?.beforeRequest&&await n.beforeRequest();const{response:c,output:l}=await e(t);return n?.afterRequest&&n.afterRequest(c),this.retryQuota.releaseRetryTokens(r),l.$metadata.attempts=o+1,l.$metadata.totalRetryDelay=s,{response:c,output:l}}catch(e){const t=y(e);if(o++,this.shouldRetry(t,o,i)){r=this.retryQuota.retrieveRetryTokens(t);const e=this.delayDecider((0,f.isThrottlingError)(t)?p.THROTTLING_RETRY_DELAY_BASE:p.DEFAULT_RETRY_DELAY_BASE,o),n=b(t.$response),i=Math.max(n||0,e);s+=i,await new Promise(e=>setTimeout(e,i));continue}throw t.$metadata||(t.$metadata={}),t.$metadata.attempts=o,t.$metadata.totalRetryDelay=s,t}}},b=c(e=>{if(!d.HttpResponse.isInstance(e))return;const t=Object.keys(e.headers).find(e=>"retry-after"===e.toLowerCase());if(!t)return;const n=e.headers[t],r=Number(n);if(!Number.isNaN(r))return 1e3*r;return new Date(n).getTime()-Date.now()},"getDelayFromRetryAfterHeader"),S=class extends v{static{c(this,"AdaptiveRetryStrategy")}constructor(e,t){const{rateLimiter:n,...r}=t??{};super(e,r),this.rateLimiter=n??new p.DefaultRateLimiter,this.mode=p.RETRY_MODES.ADAPTIVE}async retry(e,t){return super.retry(e,t,{beforeRequest:async()=>this.rateLimiter.getSendToken(),afterRequest:e=>{this.rateLimiter.updateClientSendingRate(e)}})}},_=n(6324),w="AWS_MAX_ATTEMPTS",E="max_attempts",P={environmentVariableSelector:e=>{const t=e[w];if(!t)return;const n=parseInt(t);if(Number.isNaN(n))throw new Error(`Environment variable ${w} mast be a number, got "${t}"`);return n},configFileSelector:e=>{const t=e[E];if(!t)return;const n=parseInt(t);if(Number.isNaN(n))throw new Error(`Shared config file entry ${E} mast be a number, got "${t}"`);return n},default:p.DEFAULT_MAX_ATTEMPTS},C=c(e=>{const{retryStrategy:t,retryMode:n,maxAttempts:r}=e,o=(0,_.normalizeProvider)(r??p.DEFAULT_MAX_ATTEMPTS);return Object.assign(e,{maxAttempts:o,retryStrategy:async()=>{if(t)return t;return await(0,_.normalizeProvider)(n)()===p.RETRY_MODES.ADAPTIVE?new p.AdaptiveRetryStrategy(o):new p.StandardRetryStrategy(o)}})},"resolveRetryConfig"),O="AWS_RETRY_MODE",A="retry_mode",x={environmentVariableSelector:e=>e[O],configFileSelector:e=>e[A],default:p.DEFAULT_RETRY_MODE},I=c(()=>e=>async t=>{const{request:n}=t;return d.HttpRequest.isInstance(n)&&(delete n.headers[p.INVOCATION_ID_HEADER],delete n.headers[p.REQUEST_HEADER]),e(t)},"omitRetryHeadersMiddleware"),R={name:"omitRetryHeadersMiddleware",tags:["RETRY","HEADERS","OMIT_RETRY_HEADERS"],relation:"before",toMiddleware:"awsAuthMiddleware",override:!0},T=c(e=>({applyToStack:e=>{e.addRelativeTo(I(),R)}}),"getOmitRetryHeadersPlugin"),D=n(1411),k=n(9831),N=c(e=>(t,n)=>async r=>{let o=await e.retryStrategy();const s=await e.maxAttempts();if(!j(o))return o?.mode&&(n.userAgent=[...n.userAgent||[],["cfg/retry-mode",o.mode]]),o.retry(t,r);{let e=await o.acquireInitialRetryToken(n.partition_id),i=new Error,a=0,c=0;const{request:l}=r,m=d.HttpRequest.isInstance(l);for(m&&(l.headers[p.INVOCATION_ID_HEADER]=(0,u.v4)());;)try{m&&(l.headers[p.REQUEST_HEADER]=`attempt=${a+1}; max=${s}`);const{response:n,output:i}=await t(r);return o.recordSuccess(e),i.$metadata.attempts=a+1,i.$metadata.totalRetryDelay=c,{response:n,output:i}}catch(t){const r=M(t);if(i=y(t),m&&(0,k.isStreamingPayload)(l))throw(n.logger instanceof D.NoOpLogger?console:n.logger)?.warn("An error was encountered in a non-retryable streaming request."),i;try{e=await o.refreshRetryTokenForRetry(e,r)}catch(e){throw i.$metadata||(i.$metadata={}),i.$metadata.attempts=a+1,i.$metadata.totalRetryDelay=c,i}a=e.getRetryCount();const s=e.getRetryDelay();c+=s,await new Promise(e=>setTimeout(e,s))}}},"retryMiddleware"),j=c(e=>void 0!==e.acquireInitialRetryToken&&void 0!==e.refreshRetryTokenForRetry&&void 0!==e.recordSuccess,"isRetryStrategyV2"),M=c(e=>{const t={error:e,errorType:L(e)},n=U(e.$response);return n&&(t.retryAfterHint=n),t},"getRetryErrorInfo"),L=c(e=>(0,f.isThrottlingError)(e)?"THROTTLING":(0,f.isTransientError)(e)?"TRANSIENT":(0,f.isServerError)(e)?"SERVER_ERROR":"CLIENT_ERROR","getRetryErrorType"),F={name:"retryMiddleware",tags:["RETRY"],step:"finalizeRequest",priority:"high",override:!0},$=c(e=>({applyToStack:t=>{t.add(N(e),F)}}),"getRetryPlugin"),U=c(e=>{if(!d.HttpResponse.isInstance(e))return;const t=Object.keys(e.headers).find(e=>"retry-after"===e.toLowerCase());if(!t)return;const n=e.headers[t],r=Number(n);if(!Number.isNaN(r))return new Date(1e3*r);return new Date(n)},"getRetryAfterHint")},9831:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isStreamingPayload=void 0;const r=n(2203);t.isStreamingPayload=e=>(null==e?void 0:e.body)instanceof r.Readable||"undefined"!=typeof ReadableStream&&(null==e?void 0:e.body)instanceof ReadableStream},3255:(e,t,n)=>{var r,o=Object.defineProperty,s=Object.getOwnPropertyDescriptor,i=Object.getOwnPropertyNames,a=Object.prototype.hasOwnProperty,c=(e,t)=>o(e,"name",{value:t,configurable:!0}),l={};((e,t)=>{for(var n in t)o(e,n,{get:t[n],enumerable:!0})})(l,{deserializerMiddleware:()=>u,deserializerMiddlewareOption:()=>h,getSerdePlugin:()=>g,serializerMiddleware:()=>m,serializerMiddlewareOption:()=>f}),e.exports=(r=l,((e,t,n,r)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let c of i(t))a.call(e,c)||c===n||o(e,c,{get:()=>t[c],enumerable:!(r=s(t,c))||r.enumerable});return e})(o({},"__esModule",{value:!0}),r));var d=n(2356),u=c((e,t)=>(n,r)=>async o=>{const{response:s}=await n(o);try{return{response:s,output:await t(s,e)}}catch(e){if(Object.defineProperty(e,"$response",{value:s}),!("$metadata"in e)){const t="Deserialization error: to see the raw response, inspect the hidden field {error}.$response on this object.";try{e.message+="\n  "+t}catch(e){r.logger&&"NoOpLogger"!==r.logger?.constructor?.name?r.logger?.warn?.(t):console.warn(t)}void 0!==e.$responseBodyText&&e.$response&&(e.$response.body=e.$responseBodyText);try{if(d.HttpResponse.isInstance(s)){const{headers:t={}}=s,n=Object.entries(t);e.$metadata={httpStatusCode:s.statusCode,requestId:p(/^x-[\w-]+-request-?id$/,n),extendedRequestId:p(/^x-[\w-]+-id-2$/,n),cfId:p(/^x-[\w-]+-cf-id$/,n)}}}catch(e){}}throw e}},"deserializerMiddleware"),p=c((e,t)=>(t.find(([t])=>t.match(e))||[void 0,void 0])[1],"findHeader"),m=c((e,t)=>(n,r)=>async o=>{const s=e,i=r.endpointV2?.url&&s.urlParser?async()=>s.urlParser(r.endpointV2.url):s.endpoint;if(!i)throw new Error("No valid endpoint provider available.");const a=await t(o.input,{...e,endpoint:i});return n({...o,request:a})},"serializerMiddleware"),h={name:"deserializerMiddleware",step:"deserialize",tags:["DESERIALIZER"],override:!0},f={name:"serializerMiddleware",step:"serialize",tags:["SERIALIZER"],override:!0};function g(e,t,n){return{applyToStack:r=>{r.add(u(e,n),h),r.add(m(e,t),f)}}}c(g,"getSerdePlugin")},9208:e=>{var t,n=Object.defineProperty,r=Object.getOwnPropertyDescriptor,o=Object.getOwnPropertyNames,s=Object.prototype.hasOwnProperty,i=(e,t)=>n(e,"name",{value:t,configurable:!0}),a={};((e,t)=>{for(var r in t)n(e,r,{get:t[r],enumerable:!0})})(a,{constructStack:()=>d}),e.exports=(t=a,((e,t,i,a)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let c of o(t))s.call(e,c)||c===i||n(e,c,{get:()=>t[c],enumerable:!(a=r(t,c))||a.enumerable});return e})(n({},"__esModule",{value:!0}),t));var c=i((e,t)=>{const n=[];if(e&&n.push(e),t)for(const e of t)n.push(e);return n},"getAllAliases"),l=i((e,t)=>`${e||"anonymous"}${t&&t.length>0?` (a.k.a. ${t.join(",")})`:""}`,"getMiddlewareNameWithAliases"),d=i(()=>{let e=[],t=[],n=!1;const r=new Set,o=i(e=>e.sort((e,t)=>u[t.step]-u[e.step]||p[t.priority||"normal"]-p[e.priority||"normal"]),"sort"),s=i(n=>{let o=!1;const s=i(e=>{const t=c(e.name,e.aliases);if(t.includes(n)){o=!0;for(const e of t)r.delete(e);return!1}return!0},"filterCb");return e=e.filter(s),t=t.filter(s),o},"removeByName"),a=i(n=>{let o=!1;const s=i(e=>{if(e.middleware===n){o=!0;for(const t of c(e.name,e.aliases))r.delete(t);return!1}return!0},"filterCb");return e=e.filter(s),t=t.filter(s),o},"removeByReference"),m=i(n=>(e.forEach(e=>{n.add(e.middleware,{...e})}),t.forEach(e=>{n.addRelativeTo(e.middleware,{...e})}),n.identifyOnResolve?.(g.identifyOnResolve()),n),"cloneTo"),h=i(e=>{const t=[];return e.before.forEach(e=>{0===e.before.length&&0===e.after.length?t.push(e):t.push(...h(e))}),t.push(e),e.after.reverse().forEach(e=>{0===e.before.length&&0===e.after.length?t.push(e):t.push(...h(e))}),t},"expandRelativeMiddlewareList"),f=i((n=!1)=>{const r=[],s=[],i={};e.forEach(e=>{const t={...e,before:[],after:[]};for(const e of c(t.name,t.aliases))i[e]=t;r.push(t)}),t.forEach(e=>{const t={...e,before:[],after:[]};for(const e of c(t.name,t.aliases))i[e]=t;s.push(t)}),s.forEach(e=>{if(e.toMiddleware){const t=i[e.toMiddleware];if(void 0===t){if(n)return;throw new Error(`${e.toMiddleware} is not found when adding ${l(e.name,e.aliases)} middleware ${e.relation} ${e.toMiddleware}`)}"after"===e.relation&&t.after.push(e),"before"===e.relation&&t.before.push(e)}});return o(r).map(h).reduce((e,t)=>(e.push(...t),e),[])},"getMiddlewareList"),g={add:(t,n={})=>{const{name:o,override:s,aliases:i}=n,a={step:"initialize",priority:"normal",middleware:t,...n},d=c(o,i);if(d.length>0){if(d.some(e=>r.has(e))){if(!s)throw new Error(`Duplicate middleware name '${l(o,i)}'`);for(const t of d){const n=e.findIndex(e=>e.name===t||e.aliases?.some(e=>e===t));if(-1===n)continue;const r=e[n];if(r.step!==a.step||a.priority!==r.priority)throw new Error(`"${l(r.name,r.aliases)}" middleware with ${r.priority} priority in ${r.step} step cannot be overridden by "${l(o,i)}" middleware with ${a.priority} priority in ${a.step} step.`);e.splice(n,1)}}for(const e of d)r.add(e)}e.push(a)},addRelativeTo:(e,n)=>{const{name:o,override:s,aliases:i}=n,a={middleware:e,...n},d=c(o,i);if(d.length>0){if(d.some(e=>r.has(e))){if(!s)throw new Error(`Duplicate middleware name '${l(o,i)}'`);for(const e of d){const n=t.findIndex(t=>t.name===e||t.aliases?.some(t=>t===e));if(-1===n)continue;const r=t[n];if(r.toMiddleware!==a.toMiddleware||r.relation!==a.relation)throw new Error(`"${l(r.name,r.aliases)}" middleware ${r.relation} "${r.toMiddleware}" middleware cannot be overridden by "${l(o,i)}" middleware ${a.relation} "${a.toMiddleware}" middleware.`);t.splice(n,1)}}for(const e of d)r.add(e)}t.push(a)},clone:()=>m(d()),use:e=>{e.applyToStack(g)},remove:e=>"string"==typeof e?s(e):a(e),removeByTag:n=>{let o=!1;const s=i(e=>{const{tags:t,name:s,aliases:i}=e;if(t&&t.includes(n)){const e=c(s,i);for(const t of e)r.delete(t);return o=!0,!1}return!0},"filterCb");return e=e.filter(s),t=t.filter(s),o},concat:e=>{const t=m(d());return t.use(e),t.identifyOnResolve(n||t.identifyOnResolve()||(e.identifyOnResolve?.()??!1)),t},applyToStack:m,identify:()=>f(!0).map(e=>{const t=e.step??e.relation+" "+e.toMiddleware;return l(e.name,e.aliases)+" - "+t}),identifyOnResolve:e=>("boolean"==typeof e&&(n=e),n),resolve:(e,t)=>{for(const n of f().map(e=>e.middleware).reverse())e=n(e,t);return n&&console.log(g.identify()),e}};return g},"constructStack"),u={initialize:5,serialize:4,build:3,finalizeRequest:2,deserialize:1},p={high:3,normal:2,low:1}},5704:(e,t,n)=>{var r,o=Object.defineProperty,s=Object.getOwnPropertyDescriptor,i=Object.getOwnPropertyNames,a=Object.prototype.hasOwnProperty,c=(e,t)=>o(e,"name",{value:t,configurable:!0}),l={};((e,t)=>{for(var n in t)o(e,n,{get:t[n],enumerable:!0})})(l,{loadConfig:()=>y}),e.exports=(r=l,((e,t,n,r)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let c of i(t))a.call(e,c)||c===n||o(e,c,{get:()=>t[c],enumerable:!(r=s(t,c))||r.enumerable});return e})(o({},"__esModule",{value:!0}),r));var d=n(1238);function u(e){try{const t=new Set(Array.from(e.match(/([A-Z_]){3,}/g)??[]));return t.delete("CONFIG"),t.delete("CONFIG_PREFIX_SEPARATOR"),t.delete("ENV"),[...t].join(", ")}catch(t){return e}}c(u,"getSelectorName");var p=c((e,t)=>async()=>{try{const n=e(process.env,t);if(void 0===n)throw new Error;return n}catch(n){throw new d.CredentialsProviderError(n.message||`Not found in ENV: ${u(e.toString())}`,{logger:t?.logger})}},"fromEnv"),m=n(4964),h=c((e,{preferredFile:t="config",...n}={})=>async()=>{const r=(0,m.getProfileName)(n),{configFile:o,credentialsFile:s}=await(0,m.loadSharedConfigFiles)(n),i=s[r]||{},a=o[r]||{},c="config"===t?{...i,...a}:{...a,...i};try{const n=e(c,"config"===t?o:s);if(void 0===n)throw new Error;return n}catch(t){throw new d.CredentialsProviderError(t.message||`Not found in config files w/ profile [${r}]: ${u(e.toString())}`,{logger:n.logger})}},"fromSharedConfigFiles"),f=c(e=>"function"==typeof e,"isFunction"),g=c(e=>f(e)?async()=>await e():(0,d.fromStatic)(e),"fromStatic"),y=c(({environmentVariableSelector:e,configFileSelector:t,default:n},r={})=>{const{signingName:o,logger:s}=r,i={signingName:o,logger:s};return(0,d.memoize)((0,d.chain)(p(e,i),h(t,r),g(n)))},"loadConfig")},1279:(e,t,n)=>{var r,o=Object.create,s=Object.defineProperty,i=Object.getOwnPropertyDescriptor,a=Object.getOwnPropertyNames,c=Object.getPrototypeOf,l=Object.prototype.hasOwnProperty,d=(e,t)=>s(e,"name",{value:t,configurable:!0}),u=(e,t,n,r)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let o of a(t))l.call(e,o)||o===n||s(e,o,{get:()=>t[o],enumerable:!(r=i(t,o))||r.enumerable});return e},p={};((e,t)=>{for(var n in t)s(e,n,{get:t[n],enumerable:!0})})(p,{DEFAULT_REQUEST_TIMEOUT:()=>A,NodeHttp2Handler:()=>k,NodeHttpHandler:()=>x,streamCollector:()=>j}),e.exports=(r=p,u(s({},"__esModule",{value:!0}),r));var m=n(2356),h=n(8256),f=n(8611),g=n(5692),y=["ECONNRESET","EPIPE","ETIMEDOUT"],v=d(e=>{const t={};for(const n of Object.keys(e)){const r=e[n];t[n]=Array.isArray(r)?r.join(","):r}return t},"getTransformedHeaders"),b=(e,t)=>setTimeout(e,t),S=e=>clearTimeout(e),_=d((e,t,n=0)=>{if(!n)return-1;const r=d(r=>{const o=b(()=>{e.destroy(),t(Object.assign(new Error(`Socket timed out without establishing a connection within ${n} ms`),{name:"TimeoutError"}))},n-r),s=d(e=>{e?.connecting?e.on("connect",()=>{S(o)}):S(o)},"doWithSocket");e.socket?s(e.socket):e.on("socket",s)},"registerTimeout");return n<2e3?(r(0),0):b(r.bind(null,1e3),1e3)},"setConnectionTimeout"),w=d((e,{keepAlive:t,keepAliveMsecs:n},r=3e3)=>{if(!0!==t)return-1;const o=d(()=>{e.socket?e.socket.setKeepAlive(t,n||0):e.on("socket",e=>{e.setKeepAlive(t,n||0)})},"registerListener");return 0===r?(o(),0):b(o,r)},"setSocketKeepAlive"),E=d((e,t,n=A)=>{const r=d(r=>{const o=n-r,s=d(()=>{e.destroy(),t(Object.assign(new Error(`Connection timed out after ${n} ms`),{name:"TimeoutError"}))},"onTimeout");e.socket?(e.socket.setTimeout(o,s),e.on("close",()=>e.socket?.removeListener("timeout",s))):e.setTimeout(o,s)},"registerTimeout");return 0<n&&n<6e3?(r(0),0):b(r.bind(null,0===n?0:3e3),3e3)},"setSocketTimeout"),P=n(2203);async function C(e,t,n=6e3){const r=t.headers??{},o=r.Expect||r.expect;let s=-1,i=!0;"100-continue"===o&&(i=await Promise.race([new Promise(e=>{s=Number(b(()=>e(!0),Math.max(6e3,n)))}),new Promise(t=>{e.on("continue",()=>{S(s),t(!0)}),e.on("response",()=>{S(s),t(!1)}),e.on("error",()=>{S(s),t(!1)})})])),i&&O(e,t.body)}function O(e,t){if(t instanceof P.Readable)t.pipe(e);else{if(t){if(Buffer.isBuffer(t)||"string"==typeof t)return void e.end(t);const n=t;return"object"==typeof n&&n.buffer&&"number"==typeof n.byteOffset&&"number"==typeof n.byteLength?void e.end(Buffer.from(n.buffer,n.byteOffset,n.byteLength)):void e.end(Buffer.from(t))}e.end()}}d(C,"writeRequestBody"),d(O,"writeBody");var A=0,x=class e{constructor(e){this.socketWarningTimestamp=0,this.metadata={handlerProtocol:"http/1.1"},this.configProvider=new Promise((t,n)=>{"function"==typeof e?e().then(e=>{t(this.resolveDefaultConfig(e))}).catch(n):t(this.resolveDefaultConfig(e))})}static{d(this,"NodeHttpHandler")}static create(t){return"function"==typeof t?.handle?t:new e(t)}static checkSocketUsage(e,t,n=console){const{sockets:r,requests:o,maxSockets:s}=e;if("number"!=typeof s||s===1/0)return t;if(Date.now()-15e3<t)return t;if(r&&o)for(const e in r){const t=r[e]?.length??0,i=o[e]?.length??0;if(t>=s&&i>=2*s)return n?.warn?.(`@smithy/node-http-handler:WARN - socket usage at capacity=${t} and ${i} additional requests are enqueued.\nSee https://docs.aws.amazon.com/sdk-for-javascript/v3/developer-guide/node-configuring-maxsockets.html\nor increase socketAcquisitionWarningTimeout=(millis) in the NodeHttpHandler config.`),Date.now()}return t}resolveDefaultConfig(e){const{requestTimeout:t,connectionTimeout:n,socketTimeout:r,socketAcquisitionWarningTimeout:o,httpAgent:s,httpsAgent:i}=e||{},a=!0;return{connectionTimeout:n,requestTimeout:t??r,socketAcquisitionWarningTimeout:o,httpAgent:s instanceof f.Agent||"function"==typeof s?.destroy?s:new f.Agent({keepAlive:a,maxSockets:50,...s}),httpsAgent:i instanceof g.Agent||"function"==typeof i?.destroy?i:new g.Agent({keepAlive:a,maxSockets:50,...i}),logger:console}}destroy(){this.config?.httpAgent?.destroy(),this.config?.httpsAgent?.destroy()}async handle(t,{abortSignal:n,requestTimeout:r}={}){return this.config||(this.config=await this.configProvider),new Promise((o,s)=>{let i;const a=[],c=d(async e=>{await i,a.forEach(S),o(e)},"resolve"),l=d(async e=>{await i,a.forEach(S),s(e)},"reject");if(!this.config)throw new Error("Node HTTP request handler config is not resolved");if(n?.aborted){const e=new Error("Request aborted");return e.name="AbortError",void l(e)}const u="https:"===t.protocol,p=u?this.config.httpsAgent:this.config.httpAgent;a.push(b(()=>{this.socketWarningTimestamp=e.checkSocketUsage(p,this.socketWarningTimestamp,this.config.logger)},this.config.socketAcquisitionWarningTimeout??(this.config.requestTimeout??2e3)+(this.config.connectionTimeout??1e3)));const P=(0,h.buildQueryString)(t.query||{});let O;if(null!=t.username||null!=t.password){O=`${t.username??""}:${t.password??""}`}let A=t.path;P&&(A+=`?${P}`),t.fragment&&(A+=`#${t.fragment}`);let x=t.hostname??"";x="["===x[0]&&x.endsWith("]")?t.hostname.slice(1,-1):t.hostname;const I={headers:t.headers,host:x,method:t.method,path:A,port:t.port,agent:p,auth:O},R=(u?g.request:f.request)(I,e=>{const t=new m.HttpResponse({statusCode:e.statusCode||-1,reason:e.statusMessage,headers:v(e.headers),body:e});c({response:t})});if(R.on("error",e=>{y.includes(e.code)?l(Object.assign(e,{name:"TimeoutError"})):l(e)}),n){const e=d(()=>{R.destroy();const e=new Error("Request aborted");e.name="AbortError",l(e)},"onAbort");if("function"==typeof n.addEventListener){const t=n;t.addEventListener("abort",e,{once:!0}),R.once("close",()=>t.removeEventListener("abort",e))}else n.onabort=e}const T=r??this.config.requestTimeout;a.push(_(R,l,this.config.connectionTimeout)),a.push(E(R,l,T));const D=I.agent;"object"==typeof D&&"keepAlive"in D&&a.push(w(R,{keepAlive:D.keepAlive,keepAliveMsecs:D.keepAliveMsecs})),i=C(R,t,T).catch(e=>(a.forEach(S),s(e)))})}updateHttpClientConfig(e,t){this.config=void 0,this.configProvider=this.configProvider.then(n=>({...n,[e]:t}))}httpHandlerConfigs(){return this.config??{}}},I=n(5675),R=((e,t,n)=>(n=null!=e?o(c(e)):{},u(!t&&e&&e.__esModule?n:s(n,"default",{value:e,enumerable:!0}),e)))(n(5675)),T=class{constructor(e){this.sessions=[],this.sessions=e??[]}static{d(this,"NodeHttp2ConnectionPool")}poll(){if(this.sessions.length>0)return this.sessions.shift()}offerLast(e){this.sessions.push(e)}contains(e){return this.sessions.includes(e)}remove(e){this.sessions=this.sessions.filter(t=>t!==e)}[Symbol.iterator](){return this.sessions[Symbol.iterator]()}destroy(e){for(const t of this.sessions)t===e&&(t.destroyed||t.destroy())}},D=class{constructor(e){if(this.sessionCache=new Map,this.config=e,this.config.maxConcurrency&&this.config.maxConcurrency<=0)throw new RangeError("maxConcurrency must be greater than zero.")}static{d(this,"NodeHttp2ConnectionManager")}lease(e,t){const n=this.getUrlString(e),r=this.sessionCache.get(n);if(r){const e=r.poll();if(e&&!this.config.disableConcurrency)return e}const o=R.default.connect(n);this.config.maxConcurrency&&o.settings({maxConcurrentStreams:this.config.maxConcurrency},t=>{if(t)throw new Error("Fail to set maxConcurrentStreams to "+this.config.maxConcurrency+"when creating new session for "+e.destination.toString())}),o.unref();const s=d(()=>{o.destroy(),this.deleteSession(n,o)},"destroySessionCb");o.on("goaway",s),o.on("error",s),o.on("frameError",s),o.on("close",()=>this.deleteSession(n,o)),t.requestTimeout&&o.setTimeout(t.requestTimeout,s);const i=this.sessionCache.get(n)||new T;return i.offerLast(o),this.sessionCache.set(n,i),o}deleteSession(e,t){const n=this.sessionCache.get(e);n&&n.contains(t)&&(n.remove(t),this.sessionCache.set(e,n))}release(e,t){const n=this.getUrlString(e);this.sessionCache.get(n)?.offerLast(t)}destroy(){for(const[e,t]of this.sessionCache){for(const e of t)e.destroyed||e.destroy(),t.remove(e);this.sessionCache.delete(e)}}setMaxConcurrentStreams(e){if(e&&e<=0)throw new RangeError("maxConcurrentStreams must be greater than zero.");this.config.maxConcurrency=e}setDisableConcurrentStreams(e){this.config.disableConcurrency=e}getUrlString(e){return e.destination.toString()}},k=class e{constructor(e){this.metadata={handlerProtocol:"h2"},this.connectionManager=new D({}),this.configProvider=new Promise((t,n)=>{"function"==typeof e?e().then(e=>{t(e||{})}).catch(n):t(e||{})})}static{d(this,"NodeHttp2Handler")}static create(t){return"function"==typeof t?.handle?t:new e(t)}destroy(){this.connectionManager.destroy()}async handle(e,{abortSignal:t,requestTimeout:n}={}){this.config||(this.config=await this.configProvider,this.connectionManager.setDisableConcurrentStreams(this.config.disableConcurrentStreams||!1),this.config.maxConcurrentStreams&&this.connectionManager.setMaxConcurrentStreams(this.config.maxConcurrentStreams));const{requestTimeout:r,disableConcurrentStreams:o}=this.config,s=n??r;return new Promise((n,r)=>{let i,a=!1;const c=d(async e=>{await i,n(e)},"resolve"),l=d(async e=>{await i,r(e)},"reject");if(t?.aborted){a=!0;const e=new Error("Request aborted");return e.name="AbortError",void l(e)}const{hostname:u,method:p,port:f,protocol:g,query:y}=e;let b="";if(null!=e.username||null!=e.password){b=`${e.username??""}:${e.password??""}@`}const S=`${g}//${b}${u}${f?`:${f}`:""}`,_={destination:new URL(S)},w=this.connectionManager.lease(_,{requestTimeout:this.config?.sessionTimeout,disableConcurrentStreams:o||!1}),E=d(e=>{o&&this.destroySession(w),a=!0,l(e)},"rejectWithDestroy"),P=(0,h.buildQueryString)(y||{});let O=e.path;P&&(O+=`?${P}`),e.fragment&&(O+=`#${e.fragment}`);const A=w.request({...e.headers,[I.constants.HTTP2_HEADER_PATH]:O,[I.constants.HTTP2_HEADER_METHOD]:p});if(w.ref(),A.on("response",e=>{const t=new m.HttpResponse({statusCode:e[":status"]||-1,headers:v(e),body:A});a=!0,c({response:t}),o&&(w.close(),this.connectionManager.deleteSession(S,w))}),s&&A.setTimeout(s,()=>{A.close();const e=new Error(`Stream timed out because of no activity for ${s} ms`);e.name="TimeoutError",E(e)}),t){const e=d(()=>{A.close();const e=new Error("Request aborted");e.name="AbortError",E(e)},"onAbort");if("function"==typeof t.addEventListener){const n=t;n.addEventListener("abort",e,{once:!0}),A.once("close",()=>n.removeEventListener("abort",e))}else t.onabort=e}A.on("frameError",(e,t,n)=>{E(new Error(`Frame type id ${e} in stream id ${n} has failed with code ${t}.`))}),A.on("error",E),A.on("aborted",()=>{E(new Error(`HTTP/2 stream is abnormally aborted in mid-communication with result code ${A.rstCode}.`))}),A.on("close",()=>{w.unref(),o&&w.destroy(),a||E(new Error("Unexpected error: http2 request did not get a response"))}),i=C(A,e,s)})}updateHttpClientConfig(e,t){this.config=void 0,this.configProvider=this.configProvider.then(n=>({...n,[e]:t}))}httpHandlerConfigs(){return this.config??{}}destroySession(e){e.destroyed||e.destroy()}},N=class extends P.Writable{constructor(){super(...arguments),this.bufferedBytes=[]}static{d(this,"Collector")}_write(e,t,n){this.bufferedBytes.push(e),n()}},j=d(e=>M(e)?L(e):new Promise((t,n)=>{const r=new N;e.pipe(r),e.on("error",e=>{r.end(),n(e)}),r.on("error",n),r.on("finish",function(){const e=new Uint8Array(Buffer.concat(this.bufferedBytes));t(e)})}),"streamCollector"),M=d(e=>"function"==typeof ReadableStream&&e instanceof ReadableStream,"isReadableStreamInstance");async function L(e){const t=[],n=e.getReader();let r=!1,o=0;for(;!r;){const{done:e,value:s}=await n.read();s&&(t.push(s),o+=s.length),r=e}const s=new Uint8Array(o);let i=0;for(const e of t)s.set(e,i),i+=e.length;return s}d(L,"collectReadableStream")},1238:e=>{var t,n=Object.defineProperty,r=Object.getOwnPropertyDescriptor,o=Object.getOwnPropertyNames,s=Object.prototype.hasOwnProperty,i=(e,t)=>n(e,"name",{value:t,configurable:!0}),a={};((e,t)=>{for(var r in t)n(e,r,{get:t[r],enumerable:!0})})(a,{CredentialsProviderError:()=>l,ProviderError:()=>c,TokenProviderError:()=>d,chain:()=>u,fromStatic:()=>p,memoize:()=>m}),e.exports=(t=a,((e,t,i,a)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let c of o(t))s.call(e,c)||c===i||n(e,c,{get:()=>t[c],enumerable:!(a=r(t,c))||a.enumerable});return e})(n({},"__esModule",{value:!0}),t));var c=class e extends Error{constructor(t,n=!0){let r,o=!0;"boolean"==typeof n?(r=void 0,o=n):null!=n&&"object"==typeof n&&(r=n.logger,o=n.tryNextLink??!0),super(t),this.name="ProviderError",this.tryNextLink=o,Object.setPrototypeOf(this,e.prototype),r?.debug?.(`@smithy/property-provider ${o?"->":"(!)"} ${t}`)}static{i(this,"ProviderError")}static from(e,t=!0){return Object.assign(new this(e.message,t),e)}},l=class e extends c{constructor(t,n=!0){super(t,n),this.name="CredentialsProviderError",Object.setPrototypeOf(this,e.prototype)}static{i(this,"CredentialsProviderError")}},d=class e extends c{constructor(t,n=!0){super(t,n),this.name="TokenProviderError",Object.setPrototypeOf(this,e.prototype)}static{i(this,"TokenProviderError")}},u=i((...e)=>async()=>{if(0===e.length)throw new c("No providers in chain");let t;for(const n of e)try{return await n()}catch(e){if(t=e,e?.tryNextLink)continue;throw e}throw t},"chain"),p=i(e=>()=>Promise.resolve(e),"fromStatic"),m=i((e,t,n)=>{let r,o,s,a=!1;const c=i(async()=>{o||(o=e());try{r=await o,s=!0,a=!1}finally{o=void 0}return r},"coalesceProvider");return void 0===t?async e=>(s&&!e?.forceRefresh||(r=await c()),r):async e=>(s&&!e?.forceRefresh||(r=await c()),a?r:n&&!n(r)?(a=!0,r):t(r)?(await c(),r):r)},"memoize")},2356:(e,t,n)=>{var r,o=Object.defineProperty,s=Object.getOwnPropertyDescriptor,i=Object.getOwnPropertyNames,a=Object.prototype.hasOwnProperty,c=(e,t)=>o(e,"name",{value:t,configurable:!0}),l={};((e,t)=>{for(var n in t)o(e,n,{get:t[n],enumerable:!0})})(l,{Field:()=>m,Fields:()=>h,HttpRequest:()=>f,HttpResponse:()=>y,IHttpRequest:()=>p.HttpRequest,getHttpHandlerExtensionConfiguration:()=>d,isValidHostname:()=>v,resolveHttpHandlerRuntimeConfig:()=>u}),e.exports=(r=l,((e,t,n,r)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let c of i(t))a.call(e,c)||c===n||o(e,c,{get:()=>t[c],enumerable:!(r=s(t,c))||r.enumerable});return e})(o({},"__esModule",{value:!0}),r));var d=c(e=>({setHttpHandler(t){e.httpHandler=t},httpHandler:()=>e.httpHandler,updateHttpClientConfig(t,n){e.httpHandler?.updateHttpClientConfig(t,n)},httpHandlerConfigs:()=>e.httpHandler.httpHandlerConfigs()}),"getHttpHandlerExtensionConfiguration"),u=c(e=>({httpHandler:e.httpHandler()}),"resolveHttpHandlerRuntimeConfig"),p=n(690),m=class{static{c(this,"Field")}constructor({name:e,kind:t=p.FieldPosition.HEADER,values:n=[]}){this.name=e,this.kind=t,this.values=n}add(e){this.values.push(e)}set(e){this.values=e}remove(e){this.values=this.values.filter(t=>t!==e)}toString(){return this.values.map(e=>e.includes(",")||e.includes(" ")?`"${e}"`:e).join(", ")}get(){return this.values}},h=class{constructor({fields:e=[],encoding:t="utf-8"}){this.entries={},e.forEach(this.setField.bind(this)),this.encoding=t}static{c(this,"Fields")}setField(e){this.entries[e.name.toLowerCase()]=e}getField(e){return this.entries[e.toLowerCase()]}removeField(e){delete this.entries[e.toLowerCase()]}getByType(e){return Object.values(this.entries).filter(t=>t.kind===e)}},f=class e{static{c(this,"HttpRequest")}constructor(e){this.method=e.method||"GET",this.hostname=e.hostname||"localhost",this.port=e.port,this.query=e.query||{},this.headers=e.headers||{},this.body=e.body,this.protocol=e.protocol?":"!==e.protocol.slice(-1)?`${e.protocol}:`:e.protocol:"https:",this.path=e.path?"/"!==e.path.charAt(0)?`/${e.path}`:e.path:"/",this.username=e.username,this.password=e.password,this.fragment=e.fragment}static clone(t){const n=new e({...t,headers:{...t.headers}});return n.query&&(n.query=g(n.query)),n}static isInstance(e){if(!e)return!1;const t=e;return"method"in t&&"protocol"in t&&"hostname"in t&&"path"in t&&"object"==typeof t.query&&"object"==typeof t.headers}clone(){return e.clone(this)}};function g(e){return Object.keys(e).reduce((t,n)=>{const r=e[n];return{...t,[n]:Array.isArray(r)?[...r]:r}},{})}c(g,"cloneQuery");var y=class{static{c(this,"HttpResponse")}constructor(e){this.statusCode=e.statusCode,this.reason=e.reason,this.headers=e.headers||{},this.body=e.body}static isInstance(e){if(!e)return!1;const t=e;return"number"==typeof t.statusCode&&"object"==typeof t.headers}};function v(e){return/^[a-z0-9][a-z0-9\.\-]*[a-z0-9]$/.test(e)}c(v,"isValidHostname")},8256:(e,t,n)=>{var r,o=Object.defineProperty,s=Object.getOwnPropertyDescriptor,i=Object.getOwnPropertyNames,a=Object.prototype.hasOwnProperty,c={};((e,t)=>{for(var n in t)o(e,n,{get:t[n],enumerable:!0})})(c,{buildQueryString:()=>d}),e.exports=(r=c,((e,t,n,r)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let c of i(t))a.call(e,c)||c===n||o(e,c,{get:()=>t[c],enumerable:!(r=s(t,c))||r.enumerable});return e})(o({},"__esModule",{value:!0}),r));var l=n(146);function d(e){const t=[];for(let n of Object.keys(e).sort()){const r=e[n];if(n=(0,l.escapeUri)(n),Array.isArray(r))for(let e=0,o=r.length;e<o;e++)t.push(`${n}=${(0,l.escapeUri)(r[e])}`);else{let e=n;(r||"string"==typeof r)&&(e+=`=${(0,l.escapeUri)(r)}`),t.push(e)}}return t.join("&")}o(d,"name",{value:"buildQueryString",configurable:!0})},8822:e=>{var t,n=Object.defineProperty,r=Object.getOwnPropertyDescriptor,o=Object.getOwnPropertyNames,s=Object.prototype.hasOwnProperty,i={};function a(e){const t={};if(e=e.replace(/^\?/,""))for(const n of e.split("&")){let[e,r=null]=n.split("=");e=decodeURIComponent(e),r&&(r=decodeURIComponent(r)),e in t?Array.isArray(t[e])?t[e].push(r):t[e]=[t[e],r]:t[e]=r}return t}((e,t)=>{for(var r in t)n(e,r,{get:t[r],enumerable:!0})})(i,{parseQueryString:()=>a}),e.exports=(t=i,((e,t,i,a)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let c of o(t))s.call(e,c)||c===i||n(e,c,{get:()=>t[c],enumerable:!(a=r(t,c))||a.enumerable});return e})(n({},"__esModule",{value:!0}),t)),n(a,"name",{value:"parseQueryString",configurable:!0})},2058:e=>{var t,n=Object.defineProperty,r=Object.getOwnPropertyDescriptor,o=Object.getOwnPropertyNames,s=Object.prototype.hasOwnProperty,i=(e,t)=>n(e,"name",{value:t,configurable:!0}),a={};((e,t)=>{for(var r in t)n(e,r,{get:t[r],enumerable:!0})})(a,{isBrowserNetworkError:()=>y,isClockSkewCorrectedError:()=>g,isClockSkewError:()=>f,isRetryableByTrait:()=>h,isServerError:()=>S,isThrottlingError:()=>v,isTransientError:()=>b}),e.exports=(t=a,((e,t,i,a)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let c of o(t))s.call(e,c)||c===i||n(e,c,{get:()=>t[c],enumerable:!(a=r(t,c))||a.enumerable});return e})(n({},"__esModule",{value:!0}),t));var c=["AuthFailure","InvalidSignatureException","RequestExpired","RequestInTheFuture","RequestTimeTooSkewed","SignatureDoesNotMatch"],l=["BandwidthLimitExceeded","EC2ThrottledException","LimitExceededException","PriorRequestNotComplete","ProvisionedThroughputExceededException","RequestLimitExceeded","RequestThrottled","RequestThrottledException","SlowDown","ThrottledException","Throttling","ThrottlingException","TooManyRequestsException","TransactionInProgressException"],d=["TimeoutError","RequestTimeout","RequestTimeoutException"],u=[500,502,503,504],p=["ECONNRESET","ECONNREFUSED","EPIPE","ETIMEDOUT"],m=["EHOSTUNREACH","ENETUNREACH","ENOTFOUND"],h=i(e=>void 0!==e.$retryable,"isRetryableByTrait"),f=i(e=>c.includes(e.name),"isClockSkewError"),g=i(e=>e.$metadata?.clockSkewCorrected,"isClockSkewCorrectedError"),y=i(e=>!!(e&&e instanceof TypeError)&&new Set(["Failed to fetch","NetworkError when attempting to fetch resource","The Internet connection appears to be offline","Load failed","Network request failed"]).has(e.message),"isBrowserNetworkError"),v=i(e=>429===e.$metadata?.httpStatusCode||l.includes(e.name)||1==e.$retryable?.throttling,"isThrottlingError"),b=i((e,t=0)=>g(e)||d.includes(e.name)||p.includes(e?.code||"")||m.includes(e?.code||"")||u.includes(e.$metadata?.httpStatusCode||0)||y(e)||void 0!==e.cause&&t<=10&&b(e.cause,t+1),"isTransientError"),S=i(e=>{if(void 0!==e.$metadata?.httpStatusCode){const t=e.$metadata.httpStatusCode;return 500<=t&&t<=599&&!b(e)}return!1},"isServerError")},4172:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getHomeDir=void 0;const r=n(857),o=n(6928),s={};t.getHomeDir=()=>{const{HOME:e,USERPROFILE:t,HOMEPATH:n,HOMEDRIVE:i=`C:${o.sep}`}=process.env;if(e)return e;if(t)return t;if(n)return`${i}${n}`;const a=process&&process.geteuid?`${process.geteuid()}`:"DEFAULT";return s[a]||(s[a]=(0,r.homedir)()),s[a]}},269:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getSSOTokenFilepath=void 0;const r=n(6982),o=n(6928),s=n(4172);t.getSSOTokenFilepath=e=>{const t=(0,r.createHash)("sha1").update(e).digest("hex");return(0,o.join)((0,s.getHomeDir)(),".aws","sso","cache",`${t}.json`)}},1326:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getSSOTokenFromFile=void 0;const r=n(9896),o=n(269),{readFile:s}=r.promises;t.getSSOTokenFromFile=async e=>{const t=(0,o.getSSOTokenFilepath)(e),n=await s(t,"utf8");return JSON.parse(n)}},4964:(e,t,n)=>{var r,o=Object.defineProperty,s=Object.getOwnPropertyDescriptor,i=Object.getOwnPropertyNames,a=Object.prototype.hasOwnProperty,c=(e,t)=>o(e,"name",{value:t,configurable:!0}),l=(e,t,n,r)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let c of i(t))a.call(e,c)||c===n||o(e,c,{get:()=>t[c],enumerable:!(r=s(t,c))||r.enumerable});return e},d=(e,t,n)=>(l(e,t,"default"),n&&l(n,t,"default")),u={};((e,t)=>{for(var n in t)o(e,n,{get:t[n],enumerable:!0})})(u,{CONFIG_PREFIX_SEPARATOR:()=>x,DEFAULT_PROFILE:()=>m,ENV_PROFILE:()=>p,getProfileName:()=>h,loadSharedConfigFiles:()=>I,loadSsoSessionData:()=>k,parseKnownFiles:()=>j}),e.exports=(r=u,l(o({},"__esModule",{value:!0}),r)),d(u,n(4172),e.exports);var p="AWS_PROFILE",m="default",h=c(e=>e.profile||process.env[p]||m,"getProfileName");d(u,n(269),e.exports),d(u,n(1326),e.exports);var f=n(690),g=c(e=>Object.entries(e).filter(([e])=>{const t=e.indexOf(x);return-1!==t&&Object.values(f.IniSectionType).includes(e.substring(0,t))}).reduce((e,[t,n])=>{const r=t.indexOf(x);return e[t.substring(0,r)===f.IniSectionType.PROFILE?t.substring(r+1):t]=n,e},{...e.default&&{default:e.default}}),"getConfigData"),y=n(6928),v=n(4172),b=c(()=>process.env.AWS_CONFIG_FILE||(0,y.join)((0,v.getHomeDir)(),".aws","config"),"getConfigFilepath"),S=n(4172),_=c(()=>process.env.AWS_SHARED_CREDENTIALS_FILE||(0,y.join)((0,S.getHomeDir)(),".aws","credentials"),"getCredentialsFilepath"),w=n(4172),E=/^([\w-]+)\s(["'])?([\w-@\+\.%:/]+)\2$/,P=["__proto__","profile __proto__"],C=c(e=>{const t={};let n,r;for(const o of e.split(/\r?\n/)){const e=o.split(/(^|\s)[;#]/)[0].trim();if("["===e[0]&&"]"===e[e.length-1]){n=void 0,r=void 0;const t=e.substring(1,e.length-1),o=E.exec(t);if(o){const[,e,,t]=o;Object.values(f.IniSectionType).includes(e)&&(n=[e,t].join(x))}else n=t;if(P.includes(t))throw new Error(`Found invalid profile name "${t}"`)}else if(n){const s=e.indexOf("=");if(![0,-1].includes(s)){const[i,a]=[e.substring(0,s).trim(),e.substring(s+1).trim()];if(""===a)r=i;else{r&&o.trimStart()===o&&(r=void 0),t[n]=t[n]||{};const e=r?[r,i].join(x):i;t[n][e]=a}}}}return t},"parseIni"),O=n(4246),A=c(()=>({}),"swallowError"),x=".",I=c(async(e={})=>{const{filepath:t=_(),configFilepath:n=b()}=e,r=(0,w.getHomeDir)();let o=t;t.startsWith("~/")&&(o=(0,y.join)(r,t.slice(2)));let s=n;n.startsWith("~/")&&(s=(0,y.join)(r,n.slice(2)));const i=await Promise.all([(0,O.slurpFile)(s,{ignoreCache:e.ignoreCache}).then(C).then(g).catch(A),(0,O.slurpFile)(o,{ignoreCache:e.ignoreCache}).then(C).catch(A)]);return{configFile:i[0],credentialsFile:i[1]}},"loadSharedConfigFiles"),R=c(e=>Object.entries(e).filter(([e])=>e.startsWith(f.IniSectionType.SSO_SESSION+x)).reduce((e,[t,n])=>({...e,[t.substring(t.indexOf(x)+1)]:n}),{}),"getSsoSessionData"),T=n(4246),D=c(()=>({}),"swallowError"),k=c(async(e={})=>(0,T.slurpFile)(e.configFilepath??b()).then(C).then(R).catch(D),"loadSsoSessionData"),N=c((...e)=>{const t={};for(const n of e)for(const[e,r]of Object.entries(n))void 0!==t[e]?Object.assign(t[e],r):t[e]=r;return t},"mergeConfigFiles"),j=c(async e=>{const t=await I(e);return N(t.configFile,t.credentialsFile)},"parseKnownFiles")},4246:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.slurpFile=void 0;const r=n(9896),{readFile:o}=r.promises,s={};t.slurpFile=(e,t)=>(s[e]&&!(null==t?void 0:t.ignoreCache)||(s[e]=o(e,"utf8")),s[e])},5118:(e,t,n)=>{var r,o=Object.defineProperty,s=Object.getOwnPropertyDescriptor,i=Object.getOwnPropertyNames,a=Object.prototype.hasOwnProperty,c=(e,t)=>o(e,"name",{value:t,configurable:!0}),l={};((e,t)=>{for(var n in t)o(e,n,{get:t[n],enumerable:!0})})(l,{ALGORITHM_IDENTIFIER:()=>T,ALGORITHM_IDENTIFIER_V4A:()=>D,ALGORITHM_QUERY_PARAM:()=>u,ALWAYS_UNSIGNABLE_HEADERS:()=>A,AMZ_DATE_HEADER:()=>S,AMZ_DATE_QUERY_PARAM:()=>m,AUTH_HEADER:()=>b,CREDENTIAL_QUERY_PARAM:()=>p,DATE_HEADER:()=>_,EVENT_ALGORITHM_IDENTIFIER:()=>k,EXPIRES_QUERY_PARAM:()=>f,GENERATED_HEADERS:()=>w,HOST_HEADER:()=>O,KEY_TYPE_IDENTIFIER:()=>M,MAX_CACHE_SIZE:()=>j,MAX_PRESIGNED_TTL:()=>L,PROXY_HEADER_PATTERN:()=>x,REGION_SET_PARAM:()=>v,SEC_HEADER_PATTERN:()=>I,SHA256_HEADER:()=>P,SIGNATURE_HEADER:()=>E,SIGNATURE_QUERY_PARAM:()=>g,SIGNED_HEADERS_QUERY_PARAM:()=>h,SignatureV4:()=>pe,SignatureV4Base:()=>ue,TOKEN_HEADER:()=>C,TOKEN_QUERY_PARAM:()=>y,UNSIGNABLE_PATTERNS:()=>R,UNSIGNED_PAYLOAD:()=>N,clearCredentialCache:()=>z,createScope:()=>G,getCanonicalHeaders:()=>W,getCanonicalQuery:()=>ce,getPayloadHash:()=>K,getSigningKey:()=>H,hasHeader:()=>te,moveHeadersToQuery:()=>re,prepareRequest:()=>oe,signatureV4aContainer:()=>me}),e.exports=(r=l,((e,t,n,r)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let c of i(t))a.call(e,c)||c===n||o(e,c,{get:()=>t[c],enumerable:!(r=s(t,c))||r.enumerable});return e})(o({},"__esModule",{value:!0}),r));var d=n(1577),u="X-Amz-Algorithm",p="X-Amz-Credential",m="X-Amz-Date",h="X-Amz-SignedHeaders",f="X-Amz-Expires",g="X-Amz-Signature",y="X-Amz-Security-Token",v="X-Amz-Region-Set",b="authorization",S=m.toLowerCase(),_="date",w=[b,S,_],E=g.toLowerCase(),P="x-amz-content-sha256",C=y.toLowerCase(),O="host",A={authorization:!0,"cache-control":!0,connection:!0,expect:!0,from:!0,"keep-alive":!0,"max-forwards":!0,pragma:!0,referer:!0,te:!0,trailer:!0,"transfer-encoding":!0,upgrade:!0,"user-agent":!0,"x-amzn-trace-id":!0},x=/^proxy-/,I=/^sec-/,R=[/^proxy-/i,/^sec-/i],T="AWS4-HMAC-SHA256",D="AWS4-ECDSA-P256-SHA256",k="AWS4-HMAC-SHA256-PAYLOAD",N="UNSIGNED-PAYLOAD",j=50,M="aws4_request",L=604800,F=n(6435),$=n(1577),U={},B=[],G=c((e,t,n)=>`${e}/${t}/${n}/${M}`,"createScope"),H=c(async(e,t,n,r,o)=>{const s=await q(e,t.secretAccessKey,t.accessKeyId),i=`${n}:${r}:${o}:${(0,F.toHex)(s)}:${t.sessionToken}`;if(i in U)return U[i];for(B.push(i);B.length>j;)delete U[B.shift()];let a=`AWS4${t.secretAccessKey}`;for(const t of[n,r,o,M])a=await q(e,a,t);return U[i]=a},"getSigningKey"),z=c(()=>{B.length=0,Object.keys(U).forEach(e=>{delete U[e]})},"clearCredentialCache"),q=c((e,t,n)=>{const r=new e(t);return r.update((0,$.toUint8Array)(n)),r.digest()},"hmac"),W=c(({headers:e},t,n)=>{const r={};for(const o of Object.keys(e).sort()){if(null==e[o])continue;const s=o.toLowerCase();(s in A||t?.has(s)||x.test(s)||I.test(s))&&(!n||n&&!n.has(s))||(r[s]=e[o].trim().replace(/\s+/g," "))}return r},"getCanonicalHeaders"),V=n(6130),J=n(1577),K=c(async({headers:e,body:t},n)=>{for(const t of Object.keys(e))if(t.toLowerCase()===P)return e[t];if(null==t)return"e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855";if("string"==typeof t||ArrayBuffer.isView(t)||(0,V.isArrayBuffer)(t)){const e=new n;return e.update((0,J.toUint8Array)(t)),(0,F.toHex)(await e.digest())}return N},"getPayloadHash"),X=n(1577),Y=class{static{c(this,"HeaderFormatter")}format(e){const t=[];for(const n of Object.keys(e)){const r=(0,X.fromUtf8)(n);t.push(Uint8Array.from([r.byteLength]),r,this.formatHeaderValue(e[n]))}const n=new Uint8Array(t.reduce((e,t)=>e+t.byteLength,0));let r=0;for(const e of t)n.set(e,r),r+=e.byteLength;return n}formatHeaderValue(e){switch(e.type){case"boolean":return Uint8Array.from([e.value?0:1]);case"byte":return Uint8Array.from([2,e.value]);case"short":const t=new DataView(new ArrayBuffer(3));return t.setUint8(0,3),t.setInt16(1,e.value,!1),new Uint8Array(t.buffer);case"integer":const n=new DataView(new ArrayBuffer(5));return n.setUint8(0,4),n.setInt32(1,e.value,!1),new Uint8Array(n.buffer);case"long":const r=new Uint8Array(9);return r[0]=5,r.set(e.value.bytes,1),r;case"binary":const o=new DataView(new ArrayBuffer(3+e.value.byteLength));o.setUint8(0,6),o.setUint16(1,e.value.byteLength,!1);const s=new Uint8Array(o.buffer);return s.set(e.value,3),s;case"string":const i=(0,X.fromUtf8)(e.value),a=new DataView(new ArrayBuffer(3+i.byteLength));a.setUint8(0,7),a.setUint16(1,i.byteLength,!1);const c=new Uint8Array(a.buffer);return c.set(i,3),c;case"timestamp":const l=new Uint8Array(9);return l[0]=8,l.set(Z.fromNumber(e.value.valueOf()).bytes,1),l;case"uuid":if(!Q.test(e.value))throw new Error(`Invalid UUID received: ${e.value}`);const d=new Uint8Array(17);return d[0]=9,d.set((0,F.fromHex)(e.value.replace(/\-/g,"")),1),d}}},Q=/^[a-f0-9]{8}-[a-f0-9]{4}-[a-f0-9]{4}-[a-f0-9]{4}-[a-f0-9]{12}$/,Z=class e{constructor(e){if(this.bytes=e,8!==e.byteLength)throw new Error("Int64 buffers must be exactly 8 bytes")}static{c(this,"Int64")}static fromNumber(t){if(t>0x8000000000000000||t<-0x8000000000000000)throw new Error(`${t} is too large (or, if negative, too small) to represent as an Int64`);const n=new Uint8Array(8);for(let e=7,r=Math.abs(Math.round(t));e>-1&&r>0;e--,r/=256)n[e]=r;return t<0&&ee(n),new e(n)}valueOf(){const e=this.bytes.slice(0),t=128&e[0];return t&&ee(e),parseInt((0,F.toHex)(e),16)*(t?-1:1)}toString(){return String(this.valueOf())}};function ee(e){for(let t=0;t<8;t++)e[t]^=255;for(let t=7;t>-1&&(e[t]++,0===e[t]);t--);}c(ee,"negate");var te=c((e,t)=>{e=e.toLowerCase();for(const n of Object.keys(t))if(e===n.toLowerCase())return!0;return!1},"hasHeader"),ne=n(2356),re=c((e,t={})=>{const{headers:n,query:r={}}=ne.HttpRequest.clone(e);for(const e of Object.keys(n)){const o=e.toLowerCase();("x-amz-"===o.slice(0,6)&&!t.unhoistableHeaders?.has(o)||t.hoistableHeaders?.has(o))&&(r[e]=n[e],delete n[e])}return{...e,headers:n,query:r}},"moveHeadersToQuery"),oe=c(e=>{e=ne.HttpRequest.clone(e);for(const t of Object.keys(e.headers))w.indexOf(t.toLowerCase())>-1&&delete e.headers[t];return e},"prepareRequest"),se=n(6324),ie=n(1577),ae=n(146),ce=c(({query:e={}})=>{const t=[],n={};for(const r of Object.keys(e)){if(r.toLowerCase()===E)continue;const o=(0,ae.escapeUri)(r);t.push(o);const s=e[r];"string"==typeof s?n[o]=`${o}=${(0,ae.escapeUri)(s)}`:Array.isArray(s)&&(n[o]=s.slice(0).reduce((e,t)=>e.concat([`${o}=${(0,ae.escapeUri)(t)}`]),[]).sort().join("&"))}return t.sort().map(e=>n[e]).filter(e=>e).join("&")},"getCanonicalQuery"),le=c(e=>de(e).toISOString().replace(/\.\d{3}Z$/,"Z"),"iso8601"),de=c(e=>"number"==typeof e?new Date(1e3*e):"string"==typeof e?Number(e)?new Date(1e3*Number(e)):new Date(e):e,"toDate"),ue=class{static{c(this,"SignatureV4Base")}constructor({applyChecksum:e,credentials:t,region:n,service:r,sha256:o,uriEscapePath:s=!0}){this.service=r,this.sha256=o,this.uriEscapePath=s,this.applyChecksum="boolean"!=typeof e||e,this.regionProvider=(0,se.normalizeProvider)(n),this.credentialProvider=(0,se.normalizeProvider)(t)}createCanonicalRequest(e,t,n){const r=Object.keys(t).sort();return`${e.method}\n${this.getCanonicalPath(e)}\n${ce(e)}\n${r.map(e=>`${e}:${t[e]}`).join("\n")}\n\n${r.join(";")}\n${n}`}async createStringToSign(e,t,n,r){const o=new this.sha256;o.update((0,ie.toUint8Array)(n));const s=await o.digest();return`${r}\n${e}\n${t}\n${(0,F.toHex)(s)}`}getCanonicalPath({path:e}){if(this.uriEscapePath){const t=[];for(const n of e.split("/"))0!==n?.length&&"."!==n&&(".."===n?t.pop():t.push(n));const n=`${e?.startsWith("/")?"/":""}${t.join("/")}${t.length>0&&e?.endsWith("/")?"/":""}`;return(0,ae.escapeUri)(n).replace(/%2F/g,"/")}return e}validateResolvedCredentials(e){if("object"!=typeof e||"string"!=typeof e.accessKeyId||"string"!=typeof e.secretAccessKey)throw new Error("Resolved credential object is not valid")}formatDate(e){const t=le(e).replace(/[\-:]/g,"");return{longDate:t,shortDate:t.slice(0,8)}}getCanonicalHeaderList(e){return Object.keys(e).sort().join(";")}},pe=class extends ue{constructor({applyChecksum:e,credentials:t,region:n,service:r,sha256:o,uriEscapePath:s=!0}){super({applyChecksum:e,credentials:t,region:n,service:r,sha256:o,uriEscapePath:s}),this.headerFormatter=new Y}static{c(this,"SignatureV4")}async presign(e,t={}){const{signingDate:n=new Date,expiresIn:r=3600,unsignableHeaders:o,unhoistableHeaders:s,signableHeaders:i,hoistableHeaders:a,signingRegion:c,signingService:l}=t,d=await this.credentialProvider();this.validateResolvedCredentials(d);const v=c??await this.regionProvider(),{longDate:b,shortDate:S}=this.formatDate(n);if(r>L)return Promise.reject("Signature version 4 presigned URLs must have an expiration date less than one week in the future");const _=G(S,v,l??this.service),w=re(oe(e),{unhoistableHeaders:s,hoistableHeaders:a});d.sessionToken&&(w.query[y]=d.sessionToken),w.query[u]=T,w.query[p]=`${d.accessKeyId}/${_}`,w.query[m]=b,w.query[f]=r.toString(10);const E=W(w,o,i);return w.query[h]=this.getCanonicalHeaderList(E),w.query[g]=await this.getSignature(b,_,this.getSigningKey(d,v,S,l),this.createCanonicalRequest(w,E,await K(e,this.sha256))),w}async sign(e,t){return"string"==typeof e?this.signString(e,t):e.headers&&e.payload?this.signEvent(e,t):e.message?this.signMessage(e,t):this.signRequest(e,t)}async signEvent({headers:e,payload:t},{signingDate:n=new Date,priorSignature:r,signingRegion:o,signingService:s}){const i=o??await this.regionProvider(),{shortDate:a,longDate:c}=this.formatDate(n),l=G(a,i,s??this.service),d=await K({headers:{},body:t},this.sha256),u=new this.sha256;u.update(e);const p=(0,F.toHex)(await u.digest()),m=[k,c,l,r,p,d].join("\n");return this.signString(m,{signingDate:n,signingRegion:i,signingService:s})}async signMessage(e,{signingDate:t=new Date,signingRegion:n,signingService:r}){return this.signEvent({headers:this.headerFormatter.format(e.message.headers),payload:e.message.body},{signingDate:t,signingRegion:n,signingService:r,priorSignature:e.priorSignature}).then(t=>({message:e.message,signature:t}))}async signString(e,{signingDate:t=new Date,signingRegion:n,signingService:r}={}){const o=await this.credentialProvider();this.validateResolvedCredentials(o);const s=n??await this.regionProvider(),{shortDate:i}=this.formatDate(t),a=new this.sha256(await this.getSigningKey(o,s,i,r));return a.update((0,d.toUint8Array)(e)),(0,F.toHex)(await a.digest())}async signRequest(e,{signingDate:t=new Date,signableHeaders:n,unsignableHeaders:r,signingRegion:o,signingService:s}={}){const i=await this.credentialProvider();this.validateResolvedCredentials(i);const a=o??await this.regionProvider(),c=oe(e),{longDate:l,shortDate:d}=this.formatDate(t),u=G(d,a,s??this.service);c.headers[S]=l,i.sessionToken&&(c.headers[C]=i.sessionToken);const p=await K(c,this.sha256);!te(P,c.headers)&&this.applyChecksum&&(c.headers[P]=p);const m=W(c,r,n),h=await this.getSignature(l,u,this.getSigningKey(i,a,d,s),this.createCanonicalRequest(c,m,p));return c.headers[b]=`${T} Credential=${i.accessKeyId}/${u}, SignedHeaders=${this.getCanonicalHeaderList(m)}, Signature=${h}`,c}async getSignature(e,t,n,r){const o=await this.createStringToSign(e,t,r,T),s=new this.sha256(await n);return s.update((0,d.toUint8Array)(o)),(0,F.toHex)(await s.digest())}getSigningKey(e,t,n,r){return H(this.sha256,e,n,t,r||this.service)}},me={SignatureV4a:null}},1411:(e,t,n)=>{var r,o=Object.defineProperty,s=Object.getOwnPropertyDescriptor,i=Object.getOwnPropertyNames,a=Object.prototype.hasOwnProperty,c=(e,t)=>o(e,"name",{value:t,configurable:!0}),l=(e,t,n,r)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let c of i(t))a.call(e,c)||c===n||o(e,c,{get:()=>t[c],enumerable:!(r=s(t,c))||r.enumerable});return e},d={};((e,t)=>{for(var n in t)o(e,n,{get:t[n],enumerable:!0})})(d,{Client:()=>p,Command:()=>f,NoOpLogger:()=>L,SENSITIVE_STRING:()=>y,ServiceException:()=>b,_json:()=>V,collectBody:()=>m.collectBody,convertMap:()=>$,createAggregatedClient:()=>v,decorateServiceException:()=>S,emitWarningIfUnsupportedVersion:()=>O,extendedEncodeURIComponent:()=>m.extendedEncodeURIComponent,getArrayIfSingleItem:()=>N,getDefaultClientConfiguration:()=>D,getDefaultExtensionConfiguration:()=>T,getValueFromTextNode:()=>j,isSerializableHeaderValue:()=>M,loadConfigsForDefaultMode:()=>P,map:()=>F,resolveDefaultRuntimeConfig:()=>k,resolvedPath:()=>m.resolvedPath,serializeDateTime:()=>W,serializeFloat:()=>q,take:()=>U,throwDefaultError:()=>_,withBaseException:()=>w}),e.exports=(r=d,l(o({},"__esModule",{value:!0}),r));var u=n(9208),p=class{constructor(e){this.config=e,this.middlewareStack=(0,u.constructStack)()}static{c(this,"Client")}send(e,t,n){const r="function"!=typeof t?t:void 0,o="function"==typeof t?t:n;let s;if(void 0===r&&!0===this.config.cacheMiddleware){this.handlers||(this.handlers=new WeakMap);const t=this.handlers;t.has(e.constructor)?s=t.get(e.constructor):(s=e.resolveMiddleware(this.middlewareStack,this.config,r),t.set(e.constructor,s))}else delete this.handlers,s=e.resolveMiddleware(this.middlewareStack,this.config,r);if(!o)return s(e).then(e=>e.output);s(e).then(e=>o(null,e.output),e=>o(e)).catch(()=>{})}destroy(){this.config?.requestHandler?.destroy?.(),delete this.handlers}},m=n(3422),h=n(690),f=class{constructor(){this.middlewareStack=(0,u.constructStack)()}static{c(this,"Command")}static classBuilder(){return new g}resolveMiddlewareWithContext(e,t,n,{middlewareFn:r,clientName:o,commandName:s,inputFilterSensitiveLog:i,outputFilterSensitiveLog:a,smithyContext:c,additionalContext:l,CommandCtor:d}){for(const o of r.bind(this)(d,e,t,n))this.middlewareStack.use(o);const u=e.concat(this.middlewareStack),{logger:p}=t,m={logger:p,clientName:o,commandName:s,inputFilterSensitiveLog:i,outputFilterSensitiveLog:a,[h.SMITHY_CONTEXT_KEY]:{commandInstance:this,...c},...l},{requestHandler:f}=t;return u.resolve(e=>f.handle(e.request,n||{}),m)}},g=class{constructor(){this._init=()=>{},this._ep={},this._middlewareFn=()=>[],this._commandName="",this._clientName="",this._additionalContext={},this._smithyContext={},this._inputFilterSensitiveLog=e=>e,this._outputFilterSensitiveLog=e=>e,this._serializer=null,this._deserializer=null}static{c(this,"ClassBuilder")}init(e){this._init=e}ep(e){return this._ep=e,this}m(e){return this._middlewareFn=e,this}s(e,t,n={}){return this._smithyContext={service:e,operation:t,...n},this}c(e={}){return this._additionalContext=e,this}n(e,t){return this._clientName=e,this._commandName=t,this}f(e=e=>e,t=e=>e){return this._inputFilterSensitiveLog=e,this._outputFilterSensitiveLog=t,this}ser(e){return this._serializer=e,this}de(e){return this._deserializer=e,this}sc(e){return this._operationSchema=e,this._smithyContext.operationSchema=e,this}build(){const e=this;let t;return t=class extends f{constructor(...[t]){super(),this.serialize=e._serializer,this.deserialize=e._deserializer,this.input=t??{},e._init(this),this.schema=e._operationSchema}static{c(this,"CommandRef")}static getEndpointParameterInstructions(){return e._ep}resolveMiddleware(n,r,o){return this.resolveMiddlewareWithContext(n,r,o,{CommandCtor:t,middlewareFn:e._middlewareFn,clientName:e._clientName,commandName:e._commandName,inputFilterSensitiveLog:e._inputFilterSensitiveLog,outputFilterSensitiveLog:e._outputFilterSensitiveLog,smithyContext:e._smithyContext,additionalContext:e._additionalContext})}}}},y="***SensitiveInformation***",v=c((e,t)=>{for(const n of Object.keys(e)){const r=e[n],o=c(async function(e,t,n){const o=new r(e);if("function"==typeof t)this.send(o,t);else{if("function"!=typeof n)return this.send(o,t);if("object"!=typeof t)throw new Error("Expected http options but got "+typeof t);this.send(o,t||{},n)}},"methodImpl"),s=(n[0].toLowerCase()+n.slice(1)).replace(/Command$/,"");t.prototype[s]=o}},"createAggregatedClient"),b=class e extends Error{static{c(this,"ServiceException")}constructor(e){super(e.message),Object.setPrototypeOf(this,Object.getPrototypeOf(this).constructor.prototype),this.name=e.name,this.$fault=e.$fault,this.$metadata=e.$metadata}static isInstance(t){if(!t)return!1;const n=t;return e.prototype.isPrototypeOf(n)||Boolean(n.$fault)&&Boolean(n.$metadata)&&("client"===n.$fault||"server"===n.$fault)}static[Symbol.hasInstance](t){if(!t)return!1;const n=t;return this===e?e.isInstance(t):!!e.isInstance(t)&&(n.name&&this.name?this.prototype.isPrototypeOf(t)||n.name===this.name:this.prototype.isPrototypeOf(t))}},S=c((e,t={})=>{Object.entries(t).filter(([,e])=>void 0!==e).forEach(([t,n])=>{null!=e[t]&&""!==e[t]||(e[t]=n)});const n=e.message||e.Message||"UnknownError";return e.message=n,delete e.Message,e},"decorateServiceException"),_=c(({output:e,parsedBody:t,exceptionCtor:n,errorCode:r})=>{const o=E(e),s=o.httpStatusCode?o.httpStatusCode+"":void 0,i=new n({name:t?.code||t?.Code||r||s||"UnknownError",$fault:"client",$metadata:o});throw S(i,t)},"throwDefaultError"),w=c(e=>({output:t,parsedBody:n,errorCode:r})=>{_({output:t,parsedBody:n,exceptionCtor:e,errorCode:r})},"withBaseException"),E=c(e=>({httpStatusCode:e.statusCode,requestId:e.headers["x-amzn-requestid"]??e.headers["x-amzn-request-id"]??e.headers["x-amz-request-id"],extendedRequestId:e.headers["x-amz-id-2"],cfId:e.headers["x-amz-cf-id"]}),"deserializeMetadata"),P=c(e=>{switch(e){case"standard":case"cross-region":return{retryMode:"standard",connectionTimeout:3100};case"in-region":return{retryMode:"standard",connectionTimeout:1100};case"mobile":return{retryMode:"standard",connectionTimeout:3e4};default:return{}}},"loadConfigsForDefaultMode"),C=!1,O=c(e=>{e&&!C&&parseInt(e.substring(1,e.indexOf(".")))<16&&(C=!0)},"emitWarningIfUnsupportedVersion"),A=c(e=>{const t=[];for(const n in h.AlgorithmId){const r=h.AlgorithmId[n];void 0!==e[r]&&t.push({algorithmId:()=>r,checksumConstructor:()=>e[r]})}return{addChecksumAlgorithm(e){t.push(e)},checksumAlgorithms:()=>t}},"getChecksumConfiguration"),x=c(e=>{const t={};return e.checksumAlgorithms().forEach(e=>{t[e.algorithmId()]=e.checksumConstructor()}),t},"resolveChecksumRuntimeConfig"),I=c(e=>({setRetryStrategy(t){e.retryStrategy=t},retryStrategy:()=>e.retryStrategy}),"getRetryConfiguration"),R=c(e=>{const t={};return t.retryStrategy=e.retryStrategy(),t},"resolveRetryRuntimeConfig"),T=c(e=>Object.assign(A(e),I(e)),"getDefaultExtensionConfiguration"),D=T,k=c(e=>Object.assign(x(e),R(e)),"resolveDefaultRuntimeConfig"),N=c(e=>Array.isArray(e)?e:[e],"getArrayIfSingleItem"),j=c(e=>{const t="#text";for(const n in e)e.hasOwnProperty(n)&&void 0!==e[n][t]?e[n]=e[n][t]:"object"==typeof e[n]&&null!==e[n]&&(e[n]=j(e[n]));return e},"getValueFromTextNode"),M=c(e=>null!=e,"isSerializableHeaderValue"),L=class{static{c(this,"NoOpLogger")}trace(){}debug(){}info(){}warn(){}error(){}};function F(e,t,n){let r,o,s;if(void 0===t&&void 0===n)r={},s=e;else{if(r=e,"function"==typeof t)return o=t,s=n,B(r,o,s);s=t}for(const e of Object.keys(s))Array.isArray(s[e])?G(r,null,s,e):r[e]=s[e];return r}c(F,"map");var $=c(e=>{const t={};for(const[n,r]of Object.entries(e||{}))t[n]=[,r];return t},"convertMap"),U=c((e,t)=>{const n={};for(const r in t)G(n,e,t,r);return n},"take"),B=c((e,t,n)=>F(e,Object.entries(n).reduce((e,[n,r])=>(Array.isArray(r)?e[n]=r:e[n]="function"==typeof r?[t,r()]:[t,r],e),{})),"mapWithFilter"),G=c((e,t,n,r)=>{if(null!==t){let o=n[r];"function"==typeof o&&(o=[,o]);const[s=H,i=z,a=r]=o;return void(("function"==typeof s&&s(t[a])||"function"!=typeof s&&s)&&(e[r]=i(t[a])))}let[o,s]=n[r];if("function"==typeof s){let t;const n=void 0===o&&null!=(t=s()),i="function"==typeof o&&!!o(void 0)||"function"!=typeof o&&!!o;n?e[r]=t:i&&(e[r]=s())}else{const t=void 0===o&&null!=s,n="function"==typeof o&&!!o(s)||"function"!=typeof o&&!!o;(t||n)&&(e[r]=s)}},"applyInstruction"),H=c(e=>null!=e,"nonNullish"),z=c(e=>e,"pass"),q=c(e=>{if(e!=e)return"NaN";switch(e){case 1/0:return"Infinity";case-1/0:return"-Infinity";default:return e}},"serializeFloat"),W=c(e=>e.toISOString().replace(".000Z","Z"),"serializeDateTime"),V=c(e=>{if(null==e)return{};if(Array.isArray(e))return e.filter(e=>null!=e).map(V);if("object"==typeof e){const t={};for(const n of Object.keys(e))null!=e[n]&&(t[n]=V(e[n]));return t}return e},"_json");((e,t,n)=>{l(e,t,"default"),n&&l(n,t,"default")})(d,n(2430),e.exports)},690:e=>{var t,n=Object.defineProperty,r=Object.getOwnPropertyDescriptor,o=Object.getOwnPropertyNames,s=Object.prototype.hasOwnProperty,i=(e,t)=>n(e,"name",{value:t,configurable:!0}),a={};((e,t)=>{for(var r in t)n(e,r,{get:t[r],enumerable:!0})})(a,{AlgorithmId:()=>u,EndpointURLScheme:()=>d,FieldPosition:()=>g,HttpApiKeyAuthLocation:()=>l,HttpAuthLocation:()=>c,IniSectionType:()=>v,RequestHandlerProtocol:()=>b,SMITHY_CONTEXT_KEY:()=>y,getDefaultClientConfiguration:()=>h,resolveDefaultRuntimeConfig:()=>f}),e.exports=(t=a,((e,t,i,a)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let c of o(t))s.call(e,c)||c===i||n(e,c,{get:()=>t[c],enumerable:!(a=r(t,c))||a.enumerable});return e})(n({},"__esModule",{value:!0}),t));var c=(e=>(e.HEADER="header",e.QUERY="query",e))(c||{}),l=(e=>(e.HEADER="header",e.QUERY="query",e))(l||{}),d=(e=>(e.HTTP="http",e.HTTPS="https",e))(d||{}),u=(e=>(e.MD5="md5",e.CRC32="crc32",e.CRC32C="crc32c",e.SHA1="sha1",e.SHA256="sha256",e))(u||{}),p=i(e=>{const t=[];return void 0!==e.sha256&&t.push({algorithmId:()=>"sha256",checksumConstructor:()=>e.sha256}),null!=e.md5&&t.push({algorithmId:()=>"md5",checksumConstructor:()=>e.md5}),{addChecksumAlgorithm(e){t.push(e)},checksumAlgorithms:()=>t}},"getChecksumConfiguration"),m=i(e=>{const t={};return e.checksumAlgorithms().forEach(e=>{t[e.algorithmId()]=e.checksumConstructor()}),t},"resolveChecksumRuntimeConfig"),h=i(e=>p(e),"getDefaultClientConfiguration"),f=i(e=>m(e),"resolveDefaultRuntimeConfig"),g=(e=>(e[e.HEADER=0]="HEADER",e[e.TRAILER=1]="TRAILER",e))(g||{}),y="__smithy_context",v=(e=>(e.PROFILE="profile",e.SSO_SESSION="sso-session",e.SERVICES="services",e))(v||{}),b=(e=>(e.HTTP_0_9="http/0.9",e.HTTP_1_0="http/1.0",e.TDS_8_0="tds/8.0",e))(b||{})},4494:(e,t,n)=>{var r,o=Object.defineProperty,s=Object.getOwnPropertyDescriptor,i=Object.getOwnPropertyNames,a=Object.prototype.hasOwnProperty,c=(e,t)=>o(e,"name",{value:t,configurable:!0}),l={};((e,t)=>{for(var n in t)o(e,n,{get:t[n],enumerable:!0})})(l,{parseUrl:()=>u}),e.exports=(r=l,((e,t,n,r)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let c of i(t))a.call(e,c)||c===n||o(e,c,{get:()=>t[c],enumerable:!(r=s(t,c))||r.enumerable});return e})(o({},"__esModule",{value:!0}),r));var d=n(8822),u=c(e=>{if("string"==typeof e)return u(new URL(e));const{hostname:t,pathname:n,port:r,protocol:o,search:s}=e;let i;return s&&(i=(0,d.parseQueryString)(s)),{hostname:t,port:r?parseInt(r):void 0,protocol:o,path:n,query:i}},"parseUrl")},2674:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.fromBase64=void 0;const r=n(4151),o=/^[A-Za-z0-9+/]*={0,2}$/;t.fromBase64=e=>{if(3*e.length%4!=0)throw new TypeError("Incorrect padding on base64 string.");if(!o.exec(e))throw new TypeError("Invalid base64 string.");const t=(0,r.fromString)(e,"base64");return new Uint8Array(t.buffer,t.byteOffset,t.byteLength)}},8385:(e,t,n)=>{var r,o=Object.defineProperty,s=Object.getOwnPropertyDescriptor,i=Object.getOwnPropertyNames,a=Object.prototype.hasOwnProperty,c=(e,t,n,r)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let c of i(t))a.call(e,c)||c===n||o(e,c,{get:()=>t[c],enumerable:!(r=s(t,c))||r.enumerable});return e},l=(e,t,n)=>(c(e,t,"default"),n&&c(n,t,"default")),d={};e.exports=(r=d,c(o({},"__esModule",{value:!0}),r)),l(d,n(2674),e.exports),l(d,n(4871),e.exports)},4871:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.toBase64=void 0;const r=n(4151),o=n(1577);t.toBase64=e=>{let t;if(t="string"==typeof e?(0,o.fromUtf8)(e):e,"object"!=typeof t||"number"!=typeof t.byteOffset||"number"!=typeof t.byteLength)throw new Error("@smithy/util-base64: toBase64 encoder function only accepts string | Uint8Array.");return(0,r.fromArrayBuffer)(t.buffer,t.byteOffset,t.byteLength).toString("base64")}},2098:e=>{var t,n=Object.defineProperty,r=Object.getOwnPropertyDescriptor,o=Object.getOwnPropertyNames,s=Object.prototype.hasOwnProperty,i=(e,t)=>n(e,"name",{value:t,configurable:!0}),a={};((e,t)=>{for(var r in t)n(e,r,{get:t[r],enumerable:!0})})(a,{calculateBodyLength:()=>l}),e.exports=(t=a,((e,t,i,a)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let c of o(t))s.call(e,c)||c===i||n(e,c,{get:()=>t[c],enumerable:!(a=r(t,c))||a.enumerable});return e})(n({},"__esModule",{value:!0}),t));var c="function"==typeof TextEncoder?new TextEncoder:null,l=i(e=>{if("string"==typeof e){if(c)return c.encode(e).byteLength;let t=e.length;for(let n=t-1;n>=0;n--){const r=e.charCodeAt(n);r>127&&r<=2047?t++:r>2047&&r<=65535&&(t+=2),r>=56320&&r<=57343&&n--}return t}if("number"==typeof e.byteLength)return e.byteLength;if("number"==typeof e.size)return e.size;throw new Error(`Body Length computation failed for ${e}`)},"calculateBodyLength")},3638:(e,t,n)=>{var r,o=Object.defineProperty,s=Object.getOwnPropertyDescriptor,i=Object.getOwnPropertyNames,a=Object.prototype.hasOwnProperty,c=(e,t)=>o(e,"name",{value:t,configurable:!0}),l={};((e,t)=>{for(var n in t)o(e,n,{get:t[n],enumerable:!0})})(l,{calculateBodyLength:()=>u}),e.exports=(r=l,((e,t,n,r)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let c of i(t))a.call(e,c)||c===n||o(e,c,{get:()=>t[c],enumerable:!(r=s(t,c))||r.enumerable});return e})(o({},"__esModule",{value:!0}),r));var d=n(9896),u=c(e=>{if(!e)return 0;if("string"==typeof e)return Buffer.byteLength(e);if("number"==typeof e.byteLength)return e.byteLength;if("number"==typeof e.size)return e.size;if("number"==typeof e.start&&"number"==typeof e.end)return e.end+1-e.start;if("string"==typeof e.path||Buffer.isBuffer(e.path))return(0,d.lstatSync)(e.path).size;if("number"==typeof e.fd)return(0,d.fstatSync)(e.fd).size;throw new Error(`Body Length computation failed for ${e}`)},"calculateBodyLength")},4151:(e,t,n)=>{var r,o=Object.defineProperty,s=Object.getOwnPropertyDescriptor,i=Object.getOwnPropertyNames,a=Object.prototype.hasOwnProperty,c=(e,t)=>o(e,"name",{value:t,configurable:!0}),l={};((e,t)=>{for(var n in t)o(e,n,{get:t[n],enumerable:!0})})(l,{fromArrayBuffer:()=>p,fromString:()=>m}),e.exports=(r=l,((e,t,n,r)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let c of i(t))a.call(e,c)||c===n||o(e,c,{get:()=>t[c],enumerable:!(r=s(t,c))||r.enumerable});return e})(o({},"__esModule",{value:!0}),r));var d=n(6130),u=n(181),p=c((e,t=0,n=e.byteLength-t)=>{if(!(0,d.isArrayBuffer)(e))throw new TypeError(`The "input" argument must be ArrayBuffer. Received type ${typeof e} (${e})`);return u.Buffer.from(e,t,n)},"fromArrayBuffer"),m=c((e,t)=>{if("string"!=typeof e)throw new TypeError(`The "input" argument must be of type string. Received type ${typeof e} (${e})`);return t?u.Buffer.from(e,t):u.Buffer.from(e)},"fromString")},6716:e=>{var t,n=Object.defineProperty,r=Object.getOwnPropertyDescriptor,o=Object.getOwnPropertyNames,s=Object.prototype.hasOwnProperty,i=(e,t)=>n(e,"name",{value:t,configurable:!0}),a={};((e,t)=>{for(var r in t)n(e,r,{get:t[r],enumerable:!0})})(a,{SelectorType:()=>d,booleanSelector:()=>c,numberSelector:()=>l}),e.exports=(t=a,((e,t,i,a)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let c of o(t))s.call(e,c)||c===i||n(e,c,{get:()=>t[c],enumerable:!(a=r(t,c))||a.enumerable});return e})(n({},"__esModule",{value:!0}),t));var c=i((e,t,n)=>{if(t in e){if("true"===e[t])return!0;if("false"===e[t])return!1;throw new Error(`Cannot load ${n} "${t}". Expected "true" or "false", got ${e[t]}.`)}},"booleanSelector"),l=i((e,t,n)=>{if(!(t in e))return;const r=parseInt(e[t],10);if(Number.isNaN(r))throw new TypeError(`Cannot load ${n} '${t}'. Expected number, got '${e[t]}'.`);return r},"numberSelector"),d=(e=>(e.ENV="env",e.CONFIG="shared config entry",e))(d||{})},5435:(e,t,n)=>{var r,o=Object.create,s=Object.defineProperty,i=Object.getOwnPropertyDescriptor,a=Object.getOwnPropertyNames,c=Object.getPrototypeOf,l=Object.prototype.hasOwnProperty,d=(e,t)=>s(e,"name",{value:t,configurable:!0}),u=(e,t,n,r)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let o of a(t))l.call(e,o)||o===n||s(e,o,{get:()=>t[o],enumerable:!(r=i(t,o))||r.enumerable});return e},p={};((e,t)=>{for(var n in t)s(e,n,{get:t[n],enumerable:!0})})(p,{resolveDefaultsModeConfig:()=>S}),e.exports=(r=p,u(s({},"__esModule",{value:!0}),r));var m=n(9316),h=n(5704),f=n(1238),g="AWS_REGION",y="AWS_DEFAULT_REGION",v=["in-region","cross-region","mobile","standard","legacy"],b={environmentVariableSelector:e=>e.AWS_DEFAULTS_MODE,configFileSelector:e=>e.defaults_mode,default:"legacy"},S=d(({region:e=(0,h.loadConfig)(m.NODE_REGION_CONFIG_OPTIONS),defaultsMode:t=(0,h.loadConfig)(b)}={})=>(0,f.memoize)(async()=>{const n="function"==typeof t?await t():t;switch(n?.toLowerCase()){case"auto":return _(e);case"in-region":case"cross-region":case"mobile":case"standard":case"legacy":return Promise.resolve(n?.toLocaleLowerCase());case void 0:return Promise.resolve("legacy");default:throw new Error(`Invalid parameter for "defaultsMode", expect ${v.join(", ")}, got ${n}`)}}),"resolveDefaultsModeConfig"),_=d(async e=>{if(e){const t="function"==typeof e?await e():e,n=await w();return n?t===n?"in-region":"cross-region":"standard"}return"standard"},"resolveNodeDefaultsModeAuto"),w=d(async()=>{if(process.env.AWS_EXECUTION_ENV&&(process.env[g]||process.env[y]))return process.env[g]??process.env[y];if(!process.env.AWS_EC2_METADATA_DISABLED)try{const{getInstanceMetadataEndpoint:e,httpRequest:t}=await Promise.resolve().then(()=>((e,t,n)=>(n=null!=e?o(c(e)):{},u(!t&&e&&e.__esModule?n:s(n,"default",{value:e,enumerable:!0}),e)))(n(566))),r=await e();return(await t({...r,path:"/latest/meta-data/placement/region"})).toString()}catch(e){}},"inferPhysicalRegion")},9674:(e,t,n)=>{var r,o=Object.defineProperty,s=Object.getOwnPropertyDescriptor,i=Object.getOwnPropertyNames,a=Object.prototype.hasOwnProperty,c=(e,t)=>o(e,"name",{value:t,configurable:!0}),l={};((e,t)=>{for(var n in t)o(e,n,{get:t[n],enumerable:!0})})(l,{EndpointCache:()=>d,EndpointError:()=>v,customEndpointFunctions:()=>f,isIpAddress:()=>p,isValidHostLabel:()=>h,resolveEndpoint:()=>B}),e.exports=(r=l,((e,t,n,r)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let c of i(t))a.call(e,c)||c===n||o(e,c,{get:()=>t[c],enumerable:!(r=s(t,c))||r.enumerable});return e})(o({},"__esModule",{value:!0}),r));var d=class{constructor({size:e,params:t}){this.data=new Map,this.parameters=[],this.capacity=e??50,t&&(this.parameters=t)}static{c(this,"EndpointCache")}get(e,t){const n=this.hash(e);if(!1===n)return t();if(!this.data.has(n)){if(this.data.size>this.capacity+10){const e=this.data.keys();let t=0;for(;;){const{value:n,done:r}=e.next();if(this.data.delete(n),r||++t>10)break}}this.data.set(n,t())}return this.data.get(n)}size(){return this.data.size}hash(e){let t="";const{parameters:n}=this;if(0===n.length)return!1;for(const r of n){const n=String(e[r]??"");if(n.includes("|;"))return!1;t+=n+"|;"}return t}},u=new RegExp("^(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)){3}$"),p=c(e=>u.test(e)||e.startsWith("[")&&e.endsWith("]"),"isIpAddress"),m=new RegExp("^(?!.*-$)(?!-)[a-zA-Z0-9-]{1,63}$"),h=c((e,t=!1)=>{if(!t)return m.test(e);const n=e.split(".");for(const e of n)if(!h(e))return!1;return!0},"isValidHostLabel"),f={},g="endpoints";function y(e){return"object"!=typeof e||null==e?e:"ref"in e?`$${y(e.ref)}`:"fn"in e?`${e.fn}(${(e.argv||[]).map(y).join(", ")})`:JSON.stringify(e,null,2)}c(y,"toDebugString");var v=class extends Error{static{c(this,"EndpointError")}constructor(e){super(e),this.name="EndpointError"}},b=c((e,t)=>e===t,"booleanEquals"),S=c(e=>{const t=e.split("."),n=[];for(const r of t){const t=r.indexOf("[");if(-1!==t){if(r.indexOf("]")!==r.length-1)throw new v(`Path: '${e}' does not end with ']'`);const o=r.slice(t+1,-1);if(Number.isNaN(parseInt(o)))throw new v(`Invalid array index: '${o}' in path: '${e}'`);0!==t&&n.push(r.slice(0,t)),n.push(o)}else n.push(r)}return n},"getAttrPathList"),_=c((e,t)=>S(t).reduce((n,r)=>{if("object"!=typeof n)throw new v(`Index '${r}' in '${t}' not found in '${JSON.stringify(e)}'`);return Array.isArray(n)?n[parseInt(r)]:n[r]},e),"getAttr"),w=c(e=>null!=e,"isSet"),E=c(e=>!e,"not"),P=n(690),C={[P.EndpointURLScheme.HTTP]:80,[P.EndpointURLScheme.HTTPS]:443},O={booleanEquals:b,getAttr:_,isSet:w,isValidHostLabel:h,not:E,parseURL:c(e=>{const t=(()=>{try{if(e instanceof URL)return e;if("object"==typeof e&&"hostname"in e){const{hostname:t,port:n,protocol:r="",path:o="",query:s={}}=e,i=new URL(`${r}//${t}${n?`:${n}`:""}${o}`);return i.search=Object.entries(s).map(([e,t])=>`${e}=${t}`).join("&"),i}return new URL(e)}catch(e){return null}})();if(!t)return console.error(`Unable to parse ${JSON.stringify(e)} as a whatwg URL.`),null;const n=t.href,{host:r,hostname:o,pathname:s,protocol:i,search:a}=t;if(a)return null;const c=i.slice(0,-1);if(!Object.values(P.EndpointURLScheme).includes(c))return null;const l=p(o);return{scheme:c,authority:`${r}${n.includes(`${r}:${C[c]}`)||"string"==typeof e&&e.includes(`${r}:${C[c]}`)?`:${C[c]}`:""}`,path:s,normalizedPath:s.endsWith("/")?s:`${s}/`,isIp:l}},"parseURL"),stringEquals:c((e,t)=>e===t,"stringEquals"),substring:c((e,t,n,r)=>t>=n||e.length<n?null:r?e.substring(e.length-n,e.length-t):e.substring(t,n),"substring"),uriEncode:c(e=>encodeURIComponent(e).replace(/[!*'()]/g,e=>`%${e.charCodeAt(0).toString(16).toUpperCase()}`),"uriEncode")},A=c((e,t)=>{const n=[],r={...t.endpointParams,...t.referenceRecord};let o=0;for(;o<e.length;){const t=e.indexOf("{",o);if(-1===t){n.push(e.slice(o));break}n.push(e.slice(o,t));const s=e.indexOf("}",t);if(-1===s){n.push(e.slice(t));break}"{"===e[t+1]&&"}"===e[s+1]&&(n.push(e.slice(t+1,s)),o=s+2);const i=e.substring(t+1,s);if(i.includes("#")){const[e,t]=i.split("#");n.push(_(r[e],t))}else n.push(r[i]);o=s+1}return n.join("")},"evaluateTemplate"),x=c(({ref:e},t)=>({...t.endpointParams,...t.referenceRecord}[e]),"getReferenceValue"),I=c((e,t,n)=>{if("string"==typeof e)return A(e,n);if(e.fn)return R(e,n);if(e.ref)return x(e,n);throw new v(`'${t}': ${String(e)} is not a string, function or reference.`)},"evaluateExpression"),R=c(({fn:e,argv:t},n)=>{const r=t.map(e=>["boolean","number"].includes(typeof e)?e:I(e,"arg",n)),o=e.split(".");return o[0]in f&&null!=o[1]?f[o[0]][o[1]](...r):O[e](...r)},"callFunction"),T=c(({assign:e,...t},n)=>{if(e&&e in n.referenceRecord)throw new v(`'${e}' is already defined in Reference Record.`);const r=R(t,n);return n.logger?.debug?.(`${g} evaluateCondition: ${y(t)} = ${y(r)}`),{result:""===r||!!r,...null!=e&&{toAssign:{name:e,value:r}}}},"evaluateCondition"),D=c((e=[],t)=>{const n={};for(const r of e){const{result:e,toAssign:o}=T(r,{...t,referenceRecord:{...t.referenceRecord,...n}});if(!e)return{result:e};o&&(n[o.name]=o.value,t.logger?.debug?.(`${g} assign: ${o.name} := ${y(o.value)}`))}return{result:!0,referenceRecord:n}},"evaluateConditions"),k=c((e,t)=>Object.entries(e).reduce((e,[n,r])=>({...e,[n]:r.map(e=>{const r=I(e,"Header value entry",t);if("string"!=typeof r)throw new v(`Header '${n}' value '${r}' is not a string`);return r})}),{}),"getEndpointHeaders"),N=c((e,t)=>{if(Array.isArray(e))return e.map(e=>N(e,t));switch(typeof e){case"string":return A(e,t);case"object":if(null===e)throw new v(`Unexpected endpoint property: ${e}`);return j(e,t);case"boolean":return e;default:throw new v("Unexpected endpoint property type: "+typeof e)}},"getEndpointProperty"),j=c((e,t)=>Object.entries(e).reduce((e,[n,r])=>({...e,[n]:N(r,t)}),{}),"getEndpointProperties"),M=c((e,t)=>{const n=I(e,"Endpoint URL",t);if("string"==typeof n)try{return new URL(n)}catch(e){throw console.error(`Failed to construct URL with ${n}`,e),e}throw new v("Endpoint URL must be a string, got "+typeof n)},"getEndpointUrl"),L=c((e,t)=>{const{conditions:n,endpoint:r}=e,{result:o,referenceRecord:s}=D(n,t);if(!o)return;const i={...t,referenceRecord:{...t.referenceRecord,...s}},{url:a,properties:c,headers:l}=r;return t.logger?.debug?.(`${g} Resolving endpoint from template: ${y(r)}`),{...null!=l&&{headers:k(l,i)},...null!=c&&{properties:j(c,i)},url:M(a,i)}},"evaluateEndpointRule"),F=c((e,t)=>{const{conditions:n,error:r}=e,{result:o,referenceRecord:s}=D(n,t);if(o)throw new v(I(r,"Error",{...t,referenceRecord:{...t.referenceRecord,...s}}))},"evaluateErrorRule"),$=c((e,t)=>{const{conditions:n,rules:r}=e,{result:o,referenceRecord:s}=D(n,t);if(o)return U(r,{...t,referenceRecord:{...t.referenceRecord,...s}})},"evaluateTreeRule"),U=c((e,t)=>{for(const n of e)if("endpoint"===n.type){const e=L(n,t);if(e)return e}else if("error"===n.type)F(n,t);else{if("tree"!==n.type)throw new v(`Unknown endpoint rule: ${n}`);{const e=$(n,t);if(e)return e}}throw new v("Rules evaluation failed")},"evaluateRules"),B=c((e,t)=>{const{endpointParams:n,logger:r}=t,{parameters:o,rules:s}=e;t.logger?.debug?.(`${g} Initial EndpointParams: ${y(n)}`);const i=Object.entries(o).filter(([,e])=>null!=e.default).map(([e,t])=>[e,t.default]);if(i.length>0)for(const[e,t]of i)n[e]=n[e]??t;const a=Object.entries(o).filter(([,e])=>e.required).map(([e])=>e);for(const e of a)if(null==n[e])throw new v(`Missing required parameter: '${e}'`);const c=U(s,{endpointParams:n,logger:r,referenceRecord:{}});return t.logger?.debug?.(`${g} Resolved endpoint: ${y(c)}`),c},"resolveEndpoint")},6435:e=>{var t,n=Object.defineProperty,r=Object.getOwnPropertyDescriptor,o=Object.getOwnPropertyNames,s=Object.prototype.hasOwnProperty,i=(e,t)=>n(e,"name",{value:t,configurable:!0}),a={};((e,t)=>{for(var r in t)n(e,r,{get:t[r],enumerable:!0})})(a,{fromHex:()=>d,toHex:()=>u}),e.exports=(t=a,((e,t,i,a)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let c of o(t))s.call(e,c)||c===i||n(e,c,{get:()=>t[c],enumerable:!(a=r(t,c))||a.enumerable});return e})(n({},"__esModule",{value:!0}),t));var c={},l={};for(let e=0;e<256;e++){let t=e.toString(16).toLowerCase();1===t.length&&(t=`0${t}`),c[e]=t,l[t]=e}function d(e){if(e.length%2!=0)throw new Error("Hex encoded strings must have an even number length");const t=new Uint8Array(e.length/2);for(let n=0;n<e.length;n+=2){const r=e.slice(n,n+2).toLowerCase();if(!(r in l))throw new Error(`Cannot decode unrecognized sequence ${r} as hexadecimal`);t[n/2]=l[r]}return t}function u(e){let t="";for(let n=0;n<e.byteLength;n++)t+=c[e[n]];return t}i(d,"fromHex"),i(u,"toHex")},6324:(e,t,n)=>{var r,o=Object.defineProperty,s=Object.getOwnPropertyDescriptor,i=Object.getOwnPropertyNames,a=Object.prototype.hasOwnProperty,c=(e,t)=>o(e,"name",{value:t,configurable:!0}),l={};((e,t)=>{for(var n in t)o(e,n,{get:t[n],enumerable:!0})})(l,{getSmithyContext:()=>u,normalizeProvider:()=>p}),e.exports=(r=l,((e,t,n,r)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let c of i(t))a.call(e,c)||c===n||o(e,c,{get:()=>t[c],enumerable:!(r=s(t,c))||r.enumerable});return e})(o({},"__esModule",{value:!0}),r));var d=n(690),u=c(e=>e[d.SMITHY_CONTEXT_KEY]||(e[d.SMITHY_CONTEXT_KEY]={}),"getSmithyContext"),p=c(e=>{if("function"==typeof e)return e;const t=Promise.resolve(e);return()=>t},"normalizeProvider")},5518:(e,t,n)=>{var r,o=Object.defineProperty,s=Object.getOwnPropertyDescriptor,i=Object.getOwnPropertyNames,a=Object.prototype.hasOwnProperty,c=(e,t)=>o(e,"name",{value:t,configurable:!0}),l={};((e,t)=>{for(var n in t)o(e,n,{get:t[n],enumerable:!0})})(l,{AdaptiveRetryStrategy:()=>A,ConfiguredRetryStrategy:()=>x,DEFAULT_MAX_ATTEMPTS:()=>u,DEFAULT_RETRY_DELAY_BASE:()=>f,DEFAULT_RETRY_MODE:()=>p,DefaultRateLimiter:()=>h,INITIAL_RETRY_TOKENS:()=>v,INVOCATION_ID_HEADER:()=>w,MAXIMUM_RETRY_DELAY:()=>g,NO_RETRY_INCREMENT:()=>_,REQUEST_HEADER:()=>E,RETRY_COST:()=>b,RETRY_MODES:()=>d,StandardRetryStrategy:()=>O,THROTTLING_RETRY_DELAY_BASE:()=>y,TIMEOUT_RETRY_COST:()=>S}),e.exports=(r=l,((e,t,n,r)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let c of i(t))a.call(e,c)||c===n||o(e,c,{get:()=>t[c],enumerable:!(r=s(t,c))||r.enumerable});return e})(o({},"__esModule",{value:!0}),r));var d=(e=>(e.STANDARD="standard",e.ADAPTIVE="adaptive",e))(d||{}),u=3,p="standard",m=n(2058),h=class e{constructor(e){this.currentCapacity=0,this.enabled=!1,this.lastMaxRate=0,this.measuredTxRate=0,this.requestCount=0,this.lastTimestamp=0,this.timeWindow=0,this.beta=e?.beta??.7,this.minCapacity=e?.minCapacity??1,this.minFillRate=e?.minFillRate??.5,this.scaleConstant=e?.scaleConstant??.4,this.smooth=e?.smooth??.8;const t=this.getCurrentTimeInSeconds();this.lastThrottleTime=t,this.lastTxRateBucket=Math.floor(this.getCurrentTimeInSeconds()),this.fillRate=this.minFillRate,this.maxCapacity=this.minCapacity}static{c(this,"DefaultRateLimiter")}static{this.setTimeoutFn=setTimeout}getCurrentTimeInSeconds(){return Date.now()/1e3}async getSendToken(){return this.acquireTokenBucket(1)}async acquireTokenBucket(t){if(this.enabled){if(this.refillTokenBucket(),t>this.currentCapacity){const n=(t-this.currentCapacity)/this.fillRate*1e3;await new Promise(t=>e.setTimeoutFn(t,n))}this.currentCapacity=this.currentCapacity-t}}refillTokenBucket(){const e=this.getCurrentTimeInSeconds();if(!this.lastTimestamp)return void(this.lastTimestamp=e);const t=(e-this.lastTimestamp)*this.fillRate;this.currentCapacity=Math.min(this.maxCapacity,this.currentCapacity+t),this.lastTimestamp=e}updateClientSendingRate(e){let t;if(this.updateMeasuredRate(),(0,m.isThrottlingError)(e)){const e=this.enabled?Math.min(this.measuredTxRate,this.fillRate):this.measuredTxRate;this.lastMaxRate=e,this.calculateTimeWindow(),this.lastThrottleTime=this.getCurrentTimeInSeconds(),t=this.cubicThrottle(e),this.enableTokenBucket()}else this.calculateTimeWindow(),t=this.cubicSuccess(this.getCurrentTimeInSeconds());const n=Math.min(t,2*this.measuredTxRate);this.updateTokenBucketRate(n)}calculateTimeWindow(){this.timeWindow=this.getPrecise(Math.pow(this.lastMaxRate*(1-this.beta)/this.scaleConstant,1/3))}cubicThrottle(e){return this.getPrecise(e*this.beta)}cubicSuccess(e){return this.getPrecise(this.scaleConstant*Math.pow(e-this.lastThrottleTime-this.timeWindow,3)+this.lastMaxRate)}enableTokenBucket(){this.enabled=!0}updateTokenBucketRate(e){this.refillTokenBucket(),this.fillRate=Math.max(e,this.minFillRate),this.maxCapacity=Math.max(e,this.minCapacity),this.currentCapacity=Math.min(this.currentCapacity,this.maxCapacity)}updateMeasuredRate(){const e=this.getCurrentTimeInSeconds(),t=Math.floor(2*e)/2;if(this.requestCount++,t>this.lastTxRateBucket){const e=this.requestCount/(t-this.lastTxRateBucket);this.measuredTxRate=this.getPrecise(e*this.smooth+this.measuredTxRate*(1-this.smooth)),this.requestCount=0,this.lastTxRateBucket=t}}getPrecise(e){return parseFloat(e.toFixed(8))}},f=100,g=2e4,y=500,v=500,b=5,S=10,_=1,w="amz-sdk-invocation-id",E="amz-sdk-request",P=c(()=>{let e=f;return{computeNextBackoffDelay:c(t=>Math.floor(Math.min(g,Math.random()*2**t*e)),"computeNextBackoffDelay"),setDelayBase:c(t=>{e=t},"setDelayBase")}},"getDefaultRetryBackoffStrategy"),C=c(({retryDelay:e,retryCount:t,retryCost:n})=>({getRetryCount:c(()=>t,"getRetryCount"),getRetryDelay:c(()=>Math.min(g,e),"getRetryDelay"),getRetryCost:c(()=>n,"getRetryCost")}),"createDefaultRetryToken"),O=class{constructor(e){this.maxAttempts=e,this.mode="standard",this.capacity=v,this.retryBackoffStrategy=P(),this.maxAttemptsProvider="function"==typeof e?e:async()=>e}static{c(this,"StandardRetryStrategy")}async acquireInitialRetryToken(e){return C({retryDelay:f,retryCount:0})}async refreshRetryTokenForRetry(e,t){const n=await this.getMaxAttempts();if(this.shouldRetry(e,t,n)){const n=t.errorType;this.retryBackoffStrategy.setDelayBase("THROTTLING"===n?y:f);const r=this.retryBackoffStrategy.computeNextBackoffDelay(e.getRetryCount()),o=t.retryAfterHint?Math.max(t.retryAfterHint.getTime()-Date.now()||0,r):r,s=this.getCapacityCost(n);return this.capacity-=s,C({retryDelay:o,retryCount:e.getRetryCount()+1,retryCost:s})}throw new Error("No retry token available")}recordSuccess(e){this.capacity=Math.max(v,this.capacity+(e.getRetryCost()??_))}getCapacity(){return this.capacity}async getMaxAttempts(){try{return await this.maxAttemptsProvider()}catch(e){return console.warn(`Max attempts provider could not resolve. Using default of ${u}`),u}}shouldRetry(e,t,n){return e.getRetryCount()+1<n&&this.capacity>=this.getCapacityCost(t.errorType)&&this.isRetryableError(t.errorType)}getCapacityCost(e){return"TRANSIENT"===e?S:b}isRetryableError(e){return"THROTTLING"===e||"TRANSIENT"===e}},A=class{constructor(e,t){this.maxAttemptsProvider=e,this.mode="adaptive";const{rateLimiter:n}=t??{};this.rateLimiter=n??new h,this.standardRetryStrategy=new O(e)}static{c(this,"AdaptiveRetryStrategy")}async acquireInitialRetryToken(e){return await this.rateLimiter.getSendToken(),this.standardRetryStrategy.acquireInitialRetryToken(e)}async refreshRetryTokenForRetry(e,t){return this.rateLimiter.updateClientSendingRate(t),this.standardRetryStrategy.refreshRetryTokenForRetry(e,t)}recordSuccess(e){this.rateLimiter.updateClientSendingRate({}),this.standardRetryStrategy.recordSuccess(e)}},x=class extends O{static{c(this,"ConfiguredRetryStrategy")}constructor(e,t=f){super("function"==typeof e?e:async()=>e),this.computeNextBackoffDelay="number"==typeof t?()=>t:t}async refreshRetryTokenForRetry(e,t){const n=await super.refreshRetryTokenForRetry(e,t);return n.getRetryDelay=()=>this.computeNextBackoffDelay(n.getRetryCount()),n}}},9351:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ByteArrayCollector=void 0;t.ByteArrayCollector=class{constructor(e){this.allocByteArray=e,this.byteLength=0,this.byteArrays=[]}push(e){this.byteArrays.push(e),this.byteLength+=e.byteLength}flush(){if(1===this.byteArrays.length){const e=this.byteArrays[0];return this.reset(),e}const e=this.allocByteArray(this.byteLength);let t=0;for(let n=0;n<this.byteArrays.length;++n){const r=this.byteArrays[n];e.set(r,t),t+=r.byteLength}return this.reset(),e}reset(){this.byteArrays=[],this.byteLength=0}}},7753:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ChecksumStream=void 0;const n="function"==typeof ReadableStream?ReadableStream:function(){};t.ChecksumStream=class extends n{}},1775:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ChecksumStream=void 0;const r=n(8385),o=n(2203);class s extends o.Duplex{constructor({expectedChecksum:e,checksum:t,source:n,checksumSourceLocation:o,base64Encoder:s}){var i,a;if(super(),"function"!=typeof n.pipe)throw new Error(`@smithy/util-stream: unsupported source type ${null!==(a=null===(i=null==n?void 0:n.constructor)||void 0===i?void 0:i.name)&&void 0!==a?a:n} in ChecksumStream.`);this.source=n,this.base64Encoder=null!=s?s:r.toBase64,this.expectedChecksum=e,this.checksum=t,this.checksumSourceLocation=o,this.source.pipe(this)}_read(e){}_write(e,t,n){try{this.checksum.update(e),this.push(e)}catch(e){return n(e)}return n()}async _final(e){try{const t=await this.checksum.digest(),n=this.base64Encoder(t);if(this.expectedChecksum!==n)return e(new Error(`Checksum mismatch: expected "${this.expectedChecksum}" but received "${n}" in response header "${this.checksumSourceLocation}".`))}catch(t){return e(t)}return this.push(null),e()}}t.ChecksumStream=s},4129:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createChecksumStream=void 0;const r=n(8385),o=n(4414),s=n(7753);t.createChecksumStream=({expectedChecksum:e,checksum:t,source:n,checksumSourceLocation:i,base64Encoder:a})=>{var c,l;if(!(0,o.isReadableStream)(n))throw new Error(`@smithy/util-stream: unsupported source type ${null!==(l=null===(c=null==n?void 0:n.constructor)||void 0===c?void 0:c.name)&&void 0!==l?l:n} in ChecksumStream.`);const d=null!=a?a:r.toBase64;if("function"!=typeof TransformStream)throw new Error("@smithy/util-stream: unable to instantiate ChecksumStream because API unavailable: ReadableStream/TransformStream.");const u=new TransformStream({start(){},async transform(e,n){t.update(e),n.enqueue(e)},async flush(n){const r=await t.digest(),o=d(r);if(e!==o){const t=new Error(`Checksum mismatch: expected "${e}" but received "${o}" in response header "${i}".`);n.error(t)}else n.terminate()}});n.pipeThrough(u);const p=u.readable;return Object.setPrototypeOf(p,s.ChecksumStream.prototype),p}},5639:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createChecksumStream=function(e){if("function"==typeof ReadableStream&&(0,r.isReadableStream)(e.source))return(0,s.createChecksumStream)(e);return new o.ChecksumStream(e)};const r=n(4414),o=n(1775),s=n(4129)},2005:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createBufferedReadable=function(e,t,n){if((0,i.isReadableStream)(e))return(0,s.createBufferedReadableStream)(e,t,n);const a=new r.Readable({read(){}});let c=!1,l=0;const d=["",new o.ByteArrayCollector(e=>new Uint8Array(e)),new o.ByteArrayCollector(e=>Buffer.from(new Uint8Array(e)))];let u=-1;return e.on("data",e=>{const r=(0,s.modeOf)(e,!0);if(u!==r&&(u>=0&&a.push((0,s.flush)(d,u)),u=r),-1===u)return void a.push(e);const o=(0,s.sizeOf)(e);l+=o;const i=(0,s.sizeOf)(d[u]);if(o>=t&&0===i)a.push(e);else{const r=(0,s.merge)(d,u,e);!c&&l>2*t&&(c=!0,null==n||n.warn(`@smithy/util-stream - stream chunk size ${o} is below threshold of ${t}, automatically buffering.`)),r>=t&&a.push((0,s.flush)(d,u))}}),e.on("end",()=>{if(-1!==u){const e=(0,s.flush)(d,u);(0,s.sizeOf)(e)>0&&a.push(e)}a.push(null)}),a};const r=n(7075),o=n(9351),s=n(8213),i=n(4414)},8213:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createBufferedReadable=void 0,t.createBufferedReadableStream=o,t.merge=s,t.flush=i,t.sizeOf=a,t.modeOf=c;const r=n(9351);function o(e,t,n){const o=e.getReader();let l=!1,d=0;const u=["",new r.ByteArrayCollector(e=>new Uint8Array(e))];let p=-1;const m=async e=>{const{value:r,done:h}=await o.read(),f=r;if(h){if(-1!==p){const t=i(u,p);a(t)>0&&e.enqueue(t)}e.close()}else{const r=c(f,!1);if(p!==r&&(p>=0&&e.enqueue(i(u,p)),p=r),-1===p)return void e.enqueue(f);const o=a(f);d+=o;const h=a(u[p]);if(o>=t&&0===h)e.enqueue(f);else{const r=s(u,p,f);!l&&d>2*t&&(l=!0,null==n||n.warn(`@smithy/util-stream - stream chunk size ${o} is below threshold of ${t}, automatically buffering.`)),r>=t?e.enqueue(i(u,p)):await m(e)}}};return new ReadableStream({pull:m})}function s(e,t,n){switch(t){case 0:return e[0]+=n,a(e[0]);case 1:case 2:return e[t].push(n),a(e[t])}}function i(e,t){switch(t){case 0:const n=e[0];return e[0]="",n;case 1:case 2:return e[t].flush()}throw new Error(`@smithy/util-stream - invalid index ${t} given to flush()`)}function a(e){var t,n;return null!==(n=null!==(t=null==e?void 0:e.byteLength)&&void 0!==t?t:null==e?void 0:e.length)&&void 0!==n?n:0}function c(e,t=!0){return t&&"undefined"!=typeof Buffer&&e instanceof Buffer?2:e instanceof Uint8Array?1:"string"==typeof e?0:-1}t.createBufferedReadable=o},6522:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getAwsChunkedEncodingStream=void 0;const r=n(2203);t.getAwsChunkedEncodingStream=(e,t)=>{const{base64Encoder:n,bodyLengthChecker:o,checksumAlgorithmFn:s,checksumLocationName:i,streamHasher:a}=t,c=void 0!==n&&void 0!==s&&void 0!==i&&void 0!==a,l=c?a(s,e):void 0,d=new r.Readable({read:()=>{}});return e.on("data",e=>{const t=o(e)||0;d.push(`${t.toString(16)}\r\n`),d.push(e),d.push("\r\n")}),e.on("end",async()=>{if(d.push("0\r\n"),c){const e=n(await l);d.push(`${i}:${e}\r\n`),d.push("\r\n")}d.push(null)}),d}},66:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.headStream=async function(e,t){var n;let r=0;const o=[],s=e.getReader();let i=!1;for(;!i;){const{done:e,value:a}=await s.read();if(a&&(o.push(a),r+=null!==(n=null==a?void 0:a.byteLength)&&void 0!==n?n:0),r>=t)break;i=e}s.releaseLock();const a=new Uint8Array(Math.min(t,r));let c=0;for(const e of o){if(e.byteLength>a.byteLength-c){a.set(e.subarray(0,a.byteLength-c),c);break}a.set(e,c),c+=e.length}return a}},8412:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.headStream=void 0;const r=n(2203),o=n(66),s=n(4414);t.headStream=(e,t)=>(0,s.isReadableStream)(e)?(0,o.headStream)(e,t):new Promise((n,r)=>{const o=new i;o.limit=t,e.pipe(o),e.on("error",e=>{o.end(),r(e)}),o.on("error",r),o.on("finish",function(){const e=new Uint8Array(Buffer.concat(this.buffers));n(e)})});class i extends r.Writable{constructor(){super(...arguments),this.buffers=[],this.limit=1/0,this.bytesBuffered=0}_write(e,t,n){var r;if(this.buffers.push(e),this.bytesBuffered+=null!==(r=e.byteLength)&&void 0!==r?r:0,this.bytesBuffered>=this.limit){const e=this.bytesBuffered-this.limit,t=this.buffers[this.buffers.length-1];this.buffers[this.buffers.length-1]=t.subarray(0,t.byteLength-e),this.emit("finish")}n()}}},4252:(e,t,n)=>{var r,o=Object.defineProperty,s=Object.getOwnPropertyDescriptor,i=Object.getOwnPropertyNames,a=Object.prototype.hasOwnProperty,c=(e,t)=>o(e,"name",{value:t,configurable:!0}),l=(e,t,n,r)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let c of i(t))a.call(e,c)||c===n||o(e,c,{get:()=>t[c],enumerable:!(r=s(t,c))||r.enumerable});return e},d=(e,t,n)=>(l(e,t,"default"),n&&l(n,t,"default")),u={};((e,t)=>{for(var n in t)o(e,n,{get:t[n],enumerable:!0})})(u,{Uint8ArrayBlobAdapter:()=>g}),e.exports=(r=u,l(o({},"__esModule",{value:!0}),r));var p=n(8385),m=n(1577);function h(e,t="utf-8"){return"base64"===t?(0,p.toBase64)(e):(0,m.toUtf8)(e)}function f(e,t){return"base64"===t?g.mutate((0,p.fromBase64)(e)):g.mutate((0,m.fromUtf8)(e))}c(h,"transformToString"),c(f,"transformFromString");var g=class e extends Uint8Array{static{c(this,"Uint8ArrayBlobAdapter")}static fromString(e,t="utf-8"){if("string"==typeof e)return f(e,t);throw new Error(`Unsupported conversion from ${typeof e} to Uint8ArrayBlobAdapter.`)}static mutate(t){return Object.setPrototypeOf(t,e.prototype),t}transformToString(e="utf-8"){return h(this,e)}};d(u,n(1775),e.exports),d(u,n(5639),e.exports),d(u,n(2005),e.exports),d(u,n(6522),e.exports),d(u,n(8412),e.exports),d(u,n(7201),e.exports),d(u,n(2108),e.exports),d(u,n(4414),e.exports)},2207:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.sdkStreamMixin=void 0;const r=n(7809),o=n(8385),s=n(6435),i=n(1577),a=n(4414),c="The stream has already been transformed.";t.sdkStreamMixin=e=>{var t,n;if(!l(e)&&!(0,a.isReadableStream)(e)){const r=(null===(n=null===(t=null==e?void 0:e.__proto__)||void 0===t?void 0:t.constructor)||void 0===n?void 0:n.name)||e;throw new Error(`Unexpected stream implementation, expect Blob or ReadableStream, got ${r}`)}let d=!1;const u=async()=>{if(d)throw new Error(c);return d=!0,await(0,r.streamCollector)(e)};return Object.assign(e,{transformToByteArray:u,transformToString:async e=>{const t=await u();if("base64"===e)return(0,o.toBase64)(t);if("hex"===e)return(0,s.toHex)(t);if(void 0===e||"utf8"===e||"utf-8"===e)return(0,i.toUtf8)(t);if("function"==typeof TextDecoder)return new TextDecoder(e).decode(t);throw new Error("TextDecoder is not available, please make sure polyfill is provided.")},transformToWebStream:()=>{if(d)throw new Error(c);if(d=!0,l(e))return(e=>{if("function"!=typeof e.stream)throw new Error("Cannot transform payload Blob to web stream. Please make sure the Blob.stream() is polyfilled.\nIf you are using React Native, this API is not yet supported, see: https://react-native.canny.io/feature-requests/p/fetch-streaming-body");return e.stream()})(e);if((0,a.isReadableStream)(e))return e;throw new Error(`Cannot transform payload to web stream, got ${e}`)}})};const l=e=>"function"==typeof Blob&&e instanceof Blob},7201:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.sdkStreamMixin=void 0;const r=n(1279),o=n(4151),s=n(2203),i=n(2207),a="The stream has already been transformed.";t.sdkStreamMixin=e=>{var t,n;if(!(e instanceof s.Readable))try{return(0,i.sdkStreamMixin)(e)}catch(r){const o=(null===(n=null===(t=null==e?void 0:e.__proto__)||void 0===t?void 0:t.constructor)||void 0===n?void 0:n.name)||e;throw new Error(`Unexpected stream implementation, expect Stream.Readable instance, got ${o}`)}let c=!1;const l=async()=>{if(c)throw new Error(a);return c=!0,await(0,r.streamCollector)(e)};return Object.assign(e,{transformToByteArray:l,transformToString:async e=>{const t=await l();if(void 0===e||Buffer.isEncoding(e))return(0,o.fromArrayBuffer)(t.buffer,t.byteOffset,t.byteLength).toString(e);return new TextDecoder(e).decode(t)},transformToWebStream:()=>{if(c)throw new Error(a);if(null!==e.readableFlowing)throw new Error("The stream has been consumed by other callbacks.");if("function"!=typeof s.Readable.toWeb)throw new Error("Readable.toWeb() is not supported. Please ensure a polyfill is available.");return c=!0,s.Readable.toWeb(e)}})}},7570:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.splitStream=async function(e){"function"==typeof e.stream&&(e=e.stream());return e.tee()}},2108:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.splitStream=async function(e){if((0,s.isReadableStream)(e)||(0,s.isBlob)(e))return(0,o.splitStream)(e);const t=new r.PassThrough,n=new r.PassThrough;return e.pipe(t),e.pipe(n),[t,n]};const r=n(2203),o=n(7570),s=n(4414)},4414:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isBlob=t.isReadableStream=void 0;t.isReadableStream=e=>{var t;return"function"==typeof ReadableStream&&((null===(t=null==e?void 0:e.constructor)||void 0===t?void 0:t.name)===ReadableStream.name||e instanceof ReadableStream)};t.isBlob=e=>{var t;return"function"==typeof Blob&&((null===(t=null==e?void 0:e.constructor)||void 0===t?void 0:t.name)===Blob.name||e instanceof Blob)}},146:e=>{var t,n=Object.defineProperty,r=Object.getOwnPropertyDescriptor,o=Object.getOwnPropertyNames,s=Object.prototype.hasOwnProperty,i=(e,t)=>n(e,"name",{value:t,configurable:!0}),a={};((e,t)=>{for(var r in t)n(e,r,{get:t[r],enumerable:!0})})(a,{escapeUri:()=>c,escapeUriPath:()=>d}),e.exports=(t=a,((e,t,i,a)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let c of o(t))s.call(e,c)||c===i||n(e,c,{get:()=>t[c],enumerable:!(a=r(t,c))||a.enumerable});return e})(n({},"__esModule",{value:!0}),t));var c=i(e=>encodeURIComponent(e).replace(/[!'()*]/g,l),"escapeUri"),l=i(e=>`%${e.charCodeAt(0).toString(16).toUpperCase()}`,"hexEncode"),d=i(e=>e.split("/").map(c).join("/"),"escapeUriPath")},1577:(e,t,n)=>{var r,o=Object.defineProperty,s=Object.getOwnPropertyDescriptor,i=Object.getOwnPropertyNames,a=Object.prototype.hasOwnProperty,c=(e,t)=>o(e,"name",{value:t,configurable:!0}),l={};((e,t)=>{for(var n in t)o(e,n,{get:t[n],enumerable:!0})})(l,{fromUtf8:()=>u,toUint8Array:()=>p,toUtf8:()=>m}),e.exports=(r=l,((e,t,n,r)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let c of i(t))a.call(e,c)||c===n||o(e,c,{get:()=>t[c],enumerable:!(r=s(t,c))||r.enumerable});return e})(o({},"__esModule",{value:!0}),r));var d=n(4151),u=c(e=>{const t=(0,d.fromString)(e,"utf8");return new Uint8Array(t.buffer,t.byteOffset,t.byteLength/Uint8Array.BYTES_PER_ELEMENT)},"fromUtf8"),p=c(e=>"string"==typeof e?u(e):ArrayBuffer.isView(e)?new Uint8Array(e.buffer,e.byteOffset,e.byteLength/Uint8Array.BYTES_PER_ELEMENT):new Uint8Array(e),"toUint8Array"),m=c(e=>{if("string"==typeof e)return e;if("object"!=typeof e||"number"!=typeof e.byteOffset||"number"!=typeof e.byteLength)throw new Error("@smithy/util-utf8: toUtf8 encoder function only accepts string | Uint8Array.");return(0,d.fromArrayBuffer)(e.buffer,e.byteOffset,e.byteLength).toString("utf8")},"toUtf8")},1860:e=>{var t,n,r,o,s,i,a,c,l,d,u,p,m,h,f,g,y,v,b,S,_,w,E,P,C,O,A,x,I,R,T,D;!function(t){var n="object"==typeof global?global:"object"==typeof self?self:"object"==typeof this?this:{};function r(e,t){return e!==n&&("function"==typeof Object.create?Object.defineProperty(e,"__esModule",{value:!0}):e.__esModule=!0),function(n,r){return e[n]=t?t(n,r):r}}"function"==typeof define&&define.amd?define("tslib",["exports"],function(e){t(r(n,r(e)))}):"object"==typeof e.exports?t(r(n,r(e.exports))):t(r(n))}(function(e){var k=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])};t=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}k(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},n=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},r=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n},o=function(e,t,n,r){var o,s=arguments.length,i=s<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(i=(s<3?o(i):s>3?o(t,n,i):o(t,n))||i);return s>3&&i&&Object.defineProperty(t,n,i),i},s=function(e,t){return function(n,r){t(n,r,e)}},i=function(e,t,n,r,o,s){function i(e){if(void 0!==e&&"function"!=typeof e)throw new TypeError("Function expected");return e}for(var a,c=r.kind,l="getter"===c?"get":"setter"===c?"set":"value",d=!t&&e?r.static?e:e.prototype:null,u=t||(d?Object.getOwnPropertyDescriptor(d,r.name):{}),p=!1,m=n.length-1;m>=0;m--){var h={};for(var f in r)h[f]="access"===f?{}:r[f];for(var f in r.access)h.access[f]=r.access[f];h.addInitializer=function(e){if(p)throw new TypeError("Cannot add initializers after decoration has completed");s.push(i(e||null))};var g=(0,n[m])("accessor"===c?{get:u.get,set:u.set}:u[l],h);if("accessor"===c){if(void 0===g)continue;if(null===g||"object"!=typeof g)throw new TypeError("Object expected");(a=i(g.get))&&(u.get=a),(a=i(g.set))&&(u.set=a),(a=i(g.init))&&o.unshift(a)}else(a=i(g))&&("field"===c?o.unshift(a):u[l]=a)}d&&Object.defineProperty(d,r.name,u),p=!0},a=function(e,t,n){for(var r=arguments.length>2,o=0;o<t.length;o++)n=r?t[o].call(e,n):t[o].call(e);return r?n:void 0},c=function(e){return"symbol"==typeof e?e:"".concat(e)},l=function(e,t,n){return"symbol"==typeof t&&(t=t.description?"[".concat(t.description,"]"):""),Object.defineProperty(e,"name",{configurable:!0,value:n?"".concat(n," ",t):t})},d=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},u=function(e,t,n,r){return new(n||(n=Promise))(function(o,s){function i(e){try{c(r.next(e))}catch(e){s(e)}}function a(e){try{c(r.throw(e))}catch(e){s(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(i,a)}c((r=r.apply(e,t||[])).next())})},p=function(e,t){var n,r,o,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]},i=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return i.next=a(0),i.throw=a(1),i.return=a(2),"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(a){return function(c){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,a[0]&&(s=0)),s;)try{if(n=1,r&&(o=2&a[0]?r.return:a[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,a[1])).done)return o;switch(r=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return s.label++,{value:a[1],done:!1};case 5:s.label++,r=a[1],a=[0];continue;case 7:a=s.ops.pop(),s.trys.pop();continue;default:if(!(o=s.trys,(o=o.length>0&&o[o.length-1])||6!==a[0]&&2!==a[0])){s=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){s.label=a[1];break}if(6===a[0]&&s.label<o[1]){s.label=o[1],o=a;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(a);break}o[2]&&s.ops.pop(),s.trys.pop();continue}a=t.call(e,s)}catch(e){a=[6,e],r=0}finally{n=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,c])}}},m=function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||I(t,e,n)},I=Object.create?function(e,t,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(t,n);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,o)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]},h=function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},f=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,s=n.call(e),i=[];try{for(;(void 0===t||t-- >0)&&!(r=s.next()).done;)i.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=s.return)&&n.call(s)}finally{if(o)throw o.error}}return i},g=function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(f(arguments[t]));return e},y=function(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),o=0;for(t=0;t<n;t++)for(var s=arguments[t],i=0,a=s.length;i<a;i++,o++)r[o]=s[i];return r},v=function(e,t,n){if(n||2===arguments.length)for(var r,o=0,s=t.length;o<s;o++)!r&&o in t||(r||(r=Array.prototype.slice.call(t,0,o)),r[o]=t[o]);return e.concat(r||Array.prototype.slice.call(t))},b=function(e){return this instanceof b?(this.v=e,this):new b(e)},S=function(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,o=n.apply(e,t||[]),s=[];return r=Object.create(("function"==typeof AsyncIterator?AsyncIterator:Object).prototype),i("next"),i("throw"),i("return",function(e){return function(t){return Promise.resolve(t).then(e,l)}}),r[Symbol.asyncIterator]=function(){return this},r;function i(e,t){o[e]&&(r[e]=function(t){return new Promise(function(n,r){s.push([e,t,n,r])>1||a(e,t)})},t&&(r[e]=t(r[e])))}function a(e,t){try{(n=o[e](t)).value instanceof b?Promise.resolve(n.value.v).then(c,l):d(s[0][2],n)}catch(e){d(s[0][3],e)}var n}function c(e){a("next",e)}function l(e){a("throw",e)}function d(e,t){e(t),s.shift(),s.length&&a(s[0][0],s[0][1])}},_=function(e){var t,n;return t={},r("next"),r("throw",function(e){throw e}),r("return"),t[Symbol.iterator]=function(){return this},t;function r(r,o){t[r]=e[r]?function(t){return(n=!n)?{value:b(e[r](t)),done:!1}:o?o(t):t}:o}},w=function(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,n=e[Symbol.asyncIterator];return n?n.call(e):(e=h(e),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(n){t[n]=e[n]&&function(t){return new Promise(function(r,o){(function(e,t,n,r){Promise.resolve(r).then(function(t){e({value:t,done:n})},t)})(r,o,(t=e[n](t)).done,t.value)})}}},E=function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e};var N=Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t},j=function(e){return j=Object.getOwnPropertyNames||function(e){var t=[];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[t.length]=n);return t},j(e)};P=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n=j(e),r=0;r<n.length;r++)"default"!==n[r]&&I(t,e,n[r]);return N(t,e),t},C=function(e){return e&&e.__esModule?e:{default:e}},O=function(e,t,n,r){if("a"===n&&!r)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?r:"a"===n?r.call(e):r?r.value:t.get(e)},A=function(e,t,n,r,o){if("m"===r)throw new TypeError("Private method is not writable");if("a"===r&&!o)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!o:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===r?o.call(e,n):o?o.value=n:t.set(e,n),n},x=function(e,t){if(null===t||"object"!=typeof t&&"function"!=typeof t)throw new TypeError("Cannot use 'in' operator on non-object");return"function"==typeof e?t===e:e.has(t)},R=function(e,t,n){if(null!=t){if("object"!=typeof t&&"function"!=typeof t)throw new TypeError("Object expected.");var r,o;if(n){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");r=t[Symbol.asyncDispose]}if(void 0===r){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");r=t[Symbol.dispose],n&&(o=r)}if("function"!=typeof r)throw new TypeError("Object not disposable.");o&&(r=function(){try{o.call(this)}catch(e){return Promise.reject(e)}}),e.stack.push({value:t,dispose:r,async:n})}else n&&e.stack.push({async:!0});return t};var M="function"==typeof SuppressedError?SuppressedError:function(e,t,n){var r=new Error(n);return r.name="SuppressedError",r.error=e,r.suppressed=t,r};T=function(e){function t(t){e.error=e.hasError?new M(t,e.error,"An error was suppressed during disposal."):t,e.hasError=!0}var n,r=0;return function o(){for(;n=e.stack.pop();)try{if(!n.async&&1===r)return r=0,e.stack.push(n),Promise.resolve().then(o);if(n.dispose){var s=n.dispose.call(n.value);if(n.async)return r|=2,Promise.resolve(s).then(o,function(e){return t(e),o()})}else r|=1}catch(e){t(e)}if(1===r)return e.hasError?Promise.reject(e.error):Promise.resolve();if(e.hasError)throw e.error}()},D=function(e,t){return"string"==typeof e&&/^\.\.?\//.test(e)?e.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function(e,n,r,o,s){return n?t?".jsx":".js":!r||o&&s?r+o+"."+s.toLowerCase()+"js":e}):e},e("__extends",t),e("__assign",n),e("__rest",r),e("__decorate",o),e("__param",s),e("__esDecorate",i),e("__runInitializers",a),e("__propKey",c),e("__setFunctionName",l),e("__metadata",d),e("__awaiter",u),e("__generator",p),e("__exportStar",m),e("__createBinding",I),e("__values",h),e("__read",f),e("__spread",g),e("__spreadArrays",y),e("__spreadArray",v),e("__await",b),e("__asyncGenerator",S),e("__asyncDelegator",_),e("__asyncValues",w),e("__makeTemplateObject",E),e("__importStar",P),e("__importDefault",C),e("__classPrivateFieldGet",O),e("__classPrivateFieldSet",A),e("__classPrivateFieldIn",x),e("__addDisposableResource",R),e("__disposeResources",T),e("__rewriteRelativeImportExtension",D)})},770:(e,t,n)=>{e.exports=n(218)},218:(e,t,n)=>{"use strict";n(9278);var r,o=n(4756),s=n(8611),i=n(5692),a=n(4434),c=(n(2613),n(9023));function l(e){var t=this;t.options=e||{},t.proxyOptions=t.options.proxy||{},t.maxSockets=t.options.maxSockets||s.Agent.defaultMaxSockets,t.requests=[],t.sockets=[],t.on("free",function(e,n,r,o){for(var s=u(n,r,o),i=0,a=t.requests.length;i<a;++i){var c=t.requests[i];if(c.host===s.host&&c.port===s.port)return t.requests.splice(i,1),void c.request.onSocket(e)}e.destroy(),t.removeSocket(e)})}function d(e,t){var n=this;l.prototype.createSocket.call(n,e,function(r){var s=e.request.getHeader("host"),i=p({},n.options,{socket:r,servername:s?s.replace(/:.*$/,""):e.host}),a=o.connect(0,i);n.sockets[n.sockets.indexOf(r)]=a,t(a)})}function u(e,t,n){return"string"==typeof e?{host:e,port:t,localAddress:n}:e}function p(e){for(var t=1,n=arguments.length;t<n;++t){var r=arguments[t];if("object"==typeof r)for(var o=Object.keys(r),s=0,i=o.length;s<i;++s){var a=o[s];void 0!==r[a]&&(e[a]=r[a])}}return e}t.httpOverHttp=function(e){var t=new l(e);return t.request=s.request,t},t.httpsOverHttp=function(e){var t=new l(e);return t.request=s.request,t.createSocket=d,t.defaultPort=443,t},t.httpOverHttps=function(e){var t=new l(e);return t.request=i.request,t},t.httpsOverHttps=function(e){var t=new l(e);return t.request=i.request,t.createSocket=d,t.defaultPort=443,t},c.inherits(l,a.EventEmitter),l.prototype.addRequest=function(e,t,n,r){var o=this,s=p({request:e},o.options,u(t,n,r));o.sockets.length>=this.maxSockets?o.requests.push(s):o.createSocket(s,function(t){function n(){o.emit("free",t,s)}function r(e){o.removeSocket(t),t.removeListener("free",n),t.removeListener("close",r),t.removeListener("agentRemove",r)}t.on("free",n),t.on("close",r),t.on("agentRemove",r),e.onSocket(t)})},l.prototype.createSocket=function(e,t){var n=this,o={};n.sockets.push(o);var s=p({},n.proxyOptions,{method:"CONNECT",path:e.host+":"+e.port,agent:!1,headers:{host:e.host+":"+e.port}});e.localAddress&&(s.localAddress=e.localAddress),s.proxyAuth&&(s.headers=s.headers||{},s.headers["Proxy-Authorization"]="Basic "+new Buffer(s.proxyAuth).toString("base64")),r("making CONNECT request");var i=n.request(s);function a(s,a,c){var l;return i.removeAllListeners(),a.removeAllListeners(),200!==s.statusCode?(r("tunneling socket could not be established, statusCode=%d",s.statusCode),a.destroy(),(l=new Error("tunneling socket could not be established, statusCode="+s.statusCode)).code="ECONNRESET",e.request.emit("error",l),void n.removeSocket(o)):c.length>0?(r("got illegal response body from proxy"),a.destroy(),(l=new Error("got illegal response body from proxy")).code="ECONNRESET",e.request.emit("error",l),void n.removeSocket(o)):(r("tunneling connection has established"),n.sockets[n.sockets.indexOf(o)]=a,t(a))}i.useChunkedEncodingByDefault=!1,i.once("response",function(e){e.upgrade=!0}),i.once("upgrade",function(e,t,n){process.nextTick(function(){a(e,t,n)})}),i.once("connect",a),i.once("error",function(t){i.removeAllListeners(),r("tunneling socket could not be established, cause=%s\n",t.message,t.stack);var s=new Error("tunneling socket could not be established, cause="+t.message);s.code="ECONNRESET",e.request.emit("error",s),n.removeSocket(o)}),i.end()},l.prototype.removeSocket=function(e){var t=this.sockets.indexOf(e);if(-1!==t){this.sockets.splice(t,1);var n=this.requests.shift();n&&this.createSocket(n,function(e){n.request.onSocket(e)})}},r=process.env.NODE_DEBUG&&/\btunnel\b/.test(process.env.NODE_DEBUG)?function(){var e=Array.prototype.slice.call(arguments);"string"==typeof e[0]?e[0]="TUNNEL: "+e[0]:e.unshift("TUNNEL:"),console.error.apply(console,e)}:function(){},t.debug=r},2048:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"NIL",{enumerable:!0,get:function(){return a.default}}),Object.defineProperty(t,"parse",{enumerable:!0,get:function(){return u.default}}),Object.defineProperty(t,"stringify",{enumerable:!0,get:function(){return d.default}}),Object.defineProperty(t,"v1",{enumerable:!0,get:function(){return r.default}}),Object.defineProperty(t,"v3",{enumerable:!0,get:function(){return o.default}}),Object.defineProperty(t,"v4",{enumerable:!0,get:function(){return s.default}}),Object.defineProperty(t,"v5",{enumerable:!0,get:function(){return i.default}}),Object.defineProperty(t,"validate",{enumerable:!0,get:function(){return l.default}}),Object.defineProperty(t,"version",{enumerable:!0,get:function(){return c.default}});var r=p(n(6415)),o=p(n(1697)),s=p(n(4676)),i=p(n(9771)),a=p(n(7723)),c=p(n(5868)),l=p(n(6200)),d=p(n(7597)),u=p(n(7267));function p(e){return e&&e.__esModule?e:{default:e}}},216:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,o=(r=n(6982))&&r.__esModule?r:{default:r};var s=function(e){return Array.isArray(e)?e=Buffer.from(e):"string"==typeof e&&(e=Buffer.from(e,"utf8")),o.default.createHash("md5").update(e).digest()};t.default=s},4221:(e,t,n)=>{"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o={randomUUID:((r=n(6982))&&r.__esModule?r:{default:r}).default.randomUUID};t.default=o},7723:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default="00000000-0000-0000-0000-000000000000"},7267:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,o=(r=n(6200))&&r.__esModule?r:{default:r};var s=function(e){if(!(0,o.default)(e))throw TypeError("Invalid UUID");let t;const n=new Uint8Array(16);return n[0]=(t=parseInt(e.slice(0,8),16))>>>24,n[1]=t>>>16&255,n[2]=t>>>8&255,n[3]=255&t,n[4]=(t=parseInt(e.slice(9,13),16))>>>8,n[5]=255&t,n[6]=(t=parseInt(e.slice(14,18),16))>>>8,n[7]=255&t,n[8]=(t=parseInt(e.slice(19,23),16))>>>8,n[9]=255&t,n[10]=(t=parseInt(e.slice(24,36),16))/1099511627776&255,n[11]=t/4294967296&255,n[12]=t>>>24&255,n[13]=t>>>16&255,n[14]=t>>>8&255,n[15]=255&t,n};t.default=s},7879:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i},2973:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){i>s.length-16&&(o.default.randomFillSync(s),i=0);return s.slice(i,i+=16)};var r,o=(r=n(6982))&&r.__esModule?r:{default:r};const s=new Uint8Array(256);let i=s.length},507:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,o=(r=n(6982))&&r.__esModule?r:{default:r};var s=function(e){return Array.isArray(e)?e=Buffer.from(e):"string"==typeof e&&(e=Buffer.from(e,"utf8")),o.default.createHash("sha1").update(e).digest()};t.default=s},7597:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,t.unsafeStringify=i;var r,o=(r=n(6200))&&r.__esModule?r:{default:r};const s=[];for(let e=0;e<256;++e)s.push((e+256).toString(16).slice(1));function i(e,t=0){return s[e[t+0]]+s[e[t+1]]+s[e[t+2]]+s[e[t+3]]+"-"+s[e[t+4]]+s[e[t+5]]+"-"+s[e[t+6]]+s[e[t+7]]+"-"+s[e[t+8]]+s[e[t+9]]+"-"+s[e[t+10]]+s[e[t+11]]+s[e[t+12]]+s[e[t+13]]+s[e[t+14]]+s[e[t+15]]}var a=function(e,t=0){const n=i(e,t);if(!(0,o.default)(n))throw TypeError("Stringified UUID is invalid");return n};t.default=a},6415:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,o=(r=n(2973))&&r.__esModule?r:{default:r},s=n(7597);let i,a,c=0,l=0;var d=function(e,t,n){let r=t&&n||0;const d=t||new Array(16);let u=(e=e||{}).node||i,p=void 0!==e.clockseq?e.clockseq:a;if(null==u||null==p){const t=e.random||(e.rng||o.default)();null==u&&(u=i=[1|t[0],t[1],t[2],t[3],t[4],t[5]]),null==p&&(p=a=16383&(t[6]<<8|t[7]))}let m=void 0!==e.msecs?e.msecs:Date.now(),h=void 0!==e.nsecs?e.nsecs:l+1;const f=m-c+(h-l)/1e4;if(f<0&&void 0===e.clockseq&&(p=p+1&16383),(f<0||m>c)&&void 0===e.nsecs&&(h=0),h>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");c=m,l=h,a=p,m+=122192928e5;const g=(1e4*(268435455&m)+h)%4294967296;d[r++]=g>>>24&255,d[r++]=g>>>16&255,d[r++]=g>>>8&255,d[r++]=255&g;const y=m/4294967296*1e4&268435455;d[r++]=y>>>8&255,d[r++]=255&y,d[r++]=y>>>24&15|16,d[r++]=y>>>16&255,d[r++]=p>>>8|128,d[r++]=255&p;for(let e=0;e<6;++e)d[r+e]=u[e];return t||(0,s.unsafeStringify)(d)};t.default=d},1697:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=s(n(2930)),o=s(n(216));function s(e){return e&&e.__esModule?e:{default:e}}var i=(0,r.default)("v3",48,o.default);t.default=i},2930:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.URL=t.DNS=void 0,t.default=function(e,t,n){function r(e,r,i,a){var c;if("string"==typeof e&&(e=function(e){e=unescape(encodeURIComponent(e));const t=[];for(let n=0;n<e.length;++n)t.push(e.charCodeAt(n));return t}(e)),"string"==typeof r&&(r=(0,s.default)(r)),16!==(null===(c=r)||void 0===c?void 0:c.length))throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");let l=new Uint8Array(16+e.length);if(l.set(r),l.set(e,r.length),l=n(l),l[6]=15&l[6]|t,l[8]=63&l[8]|128,i){a=a||0;for(let e=0;e<16;++e)i[a+e]=l[e];return i}return(0,o.unsafeStringify)(l)}try{r.name=e}catch(e){}return r.DNS=i,r.URL=a,r};var r,o=n(7597),s=(r=n(7267))&&r.__esModule?r:{default:r};const i="6ba7b810-9dad-11d1-80b4-00c04fd430c8";t.DNS=i;const a="6ba7b811-9dad-11d1-80b4-00c04fd430c8";t.URL=a},4676:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(n(4221)),o=i(n(2973)),s=n(7597);function i(e){return e&&e.__esModule?e:{default:e}}var a=function(e,t,n){if(r.default.randomUUID&&!t&&!e)return r.default.randomUUID();const i=(e=e||{}).random||(e.rng||o.default)();if(i[6]=15&i[6]|64,i[8]=63&i[8]|128,t){n=n||0;for(let e=0;e<16;++e)t[n+e]=i[e];return t}return(0,s.unsafeStringify)(i)};t.default=a},9771:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=s(n(2930)),o=s(n(507));function s(e){return e&&e.__esModule?e:{default:e}}var i=(0,r.default)("v5",80,o.default);t.default=i},6200:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,o=(r=n(7879))&&r.__esModule?r:{default:r};var s=function(e){return"string"==typeof e&&o.default.test(e)};t.default=s},5868:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,o=(r=n(6200))&&r.__esModule?r:{default:r};var s=function(e){if(!(0,o.default)(e))throw TypeError("Invalid UUID");return parseInt(e.slice(14,15),16)};t.default=s},8206:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(t,n);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,o)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return o(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.ContextManager=void 0;const i=s(n(1943)),a=s(n(6928)),c=s(n(7484));t.ContextManager=class{contextPath=".llm/service_context.md";contextJsonPath=".llm/context.json";async loadContext(){c.info("Loading context...");try{let e;c.info(`Reading markdown context from: ${this.contextPath}`);try{e=await i.readFile(this.contextPath,"utf-8")}catch{c.info("Markdown context not found, creating minimal context...");const t=this.getMinimalServiceContextMarkdown();await i.mkdir(a.dirname(this.contextPath),{recursive:!0}),await i.writeFile(this.contextPath,t),e=t}c.info("Markdown context read successfully.");let t={};try{c.info(`Reading JSON context from: ${this.contextJsonPath}`);const e=await i.readFile(this.contextJsonPath,"utf-8");t=JSON.parse(e),c.info("JSON context loaded and parsed.")}catch{c.info("JSON context not found, initializing new context."),t={jobIterations:0,history:[],status:"active"}}c.info("Parsing markdown content...");const n=this.parseMarkdown(e);c.info("Markdown content parsed.");const r={...n,...t,jobIterations:t.jobIterations||0,history:t.history||[],status:t.status||"active"};return c.info(`Context loaded successfully: ${JSON.stringify(r,null,2)}`),r}catch(e){throw c.error(`Failed to load context: ${e}`),e}}async updateContext(e){c.info("Updating context...");try{await i.writeFile(this.contextJsonPath,JSON.stringify(e,null,2)),c.info(`Context updated successfully at: ${this.contextJsonPath}`)}catch(e){throw c.error(`Failed to update context: ${e}`),e}}async appendFindings(e){c.info("Appending findings...");try{const t=await this.loadContext();t.history.push({timestamp:(new Date).toISOString(),findings:e,actions:[]}),t.history.length>20&&(c.info("History exceeds 20 entries, trimming..."),t.history=t.history.slice(-20)),await this.updateContext(t),c.info("Findings appended successfully.")}catch(e){throw c.error(`Failed to append findings: ${e}`),e}}parseMarkdown(e){c.info("Parsing markdown...");const t={},n=e.split("\n");let r="",o=[];for(const e of n)e.startsWith("# ")?(r&&o.length>0&&(t[r]=o.join("\n").trim()),r=e.substring(2).toLowerCase().replace(/\s+/g,"_"),o=[]):o.push(e);r&&o.length>0&&(t[r]=o.join("\n").trim());const s={goal:t.goal||"",platformDescription:t.platform_description||"",workflowDescription:t.workflow_description||"",focusAreas:(t.focus_areas||"").split("\n").filter(Boolean)};return c.info(`Markdown parsed: ${JSON.stringify(s,null,2)}`),s}getMinimalServiceContextMarkdown(){return"# Goal\nPass all local unit tests and ensure a successful deployment. Investigate failures by selectively gathering logs, test results, and AWS status. Propose minimal, safe code edits and verify with tests. Decide to continue debugging, redeploy, or complete.\n\n# Platform Description\nLeast-privilege AWS OIDC role available in this job. The agent runs in GitHub Actions with sandboxed shell access and limited write permissions to this repository.\n\n# Workflow Description\n- Build/Test/Deploy runs first\n- Agent runs on failure or on manual dispatch\n- Agent loops with a strict iteration cap, edits code, runs tests, and may push commits to iterate\n\n# Focus Areas\nsrc/\ntests/\npackage.json\n.github/workflows/\n"}}},9248:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(t,n);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,o)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return o(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.GitManager=void 0;const i=s(n(5236)),a=s(n(7484));t.GitManager=class{async hasChanges(){a.info("Checking for git changes...");const e=(await i.getExecOutput("git",["status","--porcelain"],{silent:!0})).stdout.trim().length>0;return a.info(e?"Git changes detected.":"No git changes."),e}async commitAndPush(e){a.info(`Attempting to commit and push with message: "${e}"`);try{a.info("Configuring git user..."),await i.exec("git",["config","user.name","LLM Agent"]),await i.exec("git",["config","user.email","llm-agent@github-actions"]),a.info("Git user configured."),a.info("Adding all changes..."),await i.exec("git",["add","-A"]),a.info("Changes added."),a.info("Committing changes..."),await i.exec("git",["commit","-m",e]),a.info("Changes committed."),a.info("Pushing changes..."),await i.exec("git",["push"]),a.info(`Committed and pushed successfully: ${e}`)}catch(e){throw a.error(`Git operations failed: ${e}`),e}}}},9407:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(t,n);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,o)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return o(t,e),t};Object.defineProperty(t,"__esModule",{value:!0});const i=s(n(7484)),a=n(8206),c=n(1732),l=n(9248),d=n(1908),u=n(8522);async function p(e,t){i.info("Preparing minimal context...");const n={goal:e.goal,currentIteration:t,jobIterations:e.jobIterations,lastAction:e.lastAction,recentFindings:e.history?.slice(-3)||[],focusAreas:e.focusAreas,timestamp:(new Date).toISOString(),availableInformation:{buildLogs:"Available - use get_build_logs action",testResults:"Available - use get_test_results action",deploymentStatus:"Available - use check_aws action",sourceCode:"Available - use read_file or list_files actions",previousStepsLogs:"Available - use get_workflow_logs action"},instructions:"Start by investigating the most likely sources of issues. Request specific information only as needed through actions."};return i.info("Minimal context prepared - LLM will request specific information as needed."),n}function m(e){return e.some(e=>(0,u.isInformationGatheringAction)(e))}async function h(e,t,n){i.info(`Executing action: ${e.type}`);let r=null;switch(e.type){case"modify_code":if(!e.file)throw new Error("modify_code requires file");i.info(`Modifying code in file: ${e.file}`),await t.modifyCode(e.file,e.changes??"");break;case"create_file":if(!e.file)throw new Error("create_file requires file");i.info(`Creating file: ${e.file}`),await t.createFile(e.file,e.content??"");break;case"read_file":if(!e.file)throw new Error("read_file requires file");i.info(`Reading file: ${e.file}`),r=await t.readFile(e.file),i.info(`File read result: ${JSON.stringify(r,null,2)}`);break;case"run_test":i.info(`Running test: ${e.testCommand||e.script||"test"}`),r=await t.runTest(e.testCommand||e),i.info(`Test result: ${r.summary}`);break;case"run_command":if(!e.command)throw new Error("run_command requires command");i.info(`Running command: ${e.command}`),r=await t.runCommand(e.command,e.args,e.options),i.info(`Command result: ${r.success?"SUCCESS":"FAILED"} (${r.duration}ms)`),r.stdout&&i.info(`STDOUT: ${r.stdout}`),r.stderr&&i.warning(`STDERR: ${r.stderr}`);break;case"get_build_logs":i.info("Getting build logs..."),r=await t.getPreviousStepsLogs();break;case"get_test_results":i.info("Getting test results..."),r=await t.getTestResults();break;case"get_workflow_logs":i.info("Getting workflow logs..."),r=await t.getPreviousStepsLogs();break;case"check_deployment_status":i.info("Checking deployment status..."),r=await t.checkAWSDeployment();break;case"check_aws":i.info(`Checking AWS resource: ${e.resource}`),r=await t.checkAWSResource(e.resource??"");break;case"update_config":if(!e.configFile)throw new Error("update_config requires configFile");i.info(`Updating config file: ${e.configFile}`),await t.updateConfig(e.configFile,e.updates??{});break;case"list_files":i.info(`Listing files in directory: ${e.directory||"."}`),r=await t.listFiles(e.directory??"."),i.info(`Found ${r.totalFiles} files and ${r.totalDirectories} directories`);break;case"search_files":if(!e.pattern)throw new Error("search_files requires pattern");i.info(`Searching for pattern: ${e.pattern}`),r=await t.searchInFiles(e.pattern,e.directory??".",e.fileExtensions??[]),i.info(`Search found ${r.totalMatches} matches`);break;case"check_build":i.info("Checking build output..."),r=await t.checkBuildOutput(),i.info("Build check: "+(r.hasBuiltFiles?"Build artifacts found":"No build artifacts"));break;case"lint_code":i.info("Linting code..."),r=await t.runCommand(e.linter||"npm",e.lintArgs||["run","lint"],e.options),i.info("Lint result: "+(r.success?"PASSED":"FAILED"));break;case"build_project":i.info("Building project..."),r=await t.runCommand(e.buildCommand||"npm",e.buildArgs||["run","build"],e.options),i.info(`Build result: ${r.success?"SUCCESS":"FAILED"} (${r.duration}ms)`);break;default:i.warning(`Unknown action type: ${e.type}`),e.command&&(i.info(`Attempting to execute as command: ${e.command}`),r=await t.runCommand(e.command,e.args,e.options))}return i.info(`Finished executing action: ${e.type}`),null!==r?{action:e.type,success:!0,...r}:null}!async function(){try{i.info("Starting AI Agent Dev workflow.");const e=i.getInput("llm-provider");i.info(`LLM Provider: ${e}`);const t=parseInt(i.getInput("max-iterations"));i.info(`Max Iterations: ${t}`);const n=parseInt(i.getInput("max-job-iterations"));i.info(`Max Job Iterations: ${n}`);const r=new a.ContextManager,o=new c.ToolExecutor,s=new l.GitManager,u={provider:e,apiKey:i.getInput(`${e}-api-key`),awsRegion:i.getInput("aws-region")||void 0,bedrockModelId:i.getInput("bedrock-model-id")||void 0},f=new d.LLMAgent(u);i.info("Loading context...");const g=await r.loadContext();if(i.info(`Context loaded: ${JSON.stringify(g,null,2)}`),g.jobIterations>=n)return i.info("Maximum job iterations reached. Exiting."),void await r.updateContext({...g,status:"max_iterations_reached"});let y=0,v=!0,b="continue";for(;v&&y<t;){y++,i.info(`Starting iteration ${y}/${t}`),i.info("Preparing minimal context for LLM...");const e=await p(g,y);i.info(`Minimal context prepared: ${JSON.stringify(e,null,2)}`),i.info("Analyzing with LLM (will request specific information as needed)...");const n=await f.analyze(e);i.info(`LLM response: ${JSON.stringify(n,null,2)}`),i.info("Executing suggested actions...");const a=[];for(const e of n.actions){const t=await h(e,o,s);t&&a.push(t)}if(i.info("Finished executing actions."),a.length>0&&m(n.actions)){i.info("Information was gathered - letting LLM analyze results...");const t={...e,gatheredInformation:a,instructions:"Based on the gathered information above, proceed with your analysis and next actions."},n=await f.analyze(t);i.info(`Follow-up LLM response: ${JSON.stringify(n,null,2)}`);for(const e of n.actions)await h(e,o,s);b=n.nextAction}else b=n.nextAction;i.info("Appending findings to context..."),await r.appendFindings(n.findings),i.info("Findings appended."),i.info(`Next action determined by LLM: ${b}`),"continue"===b?i.info("Continuing local debugging..."):"redeploy"===b?(i.info("Local tests passed. Triggering redeploy..."),v=!1):"complete"===b&&(i.info("Goal achieved! Completing workflow."),v=!1)}i.info("Updating context for next run..."),await r.updateContext({...g,jobIterations:g.jobIterations+1,lastAction:b,lastRun:(new Date).toISOString()}),i.info("Context updated."),i.info("Checking for changes..."),await s.hasChanges()?(i.info("Changes detected. Committing and pushing..."),await s.commitAndPush(`[LLM Agent] Iteration ${g.jobIterations+1}: ${b}`),i.info("Commit and push successful."),"redeploy"===b&&(i.info("Setting output to trigger redeploy."),i.setOutput("trigger_redeploy","true"))):i.info("No changes detected."),i.info("Setting outputs..."),i.setOutput("next_action",b),i.setOutput("iterations_used",y.toString()),i.info("Workflow finished successfully.")}catch(e){i.setFailed(`Action failed: ${e}`)}}()},1908:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(t,n);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,o)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return o(t,e),t},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.LLMAgent=void 0;const a=i(n(2583)),c=n(7656),l=i(n(121)),d=n(7462),u=s(n(7484));t.LLMAgent=class{client;provider;bedrockModelId;constructor(e){switch(this.provider=e.provider,u.info(`Initializing LLM provider: ${this.provider}`),e.provider){case"openai":this.client=new a.default({apiKey:e.apiKey}),u.info("OpenAI client initialized.");break;case"gemini":this.client=new c.GoogleGenerativeAI(e.apiKey),u.info("Gemini client initialized.");break;case"claude":this.client=new l.default({apiKey:e.apiKey}),u.info("Claude client initialized.");break;case"bedrock":this.client=new d.BedrockRuntimeClient({region:e.awsRegion||"us-east-1"}),this.bedrockModelId=e.bedrockModelId||"anthropic.claude-3-5-sonnet-20241022-v2:0",u.info(`Bedrock client initialized with model: ${this.bedrockModelId}`);break;default:throw u.error(`Unknown LLM provider: ${e.provider}`),new Error(`Unknown provider: ${e.provider}`)}}async analyze(e){u.info("Building prompt for LLM...");const t=this.buildPrompt(e);let n;switch(u.info(`Prompt built: ${t}`),u.info(`Calling LLM provider: ${this.provider}`),this.provider){case"openai":n=await this.callOpenAI(t);break;case"gemini":n=await this.callGemini(t);break;case"claude":n=await this.callClaude(t);break;case"bedrock":n=await this.callBedrock(t);break;default:throw u.error(`Unknown provider: ${this.provider}`),new Error(`Unknown provider: ${this.provider}`)}u.info(`LLM response received: ${n}`),u.info("Parsing LLM response...");const r=this.parseResponse(n);return u.info(`LLM response parsed: ${JSON.stringify(r,null,2)}`),r}buildPrompt(e){return`\nYou are an AI debugging agent running in a GitHub Actions workflow. Your goal is to intelligently investigate and debug issues by selectively gathering only the information you need.\n\nCURRENT CONTEXT:\n${JSON.stringify(e,null,2)}\n\nINTELLIGENT DEBUGGING APPROACH:\n1. Start with the minimal context provided above\n2. Based on the goal and recent findings, form hypotheses about likely issues\n3. Request ONLY the specific information you need to test your hypotheses\n4. Make targeted changes based on your findings\n5. Verify fixes by running appropriate tests\n\nAVAILABLE TOOLS AND ACTIONS:\nYou can perform the following actions to debug and fix issues:\n\nFILE OPERATIONS:\n- modify_code: Edit existing files with sophisticated operations\n  {\n    "type": "modify_code",\n    "file": "path/to/file",\n    "changes": {\n      "type": "search_replace|line_edit|append|prepend",\n      "search": "text to find",\n      "replace": "replacement text",\n      "line": 42,\n      "operation": "insert|replace|delete",\n      "content": "new content"\n    }\n  }\n- create_file: Create new files\n  { "type": "create_file", "file": "path/to/new/file", "content": "file content" }\n- read_file: Read and examine files\n  { "type": "read_file", "file": "path/to/file" }\n\nINFORMATION GATHERING (Use these to investigate selectively):\n- get_test_results: Get current test results and failure details\n  { "type": "get_test_results" }\n- get_build_logs: Get build logs and error messages\n  { "type": "get_build_logs" }\n- get_workflow_logs: Get previous workflow step logs\n  { "type": "get_workflow_logs" }\n- check_deployment_status: Check current deployment status\n  { "type": "check_deployment_status" }\n\nTESTING AND BUILDING:\n- run_test: Execute tests with detailed results\n  { "type": "run_test", "testCommand": "test", "script": "unit", "args": ["--verbose"] }\n- build_project: Build the project\n  { "type": "build_project", "buildCommand": "npm", "buildArgs": ["run", "build"] }\n- lint_code: Run linting to check code quality\n  { "type": "lint_code", "linter": "npm", "lintArgs": ["run", "lint"] }\n- run_command: Execute arbitrary commands\n  { "type": "run_command", "command": "npm", "args": ["install"], "options": {} }\n\nPROJECT EXPLORATION:\n- list_files: List files in directories\n  { "type": "list_files", "directory": "src" }\n- search_files: Search for patterns in code\n  { "type": "search_files", "pattern": "function.*Error", "directory": ".", "fileExtensions": ["ts", "js"] }\n- check_build: Check build artifacts and output\n  { "type": "check_build" }\n\nAWS AND DEPLOYMENT:\n- check_aws: Check AWS resources and deployment status\n  { "type": "check_aws", "resource": "lambda|s3|cloudwatch" }\n\nCONFIGURATION:\n- update_config: Update configuration files\n  { "type": "update_config", "configFile": "package.json", "updates": {"version": "1.0.1"} }\n\nINTELLIGENT DEBUGGING WORKFLOW:\n1. ANALYZE the current context and recent findings to form hypotheses\n2. SELECTIVELY REQUEST information to test your hypotheses:\n   - If you suspect test failures → get_test_results\n   - If you suspect build issues → get_build_logs  \n   - If you suspect deployment problems → check_deployment_status\n   - If you need to examine specific files → read_file\n3. INVESTIGATE SMARTLY - don't request all information at once\n4. Make TARGETED changes based on your findings (modify_code)\n5. VERIFY your fixes by running appropriate tests (run_test)\n6. BUILD and deploy only when local fixes are verified (build_project)\n\nEFFICIENCY PRINCIPLE: Request only the information you actually need for your current hypothesis. Don't load everything - be selective and intelligent!\n\nBased on the analysis:\n1. Identify any issues or problems\n2. Use appropriate tools to investigate and fix them\n3. Determine the next step: continue (more local debugging), redeploy (trigger full workflow), or complete (goal achieved)\n\nRespond in JSON format:\n{\n  "actions": [\n    {\n      "type": "action_type_from_above",\n      "file": "path/to/file",\n      "changes": "changes_object_or_content",\n      ...additional_parameters_based_on_action_type\n    }\n  ],\n  "findings": "Detailed summary of what was found, investigated, and fixed",\n  "nextAction": "continue|redeploy|complete",\n  "reasoning": "Detailed explanation of your analysis, decisions, and why you chose these specific actions"\n}\n\nCRITICAL EFFICIENCY RULES:\n1. START with hypotheses based on the provided context - don't request information randomly\n2. REQUEST information SELECTIVELY - only what you need to test your current hypothesis  \n3. INVESTIGATE one issue at a time - avoid information overload\n4. MAKE targeted changes based on specific findings, not guesswork\n5. VERIFY fixes immediately with appropriate tests\n\nBE SMART, NOT EXHAUSTIVE: A good developer doesn't read every file and log - they investigate intelligently based on symptoms and clues.\n`}async callOpenAI(e){u.info("Calling OpenAI API...");const t=await this.client.chat.completions.create({model:"gpt-4-turbo-preview",messages:[{role:"system",content:e}],response_format:{type:"json_object"}}),n=t.choices?.[0]?.message?.content||"{}";return u.info("OpenAI API call successful."),n}async callGemini(e){u.info("Calling Gemini API...");const t=this.client.getGenerativeModel({model:"gemini-pro"}),n=(await t.generateContent(e)).response.text();return u.info("Gemini API call successful."),n}async callClaude(e){u.info("Calling Claude API...");const t=await this.client.messages.create({model:"claude-3-opus-20240229",max_tokens:4096,messages:[{role:"user",content:e}]}),n=t.content?.[0]?.text||"{}";return u.info("Claude API call successful."),n}async callBedrock(e){u.info("Calling Bedrock API...");const t={modelId:this.bedrockModelId,contentType:"application/json",accept:"application/json",body:JSON.stringify({anthropic_version:"bedrock-2023-05-31",max_tokens:4096,messages:[{role:"user",content:e}]})},n=new d.InvokeModelCommand(t),r=await this.client.send(n),o=JSON.parse((new TextDecoder).decode(r.body)),s=o.content?.[0]?.text||"{}";return u.info("Bedrock API call successful."),s}parseResponse(e){try{return JSON.parse(e)}catch(e){return u.error(`Failed to parse LLM response: ${e}`),{actions:[],findings:"Failed to parse LLM response",nextAction:"continue",reasoning:"Error in parsing"}}}}},1732:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(t,n);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,o)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return o(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.ToolExecutor=void 0;const i=s(n(5236)),a=s(n(1943)),c=s(n(6928)),l=s(n(7484)),d=n(1695),u=n(303);t.ToolExecutor=class{awsRegion;constructor(){this.awsRegion=process.env.AWS_REGION||"us-east-1",l.info(`ToolExecutor initialized with AWS region: ${this.awsRegion}`)}async getPreviousStepsLogs(){const e=process.env.GITHUB_STEP_SUMMARY||"";l.info(`Attempting to read previous step logs from: ${e}`);try{if(e){const t=await a.readFile(e,"utf-8");return l.info("Successfully read previous step logs."),t}}catch(e){l.warning(`Could not read step logs: ${e}`)}return l.info("No previous logs available."),"No previous logs available"}async getTestResults(){l.info("Searching for test result files...");const e=["test-results.json","coverage/coverage-summary.json","test-report.xml"];for(const t of e)try{l.info(`Checking for test result file at: ${t}`);const e=await a.readFile(t,"utf-8");return l.info(`Found and read test result file: ${t}`),{path:t,content:e}}catch{l.info(`Test result file not found at: ${t}`)}return l.info("No test results found."),{message:"No test results found"}}async checkAWSDeployment(){l.info("Checking AWS deployment status...");try{l.info("Verifying AWS credentials via STS...");const e=new d.STSClient({region:this.awsRegion}),t=await e.send(new d.GetCallerIdentityCommand({}));l.info(`AWS identity confirmed for account: ${t.Account}`),l.info("Checking CloudWatch logs...");const n=new u.CloudWatchLogsClient({region:this.awsRegion}),r=process.env.LOG_GROUP_NAME||"/aws/lambda/your-function";l.info(`Using log group: ${r}`);try{const e=await n.send(new u.GetLogEventsCommand({logGroupName:r,logStreamName:"latest",limit:50}));return l.info("Successfully fetched recent CloudWatch logs."),{accountId:t.Account,status:"connected",recentLogs:e.events?.map(e=>e.message)}}catch(e){return l.warning(`Could not fetch CloudWatch logs: ${e}`),{accountId:t.Account,status:"connected",error:`Could not fetch logs: ${e}`}}}catch(e){return l.error(`AWS connection failed: ${e}`),{status:"error",error:`AWS connection failed: ${e}`}}}async checkAWSResource(e){l.info(`Checking AWS resource: ${e}`);const t=await i.getExecOutput("aws",["s3","ls","--region",this.awsRegion],{silent:!0});return l.info(`AWS CLI output for resource check: ${t.stdout}`),{resource:e,output:t.stdout}}async getRelevantSourceCode(e){l.info(`Getting relevant source code from focus areas: ${e.join(", ")}`);const t={};for(const n of e)try{l.info(`Reading source code from: ${n}`);const e=await a.readFile(n,"utf-8");t[n]=e,l.info(`Successfully read source code from: ${n}`)}catch(e){l.error(`Error reading file ${n}: ${e}`),t[n]=`Error reading file: ${e}`}return t}async modifyCode(e,t){l.info(`Modifying code in file: ${e}`);try{const n=await a.readFile(e,"utf-8");let r;if(l.info(`Current content length: ${n.length}`),"string"==typeof t)l.info("Applying direct content replacement"),r=t;else if("search_replace"===t.type){if(!t.search||void 0===t.replace)throw new Error("search_replace requires both search and replace properties");l.info(`Applying search-replace: "${t.search}" -> "${t.replace}"`),r=n.replace(new RegExp(t.search,"g"),t.replace)}else if("line_edit"===t.type){if(void 0===t.line||!t.operation||void 0===t.content)throw new Error("line_edit requires line, operation, and content properties");{l.info(`Applying line edit at line ${t.line}: ${t.operation}`);const e=n.split("\n");switch(t.operation){case"insert":e.splice(t.line,0,t.content);break;case"replace":e[t.line]=t.content;break;case"delete":e.splice(t.line,1)}r=e.join("\n")}}else if("append"===t.type){if(void 0===t.content)throw new Error("append requires content property");l.info("Appending content to file"),r=n+"\n"+t.content}else if("prepend"===t.type){if(void 0===t.content)throw new Error("prepend requires content property");l.info("Prepending content to file"),r=t.content+"\n"+n}else{if(l.info("Treating changes as complete file content"),void 0===t.content)throw new Error("Unknown change type or missing content");r=t.content}const o=`${e}.backup.${Date.now()}`;await a.writeFile(o,n),l.info(`Backup created at: ${o}`),await a.writeFile(e,r),l.info(`Successfully modified file: ${e}`);if(0===(await a.readFile(e,"utf-8")).length&&r.length>0)throw l.error("File appears to be corrupted after write, restoring backup"),await a.writeFile(e,n),new Error("File write validation failed")}catch(t){throw l.error(`Failed to modify file ${e}: ${t}`),t}}async runTest(e){let t,n=[],r={silent:!0};"string"==typeof e?(t="npm",n=["run",e]):(t=e.command||"npm",n=e.args||["run",e.script||"test"],r={silent:!1!==e.silent,cwd:e.workingDirectory,...e.options}),l.info(`Running test command: ${t} ${n.join(" ")}`);const o=Date.now();try{const e=await i.getExecOutput(t,n,r),s=Date.now()-o;l.info(`Test command finished with exit code: ${e.exitCode} (${s}ms)`);const a=this.parseTestOutput(e.stdout,e.stderr);return{success:0===e.exitCode,exitCode:e.exitCode,stdout:e.stdout,stderr:e.stderr,duration:s,command:`${t} ${n.join(" ")}`,testResults:a,summary:this.summarizeTestResults(a,0===e.exitCode)}}catch(e){const r=Date.now()-o;return l.error(`Test command failed: ${e}`),{success:!1,exitCode:-1,stdout:"",stderr:String(e),duration:r,command:`${t} ${n.join(" ")}`,error:String(e),summary:`Test execution failed: ${String(e)}`}}}parseTestOutput(e,t){const n={passed:0,failed:0,skipped:0,total:0,failures:[]},r=e.match(/Tests:\s+(\d+)\s+failed,\s+(\d+)\s+passed,\s+(\d+)\s+total/);r&&(n.failed=parseInt(r[1]),n.passed=parseInt(r[2]),n.total=parseInt(r[3]));const o=e.match(/(\d+)\s+passing.*?(\d+)\s+failing/);o&&(n.passed=parseInt(o[1]),n.failed=parseInt(o[2]),n.total=n.passed+n.failed);const s=/FAIL\s+(.+?)(?=\n\s*PASS|\n\s*FAIL|\n\s*Test Suites:|$)/gs;let i;for(;null!==(i=s.exec(e));)n.failures.push({file:i[1].split("\n")[0].trim(),details:i[1]});return n}summarizeTestResults(e,t){if(t)return`✅ All tests passed! (${e.passed||"Unknown"} tests)`;{const t=`❌ ${e.failed||0} test(s) failed, ${e.passed||0} passed`;return e.failures.length>0?t+`\n\nFailed tests:\n${e.failures.map(e=>`- ${e.file}`).join("\n")}`:t}}async updateConfig(e,t){l.info(`Updating config file: ${e}`);const n=await a.readFile(e,"utf-8");let r;try{r=JSON.parse(n),l.info("Config file is JSON, parsed successfully.")}catch{l.info("Config file is not JSON, treating as plain text."),r=n}"object"==typeof r&&null!==r?(Object.assign(r,t),await a.writeFile(e,JSON.stringify(r,null,2)),l.info("Successfully updated JSON config file.")):(await a.writeFile(e,JSON.stringify(t,null,2)),l.info("Successfully updated plain text config file.")),l.info(`Finished updating config: ${e}`)}async readFile(e){l.info(`Reading file: ${e}`);try{const t=await a.readFile(e,"utf-8"),n=await a.stat(e);return{path:e,content:t,size:n.size,lastModified:n.mtime.toISOString(),lines:t.split("\n").length}}catch(t){return l.error(`Error reading file ${e}: ${t}`),{path:e,error:String(t)}}}async createFile(e,t){l.info(`Creating file: ${e}`);try{const n=c.dirname(e);await a.mkdir(n,{recursive:!0}),await a.writeFile(e,t),l.info(`Successfully created file: ${e}`)}catch(t){throw l.error(`Error creating file ${e}: ${t}`),t}}async listFiles(e="."){l.info(`Listing files in directory: ${e}`);try{const t=await a.readdir(e,{withFileTypes:!0}),n=[],r=[];for(const o of t)if(o.isFile()){const t=c.join(e,o.name),r=await a.stat(t);n.push({name:o.name,path:t,size:r.size,lastModified:r.mtime.toISOString()})}else o.isDirectory()&&r.push({name:o.name,path:c.join(e,o.name)});return{directory:e,files:n,directories:r,totalFiles:n.length,totalDirectories:r.length}}catch(t){return l.error(`Error listing directory ${e}: ${t}`),{directory:e,files:[],directories:[],totalFiles:0,totalDirectories:0,error:String(t)}}}async runCommand(e,t=[],n={}){l.info(`Running command: ${e} ${t.join(" ")}`);const r=Date.now();try{const o=await i.getExecOutput(e,t,{silent:!1!==n.silent,cwd:n.workingDirectory,...n}),s=Date.now()-r;return l.info(`Command finished with exit code: ${o.exitCode} (${s}ms)`),{success:0===o.exitCode,exitCode:o.exitCode,stdout:o.stdout,stderr:o.stderr,duration:s,command:`${e} ${t.join(" ")}`}}catch(n){const o=Date.now()-r;return l.error(`Command failed: ${n}`),{success:!1,exitCode:-1,stdout:"",stderr:String(n),error:String(n),duration:o,command:`${e} ${t.join(" ")}`}}}async searchInFiles(e,t=".",n=[]){l.info(`Searching for pattern "${e}" in ${t}`);const r=[];try{const o=["-r","-n",e,t];n.length>0&&o.push("--include",`*.{${n.join(",")}}`);const s=await i.getExecOutput("grep",o,{silent:!0});if(0===s.exitCode){const e=s.stdout.split("\n").filter(e=>e.trim());for(const t of e){const e=t.match(/^([^:]+):(\d+):(.+)$/);e&&r.push({file:e[1],line:parseInt(e[2]),content:e[3].trim()})}}return{pattern:e,directory:t,results:r,totalMatches:r.length}}catch(r){return l.warning(`Grep not available, falling back to manual search: ${r}`),await this.manualSearchInFiles(e,t,n)}}async manualSearchInFiles(e,t,n){const r=[],o=new RegExp(e,"gi"),s=async e=>{const t=await a.readdir(e,{withFileTypes:!0});for(const i of t){const t=c.join(e,i.name);if(i.isDirectory())i.name.startsWith(".")||["node_modules","dist","build"].includes(i.name)||await s(t);else if(i.isFile()){const e=c.extname(i.name).substring(1);if(0===n.length||n.includes(e))try{const e=await a.readFile(t,"utf-8");e.split("\n").forEach((e,n)=>{o.test(e)&&r.push({file:t,line:n+1,content:e.trim()})})}catch(e){}}}};return await s(t),{pattern:e,directory:t,results:r,totalMatches:r.length}}async checkBuildOutput(){l.info("Checking build output and artifacts...");const e=["dist","build","lib","out"],t={buildDirectories:[],hasBuiltFiles:!1,buildSize:0};for(const n of e)try{if((await a.stat(n)).isDirectory()){const e=await this.listFiles(n);t.buildDirectories.push({path:n,...e}),t.hasBuiltFiles=!0,e.files&&(t.buildSize+=e.files.reduce((e,t)=>e+(t.size||0),0))}}catch(e){}return t}}},8522:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isInformationGatheringAction=void 0,t.isInformationGatheringAction=function(e){return["get_test_results","get_build_logs","get_workflow_logs","check_deployment_status","check_aws","read_file","list_files","search_files"].includes(e.type)}},2613:e=>{"use strict";e.exports=require("assert")},181:e=>{"use strict";e.exports=require("buffer")},5317:e=>{"use strict";e.exports=require("child_process")},6982:e=>{"use strict";e.exports=require("crypto")},4434:e=>{"use strict";e.exports=require("events")},9896:e=>{"use strict";e.exports=require("fs")},1943:e=>{"use strict";e.exports=require("fs/promises")},8611:e=>{"use strict";e.exports=require("http")},5675:e=>{"use strict";e.exports=require("http2")},5692:e=>{"use strict";e.exports=require("https")},9278:e=>{"use strict";e.exports=require("net")},7075:e=>{"use strict";e.exports=require("node:stream")},857:e=>{"use strict";e.exports=require("os")},6928:e=>{"use strict";e.exports=require("path")},932:e=>{"use strict";e.exports=require("process")},2203:e=>{"use strict";e.exports=require("stream")},3193:e=>{"use strict";e.exports=require("string_decoder")},3557:e=>{"use strict";e.exports=require("timers")},4756:e=>{"use strict";e.exports=require("tls")},7016:e=>{"use strict";e.exports=require("url")},9023:e=>{"use strict";e.exports=require("util")},6757:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.partialParse=void 0;const n=e=>{if(0===e.length)return e;let t=e[e.length-1];switch(t.type){case"separator":return e=e.slice(0,e.length-1),n(e);case"number":let r=t.value[t.value.length-1];if("."===r||"-"===r)return e=e.slice(0,e.length-1),n(e);case"string":let o=e[e.length-2];if("delimiter"===o?.type)return e=e.slice(0,e.length-1),n(e);if("brace"===o?.type&&"{"===o.value)return e=e.slice(0,e.length-1),n(e);break;case"delimiter":return e=e.slice(0,e.length-1),n(e)}return e};t.partialParse=e=>JSON.parse((e=>{let t="";return e.map(e=>{"string"===e.type?t+='"'+e.value+'"':t+=e.value}),t})((e=>{let t=[];return e.map(e=>{"brace"===e.type&&("{"===e.value?t.push("}"):t.splice(t.lastIndexOf("}"),1)),"paren"===e.type&&("["===e.value?t.push("]"):t.splice(t.lastIndexOf("]"),1))}),t.length>0&&t.reverse().map(t=>{"}"===t?e.push({type:"brace",value:"}"}):"]"===t&&e.push({type:"paren",value:"]"})}),e})(n((e=>{let t=0,n=[];for(;t<e.length;){let r=e[t];if("\\"===r){t++;continue}if("{"===r){n.push({type:"brace",value:"{"}),t++;continue}if("}"===r){n.push({type:"brace",value:"}"}),t++;continue}if("["===r){n.push({type:"paren",value:"["}),t++;continue}if("]"===r){n.push({type:"paren",value:"]"}),t++;continue}if(":"===r){n.push({type:"separator",value:":"}),t++;continue}if(","===r){n.push({type:"delimiter",value:","}),t++;continue}if('"'===r){let o="",s=!1;for(r=e[++t];'"'!==r;){if(t===e.length){s=!0;break}if("\\"===r){if(t++,t===e.length){s=!0;break}o+=r+e[t],r=e[++t]}else o+=r,r=e[++t]}r=e[++t],s||n.push({type:"string",value:o});continue}if(r&&/\s/.test(r)){t++;continue}let o=/[0-9]/;if(r&&o.test(r)||"-"===r||"."===r){let s="";for("-"===r&&(s+=r,r=e[++t]);r&&o.test(r)||"."===r;)s+=r,r=e[++t];n.push({type:"number",value:s});continue}let s=/[a-z]/i;if(r&&s.test(r)){let o="";for(;r&&s.test(r)&&t!==e.length;)o+=r,r=e[++t];if("true"!=o&&"false"!=o&&"null"!==o){t++;continue}n.push({type:"name",value:o});continue}t++}return n})(e)))))},9026:(e,t,n)=>{"use strict";var r,o,s,i;Object.defineProperty(t,"__esModule",{value:!0}),t.AI_PROMPT=t.HUMAN_PROMPT=t.Anthropic=t.BaseAnthropic=void 0;const a=n(5219),c=n(4458),l=n(9171),d=n(8994),u=n(6604),p=n(9558),m=a.__importStar(n(1689)),h=a.__importStar(n(8429)),f=n(953),g=a.__importStar(n(5063)),y=a.__importStar(n(2065)),v=a.__importStar(n(4703)),b=a.__importStar(n(2039)),S=n(8597),_=n(3880),w=n(9665),E=n(834),P=n(2982),C=n(9558),O=n(2709),A=n(6482),x=n(5296),I=n(9171);class R{constructor({baseURL:e=(0,A.readEnv)("ANTHROPIC_BASE_URL"),apiKey:t=(0,A.readEnv)("ANTHROPIC_API_KEY")??null,authToken:n=(0,A.readEnv)("ANTHROPIC_AUTH_TOKEN")??null,...i}={}){r.add(this),s.set(this,void 0);const c={apiKey:t,authToken:n,...i,baseURL:e||"https://api.anthropic.com"};if(!c.dangerouslyAllowBrowser&&(0,C.isRunningInBrowser)())throw new g.AnthropicError("It looks like you're running in a browser-like environment.\n\nThis is disabled by default, as it risks exposing your secret API credentials to attackers.\nIf you understand the risks and have appropriate mitigations in place,\nyou can set the `dangerouslyAllowBrowser` option to `true`, e.g.,\n\nnew Anthropic({ apiKey, dangerouslyAllowBrowser: true });\n");this.baseURL=c.baseURL,this.timeout=c.timeout??o.DEFAULT_TIMEOUT,this.logger=c.logger??console;const l="warn";this.logLevel=l,this.logLevel=(0,x.parseLogLevel)(c.logLevel,"ClientOptions.logLevel",this)??(0,x.parseLogLevel)((0,A.readEnv)("ANTHROPIC_LOG"),"process.env['ANTHROPIC_LOG']",this)??l,this.fetchOptions=c.fetchOptions,this.maxRetries=c.maxRetries??2,this.fetch=c.fetch??m.getDefaultFetch(),a.__classPrivateFieldSet(this,s,h.FallbackEncoder,"f"),this._options=c,this.apiKey=t,this.authToken=n}withOptions(e){return new this.constructor({...this._options,baseURL:this.baseURL,maxRetries:this.maxRetries,timeout:this.timeout,logger:this.logger,logLevel:this.logLevel,fetch:this.fetch,fetchOptions:this.fetchOptions,apiKey:this.apiKey,authToken:this.authToken,...e})}defaultQuery(){return this._options.defaultQuery}validateHeaders({values:e,nulls:t}){if(!(this.apiKey&&e.get("x-api-key")||t.has("x-api-key")||this.authToken&&e.get("authorization")||t.has("authorization")))throw new Error('Could not resolve authentication method. Expected either apiKey or authToken to be set. Or for one of the "X-Api-Key" or "Authorization" headers to be explicitly omitted')}async authHeaders(e){return(0,O.buildHeaders)([await this.apiKeyAuth(e),await this.bearerAuth(e)])}async apiKeyAuth(e){if(null!=this.apiKey)return(0,O.buildHeaders)([{"X-Api-Key":this.apiKey}])}async bearerAuth(e){if(null!=this.authToken)return(0,O.buildHeaders)([{Authorization:`Bearer ${this.authToken}`}])}stringifyQuery(e){return Object.entries(e).filter(([e,t])=>void 0!==t).map(([e,t])=>{if("string"==typeof t||"number"==typeof t||"boolean"==typeof t)return`${encodeURIComponent(e)}=${encodeURIComponent(t)}`;if(null===t)return`${encodeURIComponent(e)}=`;throw new g.AnthropicError(`Cannot stringify type ${typeof t}; Expected string, number, boolean, or null. If you need to pass nested query parameters, you can manually encode them, e.g. { query: { 'foo[key1]': value1, 'foo[key2]': value2 } }, and please open a GitHub issue requesting better support for your use case.`)}).join("&")}getUserAgent(){return`${this.constructor.name}/JS ${f.VERSION}`}defaultIdempotencyKey(){return`stainless-node-retry-${(0,c.uuid4)()}`}makeStatusError(e,t,n,r){return g.APIError.generate(e,t,n,r)}buildURL(e,t,n){const o=!a.__classPrivateFieldGet(this,r,"m",i).call(this)&&n||this.baseURL,s=(0,l.isAbsoluteURL)(e)?new URL(e):new URL(o+(o.endsWith("/")&&e.startsWith("/")?e.slice(1):e)),c=this.defaultQuery();return(0,I.isEmptyObj)(c)||(t={...c,...t}),"object"==typeof t&&t&&!Array.isArray(t)&&(s.search=this.stringifyQuery(t)),s.toString()}_calculateNonstreamingTimeout(e){if(3600*e/128e3>600)throw new g.AnthropicError("Streaming is required for operations that may take longer than 10 minutes. See https://github.com/anthropics/anthropic-sdk-typescript#streaming-responses for more details");return 6e5}async prepareOptions(e){}async prepareRequest(e,{url:t,options:n}){}get(e,t){return this.methodRequest("get",e,t)}post(e,t){return this.methodRequest("post",e,t)}patch(e,t){return this.methodRequest("patch",e,t)}put(e,t){return this.methodRequest("put",e,t)}delete(e,t){return this.methodRequest("delete",e,t)}methodRequest(e,t,n){return this.request(Promise.resolve(n).then(n=>({method:e,path:t,...n})))}request(e,t=null){return new S.APIPromise(this,this.makeRequest(e,t,void 0))}async makeRequest(e,t,n){const r=await e,o=r.maxRetries??this.maxRetries;null==t&&(t=o),await this.prepareOptions(r);const{req:s,url:i,timeout:a}=await this.buildRequest(r,{retryCount:o-t});await this.prepareRequest(s,{url:i,options:r});const c="log_"+(Math.random()*(1<<24)|0).toString(16).padStart(6,"0"),d=void 0===n?"":`, retryOf: ${n}`,p=Date.now();if((0,x.loggerFor)(this).debug(`[${c}] sending request`,(0,x.formatRequestDetails)({retryOfRequestLogID:n,method:r.method,url:i,options:r,headers:s.headers})),r.signal?.aborted)throw new g.APIUserAbortError;const h=new AbortController,f=await this.fetchWithTimeout(i,s,a,h).catch(u.castToError),y=Date.now();if(f instanceof Error){const e=`retrying, ${t} attempts remaining`;if(r.signal?.aborted)throw new g.APIUserAbortError;const o=(0,u.isAbortError)(f)||/timed? ?out/i.test(String(f)+("cause"in f?String(f.cause):""));if(t)return(0,x.loggerFor)(this).info(`[${c}] connection ${o?"timed out":"failed"} - ${e}`),(0,x.loggerFor)(this).debug(`[${c}] connection ${o?"timed out":"failed"} (${e})`,(0,x.formatRequestDetails)({retryOfRequestLogID:n,url:i,durationMs:y-p,message:f.message})),this.retryRequest(r,t,n??c);if((0,x.loggerFor)(this).info(`[${c}] connection ${o?"timed out":"failed"} - error; no more retries left`),(0,x.loggerFor)(this).debug(`[${c}] connection ${o?"timed out":"failed"} (error; no more retries left)`,(0,x.formatRequestDetails)({retryOfRequestLogID:n,url:i,durationMs:y-p,message:f.message})),o)throw new g.APIConnectionTimeoutError;throw new g.APIConnectionError({cause:f})}const v=`[${c}${d}${[...f.headers.entries()].filter(([e])=>"request-id"===e).map(([e,t])=>", "+e+": "+JSON.stringify(t)).join("")}] ${s.method} ${i} ${f.ok?"succeeded":"failed"} with status ${f.status} in ${y-p}ms`;if(!f.ok){const e=await this.shouldRetry(f);if(t&&e){const e=`retrying, ${t} attempts remaining`;return await m.CancelReadableStream(f.body),(0,x.loggerFor)(this).info(`${v} - ${e}`),(0,x.loggerFor)(this).debug(`[${c}] response error (${e})`,(0,x.formatRequestDetails)({retryOfRequestLogID:n,url:f.url,status:f.status,headers:f.headers,durationMs:y-p})),this.retryRequest(r,t,n??c,f.headers)}const o=e?"error; no more retries left":"error; not retryable";(0,x.loggerFor)(this).info(`${v} - ${o}`);const s=await f.text().catch(e=>(0,u.castToError)(e).message),i=(0,l.safeJSON)(s),a=i?void 0:s;(0,x.loggerFor)(this).debug(`[${c}] response error (${o})`,(0,x.formatRequestDetails)({retryOfRequestLogID:n,url:f.url,status:f.status,headers:f.headers,message:a,durationMs:Date.now()-p}));throw this.makeStatusError(f.status,i,a,f.headers)}return(0,x.loggerFor)(this).info(v),(0,x.loggerFor)(this).debug(`[${c}] response start`,(0,x.formatRequestDetails)({retryOfRequestLogID:n,url:f.url,status:f.status,headers:f.headers,durationMs:y-p})),{response:f,options:r,controller:h,requestLogID:c,retryOfRequestLogID:n,startTime:p}}getAPIList(e,t,n){return this.requestAPIList(t,{method:"get",path:e,...n})}requestAPIList(e,t){const n=this.makeRequest(t,null,void 0);return new y.PagePromise(this,n,e)}async fetchWithTimeout(e,t,n,r){const{signal:o,method:s,...i}=t||{};o&&o.addEventListener("abort",()=>r.abort());const a=setTimeout(()=>r.abort(),n),c=globalThis.ReadableStream&&i.body instanceof globalThis.ReadableStream||"object"==typeof i.body&&null!==i.body&&Symbol.asyncIterator in i.body,l={signal:r.signal,...c?{duplex:"half"}:{},method:"GET",...i};s&&(l.method=s.toUpperCase());try{return await this.fetch.call(void 0,e,l)}finally{clearTimeout(a)}}async shouldRetry(e){const t=e.headers.get("x-should-retry");return"true"===t||"false"!==t&&(408===e.status||(409===e.status||(429===e.status||e.status>=500)))}async retryRequest(e,t,n,r){let o;const s=r?.get("retry-after-ms");if(s){const e=parseFloat(s);Number.isNaN(e)||(o=e)}const i=r?.get("retry-after");if(i&&!o){const e=parseFloat(i);o=Number.isNaN(e)?Date.parse(i)-Date.now():1e3*e}if(!(o&&0<=o&&o<6e4)){const n=e.maxRetries??this.maxRetries;o=this.calculateDefaultRetryTimeoutMillis(t,n)}return await(0,d.sleep)(o),this.makeRequest(e,t-1,n)}calculateDefaultRetryTimeoutMillis(e,t){const n=t-e;return Math.min(.5*Math.pow(2,n),8)*(1-.25*Math.random())*1e3}calculateNonstreamingTimeout(e,t){const n=6e5;if(36e5*e/128e3>n||null!=t&&e>t)throw new g.AnthropicError("Streaming is required for operations that may take longer than 10 minutes. See https://github.com/anthropics/anthropic-sdk-typescript#long-requests for more details");return n}async buildRequest(e,{retryCount:t=0}={}){const n={...e},{method:r,path:o,query:s,defaultBaseURL:i}=n,a=this.buildURL(o,s,i);"timeout"in n&&(0,l.validatePositiveInteger)("timeout",n.timeout),n.timeout=n.timeout??this.timeout;const{bodyHeaders:c,body:d}=this.buildBody({options:n});return{req:{method:r,headers:await this.buildHeaders({options:e,method:r,bodyHeaders:c,retryCount:t}),...n.signal&&{signal:n.signal},...globalThis.ReadableStream&&d instanceof globalThis.ReadableStream&&{duplex:"half"},...d&&{body:d},...this.fetchOptions??{},...n.fetchOptions??{}},url:a,timeout:n.timeout}}async buildHeaders({options:e,method:t,bodyHeaders:n,retryCount:r}){let o={};this.idempotencyHeader&&"get"!==t&&(e.idempotencyKey||(e.idempotencyKey=this.defaultIdempotencyKey()),o[this.idempotencyHeader]=e.idempotencyKey);const s=(0,O.buildHeaders)([o,{Accept:"application/json","User-Agent":this.getUserAgent(),"X-Stainless-Retry-Count":String(r),...e.timeout?{"X-Stainless-Timeout":String(Math.trunc(e.timeout/1e3))}:{},...(0,p.getPlatformHeaders)(),...this._options.dangerouslyAllowBrowser?{"anthropic-dangerous-direct-browser-access":"true"}:void 0,"anthropic-version":"2023-06-01"},await this.authHeaders(e),this._options.defaultHeaders,n,e.headers]);return this.validateHeaders(s),s.values}buildBody({options:{body:e,headers:t}}){if(!e)return{bodyHeaders:void 0,body:void 0};const n=(0,O.buildHeaders)([t]);return ArrayBuffer.isView(e)||e instanceof ArrayBuffer||e instanceof DataView||"string"==typeof e&&n.values.has("content-type")||e instanceof Blob||e instanceof FormData||e instanceof URLSearchParams||globalThis.ReadableStream&&e instanceof globalThis.ReadableStream?{bodyHeaders:void 0,body:e}:"object"==typeof e&&(Symbol.asyncIterator in e||Symbol.iterator in e&&"next"in e&&"function"==typeof e.next)?{bodyHeaders:void 0,body:m.ReadableStreamFrom(e)}:a.__classPrivateFieldGet(this,s,"f").call(this,{body:e,headers:n})}}t.BaseAnthropic=R,o=R,s=new WeakMap,r=new WeakSet,i=function(){return"https://api.anthropic.com"!==this.baseURL},R.Anthropic=o,R.HUMAN_PROMPT="\n\nHuman:",R.AI_PROMPT="\n\nAssistant:",R.DEFAULT_TIMEOUT=6e5,R.AnthropicError=g.AnthropicError,R.APIError=g.APIError,R.APIConnectionError=g.APIConnectionError,R.APIConnectionTimeoutError=g.APIConnectionTimeoutError,R.APIUserAbortError=g.APIUserAbortError,R.NotFoundError=g.NotFoundError,R.ConflictError=g.ConflictError,R.RateLimitError=g.RateLimitError,R.BadRequestError=g.BadRequestError,R.AuthenticationError=g.AuthenticationError,R.InternalServerError=g.InternalServerError,R.PermissionDeniedError=g.PermissionDeniedError,R.UnprocessableEntityError=g.UnprocessableEntityError,R.toFile=v.toFile;class T extends R{constructor(){super(...arguments),this.completions=new b.Completions(this),this.messages=new b.Messages(this),this.models=new b.Models(this),this.beta=new b.Beta(this)}}t.Anthropic=T,T.Completions=_.Completions,T.Messages=P.Messages,T.Models=w.Models,T.Beta=E.Beta,t.HUMAN_PROMPT=T.HUMAN_PROMPT,t.AI_PROMPT=T.AI_PROMPT},8597:(e,t,n)=>{"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),t.APIPromise=void 0;const o=n(5219),s=n(3964);class i extends Promise{constructor(e,t,n=s.defaultParseResponse){super(e=>{e(null)}),this.responsePromise=t,this.parseResponse=n,r.set(this,void 0),o.__classPrivateFieldSet(this,r,e,"f")}_thenUnwrap(e){return new i(o.__classPrivateFieldGet(this,r,"f"),this.responsePromise,async(t,n)=>(0,s.addRequestID)(e(await this.parseResponse(t,n),n),n.response))}asResponse(){return this.responsePromise.then(e=>e.response)}async withResponse(){const[e,t]=await Promise.all([this.parse(),this.asResponse()]);return{data:e,response:t,request_id:t.headers.get("request-id")}}parse(){return this.parsedPromise||(this.parsedPromise=this.responsePromise.then(e=>this.parseResponse(o.__classPrivateFieldGet(this,r,"f"),e))),this.parsedPromise}then(e,t){return this.parse().then(e,t)}catch(e){return this.parse().catch(e)}finally(e){return this.parse().finally(e)}}t.APIPromise=i,r=new WeakMap},5063:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.InternalServerError=t.RateLimitError=t.UnprocessableEntityError=t.ConflictError=t.NotFoundError=t.PermissionDeniedError=t.AuthenticationError=t.BadRequestError=t.APIConnectionTimeoutError=t.APIConnectionError=t.APIUserAbortError=t.APIError=t.AnthropicError=void 0;const r=n(6604);class o extends Error{}t.AnthropicError=o;class s extends o{constructor(e,t,n,r){super(`${s.makeMessage(e,t,n)}`),this.status=e,this.headers=r,this.requestID=r?.get("request-id"),this.error=t}static makeMessage(e,t,n){const r=t?.message?"string"==typeof t.message?t.message:JSON.stringify(t.message):t?JSON.stringify(t):n;return e&&r?`${e} ${r}`:e?`${e} status code (no body)`:r||"(no status code or body)"}static generate(e,t,n,o){if(!e||!o)return new i({message:n,cause:(0,r.castToError)(t)});const f=t;return 400===e?new a(e,f,n,o):401===e?new c(e,f,n,o):403===e?new l(e,f,n,o):404===e?new d(e,f,n,o):409===e?new u(e,f,n,o):422===e?new p(e,f,n,o):429===e?new m(e,f,n,o):e>=500?new h(e,f,n,o):new s(e,f,n,o)}}t.APIError=s;t.APIUserAbortError=class extends s{constructor({message:e}={}){super(void 0,void 0,e||"Request was aborted.",void 0)}};class i extends s{constructor({message:e,cause:t}){super(void 0,void 0,e||"Connection error.",void 0),t&&(this.cause=t)}}t.APIConnectionError=i;t.APIConnectionTimeoutError=class extends i{constructor({message:e}={}){super({message:e??"Request timed out."})}};class a extends s{}t.BadRequestError=a;class c extends s{}t.AuthenticationError=c;class l extends s{}t.PermissionDeniedError=l;class d extends s{}t.NotFoundError=d;class u extends s{}t.ConflictError=u;class p extends s{}t.UnprocessableEntityError=p;class m extends s{}t.RateLimitError=m;class h extends s{}t.InternalServerError=h},2065:(e,t,n)=>{"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),t.Page=t.PagePromise=t.AbstractPage=void 0;const o=n(5219),s=n(5063),i=n(3964),a=n(8597),c=n(9171);class l{constructor(e,t,n,s){r.set(this,void 0),o.__classPrivateFieldSet(this,r,e,"f"),this.options=s,this.response=t,this.body=n}hasNextPage(){return!!this.getPaginatedItems().length&&null!=this.nextPageRequestOptions()}async getNextPage(){const e=this.nextPageRequestOptions();if(!e)throw new s.AnthropicError("No next page expected; please check `.hasNextPage()` before calling `.getNextPage()`.");return await o.__classPrivateFieldGet(this,r,"f").requestAPIList(this.constructor,e)}async*iterPages(){let e=this;for(yield e;e.hasNextPage();)e=await e.getNextPage(),yield e}async*[(r=new WeakMap,Symbol.asyncIterator)](){for await(const e of this.iterPages())for(const t of e.getPaginatedItems())yield t}}t.AbstractPage=l;class d extends a.APIPromise{constructor(e,t,n){super(e,t,async(e,t)=>new n(e,t.response,await(0,i.defaultParseResponse)(e,t),t.options))}async*[Symbol.asyncIterator](){const e=await(this);for await(const t of e)yield t}}t.PagePromise=d;t.Page=class extends l{constructor(e,t,n,r){super(e,t,n,r),this.data=n.data||[],this.has_more=n.has_more||!1,this.first_id=n.first_id||null,this.last_id=n.last_id||null}getPaginatedItems(){return this.data??[]}hasNextPage(){return!1!==this.has_more&&super.hasNextPage()}nextPageRequestOptions(){if(this.options.query?.before_id){const e=this.first_id;return e?{...this.options,query:{...(0,c.maybeObj)(this.options.query),before_id:e}}:null}const e=this.last_id;return e?{...this.options,query:{...(0,c.maybeObj)(this.options.query),after_id:e}}:null}}},6169:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.APIResource=void 0;t.APIResource=class{constructor(e){this._client=e}}},4138:(e,t,n)=>{"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),t.Stream=void 0,t._iterSSEMessages=f;const o=n(5219),s=n(5063),i=n(1689),a=n(1759),c=n(1689),l=n(6604),d=n(9171),u=n(6822),p=n(5296),m=n(5063);class h{constructor(e,t,n){this.iterator=e,r.set(this,void 0),this.controller=t,o.__classPrivateFieldSet(this,r,n,"f")}static fromSSEResponse(e,t,n){let r=!1;const o=n?(0,p.loggerFor)(n):console;return new h(async function*(){if(r)throw new s.AnthropicError("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");r=!0;let n=!1;try{for await(const n of f(e,t)){if("completion"===n.event)try{yield JSON.parse(n.data)}catch(e){throw o.error("Could not parse message into JSON:",n.data),o.error("From chunk:",n.raw),e}if("message_start"===n.event||"message_delta"===n.event||"message_stop"===n.event||"content_block_start"===n.event||"content_block_delta"===n.event||"content_block_stop"===n.event)try{yield JSON.parse(n.data)}catch(e){throw o.error("Could not parse message into JSON:",n.data),o.error("From chunk:",n.raw),e}if("ping"!==n.event&&"error"===n.event)throw new m.APIError(void 0,(0,d.safeJSON)(n.data)??n.data,void 0,e.headers)}n=!0}catch(e){if((0,l.isAbortError)(e))return;throw e}finally{n||t.abort()}},t,n)}static fromReadableStream(e,t,n){let r=!1;return new h(async function*(){if(r)throw new s.AnthropicError("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");r=!0;let n=!1;try{for await(const t of async function*(){const t=new a.LineDecoder,n=(0,c.ReadableStreamToAsyncIterable)(e);for await(const e of n)for(const n of t.decode(e))yield n;for(const e of t.flush())yield e}())n||t&&(yield JSON.parse(t));n=!0}catch(e){if((0,l.isAbortError)(e))return;throw e}finally{n||t.abort()}},t,n)}[(r=new WeakMap,Symbol.asyncIterator)](){return this.iterator()}tee(){const e=[],t=[],n=this.iterator(),s=r=>({next:()=>{if(0===r.length){const r=n.next();e.push(r),t.push(r)}return r.shift()}});return[new h(()=>s(e),this.controller,o.__classPrivateFieldGet(this,r,"f")),new h(()=>s(t),this.controller,o.__classPrivateFieldGet(this,r,"f"))]}toReadableStream(){const e=this;let t;return(0,i.makeReadableStream)({async start(){t=e[Symbol.asyncIterator]()},async pull(e){try{const{value:n,done:r}=await t.next();if(r)return e.close();const o=(0,u.encodeUTF8)(JSON.stringify(n)+"\n");e.enqueue(o)}catch(t){e.error(t)}},async cancel(){await(t.return?.())}})}}async function*f(e,t){if(!e.body){if(t.abort(),void 0!==globalThis.navigator&&"ReactNative"===globalThis.navigator.product)throw new s.AnthropicError("The default react-native fetch implementation does not support streaming. Please use expo/fetch: https://docs.expo.dev/versions/latest/sdk/expo/#expofetch-api");throw new s.AnthropicError("Attempted to iterate over a response with no body")}const n=new g,r=new a.LineDecoder,o=(0,c.ReadableStreamToAsyncIterable)(e.body);for await(const e of async function*(e){let t=new Uint8Array;for await(const n of e){if(null==n)continue;const e=n instanceof ArrayBuffer?new Uint8Array(n):"string"==typeof n?(0,u.encodeUTF8)(n):n;let r,o=new Uint8Array(t.length+e.length);for(o.set(t),o.set(e,t.length),t=o;-1!==(r=(0,a.findDoubleNewlineIndex)(t));)yield t.slice(0,r),t=t.slice(r)}t.length>0&&(yield t)}(o))for(const t of r.decode(e)){const e=n.decode(t);e&&(yield e)}for(const e of r.flush()){const t=n.decode(e);t&&(yield t)}}t.Stream=h;class g{constructor(){this.event=null,this.data=[],this.chunks=[]}decode(e){if(e.endsWith("\r")&&(e=e.substring(0,e.length-1)),!e){if(!this.event&&!this.data.length)return null;const e={event:this.event,data:this.data.join("\n"),raw:this.chunks};return this.event=null,this.data=[],this.chunks=[],e}if(this.chunks.push(e),e.startsWith(":"))return null;let[t,n,r]=function(e,t){const n=e.indexOf(t);if(-1!==n)return[e.substring(0,n),t,e.substring(n+t.length)];return[e,"",""]}(e,":");return r.startsWith(" ")&&(r=r.substring(1)),"event"===t?this.event=r:"data"===t&&this.data.push(r),null}}},4703:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.toFile=void 0;var r=n(3621);Object.defineProperty(t,"toFile",{enumerable:!0,get:function(){return r.toFile}})},8955:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});n(5219).__exportStar(n(5063),t)},121:(e,t,n)=>{"use strict";t=e.exports=function(...e){return new t.default(...e)},Object.defineProperty(t,"__esModule",{value:!0}),t.UnprocessableEntityError=t.PermissionDeniedError=t.InternalServerError=t.AuthenticationError=t.BadRequestError=t.RateLimitError=t.ConflictError=t.NotFoundError=t.APIUserAbortError=t.APIConnectionTimeoutError=t.APIConnectionError=t.APIError=t.AnthropicError=t.PagePromise=t.AI_PROMPT=t.HUMAN_PROMPT=t.Anthropic=t.BaseAnthropic=t.APIPromise=t.toFile=t.default=void 0;var r=n(9026);Object.defineProperty(t,"default",{enumerable:!0,get:function(){return r.Anthropic}});var o=n(4703);Object.defineProperty(t,"toFile",{enumerable:!0,get:function(){return o.toFile}});var s=n(8597);Object.defineProperty(t,"APIPromise",{enumerable:!0,get:function(){return s.APIPromise}});var i=n(9026);Object.defineProperty(t,"BaseAnthropic",{enumerable:!0,get:function(){return i.BaseAnthropic}}),Object.defineProperty(t,"Anthropic",{enumerable:!0,get:function(){return i.Anthropic}}),Object.defineProperty(t,"HUMAN_PROMPT",{enumerable:!0,get:function(){return i.HUMAN_PROMPT}}),Object.defineProperty(t,"AI_PROMPT",{enumerable:!0,get:function(){return i.AI_PROMPT}});var a=n(2065);Object.defineProperty(t,"PagePromise",{enumerable:!0,get:function(){return a.PagePromise}});var c=n(5063);Object.defineProperty(t,"AnthropicError",{enumerable:!0,get:function(){return c.AnthropicError}}),Object.defineProperty(t,"APIError",{enumerable:!0,get:function(){return c.APIError}}),Object.defineProperty(t,"APIConnectionError",{enumerable:!0,get:function(){return c.APIConnectionError}}),Object.defineProperty(t,"APIConnectionTimeoutError",{enumerable:!0,get:function(){return c.APIConnectionTimeoutError}}),Object.defineProperty(t,"APIUserAbortError",{enumerable:!0,get:function(){return c.APIUserAbortError}}),Object.defineProperty(t,"NotFoundError",{enumerable:!0,get:function(){return c.NotFoundError}}),Object.defineProperty(t,"ConflictError",{enumerable:!0,get:function(){return c.ConflictError}}),Object.defineProperty(t,"RateLimitError",{enumerable:!0,get:function(){return c.RateLimitError}}),Object.defineProperty(t,"BadRequestError",{enumerable:!0,get:function(){return c.BadRequestError}}),Object.defineProperty(t,"AuthenticationError",{enumerable:!0,get:function(){return c.AuthenticationError}}),Object.defineProperty(t,"InternalServerError",{enumerable:!0,get:function(){return c.InternalServerError}}),Object.defineProperty(t,"PermissionDeniedError",{enumerable:!0,get:function(){return c.PermissionDeniedError}}),Object.defineProperty(t,"UnprocessableEntityError",{enumerable:!0,get:function(){return c.UnprocessableEntityError}})},3574:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MODEL_NONSTREAMING_TOKENS=void 0,t.MODEL_NONSTREAMING_TOKENS={"claude-opus-4-20250514":8192,"claude-opus-4-0":8192,"claude-4-opus-20250514":8192,"anthropic.claude-opus-4-20250514-v1:0":8192,"claude-opus-4@20250514":8192,"claude-opus-4-1-20250805":8192,"anthropic.claude-opus-4-1-20250805-v1:0":8192,"claude-opus-4-1@20250805":8192}},4663:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.JSONLDecoder=void 0;const r=n(5063),o=n(1689),s=n(1759);class i{constructor(e,t){this.iterator=e,this.controller=t}async*decoder(){const e=new s.LineDecoder;for await(const t of this.iterator)for(const n of e.decode(t))yield JSON.parse(n);for(const t of e.flush())yield JSON.parse(t)}[Symbol.asyncIterator](){return this.decoder()}static fromResponse(e,t){if(!e.body){if(t.abort(),void 0!==globalThis.navigator&&"ReactNative"===globalThis.navigator.product)throw new r.AnthropicError("The default react-native fetch implementation does not support streaming. Please use expo/fetch: https://docs.expo.dev/versions/latest/sdk/expo/#expofetch-api");throw new r.AnthropicError("Attempted to iterate over a response with no body")}return new i((0,o.ReadableStreamToAsyncIterable)(e.body),t)}}t.JSONLDecoder=i},1759:(e,t,n)=>{"use strict";var r,o;Object.defineProperty(t,"__esModule",{value:!0}),t.LineDecoder=void 0,t.findDoubleNewlineIndex=function(e){for(let t=0;t<e.length-1;t++){if(10===e[t]&&10===e[t+1])return t+2;if(13===e[t]&&13===e[t+1])return t+2;if(13===e[t]&&10===e[t+1]&&t+3<e.length&&13===e[t+2]&&10===e[t+3])return t+4}return-1};const s=n(5219),i=n(6822);class a{constructor(){r.set(this,void 0),o.set(this,void 0),s.__classPrivateFieldSet(this,r,new Uint8Array,"f"),s.__classPrivateFieldSet(this,o,null,"f")}decode(e){if(null==e)return[];const t=e instanceof ArrayBuffer?new Uint8Array(e):"string"==typeof e?(0,i.encodeUTF8)(e):e;s.__classPrivateFieldSet(this,r,(0,i.concatBytes)([s.__classPrivateFieldGet(this,r,"f"),t]),"f");const n=[];let a;for(;null!=(a=c(s.__classPrivateFieldGet(this,r,"f"),s.__classPrivateFieldGet(this,o,"f")));){if(a.carriage&&null==s.__classPrivateFieldGet(this,o,"f")){s.__classPrivateFieldSet(this,o,a.index,"f");continue}if(null!=s.__classPrivateFieldGet(this,o,"f")&&(a.index!==s.__classPrivateFieldGet(this,o,"f")+1||a.carriage)){n.push((0,i.decodeUTF8)(s.__classPrivateFieldGet(this,r,"f").subarray(0,s.__classPrivateFieldGet(this,o,"f")-1))),s.__classPrivateFieldSet(this,r,s.__classPrivateFieldGet(this,r,"f").subarray(s.__classPrivateFieldGet(this,o,"f")),"f"),s.__classPrivateFieldSet(this,o,null,"f");continue}const e=null!==s.__classPrivateFieldGet(this,o,"f")?a.preceding-1:a.preceding,t=(0,i.decodeUTF8)(s.__classPrivateFieldGet(this,r,"f").subarray(0,e));n.push(t),s.__classPrivateFieldSet(this,r,s.__classPrivateFieldGet(this,r,"f").subarray(a.index),"f"),s.__classPrivateFieldSet(this,o,null,"f")}return n}flush(){return s.__classPrivateFieldGet(this,r,"f").length?this.decode("\n"):[]}}function c(e,t){for(let n=t??0;n<e.length;n++){if(10===e[n])return{preceding:n,index:n+1,carriage:!1};if(13===e[n])return{preceding:n,index:n+1,carriage:!0}}return null}t.LineDecoder=a,r=new WeakMap,o=new WeakMap,a.NEWLINE_CHARS=new Set(["\n","\r"]),a.NEWLINE_REGEXP=/\r\n|[\n\r]/g},9558:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getPlatformHeaders=t.isRunningInBrowser=void 0;const r=n(953);t.isRunningInBrowser=()=>"undefined"!=typeof window&&void 0!==window.document&&"undefined"!=typeof navigator;const o=()=>{const e="undefined"!=typeof Deno&&null!=Deno.build?"deno":"undefined"!=typeof EdgeRuntime?"edge":"[object process]"===Object.prototype.toString.call(void 0!==globalThis.process?globalThis.process:0)?"node":"unknown";if("deno"===e)return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":r.VERSION,"X-Stainless-OS":i(Deno.build.os),"X-Stainless-Arch":s(Deno.build.arch),"X-Stainless-Runtime":"deno","X-Stainless-Runtime-Version":"string"==typeof Deno.version?Deno.version:Deno.version?.deno??"unknown"};if("undefined"!=typeof EdgeRuntime)return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":r.VERSION,"X-Stainless-OS":"Unknown","X-Stainless-Arch":`other:${EdgeRuntime}`,"X-Stainless-Runtime":"edge","X-Stainless-Runtime-Version":globalThis.process.version};if("node"===e)return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":r.VERSION,"X-Stainless-OS":i(globalThis.process.platform??"unknown"),"X-Stainless-Arch":s(globalThis.process.arch??"unknown"),"X-Stainless-Runtime":"node","X-Stainless-Runtime-Version":globalThis.process.version??"unknown"};const t=function(){if("undefined"==typeof navigator||!navigator)return null;const e=[{key:"edge",pattern:/Edge(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/MSIE(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/Trident(?:.*rv\:(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"chrome",pattern:/Chrome(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"firefox",pattern:/Firefox(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"safari",pattern:/(?:Version\W+(\d+)\.(\d+)(?:\.(\d+))?)?(?:\W+Mobile\S*)?\W+Safari/}];for(const{key:t,pattern:n}of e){const e=n.exec(navigator.userAgent);if(e){return{browser:t,version:`${e[1]||0}.${e[2]||0}.${e[3]||0}`}}}return null}();return t?{"X-Stainless-Lang":"js","X-Stainless-Package-Version":r.VERSION,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":`browser:${t.browser}`,"X-Stainless-Runtime-Version":t.version}:{"X-Stainless-Lang":"js","X-Stainless-Package-Version":r.VERSION,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":"unknown","X-Stainless-Runtime-Version":"unknown"}};const s=e=>"x32"===e?"x32":"x86_64"===e||"x64"===e?"x64":"arm"===e?"arm":"aarch64"===e||"arm64"===e?"arm64":e?`other:${e}`:"unknown",i=e=>(e=e.toLowerCase()).includes("ios")?"iOS":"android"===e?"Android":"darwin"===e?"MacOS":"win32"===e?"Windows":"freebsd"===e?"FreeBSD":"openbsd"===e?"OpenBSD":"linux"===e?"Linux":e?`Other:${e}`:"Unknown";let a;t.getPlatformHeaders=()=>a??(a=o())},6604:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.castToError=void 0,t.isAbortError=function(e){return"object"==typeof e&&null!==e&&("name"in e&&"AbortError"===e.name||"message"in e&&String(e.message).includes("FetchRequestCanceledException"))};t.castToError=e=>{if(e instanceof Error)return e;if("object"==typeof e&&null!==e){try{if("[object Error]"===Object.prototype.toString.call(e)){const t=new Error(e.message,e.cause?{cause:e.cause}:{});return e.stack&&(t.stack=e.stack),e.cause&&!t.cause&&(t.cause=e.cause),e.name&&(t.name=e.name),t}}catch{}try{return new Error(JSON.stringify(e))}catch{}}return new Error(e)}},2709:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isEmptyHeaders=t.buildHeaders=void 0;const r=n(9171),o=Symbol.for("brand.privateNullableHeaders");function*s(e){if(!e)return;if(o in e){const{values:t,nulls:n}=e;yield*t.entries();for(const e of n)yield[e,null];return}let t,n=!1;e instanceof Headers?t=e.entries():(0,r.isReadonlyArray)(e)?t=e:(n=!0,t=Object.entries(e??{}));for(let e of t){const t=e[0];if("string"!=typeof t)throw new TypeError("expected header name to be a string");const o=(0,r.isReadonlyArray)(e[1])?e[1]:[e[1]];let s=!1;for(const e of o)void 0!==e&&(n&&!s&&(s=!0,yield[t,null]),yield[t,e])}}t.buildHeaders=e=>{const t=new Headers,n=new Set;for(const r of e){const e=new Set;for(const[o,i]of s(r)){const r=o.toLowerCase();e.has(r)||(t.delete(o),e.add(r)),null===i?(t.delete(o),n.add(r)):(t.append(o,i),n.delete(r))}}return{[o]:!0,values:t,nulls:n}};t.isEmptyHeaders=e=>{for(const t of s(e))return!1;return!0}},3964:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.defaultParseResponse=async function(e,t){const{response:n,requestLogID:i,retryOfRequestLogID:a,startTime:c}=t,l=await(async()=>{if(t.options.stream)return(0,o.loggerFor)(e).debug("response",n.status,n.url,n.headers,n.body),t.options.__streamClass?t.options.__streamClass.fromSSEResponse(n,t.controller):r.Stream.fromSSEResponse(n,t.controller);if(204===n.status)return null;if(t.options.__binaryResponse)return n;const i=n.headers.get("content-type"),a=i?.split(";")[0]?.trim();if(a?.includes("application/json")||a?.endsWith("+json")){return s(await n.json(),n)}return await n.text()})();return(0,o.loggerFor)(e).debug(`[${i}] response parsed`,(0,o.formatRequestDetails)({retryOfRequestLogID:a,url:n.url,status:n.status,body:l,durationMs:Date.now()-c})),l},t.addRequestID=s;const r=n(4138),o=n(5296);function s(e,t){return!e||"object"!=typeof e||Array.isArray(e)?e:Object.defineProperty(e,"_request_id",{value:t.headers.get("request-id"),enumerable:!1})}},8429:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.FallbackEncoder=void 0;t.FallbackEncoder=({headers:e,body:t})=>({bodyHeaders:{"content-type":"application/json"},body:JSON.stringify(t)})},1689:(e,t)=>{"use strict";function n(...e){const t=globalThis.ReadableStream;if(void 0===t)throw new Error("`ReadableStream` is not defined as a global; You will need to polyfill it, `globalThis.ReadableStream = ReadableStream`");return new t(...e)}Object.defineProperty(t,"__esModule",{value:!0}),t.getDefaultFetch=function(){if("undefined"!=typeof fetch)return fetch;throw new Error("`fetch` is not defined as a global; Either pass `fetch` to the client, `new Anthropic({ fetch })` or polyfill the global, `globalThis.fetch = fetch`")},t.makeReadableStream=n,t.ReadableStreamFrom=function(e){let t=Symbol.asyncIterator in e?e[Symbol.asyncIterator]():e[Symbol.iterator]();return n({start(){},async pull(e){const{done:n,value:r}=await t.next();n?e.close():e.enqueue(r)},async cancel(){await(t.return?.())}})},t.ReadableStreamToAsyncIterable=function(e){if(e[Symbol.asyncIterator])return e;const t=e.getReader();return{async next(){try{const e=await t.read();return e?.done&&t.releaseLock(),e}catch(e){throw t.releaseLock(),e}},async return(){const e=t.cancel();return t.releaseLock(),await e,{done:!0,value:void 0}},[Symbol.asyncIterator](){return this}}},t.CancelReadableStream=async function(e){if(null===e||"object"!=typeof e)return;if(e[Symbol.asyncIterator])return void await(e[Symbol.asyncIterator]().return?.());const t=e.getReader(),n=t.cancel();t.releaseLock(),await n}},3621:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.toFile=async function(e,t,n){if((0,o.checkFileSupport)(),e=await e,t||(t=(0,r.getName)(e)),i(e))return e instanceof File&&null==t&&null==n?e:(0,r.makeFile)([await e.arrayBuffer()],t??e.name,{type:e.type,lastModified:e.lastModified,...n});if(a(e)){const o=await e.blob();return t||(t=new URL(e.url).pathname.split(/[\\/]/).pop()),(0,r.makeFile)(await c(o),t,n)}const s=await c(e);if(!n?.type){const e=s.find(e=>"object"==typeof e&&"type"in e&&e.type);"string"==typeof e&&(n={...n,type:e})}return(0,r.makeFile)(s,t,n)};const r=n(2505),o=n(2505),s=e=>null!=e&&"object"==typeof e&&"number"==typeof e.size&&"string"==typeof e.type&&"function"==typeof e.text&&"function"==typeof e.slice&&"function"==typeof e.arrayBuffer,i=e=>null!=e&&"object"==typeof e&&"string"==typeof e.name&&"number"==typeof e.lastModified&&s(e),a=e=>null!=e&&"object"==typeof e&&"string"==typeof e.url&&"function"==typeof e.blob;async function c(e){let t=[];if("string"==typeof e||ArrayBuffer.isView(e)||e instanceof ArrayBuffer)t.push(e);else if(s(e))t.push(e instanceof Blob?e:await e.arrayBuffer());else{if(!(0,r.isAsyncIterable)(e)){const t=e?.constructor?.name;throw new Error(`Unexpected data type: ${typeof e}${t?`; constructor: ${t}`:""}${function(e){if("object"!=typeof e||null===e)return"";const t=Object.getOwnPropertyNames(e);return`; props: [${t.map(e=>`"${e}"`).join(", ")}]`}(e)}`)}for await(const n of e)t.push(...await c(n))}return t}},5219:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.__setModuleDefault=t.__createBinding=void 0,t.__classPrivateFieldSet=function(e,t,n,r,o){if("m"===r)throw new TypeError("Private method is not writable");if("a"===r&&!o)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!o:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===r?o.call(e,n):o?o.value=n:t.set(e,n),n},t.__classPrivateFieldGet=function(e,t,n,r){if("a"===n&&!r)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?r:"a"===n?r.call(e):r?r.value:t.get(e)},t.__exportStar=function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)},t.__importStar=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var s=o(e),i=0;i<s.length;i++)"default"!==s[i]&&n(t,e,s[i]);return r(t,e),t};var n=Object.create?function(e,t,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(t,n);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,o)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]};t.__createBinding=n;var r=Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t};t.__setModuleDefault=r;var o=function(e){return(o=Object.getOwnPropertyNames||function(e){var t=[];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[t.length]=n);return t})(e)}},2505:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createForm=t.multipartFormRequestOptions=t.maybeMultipartFormRequestOptions=t.isAsyncIterable=t.checkFileSupport=void 0,t.makeFile=o,t.getName=s;const r=n(1689);function o(e,n,r){return(0,t.checkFileSupport)(),new File(e,n??"unknown_file",r)}function s(e){return("object"==typeof e&&null!==e&&("name"in e&&e.name&&String(e.name)||"url"in e&&e.url&&String(e.url)||"filename"in e&&e.filename&&String(e.filename)||"path"in e&&e.path&&String(e.path))||"").split(/[\\/]/).pop()||void 0}t.checkFileSupport=()=>{if("undefined"==typeof File){const{process:e}=globalThis,t="string"==typeof e?.versions?.node&&parseInt(e.versions.node.split("."))<20;throw new Error("`File` is not defined as a global, which is required for file uploads."+(t?" Update to Node 20 LTS or newer, or set `globalThis.File` to `import('node:buffer').File`.":""))}};t.isAsyncIterable=e=>null!=e&&"object"==typeof e&&"function"==typeof e[Symbol.asyncIterator];t.maybeMultipartFormRequestOptions=async(e,n)=>c(e.body)?{...e,body:await(0,t.createForm)(e.body,n)}:e;t.multipartFormRequestOptions=async(e,n)=>({...e,body:await(0,t.createForm)(e.body,n)});const i=new WeakMap;t.createForm=async(e,t)=>{if(!await function(e){const t="function"==typeof e?e:e.fetch,n=i.get(t);if(n)return n;const r=(async()=>{try{const e="Response"in t?t.Response:(await t("data:,")).constructor,n=new FormData;return n.toString()!==await new e(n).text()}catch{return!0}})();return i.set(t,r),r}(t))throw new TypeError("The provided fetch function does not support file uploads with the current global FormData class.");const n=new FormData;return await Promise.all(Object.entries(e||{}).map(([e,t])=>l(n,e,t))),n};const a=e=>e instanceof Blob&&"name"in e,c=e=>{if((e=>"object"==typeof e&&null!==e&&(e instanceof Response||(0,t.isAsyncIterable)(e)||a(e)))(e))return!0;if(Array.isArray(e))return e.some(c);if(e&&"object"==typeof e)for(const t in e)if(c(e[t]))return!0;return!1},l=async(e,n,i)=>{if(void 0!==i){if(null==i)throw new TypeError(`Received null for "${n}"; to pass null in FormData, you must use the string 'null'`);if("string"==typeof i||"number"==typeof i||"boolean"==typeof i)e.append(n,String(i));else if(i instanceof Response){let t={};const r=i.headers.get("Content-Type");r&&(t={type:r}),e.append(n,o([await i.blob()],s(i),t))}else if((0,t.isAsyncIterable)(i))e.append(n,o([await new Response((0,r.ReadableStreamFrom)(i)).blob()],s(i)));else if(a(i))e.append(n,o([i],s(i),{type:i.type}));else if(Array.isArray(i))await Promise.all(i.map(t=>l(e,n+"[]",t)));else{if("object"!=typeof i)throw new TypeError(`Invalid value given to form, expected a string, number, boolean, object, Array, File or Blob but got ${i} instead`);await Promise.all(Object.entries(i).map(([t,r])=>l(e,`${n}[${t}]`,r)))}}}},6822:(e,t)=>{"use strict";let n,r;Object.defineProperty(t,"__esModule",{value:!0}),t.concatBytes=function(e){let t=0;for(const n of e)t+=n.length;const n=new Uint8Array(t);let r=0;for(const t of e)n.set(t,r),r+=t.length;return n},t.encodeUTF8=function(e){let t;return(n??(t=new globalThis.TextEncoder,n=t.encode.bind(t)))(e)},t.decodeUTF8=function(e){let t;return(r??(t=new globalThis.TextDecoder,r=t.decode.bind(t)))(e)}},6482:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.readEnv=void 0;t.readEnv=e=>void 0!==globalThis.process?globalThis.process.env?.[e]?.trim()??void 0:void 0!==globalThis.Deno?globalThis.Deno.env?.get?.(e)?.trim():void 0},5296:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.formatRequestDetails=t.parseLogLevel=void 0,t.loggerFor=l;const r=n(9171),o={off:0,error:200,warn:300,info:400,debug:500};function s(){}function i(e,t,n){return!t||o[e]>o[n]?s:t[e].bind(t)}t.parseLogLevel=(e,t,n)=>{if(e)return(0,r.hasOwn)(o,e)?e:void l(n).warn(`${t} was set to ${JSON.stringify(e)}, expected one of ${JSON.stringify(Object.keys(o))}`)};const a={error:s,warn:s,info:s,debug:s};let c=new WeakMap;function l(e){const t=e.logger,n=e.logLevel??"off";if(!t)return a;const r=c.get(t);if(r&&r[0]===n)return r[1];const o={error:i("error",t,n),warn:i("warn",t,n),info:i("info",t,n),debug:i("debug",t,n)};return c.set(t,[n,o]),o}t.formatRequestDetails=e=>(e.options&&(e.options={...e.options},delete e.options.headers),e.headers&&(e.headers=Object.fromEntries((e.headers instanceof Headers?[...e.headers]:Object.entries(e.headers)).map(([e,t])=>[e,"x-api-key"===e.toLowerCase()||"authorization"===e.toLowerCase()||"cookie"===e.toLowerCase()||"set-cookie"===e.toLowerCase()?"***":t]))),"retryOfRequestLogID"in e&&(e.retryOfRequestLogID&&(e.retryOf=e.retryOfRequestLogID),delete e.retryOfRequestLogID),e)},390:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.path=t.createPathTagFunction=void 0,t.encodeURIPath=o;const r=n(5063);function o(e){return e.replace(/[^A-Za-z0-9\-._~!$&'()*+,;=:@]+/g,encodeURIComponent)}const s=Object.freeze(Object.create(null));t.createPathTagFunction=(e=o)=>function(t,...n){if(1===t.length)return t[0];let o=!1;const i=[],a=t.reduce((t,r,a)=>{/[?#]/.test(r)&&(o=!0);const c=n[a];let l=(o?encodeURIComponent:e)(""+c);return a!==n.length&&(null==c||"object"==typeof c&&c.toString===Object.getPrototypeOf(Object.getPrototypeOf(c.hasOwnProperty??s)??s)?.toString)&&(l=c+"",i.push({start:t.length+r.length,length:l.length,error:`Value of type ${Object.prototype.toString.call(c).slice(8,-1)} is not a valid path parameter`})),t+r+(a===n.length?"":l)},""),c=a.split(/[?#]/,1)[0],l=/(?<=^|\/)(?:\.|%2e){1,2}(?=\/|$)/gi;let d;for(;null!==(d=l.exec(c));)i.push({start:d.index,length:d[0].length,error:`Value "${d[0]}" can't be safely passed as a path parameter`});if(i.sort((e,t)=>e.start-t.start),i.length>0){let e=0;const t=i.reduce((t,n)=>{const r=" ".repeat(n.start-e),o="^".repeat(n.length);return e=n.start+n.length,t+r+o},"");throw new r.AnthropicError(`Path parameters result in path with invalid segments:\n${i.map(e=>e.error).join("\n")}\n${a}\n${t}`)}return a},t.path=(0,t.createPathTagFunction)(o)},8994:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.sleep=void 0;t.sleep=e=>new Promise(t=>setTimeout(t,e))},4458:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.uuid4=void 0;t.uuid4=function(){const{crypto:e}=globalThis;if(e?.randomUUID)return t.uuid4=e.randomUUID.bind(e),e.randomUUID();const n=new Uint8Array(1),r=e?()=>e.getRandomValues(n)[0]:()=>255*Math.random()&255;return"10000000-1000-4000-8000-100000000000".replace(/[018]/g,e=>(+e^r()&15>>+e/4).toString(16))}},9171:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.safeJSON=t.maybeCoerceBoolean=t.maybeCoerceFloat=t.maybeCoerceInteger=t.coerceBoolean=t.coerceFloat=t.coerceInteger=t.validatePositiveInteger=t.ensurePresent=t.isReadonlyArray=t.isArray=t.isAbsoluteURL=void 0,t.maybeObj=function(e){if("object"!=typeof e)return{};return e??{}},t.isEmptyObj=function(e){if(!e)return!0;for(const t in e)return!1;return!0},t.hasOwn=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.isObj=function(e){return null!=e&&"object"==typeof e&&!Array.isArray(e)};const r=n(5063),o=/^[a-z][a-z0-9+.-]*:/i;t.isAbsoluteURL=e=>o.test(e);t.isArray=e=>(t.isArray=Array.isArray,(0,t.isArray)(e)),t.isReadonlyArray=t.isArray;t.ensurePresent=e=>{if(null==e)throw new r.AnthropicError(`Expected a value to be given but received ${e} instead.`);return e};t.validatePositiveInteger=(e,t)=>{if("number"!=typeof t||!Number.isInteger(t))throw new r.AnthropicError(`${e} must be an integer`);if(t<0)throw new r.AnthropicError(`${e} must be a positive integer`);return t};t.coerceInteger=e=>{if("number"==typeof e)return Math.round(e);if("string"==typeof e)return parseInt(e,10);throw new r.AnthropicError(`Could not coerce ${e} (type: ${typeof e}) into a number`)};t.coerceFloat=e=>{if("number"==typeof e)return e;if("string"==typeof e)return parseFloat(e);throw new r.AnthropicError(`Could not coerce ${e} (type: ${typeof e}) into a number`)};t.coerceBoolean=e=>"boolean"==typeof e?e:"string"==typeof e?"true"===e:Boolean(e);t.maybeCoerceInteger=e=>{if(void 0!==e)return(0,t.coerceInteger)(e)};t.maybeCoerceFloat=e=>{if(void 0!==e)return(0,t.coerceFloat)(e)};t.maybeCoerceBoolean=e=>{if(void 0!==e)return(0,t.coerceBoolean)(e)};t.safeJSON=e=>{try{return JSON.parse(e)}catch(e){return}}},1940:(e,t,n)=>{"use strict";var r,o,s,i,a,c,l,d,u,p,m,h,f,g,y,v,b,S,_,w,E,P;Object.defineProperty(t,"__esModule",{value:!0}),t.BetaMessageStream=void 0;const C=n(5219),O=n(6604),A=n(8955),x=n(297),I=n(6757),R="__json_buf";function T(e){return"tool_use"===e.type||"server_tool_use"===e.type||"mcp_tool_use"===e.type}class D{constructor(){r.add(this),this.messages=[],this.receivedMessages=[],o.set(this,void 0),this.controller=new AbortController,s.set(this,void 0),i.set(this,()=>{}),a.set(this,()=>{}),c.set(this,void 0),l.set(this,()=>{}),d.set(this,()=>{}),u.set(this,{}),p.set(this,!1),m.set(this,!1),h.set(this,!1),f.set(this,!1),g.set(this,void 0),y.set(this,void 0),S.set(this,e=>{if(C.__classPrivateFieldSet(this,m,!0,"f"),(0,O.isAbortError)(e)&&(e=new A.APIUserAbortError),e instanceof A.APIUserAbortError)return C.__classPrivateFieldSet(this,h,!0,"f"),this._emit("abort",e);if(e instanceof A.AnthropicError)return this._emit("error",e);if(e instanceof Error){const t=new A.AnthropicError(e.message);return t.cause=e,this._emit("error",t)}return this._emit("error",new A.AnthropicError(String(e)))}),C.__classPrivateFieldSet(this,s,new Promise((e,t)=>{C.__classPrivateFieldSet(this,i,e,"f"),C.__classPrivateFieldSet(this,a,t,"f")}),"f"),C.__classPrivateFieldSet(this,c,new Promise((e,t)=>{C.__classPrivateFieldSet(this,l,e,"f"),C.__classPrivateFieldSet(this,d,t,"f")}),"f"),C.__classPrivateFieldGet(this,s,"f").catch(()=>{}),C.__classPrivateFieldGet(this,c,"f").catch(()=>{})}get response(){return C.__classPrivateFieldGet(this,g,"f")}get request_id(){return C.__classPrivateFieldGet(this,y,"f")}async withResponse(){const e=await C.__classPrivateFieldGet(this,s,"f");if(!e)throw new Error("Could not resolve a `Response` object");return{data:this,response:e,request_id:e.headers.get("request-id")}}static fromReadableStream(e){const t=new D;return t._run(()=>t._fromReadableStream(e)),t}static createMessage(e,t,n){const r=new D;for(const e of t.messages)r._addMessageParam(e);return r._run(()=>r._createMessage(e,{...t,stream:!0},{...n,headers:{...n?.headers,"X-Stainless-Helper-Method":"stream"}})),r}_run(e){e().then(()=>{this._emitFinal(),this._emit("end")},C.__classPrivateFieldGet(this,S,"f"))}_addMessageParam(e){this.messages.push(e)}_addMessage(e,t=!0){this.receivedMessages.push(e),t&&this._emit("message",e)}async _createMessage(e,t,n){const o=n?.signal;let s;o&&(o.aborted&&this.controller.abort(),s=this.controller.abort.bind(this.controller),o.addEventListener("abort",s));try{C.__classPrivateFieldGet(this,r,"m",_).call(this);const{response:o,data:s}=await e.create({...t,stream:!0},{...n,signal:this.controller.signal}).withResponse();this._connected(o);for await(const e of s)C.__classPrivateFieldGet(this,r,"m",w).call(this,e);if(s.controller.signal?.aborted)throw new A.APIUserAbortError;C.__classPrivateFieldGet(this,r,"m",E).call(this)}finally{o&&s&&o.removeEventListener("abort",s)}}_connected(e){this.ended||(C.__classPrivateFieldSet(this,g,e,"f"),C.__classPrivateFieldSet(this,y,e?.headers.get("request-id"),"f"),C.__classPrivateFieldGet(this,i,"f").call(this,e),this._emit("connect"))}get ended(){return C.__classPrivateFieldGet(this,p,"f")}get errored(){return C.__classPrivateFieldGet(this,m,"f")}get aborted(){return C.__classPrivateFieldGet(this,h,"f")}abort(){this.controller.abort()}on(e,t){return(C.__classPrivateFieldGet(this,u,"f")[e]||(C.__classPrivateFieldGet(this,u,"f")[e]=[])).push({listener:t}),this}off(e,t){const n=C.__classPrivateFieldGet(this,u,"f")[e];if(!n)return this;const r=n.findIndex(e=>e.listener===t);return r>=0&&n.splice(r,1),this}once(e,t){return(C.__classPrivateFieldGet(this,u,"f")[e]||(C.__classPrivateFieldGet(this,u,"f")[e]=[])).push({listener:t,once:!0}),this}emitted(e){return new Promise((t,n)=>{C.__classPrivateFieldSet(this,f,!0,"f"),"error"!==e&&this.once("error",n),this.once(e,t)})}async done(){C.__classPrivateFieldSet(this,f,!0,"f"),await C.__classPrivateFieldGet(this,c,"f")}get currentMessage(){return C.__classPrivateFieldGet(this,o,"f")}async finalMessage(){return await this.done(),C.__classPrivateFieldGet(this,r,"m",v).call(this)}async finalText(){return await this.done(),C.__classPrivateFieldGet(this,r,"m",b).call(this)}_emit(e,...t){if(C.__classPrivateFieldGet(this,p,"f"))return;"end"===e&&(C.__classPrivateFieldSet(this,p,!0,"f"),C.__classPrivateFieldGet(this,l,"f").call(this));const n=C.__classPrivateFieldGet(this,u,"f")[e];if(n&&(C.__classPrivateFieldGet(this,u,"f")[e]=n.filter(e=>!e.once),n.forEach(({listener:e})=>e(...t))),"abort"===e){const e=t[0];return C.__classPrivateFieldGet(this,f,"f")||n?.length||Promise.reject(e),C.__classPrivateFieldGet(this,a,"f").call(this,e),C.__classPrivateFieldGet(this,d,"f").call(this,e),void this._emit("end")}if("error"===e){const e=t[0];C.__classPrivateFieldGet(this,f,"f")||n?.length||Promise.reject(e),C.__classPrivateFieldGet(this,a,"f").call(this,e),C.__classPrivateFieldGet(this,d,"f").call(this,e),this._emit("end")}}_emitFinal(){this.receivedMessages.at(-1)&&this._emit("finalMessage",C.__classPrivateFieldGet(this,r,"m",v).call(this))}async _fromReadableStream(e,t){const n=t?.signal;let o;n&&(n.aborted&&this.controller.abort(),o=this.controller.abort.bind(this.controller),n.addEventListener("abort",o));try{C.__classPrivateFieldGet(this,r,"m",_).call(this),this._connected(null);const t=x.Stream.fromReadableStream(e,this.controller);for await(const e of t)C.__classPrivateFieldGet(this,r,"m",w).call(this,e);if(t.controller.signal?.aborted)throw new A.APIUserAbortError;C.__classPrivateFieldGet(this,r,"m",E).call(this)}finally{n&&o&&n.removeEventListener("abort",o)}}[(o=new WeakMap,s=new WeakMap,i=new WeakMap,a=new WeakMap,c=new WeakMap,l=new WeakMap,d=new WeakMap,u=new WeakMap,p=new WeakMap,m=new WeakMap,h=new WeakMap,f=new WeakMap,g=new WeakMap,y=new WeakMap,S=new WeakMap,r=new WeakSet,v=function(){if(0===this.receivedMessages.length)throw new A.AnthropicError("stream ended without producing a Message with role=assistant");return this.receivedMessages.at(-1)},b=function(){if(0===this.receivedMessages.length)throw new A.AnthropicError("stream ended without producing a Message with role=assistant");const e=this.receivedMessages.at(-1).content.filter(e=>"text"===e.type).map(e=>e.text);if(0===e.length)throw new A.AnthropicError("stream ended without producing a content block with type=text");return e.join(" ")},_=function(){this.ended||C.__classPrivateFieldSet(this,o,void 0,"f")},w=function(e){if(this.ended)return;const t=C.__classPrivateFieldGet(this,r,"m",P).call(this,e);switch(this._emit("streamEvent",e,t),e.type){case"content_block_delta":{const n=t.content.at(-1);switch(e.delta.type){case"text_delta":"text"===n.type&&this._emit("text",e.delta.text,n.text||"");break;case"citations_delta":"text"===n.type&&this._emit("citation",e.delta.citation,n.citations??[]);break;case"input_json_delta":T(n)&&n.input&&this._emit("inputJson",e.delta.partial_json,n.input);break;case"thinking_delta":"thinking"===n.type&&this._emit("thinking",e.delta.thinking,n.thinking);break;case"signature_delta":"thinking"===n.type&&this._emit("signature",n.signature);break;default:e.delta}break}case"message_stop":this._addMessageParam(t),this._addMessage(t,!0);break;case"content_block_stop":this._emit("contentBlock",t.content.at(-1));break;case"message_start":C.__classPrivateFieldSet(this,o,t,"f")}},E=function(){if(this.ended)throw new A.AnthropicError("stream has ended, this shouldn't happen");const e=C.__classPrivateFieldGet(this,o,"f");if(!e)throw new A.AnthropicError("request ended without sending any chunks");return C.__classPrivateFieldSet(this,o,void 0,"f"),e},P=function(e){let t=C.__classPrivateFieldGet(this,o,"f");if("message_start"===e.type){if(t)throw new A.AnthropicError(`Unexpected event order, got ${e.type} before receiving "message_stop"`);return e.message}if(!t)throw new A.AnthropicError(`Unexpected event order, got ${e.type} before "message_start"`);switch(e.type){case"message_stop":case"content_block_stop":return t;case"message_delta":return t.container=e.delta.container,t.stop_reason=e.delta.stop_reason,t.stop_sequence=e.delta.stop_sequence,t.usage.output_tokens=e.usage.output_tokens,null!=e.usage.input_tokens&&(t.usage.input_tokens=e.usage.input_tokens),null!=e.usage.cache_creation_input_tokens&&(t.usage.cache_creation_input_tokens=e.usage.cache_creation_input_tokens),null!=e.usage.cache_read_input_tokens&&(t.usage.cache_read_input_tokens=e.usage.cache_read_input_tokens),null!=e.usage.server_tool_use&&(t.usage.server_tool_use=e.usage.server_tool_use),t;case"content_block_start":return t.content.push(e.content_block),t;case"content_block_delta":{const n=t.content.at(e.index);switch(e.delta.type){case"text_delta":"text"===n?.type&&(t.content[e.index]={...n,text:(n.text||"")+e.delta.text});break;case"citations_delta":"text"===n?.type&&(t.content[e.index]={...n,citations:[...n.citations??[],e.delta.citation]});break;case"input_json_delta":if(n&&T(n)){let r=n[R]||"";r+=e.delta.partial_json;const o={...n};if(Object.defineProperty(o,R,{value:r,enumerable:!1,writable:!0}),r)try{o.input=(0,I.partialParse)(r)}catch(e){const t=new A.AnthropicError(`Unable to parse tool parameter JSON from model. Please retry your request or adjust your prompt. Error: ${e}. JSON: ${r}`);C.__classPrivateFieldGet(this,S,"f").call(this,t)}t.content[e.index]=o}break;case"thinking_delta":"thinking"===n?.type&&(t.content[e.index]={...n,thinking:n.thinking+e.delta.thinking});break;case"signature_delta":"thinking"===n?.type&&(t.content[e.index]={...n,signature:e.delta.signature});break;default:e.delta}return t}}},Symbol.asyncIterator)](){const e=[],t=[];let n=!1;return this.on("streamEvent",n=>{const r=t.shift();r?r.resolve(n):e.push(n)}),this.on("end",()=>{n=!0;for(const e of t)e.resolve(void 0);t.length=0}),this.on("abort",e=>{n=!0;for(const n of t)n.reject(e);t.length=0}),this.on("error",e=>{n=!0;for(const n of t)n.reject(e);t.length=0}),{next:async()=>{if(!e.length)return n?{value:void 0,done:!0}:new Promise((e,n)=>t.push({resolve:e,reject:n})).then(e=>e?{value:e,done:!1}:{value:void 0,done:!0});return{value:e.shift(),done:!1}},return:async()=>(this.abort(),{value:void 0,done:!0})}}toReadableStream(){return new x.Stream(this[Symbol.asyncIterator].bind(this),this.controller).toReadableStream()}}t.BetaMessageStream=D},5258:(e,t,n)=>{"use strict";var r,o,s,i,a,c,l,d,u,p,m,h,f,g,y,v,b,S,_,w,E,P;Object.defineProperty(t,"__esModule",{value:!0}),t.MessageStream=void 0;const C=n(5219),O=n(6604),A=n(8955),x=n(297),I=n(6757),R="__json_buf";function T(e){return"tool_use"===e.type||"server_tool_use"===e.type}class D{constructor(){r.add(this),this.messages=[],this.receivedMessages=[],o.set(this,void 0),this.controller=new AbortController,s.set(this,void 0),i.set(this,()=>{}),a.set(this,()=>{}),c.set(this,void 0),l.set(this,()=>{}),d.set(this,()=>{}),u.set(this,{}),p.set(this,!1),m.set(this,!1),h.set(this,!1),f.set(this,!1),g.set(this,void 0),y.set(this,void 0),S.set(this,e=>{if(C.__classPrivateFieldSet(this,m,!0,"f"),(0,O.isAbortError)(e)&&(e=new A.APIUserAbortError),e instanceof A.APIUserAbortError)return C.__classPrivateFieldSet(this,h,!0,"f"),this._emit("abort",e);if(e instanceof A.AnthropicError)return this._emit("error",e);if(e instanceof Error){const t=new A.AnthropicError(e.message);return t.cause=e,this._emit("error",t)}return this._emit("error",new A.AnthropicError(String(e)))}),C.__classPrivateFieldSet(this,s,new Promise((e,t)=>{C.__classPrivateFieldSet(this,i,e,"f"),C.__classPrivateFieldSet(this,a,t,"f")}),"f"),C.__classPrivateFieldSet(this,c,new Promise((e,t)=>{C.__classPrivateFieldSet(this,l,e,"f"),C.__classPrivateFieldSet(this,d,t,"f")}),"f"),C.__classPrivateFieldGet(this,s,"f").catch(()=>{}),C.__classPrivateFieldGet(this,c,"f").catch(()=>{})}get response(){return C.__classPrivateFieldGet(this,g,"f")}get request_id(){return C.__classPrivateFieldGet(this,y,"f")}async withResponse(){const e=await C.__classPrivateFieldGet(this,s,"f");if(!e)throw new Error("Could not resolve a `Response` object");return{data:this,response:e,request_id:e.headers.get("request-id")}}static fromReadableStream(e){const t=new D;return t._run(()=>t._fromReadableStream(e)),t}static createMessage(e,t,n){const r=new D;for(const e of t.messages)r._addMessageParam(e);return r._run(()=>r._createMessage(e,{...t,stream:!0},{...n,headers:{...n?.headers,"X-Stainless-Helper-Method":"stream"}})),r}_run(e){e().then(()=>{this._emitFinal(),this._emit("end")},C.__classPrivateFieldGet(this,S,"f"))}_addMessageParam(e){this.messages.push(e)}_addMessage(e,t=!0){this.receivedMessages.push(e),t&&this._emit("message",e)}async _createMessage(e,t,n){const o=n?.signal;let s;o&&(o.aborted&&this.controller.abort(),s=this.controller.abort.bind(this.controller),o.addEventListener("abort",s));try{C.__classPrivateFieldGet(this,r,"m",_).call(this);const{response:o,data:s}=await e.create({...t,stream:!0},{...n,signal:this.controller.signal}).withResponse();this._connected(o);for await(const e of s)C.__classPrivateFieldGet(this,r,"m",w).call(this,e);if(s.controller.signal?.aborted)throw new A.APIUserAbortError;C.__classPrivateFieldGet(this,r,"m",E).call(this)}finally{o&&s&&o.removeEventListener("abort",s)}}_connected(e){this.ended||(C.__classPrivateFieldSet(this,g,e,"f"),C.__classPrivateFieldSet(this,y,e?.headers.get("request-id"),"f"),C.__classPrivateFieldGet(this,i,"f").call(this,e),this._emit("connect"))}get ended(){return C.__classPrivateFieldGet(this,p,"f")}get errored(){return C.__classPrivateFieldGet(this,m,"f")}get aborted(){return C.__classPrivateFieldGet(this,h,"f")}abort(){this.controller.abort()}on(e,t){return(C.__classPrivateFieldGet(this,u,"f")[e]||(C.__classPrivateFieldGet(this,u,"f")[e]=[])).push({listener:t}),this}off(e,t){const n=C.__classPrivateFieldGet(this,u,"f")[e];if(!n)return this;const r=n.findIndex(e=>e.listener===t);return r>=0&&n.splice(r,1),this}once(e,t){return(C.__classPrivateFieldGet(this,u,"f")[e]||(C.__classPrivateFieldGet(this,u,"f")[e]=[])).push({listener:t,once:!0}),this}emitted(e){return new Promise((t,n)=>{C.__classPrivateFieldSet(this,f,!0,"f"),"error"!==e&&this.once("error",n),this.once(e,t)})}async done(){C.__classPrivateFieldSet(this,f,!0,"f"),await C.__classPrivateFieldGet(this,c,"f")}get currentMessage(){return C.__classPrivateFieldGet(this,o,"f")}async finalMessage(){return await this.done(),C.__classPrivateFieldGet(this,r,"m",v).call(this)}async finalText(){return await this.done(),C.__classPrivateFieldGet(this,r,"m",b).call(this)}_emit(e,...t){if(C.__classPrivateFieldGet(this,p,"f"))return;"end"===e&&(C.__classPrivateFieldSet(this,p,!0,"f"),C.__classPrivateFieldGet(this,l,"f").call(this));const n=C.__classPrivateFieldGet(this,u,"f")[e];if(n&&(C.__classPrivateFieldGet(this,u,"f")[e]=n.filter(e=>!e.once),n.forEach(({listener:e})=>e(...t))),"abort"===e){const e=t[0];return C.__classPrivateFieldGet(this,f,"f")||n?.length||Promise.reject(e),C.__classPrivateFieldGet(this,a,"f").call(this,e),C.__classPrivateFieldGet(this,d,"f").call(this,e),void this._emit("end")}if("error"===e){const e=t[0];C.__classPrivateFieldGet(this,f,"f")||n?.length||Promise.reject(e),C.__classPrivateFieldGet(this,a,"f").call(this,e),C.__classPrivateFieldGet(this,d,"f").call(this,e),this._emit("end")}}_emitFinal(){this.receivedMessages.at(-1)&&this._emit("finalMessage",C.__classPrivateFieldGet(this,r,"m",v).call(this))}async _fromReadableStream(e,t){const n=t?.signal;let o;n&&(n.aborted&&this.controller.abort(),o=this.controller.abort.bind(this.controller),n.addEventListener("abort",o));try{C.__classPrivateFieldGet(this,r,"m",_).call(this),this._connected(null);const t=x.Stream.fromReadableStream(e,this.controller);for await(const e of t)C.__classPrivateFieldGet(this,r,"m",w).call(this,e);if(t.controller.signal?.aborted)throw new A.APIUserAbortError;C.__classPrivateFieldGet(this,r,"m",E).call(this)}finally{n&&o&&n.removeEventListener("abort",o)}}[(o=new WeakMap,s=new WeakMap,i=new WeakMap,a=new WeakMap,c=new WeakMap,l=new WeakMap,d=new WeakMap,u=new WeakMap,p=new WeakMap,m=new WeakMap,h=new WeakMap,f=new WeakMap,g=new WeakMap,y=new WeakMap,S=new WeakMap,r=new WeakSet,v=function(){if(0===this.receivedMessages.length)throw new A.AnthropicError("stream ended without producing a Message with role=assistant");return this.receivedMessages.at(-1)},b=function(){if(0===this.receivedMessages.length)throw new A.AnthropicError("stream ended without producing a Message with role=assistant");const e=this.receivedMessages.at(-1).content.filter(e=>"text"===e.type).map(e=>e.text);if(0===e.length)throw new A.AnthropicError("stream ended without producing a content block with type=text");return e.join(" ")},_=function(){this.ended||C.__classPrivateFieldSet(this,o,void 0,"f")},w=function(e){if(this.ended)return;const t=C.__classPrivateFieldGet(this,r,"m",P).call(this,e);switch(this._emit("streamEvent",e,t),e.type){case"content_block_delta":{const n=t.content.at(-1);switch(e.delta.type){case"text_delta":"text"===n.type&&this._emit("text",e.delta.text,n.text||"");break;case"citations_delta":"text"===n.type&&this._emit("citation",e.delta.citation,n.citations??[]);break;case"input_json_delta":T(n)&&n.input&&this._emit("inputJson",e.delta.partial_json,n.input);break;case"thinking_delta":"thinking"===n.type&&this._emit("thinking",e.delta.thinking,n.thinking);break;case"signature_delta":"thinking"===n.type&&this._emit("signature",n.signature);break;default:e.delta}break}case"message_stop":this._addMessageParam(t),this._addMessage(t,!0);break;case"content_block_stop":this._emit("contentBlock",t.content.at(-1));break;case"message_start":C.__classPrivateFieldSet(this,o,t,"f")}},E=function(){if(this.ended)throw new A.AnthropicError("stream has ended, this shouldn't happen");const e=C.__classPrivateFieldGet(this,o,"f");if(!e)throw new A.AnthropicError("request ended without sending any chunks");return C.__classPrivateFieldSet(this,o,void 0,"f"),e},P=function(e){let t=C.__classPrivateFieldGet(this,o,"f");if("message_start"===e.type){if(t)throw new A.AnthropicError(`Unexpected event order, got ${e.type} before receiving "message_stop"`);return e.message}if(!t)throw new A.AnthropicError(`Unexpected event order, got ${e.type} before "message_start"`);switch(e.type){case"message_stop":case"content_block_stop":return t;case"message_delta":return t.stop_reason=e.delta.stop_reason,t.stop_sequence=e.delta.stop_sequence,t.usage.output_tokens=e.usage.output_tokens,null!=e.usage.input_tokens&&(t.usage.input_tokens=e.usage.input_tokens),null!=e.usage.cache_creation_input_tokens&&(t.usage.cache_creation_input_tokens=e.usage.cache_creation_input_tokens),null!=e.usage.cache_read_input_tokens&&(t.usage.cache_read_input_tokens=e.usage.cache_read_input_tokens),null!=e.usage.server_tool_use&&(t.usage.server_tool_use=e.usage.server_tool_use),t;case"content_block_start":return t.content.push({...e.content_block}),t;case"content_block_delta":{const n=t.content.at(e.index);switch(e.delta.type){case"text_delta":"text"===n?.type&&(t.content[e.index]={...n,text:(n.text||"")+e.delta.text});break;case"citations_delta":"text"===n?.type&&(t.content[e.index]={...n,citations:[...n.citations??[],e.delta.citation]});break;case"input_json_delta":if(n&&T(n)){let r=n[R]||"";r+=e.delta.partial_json;const o={...n};Object.defineProperty(o,R,{value:r,enumerable:!1,writable:!0}),r&&(o.input=(0,I.partialParse)(r)),t.content[e.index]=o}break;case"thinking_delta":"thinking"===n?.type&&(t.content[e.index]={...n,thinking:n.thinking+e.delta.thinking});break;case"signature_delta":"thinking"===n?.type&&(t.content[e.index]={...n,signature:e.delta.signature});break;default:e.delta}return t}}},Symbol.asyncIterator)](){const e=[],t=[];let n=!1;return this.on("streamEvent",n=>{const r=t.shift();r?r.resolve(n):e.push(n)}),this.on("end",()=>{n=!0;for(const e of t)e.resolve(void 0);t.length=0}),this.on("abort",e=>{n=!0;for(const n of t)n.reject(e);t.length=0}),this.on("error",e=>{n=!0;for(const n of t)n.reject(e);t.length=0}),{next:async()=>{if(!e.length)return n?{value:void 0,done:!0}:new Promise((e,n)=>t.push({resolve:e,reject:n})).then(e=>e?{value:e,done:!1}:{value:void 0,done:!0});return{value:e.shift(),done:!1}},return:async()=>(this.abort(),{value:void 0,done:!0})}}toReadableStream(){return new x.Stream(this[Symbol.asyncIterator].bind(this),this.controller).toReadableStream()}}t.MessageStream=D},834:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Beta=void 0;const r=n(5219),o=n(6169),s=r.__importStar(n(6365)),i=n(6365),a=r.__importStar(n(1786)),c=n(1786),l=r.__importStar(n(2231)),d=n(2231);class u extends o.APIResource{constructor(){super(...arguments),this.models=new a.Models(this._client),this.messages=new l.Messages(this._client),this.files=new s.Files(this._client)}}t.Beta=u,u.Models=c.Models,u.Messages=d.Messages,u.Files=i.Files},6365:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Files=void 0;const r=n(6169),o=n(2065),s=n(2709),i=n(2505),a=n(390);class c extends r.APIResource{list(e={},t){const{betas:n,...r}=e??{};return this._client.getAPIList("/v1/files",o.Page,{query:r,...t,headers:(0,s.buildHeaders)([{"anthropic-beta":[...n??[],"files-api-2025-04-14"].toString()},t?.headers])})}delete(e,t={},n){const{betas:r}=t??{};return this._client.delete(a.path`/v1/files/${e}`,{...n,headers:(0,s.buildHeaders)([{"anthropic-beta":[...r??[],"files-api-2025-04-14"].toString()},n?.headers])})}download(e,t={},n){const{betas:r}=t??{};return this._client.get(a.path`/v1/files/${e}/content`,{...n,headers:(0,s.buildHeaders)([{"anthropic-beta":[...r??[],"files-api-2025-04-14"].toString(),Accept:"application/binary"},n?.headers]),__binaryResponse:!0})}retrieveMetadata(e,t={},n){const{betas:r}=t??{};return this._client.get(a.path`/v1/files/${e}`,{...n,headers:(0,s.buildHeaders)([{"anthropic-beta":[...r??[],"files-api-2025-04-14"].toString()},n?.headers])})}upload(e,t){const{betas:n,...r}=e;return this._client.post("/v1/files",(0,i.multipartFormRequestOptions)({body:r,...t,headers:(0,s.buildHeaders)([{"anthropic-beta":[...n??[],"files-api-2025-04-14"].toString()},t?.headers])},this._client))}}t.Files=c},1479:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Batches=void 0;const r=n(6169),o=n(2065),s=n(2709),i=n(4663),a=n(8955),c=n(390);class l extends r.APIResource{create(e,t){const{betas:n,...r}=e;return this._client.post("/v1/messages/batches?beta=true",{body:r,...t,headers:(0,s.buildHeaders)([{"anthropic-beta":[...n??[],"message-batches-2024-09-24"].toString()},t?.headers])})}retrieve(e,t={},n){const{betas:r}=t??{};return this._client.get(c.path`/v1/messages/batches/${e}?beta=true`,{...n,headers:(0,s.buildHeaders)([{"anthropic-beta":[...r??[],"message-batches-2024-09-24"].toString()},n?.headers])})}list(e={},t){const{betas:n,...r}=e??{};return this._client.getAPIList("/v1/messages/batches?beta=true",o.Page,{query:r,...t,headers:(0,s.buildHeaders)([{"anthropic-beta":[...n??[],"message-batches-2024-09-24"].toString()},t?.headers])})}delete(e,t={},n){const{betas:r}=t??{};return this._client.delete(c.path`/v1/messages/batches/${e}?beta=true`,{...n,headers:(0,s.buildHeaders)([{"anthropic-beta":[...r??[],"message-batches-2024-09-24"].toString()},n?.headers])})}cancel(e,t={},n){const{betas:r}=t??{};return this._client.post(c.path`/v1/messages/batches/${e}/cancel?beta=true`,{...n,headers:(0,s.buildHeaders)([{"anthropic-beta":[...r??[],"message-batches-2024-09-24"].toString()},n?.headers])})}async results(e,t={},n){const r=await this.retrieve(e);if(!r.results_url)throw new a.AnthropicError(`No batch \`results_url\`; Has it finished processing? ${r.processing_status} - ${r.id}`);const{betas:o}=t??{};return this._client.get(r.results_url,{...n,headers:(0,s.buildHeaders)([{"anthropic-beta":[...o??[],"message-batches-2024-09-24"].toString(),Accept:"application/binary"},n?.headers]),stream:!0,__binaryResponse:!0})._thenUnwrap((e,t)=>i.JSONLDecoder.fromResponse(t.response,t.controller))}}t.Batches=l},2231:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Messages=void 0;const r=n(5219),o=n(6169),s=r.__importStar(n(1479)),i=n(1479),a=n(2709),c=n(1940),l={"claude-1.3":"November 6th, 2024","claude-1.3-100k":"November 6th, 2024","claude-instant-1.1":"November 6th, 2024","claude-instant-1.1-100k":"November 6th, 2024","claude-instant-1.2":"November 6th, 2024","claude-3-sonnet-20240229":"July 21st, 2025","claude-3-opus-20240229":"January 5th, 2026","claude-2.1":"July 21st, 2025","claude-2.0":"July 21st, 2025","claude-3-5-sonnet-20241022":"October 22, 2025","claude-3-5-sonnet-20240620":"October 22, 2025"},d=n(3574);class u extends o.APIResource{constructor(){super(...arguments),this.batches=new s.Batches(this._client)}create(e,t){const{betas:n,...r}=e;r.model in l&&console.warn(`The model '${r.model}' is deprecated and will reach end-of-life on ${l[r.model]}\nPlease migrate to a newer model. Visit https://docs.anthropic.com/en/docs/resources/model-deprecations for more information.`);let o=this._client._options.timeout;if(!r.stream&&null==o){const e=d.MODEL_NONSTREAMING_TOKENS[r.model]??void 0;o=this._client.calculateNonstreamingTimeout(r.max_tokens,e)}return this._client.post("/v1/messages?beta=true",{body:r,timeout:o??6e5,...t,headers:(0,a.buildHeaders)([{...null!=n?.toString()?{"anthropic-beta":n?.toString()}:void 0},t?.headers]),stream:e.stream??!1})}stream(e,t){return c.BetaMessageStream.createMessage(this,e,t)}countTokens(e,t){const{betas:n,...r}=e;return this._client.post("/v1/messages/count_tokens?beta=true",{body:r,...t,headers:(0,a.buildHeaders)([{"anthropic-beta":[...n??[],"token-counting-2024-11-01"].toString()},t?.headers])})}}t.Messages=u,u.Batches=i.Batches},1786:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Models=void 0;const r=n(6169),o=n(2065),s=n(2709),i=n(390);class a extends r.APIResource{retrieve(e,t={},n){const{betas:r}=t??{};return this._client.get(i.path`/v1/models/${e}?beta=true`,{...n,headers:(0,s.buildHeaders)([{...null!=r?.toString()?{"anthropic-beta":r?.toString()}:void 0},n?.headers])})}list(e={},t){const{betas:n,...r}=e??{};return this._client.getAPIList("/v1/models?beta=true",o.Page,{query:r,...t,headers:(0,s.buildHeaders)([{...null!=n?.toString()?{"anthropic-beta":n?.toString()}:void 0},t?.headers])})}}t.Models=a},3880:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Completions=void 0;const r=n(6169),o=n(2709);class s extends r.APIResource{create(e,t){const{betas:n,...r}=e;return this._client.post("/v1/complete",{body:r,timeout:this._client._options.timeout??6e5,...t,headers:(0,o.buildHeaders)([{...null!=n?.toString()?{"anthropic-beta":n?.toString()}:void 0},t?.headers]),stream:e.stream??!1})}}t.Completions=s},2039:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Models=t.Messages=t.Completions=t.Beta=void 0;n(5219).__exportStar(n(3138),t);var r=n(834);Object.defineProperty(t,"Beta",{enumerable:!0,get:function(){return r.Beta}});var o=n(3880);Object.defineProperty(t,"Completions",{enumerable:!0,get:function(){return o.Completions}});var s=n(2982);Object.defineProperty(t,"Messages",{enumerable:!0,get:function(){return s.Messages}});var i=n(9665);Object.defineProperty(t,"Models",{enumerable:!0,get:function(){return i.Models}})},1352:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Batches=void 0;const r=n(6169),o=n(2065),s=n(2709),i=n(4663),a=n(8955),c=n(390);class l extends r.APIResource{create(e,t){return this._client.post("/v1/messages/batches",{body:e,...t})}retrieve(e,t){return this._client.get(c.path`/v1/messages/batches/${e}`,t)}list(e={},t){return this._client.getAPIList("/v1/messages/batches",o.Page,{query:e,...t})}delete(e,t){return this._client.delete(c.path`/v1/messages/batches/${e}`,t)}cancel(e,t){return this._client.post(c.path`/v1/messages/batches/${e}/cancel`,t)}async results(e,t){const n=await this.retrieve(e);if(!n.results_url)throw new a.AnthropicError(`No batch \`results_url\`; Has it finished processing? ${n.processing_status} - ${n.id}`);return this._client.get(n.results_url,{...t,headers:(0,s.buildHeaders)([{Accept:"application/binary"},t?.headers]),stream:!0,__binaryResponse:!0})._thenUnwrap((e,t)=>i.JSONLDecoder.fromResponse(t.response,t.controller))}}t.Batches=l},2982:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Messages=void 0;const r=n(5219),o=n(6169),s=n(5258),i=r.__importStar(n(1352)),a=n(1352),c=n(3574);class l extends o.APIResource{constructor(){super(...arguments),this.batches=new i.Batches(this._client)}create(e,t){e.model in d&&console.warn(`The model '${e.model}' is deprecated and will reach end-of-life on ${d[e.model]}\nPlease migrate to a newer model. Visit https://docs.anthropic.com/en/docs/resources/model-deprecations for more information.`);let n=this._client._options.timeout;if(!e.stream&&null==n){const t=c.MODEL_NONSTREAMING_TOKENS[e.model]??void 0;n=this._client.calculateNonstreamingTimeout(e.max_tokens,t)}return this._client.post("/v1/messages",{body:e,timeout:n??6e5,...t,stream:e.stream??!1})}stream(e,t){return s.MessageStream.createMessage(this,e,t)}countTokens(e,t){return this._client.post("/v1/messages/count_tokens",{body:e,...t})}}t.Messages=l;const d={"claude-1.3":"November 6th, 2024","claude-1.3-100k":"November 6th, 2024","claude-instant-1.1":"November 6th, 2024","claude-instant-1.1-100k":"November 6th, 2024","claude-instant-1.2":"November 6th, 2024","claude-3-sonnet-20240229":"July 21st, 2025","claude-3-opus-20240229":"January 5th, 2026","claude-2.1":"July 21st, 2025","claude-2.0":"July 21st, 2025","claude-3-5-sonnet-20241022":"October 22, 2025","claude-3-5-sonnet-20240620":"October 22, 2025"};l.Batches=a.Batches},9665:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Models=void 0;const r=n(6169),o=n(2065),s=n(2709),i=n(390);class a extends r.APIResource{retrieve(e,t={},n){const{betas:r}=t??{};return this._client.get(i.path`/v1/models/${e}`,{...n,headers:(0,s.buildHeaders)([{...null!=r?.toString()?{"anthropic-beta":r?.toString()}:void 0},n?.headers])})}list(e={},t){const{betas:n,...r}=e??{};return this._client.getAPIList("/v1/models",o.Page,{query:r,...t,headers:(0,s.buildHeaders)([{...null!=n?.toString()?{"anthropic-beta":n?.toString()}:void 0},t?.headers])})}}t.Models=a},3138:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},297:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});n(5219).__exportStar(n(4138),t)},953:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.VERSION=void 0,t.VERSION="0.60.0"},6107:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MalformedJSON=t.PartialJSON=t.partialParse=void 0;const n=1,r=2,o=4,s=8,i=16,a=32,c=64,l=128,d=256,u=511;class p extends Error{}t.PartialJSON=p;class m extends Error{}t.MalformedJSON=m;const h=(e,t)=>{const u=e.length;let h=0;const f=e=>{throw new p(`${e} at position ${h}`)},g=e=>{throw new m(`${e} at position ${h}`)},y=()=>(w(),h>=u&&f("Unexpected end of input"),'"'===e[h]?v():"{"===e[h]?b():"["===e[h]?S():"null"===e.substring(h,h+4)||i&t&&u-h<4&&"null".startsWith(e.substring(h))?(h+=4,null):"true"===e.substring(h,h+4)||a&t&&u-h<4&&"true".startsWith(e.substring(h))?(h+=4,!0):"false"===e.substring(h,h+5)||a&t&&u-h<5&&"false".startsWith(e.substring(h))?(h+=5,!1):"Infinity"===e.substring(h,h+8)||l&t&&u-h<8&&"Infinity".startsWith(e.substring(h))?(h+=8,1/0):"-Infinity"===e.substring(h,h+9)||d&t&&1<u-h&&u-h<9&&"-Infinity".startsWith(e.substring(h))?(h+=9,-1/0):"NaN"===e.substring(h,h+3)||c&t&&u-h<3&&"NaN".startsWith(e.substring(h))?(h+=3,NaN):_()),v=()=>{const r=h;let o=!1;for(h++;h<u&&('"'!==e[h]||o&&"\\"===e[h-1]);)o="\\"===e[h]&&!o,h++;if('"'==e.charAt(h))try{return JSON.parse(e.substring(r,++h-Number(o)))}catch(e){g(String(e))}else if(n&t)try{return JSON.parse(e.substring(r,h-Number(o))+'"')}catch(t){return JSON.parse(e.substring(r,e.lastIndexOf("\\"))+'"')}f("Unterminated string literal")},b=()=>{h++,w();const n={};try{for(;"}"!==e[h];){if(w(),h>=u&&s&t)return n;const r=v();w(),h++;try{const e=y();Object.defineProperty(n,r,{value:e,writable:!0,enumerable:!0,configurable:!0})}catch(e){if(s&t)return n;throw e}w(),","===e[h]&&h++}}catch(e){if(s&t)return n;f("Expected '}' at end of object")}return h++,n},S=()=>{h++;const n=[];try{for(;"]"!==e[h];)n.push(y()),w(),","===e[h]&&h++}catch(e){if(o&t)return n;f("Expected ']' at end of array")}return h++,n},_=()=>{if(0===h){"-"===e&&r&t&&f("Not sure what '-' is");try{return JSON.parse(e)}catch(n){if(r&t)try{return"."===e[e.length-1]?JSON.parse(e.substring(0,e.lastIndexOf("."))):JSON.parse(e.substring(0,e.lastIndexOf("e")))}catch(e){}g(String(n))}}const n=h;for("-"===e[h]&&h++;e[h]&&!",]}".includes(e[h]);)h++;h!=u||r&t||f("Unterminated number literal");try{return JSON.parse(e.substring(n,h))}catch(o){"-"===e.substring(n,h)&&r&t&&f("Not sure what '-' is");try{return JSON.parse(e.substring(n,e.lastIndexOf("e")))}catch(e){g(String(e))}}},w=()=>{for(;h<u&&" \n\r\t".includes(e[h]);)h++};return y()};t.partialParse=e=>function(e,t=u){if("string"!=typeof e)throw new TypeError("expecting str, got "+typeof e);if(!e.trim())throw new Error(`${e} is empty`);return h(e.trim(),t)}(e,u^r)},8952:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AzureOpenAI=void 0;const r=n(2345).__importStar(n(3269)),o=n(2152),s=n(9664),i=n(9267);class a extends s.OpenAI{constructor({baseURL:e=(0,o.readEnv)("OPENAI_BASE_URL"),apiKey:t=(0,o.readEnv)("AZURE_OPENAI_API_KEY"),apiVersion:n=(0,o.readEnv)("OPENAI_API_VERSION"),endpoint:s,deployment:i,azureADTokenProvider:a,dangerouslyAllowBrowser:c,...d}={}){if(!n)throw new r.OpenAIError("The OPENAI_API_VERSION environment variable is missing or empty; either provide it, or instantiate the AzureOpenAI client with an apiVersion option, like new AzureOpenAI({ apiVersion: 'My API Version' }).");if("function"==typeof a&&(c=!0),!a&&!t)throw new r.OpenAIError("Missing credentials. Please pass one of `apiKey` and `azureADTokenProvider`, or set the `AZURE_OPENAI_API_KEY` environment variable.");if(a&&t)throw new r.OpenAIError("The `apiKey` and `azureADTokenProvider` arguments are mutually exclusive; only one can be passed at a time.");if(t??(t=l),d.defaultQuery={...d.defaultQuery,"api-version":n},e){if(s)throw new r.OpenAIError("baseURL and endpoint are mutually exclusive")}else{if(s||(s=process.env.AZURE_OPENAI_ENDPOINT),!s)throw new r.OpenAIError("Must provide one of the `baseURL` or `endpoint` arguments, or the `AZURE_OPENAI_ENDPOINT` environment variable");e=`${s}/openai`}super({apiKey:t,baseURL:e,...d,...void 0!==c?{dangerouslyAllowBrowser:c}:{}}),this.apiVersion="",this._azureADTokenProvider=a,this.apiVersion=n,this.deploymentName=i}async buildRequest(e,t={}){if(c.has(e.path)&&"post"===e.method&&void 0!==e.body){if(!(0,o.isObj)(e.body))throw new Error("Expected request body to be an object");const t=this.deploymentName||e.body.model||e.__metadata?.model;void 0===t||this.baseURL.includes("/deployments")||(e.path=`/deployments/${t}${e.path}`)}return super.buildRequest(e,t)}async _getAzureADToken(){if("function"==typeof this._azureADTokenProvider){const e=await this._azureADTokenProvider();if(!e||"string"!=typeof e)throw new r.OpenAIError(`Expected 'azureADTokenProvider' argument to return a string but it returned ${e}`);return e}}async authHeaders(e){}async prepareOptions(e){if(e.headers=(0,i.buildHeaders)([e.headers]),e.headers.values.get("Authorization")||e.headers.values.get("api-key"))return super.prepareOptions(e);const t=await this._getAzureADToken();if(t)e.headers.values.set("Authorization",`Bearer ${t}`);else{if(this.apiKey===l)throw new r.OpenAIError("Unable to handle auth");e.headers.values.set("api-key",this.apiKey)}return super.prepareOptions(e)}}t.AzureOpenAI=a;const c=new Set(["/completions","/chat/completions","/embeddings","/audio/transcriptions","/audio/translations","/audio/speech","/images/generations","/batches","/images/edits"]),l="<Missing Key>"},9664:(e,t,n)=>{"use strict";var r,o,s,i;Object.defineProperty(t,"__esModule",{value:!0}),t.OpenAI=void 0;const a=n(2345),c=n(660),l=n(7325),d=n(5668),u=n(7698),p=n(8132),m=a.__importStar(n(7831)),h=a.__importStar(n(3347)),f=a.__importStar(n(9198)),g=n(3287),y=a.__importStar(n(5093)),v=a.__importStar(n(2155)),b=a.__importStar(n(7013)),S=a.__importStar(n(6889)),_=n(1999),w=n(257),E=n(4066),P=n(7435),C=n(9230),O=n(1395),A=n(2123),x=n(8328),I=n(5143),R=n(1257),T=n(8852),D=n(3164),k=n(5764),N=n(4466),j=n(198),M=n(7882),L=n(1470),F=n(9962),$=n(9494),U=n(8132),B=n(9267),G=n(3432),H=n(6273),z=n(7325);class q{constructor({baseURL:e=(0,G.readEnv)("OPENAI_BASE_URL"),apiKey:t=(0,G.readEnv)("OPENAI_API_KEY"),organization:n=(0,G.readEnv)("OPENAI_ORG_ID")??null,project:i=(0,G.readEnv)("OPENAI_PROJECT_ID")??null,webhookSecret:c=(0,G.readEnv)("OPENAI_WEBHOOK_SECRET")??null,...l}={}){if(r.add(this),s.set(this,void 0),this.completions=new S.Completions(this),this.chat=new S.Chat(this),this.embeddings=new S.Embeddings(this),this.files=new S.Files(this),this.images=new S.Images(this),this.audio=new S.Audio(this),this.moderations=new S.Moderations(this),this.models=new S.Models(this),this.fineTuning=new S.FineTuning(this),this.graders=new S.Graders(this),this.vectorStores=new S.VectorStores(this),this.webhooks=new S.Webhooks(this),this.beta=new S.Beta(this),this.batches=new S.Batches(this),this.uploads=new S.Uploads(this),this.responses=new S.Responses(this),this.evals=new S.Evals(this),this.containers=new S.Containers(this),void 0===t)throw new y.OpenAIError("The OPENAI_API_KEY environment variable is missing or empty; either provide it, or instantiate the OpenAI client with an apiKey option, like new OpenAI({ apiKey: 'My API Key' }).");const d={apiKey:t,organization:n,project:i,webhookSecret:c,...l,baseURL:e||"https://api.openai.com/v1"};if(!d.dangerouslyAllowBrowser&&(0,U.isRunningInBrowser)())throw new y.OpenAIError("It looks like you're running in a browser-like environment.\n\nThis is disabled by default, as it risks exposing your secret API credentials to attackers.\nIf you understand the risks and have appropriate mitigations in place,\nyou can set the `dangerouslyAllowBrowser` option to `true`, e.g.,\n\nnew OpenAI({ apiKey, dangerouslyAllowBrowser: true });\n\nhttps://help.openai.com/en/articles/5112595-best-practices-for-api-key-safety\n");this.baseURL=d.baseURL,this.timeout=d.timeout??o.DEFAULT_TIMEOUT,this.logger=d.logger??console;const u="warn";this.logLevel=u,this.logLevel=(0,H.parseLogLevel)(d.logLevel,"ClientOptions.logLevel",this)??(0,H.parseLogLevel)((0,G.readEnv)("OPENAI_LOG"),"process.env['OPENAI_LOG']",this)??u,this.fetchOptions=d.fetchOptions,this.maxRetries=d.maxRetries??2,this.fetch=d.fetch??m.getDefaultFetch(),a.__classPrivateFieldSet(this,s,h.FallbackEncoder,"f"),this._options=d,this.apiKey=t,this.organization=n,this.project=i,this.webhookSecret=c}withOptions(e){return new this.constructor({...this._options,baseURL:this.baseURL,maxRetries:this.maxRetries,timeout:this.timeout,logger:this.logger,logLevel:this.logLevel,fetch:this.fetch,fetchOptions:this.fetchOptions,apiKey:this.apiKey,organization:this.organization,project:this.project,webhookSecret:this.webhookSecret,...e})}defaultQuery(){return this._options.defaultQuery}validateHeaders({values:e,nulls:t}){}async authHeaders(e){return(0,B.buildHeaders)([{Authorization:`Bearer ${this.apiKey}`}])}stringifyQuery(e){return f.stringify(e,{arrayFormat:"brackets"})}getUserAgent(){return`${this.constructor.name}/JS ${g.VERSION}`}defaultIdempotencyKey(){return`stainless-node-retry-${(0,c.uuid4)()}`}makeStatusError(e,t,n,r){return y.APIError.generate(e,t,n,r)}buildURL(e,t,n){const o=!a.__classPrivateFieldGet(this,r,"m",i).call(this)&&n||this.baseURL,s=(0,l.isAbsoluteURL)(e)?new URL(e):new URL(o+(o.endsWith("/")&&e.startsWith("/")?e.slice(1):e)),c=this.defaultQuery();return(0,z.isEmptyObj)(c)||(t={...c,...t}),"object"==typeof t&&t&&!Array.isArray(t)&&(s.search=this.stringifyQuery(t)),s.toString()}async prepareOptions(e){}async prepareRequest(e,{url:t,options:n}){}get(e,t){return this.methodRequest("get",e,t)}post(e,t){return this.methodRequest("post",e,t)}patch(e,t){return this.methodRequest("patch",e,t)}put(e,t){return this.methodRequest("put",e,t)}delete(e,t){return this.methodRequest("delete",e,t)}methodRequest(e,t,n){return this.request(Promise.resolve(n).then(n=>({method:e,path:t,...n})))}request(e,t=null){return new _.APIPromise(this,this.makeRequest(e,t,void 0))}async makeRequest(e,t,n){const r=await e,o=r.maxRetries??this.maxRetries;null==t&&(t=o),await this.prepareOptions(r);const{req:s,url:i,timeout:a}=await this.buildRequest(r,{retryCount:o-t});await this.prepareRequest(s,{url:i,options:r});const c="log_"+(Math.random()*(1<<24)|0).toString(16).padStart(6,"0"),d=void 0===n?"":`, retryOf: ${n}`,p=Date.now();if((0,H.loggerFor)(this).debug(`[${c}] sending request`,(0,H.formatRequestDetails)({retryOfRequestLogID:n,method:r.method,url:i,options:r,headers:s.headers})),r.signal?.aborted)throw new y.APIUserAbortError;const h=new AbortController,f=await this.fetchWithTimeout(i,s,a,h).catch(u.castToError),g=Date.now();if(f instanceof Error){const e=`retrying, ${t} attempts remaining`;if(r.signal?.aborted)throw new y.APIUserAbortError;const o=(0,u.isAbortError)(f)||/timed? ?out/i.test(String(f)+("cause"in f?String(f.cause):""));if(t)return(0,H.loggerFor)(this).info(`[${c}] connection ${o?"timed out":"failed"} - ${e}`),(0,H.loggerFor)(this).debug(`[${c}] connection ${o?"timed out":"failed"} (${e})`,(0,H.formatRequestDetails)({retryOfRequestLogID:n,url:i,durationMs:g-p,message:f.message})),this.retryRequest(r,t,n??c);if((0,H.loggerFor)(this).info(`[${c}] connection ${o?"timed out":"failed"} - error; no more retries left`),(0,H.loggerFor)(this).debug(`[${c}] connection ${o?"timed out":"failed"} (error; no more retries left)`,(0,H.formatRequestDetails)({retryOfRequestLogID:n,url:i,durationMs:g-p,message:f.message})),o)throw new y.APIConnectionTimeoutError;throw new y.APIConnectionError({cause:f})}const v=`[${c}${d}${[...f.headers.entries()].filter(([e])=>"x-request-id"===e).map(([e,t])=>", "+e+": "+JSON.stringify(t)).join("")}] ${s.method} ${i} ${f.ok?"succeeded":"failed"} with status ${f.status} in ${g-p}ms`;if(!f.ok){const e=await this.shouldRetry(f);if(t&&e){const e=`retrying, ${t} attempts remaining`;return await m.CancelReadableStream(f.body),(0,H.loggerFor)(this).info(`${v} - ${e}`),(0,H.loggerFor)(this).debug(`[${c}] response error (${e})`,(0,H.formatRequestDetails)({retryOfRequestLogID:n,url:f.url,status:f.status,headers:f.headers,durationMs:g-p})),this.retryRequest(r,t,n??c,f.headers)}const o=e?"error; no more retries left":"error; not retryable";(0,H.loggerFor)(this).info(`${v} - ${o}`);const s=await f.text().catch(e=>(0,u.castToError)(e).message),i=(0,l.safeJSON)(s),a=i?void 0:s;(0,H.loggerFor)(this).debug(`[${c}] response error (${o})`,(0,H.formatRequestDetails)({retryOfRequestLogID:n,url:f.url,status:f.status,headers:f.headers,message:a,durationMs:Date.now()-p}));throw this.makeStatusError(f.status,i,a,f.headers)}return(0,H.loggerFor)(this).info(v),(0,H.loggerFor)(this).debug(`[${c}] response start`,(0,H.formatRequestDetails)({retryOfRequestLogID:n,url:f.url,status:f.status,headers:f.headers,durationMs:g-p})),{response:f,options:r,controller:h,requestLogID:c,retryOfRequestLogID:n,startTime:p}}getAPIList(e,t,n){return this.requestAPIList(t,{method:"get",path:e,...n})}requestAPIList(e,t){const n=this.makeRequest(t,null,void 0);return new v.PagePromise(this,n,e)}async fetchWithTimeout(e,t,n,r){const{signal:o,method:s,...i}=t||{};o&&o.addEventListener("abort",()=>r.abort());const a=setTimeout(()=>r.abort(),n),c=globalThis.ReadableStream&&i.body instanceof globalThis.ReadableStream||"object"==typeof i.body&&null!==i.body&&Symbol.asyncIterator in i.body,l={signal:r.signal,...c?{duplex:"half"}:{},method:"GET",...i};s&&(l.method=s.toUpperCase());try{return await this.fetch.call(void 0,e,l)}finally{clearTimeout(a)}}async shouldRetry(e){const t=e.headers.get("x-should-retry");return"true"===t||"false"!==t&&(408===e.status||(409===e.status||(429===e.status||e.status>=500)))}async retryRequest(e,t,n,r){let o;const s=r?.get("retry-after-ms");if(s){const e=parseFloat(s);Number.isNaN(e)||(o=e)}const i=r?.get("retry-after");if(i&&!o){const e=parseFloat(i);o=Number.isNaN(e)?Date.parse(i)-Date.now():1e3*e}if(!(o&&0<=o&&o<6e4)){const n=e.maxRetries??this.maxRetries;o=this.calculateDefaultRetryTimeoutMillis(t,n)}return await(0,d.sleep)(o),this.makeRequest(e,t-1,n)}calculateDefaultRetryTimeoutMillis(e,t){const n=t-e;return Math.min(.5*Math.pow(2,n),8)*(1-.25*Math.random())*1e3}async buildRequest(e,{retryCount:t=0}={}){const n={...e},{method:r,path:o,query:s,defaultBaseURL:i}=n,a=this.buildURL(o,s,i);"timeout"in n&&(0,l.validatePositiveInteger)("timeout",n.timeout),n.timeout=n.timeout??this.timeout;const{bodyHeaders:c,body:d}=this.buildBody({options:n});return{req:{method:r,headers:await this.buildHeaders({options:e,method:r,bodyHeaders:c,retryCount:t}),...n.signal&&{signal:n.signal},...globalThis.ReadableStream&&d instanceof globalThis.ReadableStream&&{duplex:"half"},...d&&{body:d},...this.fetchOptions??{},...n.fetchOptions??{}},url:a,timeout:n.timeout}}async buildHeaders({options:e,method:t,bodyHeaders:n,retryCount:r}){let o={};this.idempotencyHeader&&"get"!==t&&(e.idempotencyKey||(e.idempotencyKey=this.defaultIdempotencyKey()),o[this.idempotencyHeader]=e.idempotencyKey);const s=(0,B.buildHeaders)([o,{Accept:"application/json","User-Agent":this.getUserAgent(),"X-Stainless-Retry-Count":String(r),...e.timeout?{"X-Stainless-Timeout":String(Math.trunc(e.timeout/1e3))}:{},...(0,p.getPlatformHeaders)(),"OpenAI-Organization":this.organization,"OpenAI-Project":this.project},await this.authHeaders(e),this._options.defaultHeaders,n,e.headers]);return this.validateHeaders(s),s.values}buildBody({options:{body:e,headers:t}}){if(!e)return{bodyHeaders:void 0,body:void 0};const n=(0,B.buildHeaders)([t]);return ArrayBuffer.isView(e)||e instanceof ArrayBuffer||e instanceof DataView||"string"==typeof e&&n.values.has("content-type")||e instanceof Blob||e instanceof FormData||e instanceof URLSearchParams||globalThis.ReadableStream&&e instanceof globalThis.ReadableStream?{bodyHeaders:void 0,body:e}:"object"==typeof e&&(Symbol.asyncIterator in e||Symbol.iterator in e&&"next"in e&&"function"==typeof e.next)?{bodyHeaders:void 0,body:m.ReadableStreamFrom(e)}:a.__classPrivateFieldGet(this,s,"f").call(this,{body:e,headers:n})}}t.OpenAI=q,o=q,s=new WeakMap,r=new WeakSet,i=function(){return"https://api.openai.com/v1"!==this.baseURL},q.OpenAI=o,q.DEFAULT_TIMEOUT=6e5,q.OpenAIError=y.OpenAIError,q.APIError=y.APIError,q.APIConnectionError=y.APIConnectionError,q.APIConnectionTimeoutError=y.APIConnectionTimeoutError,q.APIUserAbortError=y.APIUserAbortError,q.NotFoundError=y.NotFoundError,q.ConflictError=y.ConflictError,q.RateLimitError=y.RateLimitError,q.BadRequestError=y.BadRequestError,q.AuthenticationError=y.AuthenticationError,q.InternalServerError=y.InternalServerError,q.PermissionDeniedError=y.PermissionDeniedError,q.UnprocessableEntityError=y.UnprocessableEntityError,q.InvalidWebhookSignatureError=y.InvalidWebhookSignatureError,q.toFile=b.toFile,q.Completions=E.Completions,q.Chat=D.Chat,q.Embeddings=P.Embeddings,q.Files=C.Files,q.Images=O.Images,q.Audio=R.Audio,q.Moderations=x.Moderations,q.Models=A.Models,q.FineTuning=j.FineTuning,q.Graders=M.Graders,q.VectorStores=$.VectorStores,q.Webhooks=I.Webhooks,q.Beta=T.Beta,q.Batches=w.Batches,q.Uploads=F.Uploads,q.Responses=L.Responses,q.Evals=N.Evals,q.Containers=k.Containers},1999:(e,t,n)=>{"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),t.APIPromise=void 0;const o=n(2345),s=n(3426);class i extends Promise{constructor(e,t,n=s.defaultParseResponse){super(e=>{e(null)}),this.responsePromise=t,this.parseResponse=n,r.set(this,void 0),o.__classPrivateFieldSet(this,r,e,"f")}_thenUnwrap(e){return new i(o.__classPrivateFieldGet(this,r,"f"),this.responsePromise,async(t,n)=>(0,s.addRequestID)(e(await this.parseResponse(t,n),n),n.response))}asResponse(){return this.responsePromise.then(e=>e.response)}async withResponse(){const[e,t]=await Promise.all([this.parse(),this.asResponse()]);return{data:e,response:t,request_id:t.headers.get("x-request-id")}}parse(){return this.parsedPromise||(this.parsedPromise=this.responsePromise.then(e=>this.parseResponse(o.__classPrivateFieldGet(this,r,"f"),e))),this.parsedPromise}then(e,t){return this.parse().then(e,t)}catch(e){return this.parse().catch(e)}finally(e){return this.parse().finally(e)}}t.APIPromise=i,r=new WeakMap},5093:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.InvalidWebhookSignatureError=t.ContentFilterFinishReasonError=t.LengthFinishReasonError=t.InternalServerError=t.RateLimitError=t.UnprocessableEntityError=t.ConflictError=t.NotFoundError=t.PermissionDeniedError=t.AuthenticationError=t.BadRequestError=t.APIConnectionTimeoutError=t.APIConnectionError=t.APIUserAbortError=t.APIError=t.OpenAIError=void 0;const r=n(7698);class o extends Error{}t.OpenAIError=o;class s extends o{constructor(e,t,n,r){super(`${s.makeMessage(e,t,n)}`),this.status=e,this.headers=r,this.requestID=r?.get("x-request-id"),this.error=t;const o=t;this.code=o?.code,this.param=o?.param,this.type=o?.type}static makeMessage(e,t,n){const r=t?.message?"string"==typeof t.message?t.message:JSON.stringify(t.message):t?JSON.stringify(t):n;return e&&r?`${e} ${r}`:e?`${e} status code (no body)`:r||"(no status code or body)"}static generate(e,t,n,o){if(!e||!o)return new i({message:n,cause:(0,r.castToError)(t)});const f=t?.error;return 400===e?new a(e,f,n,o):401===e?new c(e,f,n,o):403===e?new l(e,f,n,o):404===e?new d(e,f,n,o):409===e?new u(e,f,n,o):422===e?new p(e,f,n,o):429===e?new m(e,f,n,o):e>=500?new h(e,f,n,o):new s(e,f,n,o)}}t.APIError=s;t.APIUserAbortError=class extends s{constructor({message:e}={}){super(void 0,void 0,e||"Request was aborted.",void 0)}};class i extends s{constructor({message:e,cause:t}){super(void 0,void 0,e||"Connection error.",void 0),t&&(this.cause=t)}}t.APIConnectionError=i;t.APIConnectionTimeoutError=class extends i{constructor({message:e}={}){super({message:e??"Request timed out."})}};class a extends s{}t.BadRequestError=a;class c extends s{}t.AuthenticationError=c;class l extends s{}t.PermissionDeniedError=l;class d extends s{}t.NotFoundError=d;class u extends s{}t.ConflictError=u;class p extends s{}t.UnprocessableEntityError=p;class m extends s{}t.RateLimitError=m;class h extends s{}t.InternalServerError=h;t.LengthFinishReasonError=class extends o{constructor(){super("Could not parse response content as the length limit was reached")}};t.ContentFilterFinishReasonError=class extends o{constructor(){super("Could not parse response content as the request was rejected by the content filter")}};class f extends Error{constructor(e){super(e)}}t.InvalidWebhookSignatureError=f},2155:(e,t,n)=>{"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),t.CursorPage=t.Page=t.PagePromise=t.AbstractPage=void 0;const o=n(2345),s=n(5093),i=n(3426),a=n(1999),c=n(7325);class l{constructor(e,t,n,s){r.set(this,void 0),o.__classPrivateFieldSet(this,r,e,"f"),this.options=s,this.response=t,this.body=n}hasNextPage(){return!!this.getPaginatedItems().length&&null!=this.nextPageRequestOptions()}async getNextPage(){const e=this.nextPageRequestOptions();if(!e)throw new s.OpenAIError("No next page expected; please check `.hasNextPage()` before calling `.getNextPage()`.");return await o.__classPrivateFieldGet(this,r,"f").requestAPIList(this.constructor,e)}async*iterPages(){let e=this;for(yield e;e.hasNextPage();)e=await e.getNextPage(),yield e}async*[(r=new WeakMap,Symbol.asyncIterator)](){for await(const e of this.iterPages())for(const t of e.getPaginatedItems())yield t}}t.AbstractPage=l;class d extends a.APIPromise{constructor(e,t,n){super(e,t,async(e,t)=>new n(e,t.response,await(0,i.defaultParseResponse)(e,t),t.options))}async*[Symbol.asyncIterator](){const e=await(this);for await(const t of e)yield t}}t.PagePromise=d;t.Page=class extends l{constructor(e,t,n,r){super(e,t,n,r),this.data=n.data||[],this.object=n.object}getPaginatedItems(){return this.data??[]}nextPageRequestOptions(){return null}};t.CursorPage=class extends l{constructor(e,t,n,r){super(e,t,n,r),this.data=n.data||[],this.has_more=n.has_more||!1}getPaginatedItems(){return this.data??[]}hasNextPage(){return!1!==this.has_more&&super.hasNextPage()}nextPageRequestOptions(){const e=this.getPaginatedItems(),t=e[e.length-1]?.id;return t?{...this.options,query:{...(0,c.maybeObj)(this.options.query),after:t}}:null}}},9487:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.APIResource=void 0;t.APIResource=class{constructor(e){this._client=e}}},7787:(e,t,n)=>{"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),t.Stream=void 0,t._iterSSEMessages=h;const o=n(2345),s=n(5093),i=n(7831),a=n(717),c=n(7831),l=n(7698),d=n(9948),u=n(6273),p=n(5093);class m{constructor(e,t,n){this.iterator=e,r.set(this,void 0),this.controller=t,o.__classPrivateFieldSet(this,r,n,"f")}static fromSSEResponse(e,t,n){let r=!1;const o=n?(0,u.loggerFor)(n):console;return new m(async function*(){if(r)throw new s.OpenAIError("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");r=!0;let n=!1;try{for await(const r of h(e,t))if(!n)if(r.data.startsWith("[DONE]"))n=!0;else if(null!==r.event&&r.event.startsWith("thread.")){let e;try{e=JSON.parse(r.data)}catch(e){throw console.error("Could not parse message into JSON:",r.data),console.error("From chunk:",r.raw),e}if("error"==r.event)throw new p.APIError(void 0,e.error,e.message,void 0);yield{event:r.event,data:e}}else{let t;try{t=JSON.parse(r.data)}catch(e){throw o.error("Could not parse message into JSON:",r.data),o.error("From chunk:",r.raw),e}if(t&&t.error)throw new p.APIError(void 0,t.error,void 0,e.headers);yield t}n=!0}catch(e){if((0,l.isAbortError)(e))return;throw e}finally{n||t.abort()}},t,n)}static fromReadableStream(e,t,n){let r=!1;return new m(async function*(){if(r)throw new s.OpenAIError("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");r=!0;let n=!1;try{for await(const t of async function*(){const t=new a.LineDecoder,n=(0,c.ReadableStreamToAsyncIterable)(e);for await(const e of n)for(const n of t.decode(e))yield n;for(const e of t.flush())yield e}())n||t&&(yield JSON.parse(t));n=!0}catch(e){if((0,l.isAbortError)(e))return;throw e}finally{n||t.abort()}},t,n)}[(r=new WeakMap,Symbol.asyncIterator)](){return this.iterator()}tee(){const e=[],t=[],n=this.iterator(),s=r=>({next:()=>{if(0===r.length){const r=n.next();e.push(r),t.push(r)}return r.shift()}});return[new m(()=>s(e),this.controller,o.__classPrivateFieldGet(this,r,"f")),new m(()=>s(t),this.controller,o.__classPrivateFieldGet(this,r,"f"))]}toReadableStream(){const e=this;let t;return(0,i.makeReadableStream)({async start(){t=e[Symbol.asyncIterator]()},async pull(e){try{const{value:n,done:r}=await t.next();if(r)return e.close();const o=(0,d.encodeUTF8)(JSON.stringify(n)+"\n");e.enqueue(o)}catch(t){e.error(t)}},async cancel(){await(t.return?.())}})}}async function*h(e,t){if(!e.body){if(t.abort(),void 0!==globalThis.navigator&&"ReactNative"===globalThis.navigator.product)throw new s.OpenAIError("The default react-native fetch implementation does not support streaming. Please use expo/fetch: https://docs.expo.dev/versions/latest/sdk/expo/#expofetch-api");throw new s.OpenAIError("Attempted to iterate over a response with no body")}const n=new f,r=new a.LineDecoder,o=(0,c.ReadableStreamToAsyncIterable)(e.body);for await(const e of async function*(e){let t=new Uint8Array;for await(const n of e){if(null==n)continue;const e=n instanceof ArrayBuffer?new Uint8Array(n):"string"==typeof n?(0,d.encodeUTF8)(n):n;let r,o=new Uint8Array(t.length+e.length);for(o.set(t),o.set(e,t.length),t=o;-1!==(r=(0,a.findDoubleNewlineIndex)(t));)yield t.slice(0,r),t=t.slice(r)}t.length>0&&(yield t)}(o))for(const t of r.decode(e)){const e=n.decode(t);e&&(yield e)}for(const e of r.flush()){const t=n.decode(e);t&&(yield t)}}t.Stream=m;class f{constructor(){this.event=null,this.data=[],this.chunks=[]}decode(e){if(e.endsWith("\r")&&(e=e.substring(0,e.length-1)),!e){if(!this.event&&!this.data.length)return null;const e={event:this.event,data:this.data.join("\n"),raw:this.chunks};return this.event=null,this.data=[],this.chunks=[],e}if(this.chunks.push(e),e.startsWith(":"))return null;let[t,n,r]=function(e,t){const n=e.indexOf(t);if(-1!==n)return[e.substring(0,n),t,e.substring(n+t.length)];return[e,"",""]}(e,":");return r.startsWith(" ")&&(r=r.substring(1)),"event"===t?this.event=r:"data"===t&&this.data.push(r),null}}},7013:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.toFile=void 0;var r=n(7219);Object.defineProperty(t,"toFile",{enumerable:!0,get:function(){return r.toFile}})},3269:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});n(2345).__exportStar(n(5093),t)},2583:(e,t,n)=>{"use strict";t=e.exports=function(...e){return new t.default(...e)},Object.defineProperty(t,"__esModule",{value:!0}),t.AzureOpenAI=t.InvalidWebhookSignatureError=t.UnprocessableEntityError=t.PermissionDeniedError=t.InternalServerError=t.AuthenticationError=t.BadRequestError=t.RateLimitError=t.ConflictError=t.NotFoundError=t.APIUserAbortError=t.APIConnectionTimeoutError=t.APIConnectionError=t.APIError=t.OpenAIError=t.PagePromise=t.OpenAI=t.APIPromise=t.toFile=t.default=void 0;var r=n(9664);Object.defineProperty(t,"default",{enumerable:!0,get:function(){return r.OpenAI}});var o=n(7013);Object.defineProperty(t,"toFile",{enumerable:!0,get:function(){return o.toFile}});var s=n(1999);Object.defineProperty(t,"APIPromise",{enumerable:!0,get:function(){return s.APIPromise}});var i=n(9664);Object.defineProperty(t,"OpenAI",{enumerable:!0,get:function(){return i.OpenAI}});var a=n(2155);Object.defineProperty(t,"PagePromise",{enumerable:!0,get:function(){return a.PagePromise}});var c=n(5093);Object.defineProperty(t,"OpenAIError",{enumerable:!0,get:function(){return c.OpenAIError}}),Object.defineProperty(t,"APIError",{enumerable:!0,get:function(){return c.APIError}}),Object.defineProperty(t,"APIConnectionError",{enumerable:!0,get:function(){return c.APIConnectionError}}),Object.defineProperty(t,"APIConnectionTimeoutError",{enumerable:!0,get:function(){return c.APIConnectionTimeoutError}}),Object.defineProperty(t,"APIUserAbortError",{enumerable:!0,get:function(){return c.APIUserAbortError}}),Object.defineProperty(t,"NotFoundError",{enumerable:!0,get:function(){return c.NotFoundError}}),Object.defineProperty(t,"ConflictError",{enumerable:!0,get:function(){return c.ConflictError}}),Object.defineProperty(t,"RateLimitError",{enumerable:!0,get:function(){return c.RateLimitError}}),Object.defineProperty(t,"BadRequestError",{enumerable:!0,get:function(){return c.BadRequestError}}),Object.defineProperty(t,"AuthenticationError",{enumerable:!0,get:function(){return c.AuthenticationError}}),Object.defineProperty(t,"InternalServerError",{enumerable:!0,get:function(){return c.InternalServerError}}),Object.defineProperty(t,"PermissionDeniedError",{enumerable:!0,get:function(){return c.PermissionDeniedError}}),Object.defineProperty(t,"UnprocessableEntityError",{enumerable:!0,get:function(){return c.UnprocessableEntityError}}),Object.defineProperty(t,"InvalidWebhookSignatureError",{enumerable:!0,get:function(){return c.InvalidWebhookSignatureError}});var l=n(8952);Object.defineProperty(t,"AzureOpenAI",{enumerable:!0,get:function(){return l.AzureOpenAI}})},717:(e,t,n)=>{"use strict";var r,o;Object.defineProperty(t,"__esModule",{value:!0}),t.LineDecoder=void 0,t.findDoubleNewlineIndex=function(e){for(let t=0;t<e.length-1;t++){if(10===e[t]&&10===e[t+1])return t+2;if(13===e[t]&&13===e[t+1])return t+2;if(13===e[t]&&10===e[t+1]&&t+3<e.length&&13===e[t+2]&&10===e[t+3])return t+4}return-1};const s=n(2345),i=n(9948);class a{constructor(){r.set(this,void 0),o.set(this,void 0),s.__classPrivateFieldSet(this,r,new Uint8Array,"f"),s.__classPrivateFieldSet(this,o,null,"f")}decode(e){if(null==e)return[];const t=e instanceof ArrayBuffer?new Uint8Array(e):"string"==typeof e?(0,i.encodeUTF8)(e):e;s.__classPrivateFieldSet(this,r,(0,i.concatBytes)([s.__classPrivateFieldGet(this,r,"f"),t]),"f");const n=[];let a;for(;null!=(a=c(s.__classPrivateFieldGet(this,r,"f"),s.__classPrivateFieldGet(this,o,"f")));){if(a.carriage&&null==s.__classPrivateFieldGet(this,o,"f")){s.__classPrivateFieldSet(this,o,a.index,"f");continue}if(null!=s.__classPrivateFieldGet(this,o,"f")&&(a.index!==s.__classPrivateFieldGet(this,o,"f")+1||a.carriage)){n.push((0,i.decodeUTF8)(s.__classPrivateFieldGet(this,r,"f").subarray(0,s.__classPrivateFieldGet(this,o,"f")-1))),s.__classPrivateFieldSet(this,r,s.__classPrivateFieldGet(this,r,"f").subarray(s.__classPrivateFieldGet(this,o,"f")),"f"),s.__classPrivateFieldSet(this,o,null,"f");continue}const e=null!==s.__classPrivateFieldGet(this,o,"f")?a.preceding-1:a.preceding,t=(0,i.decodeUTF8)(s.__classPrivateFieldGet(this,r,"f").subarray(0,e));n.push(t),s.__classPrivateFieldSet(this,r,s.__classPrivateFieldGet(this,r,"f").subarray(a.index),"f"),s.__classPrivateFieldSet(this,o,null,"f")}return n}flush(){return s.__classPrivateFieldGet(this,r,"f").length?this.decode("\n"):[]}}function c(e,t){for(let n=t??0;n<e.length;n++){if(10===e[n])return{preceding:n,index:n+1,carriage:!1};if(13===e[n])return{preceding:n,index:n+1,carriage:!0}}return null}t.LineDecoder=a,r=new WeakMap,o=new WeakMap,a.NEWLINE_CHARS=new Set(["\n","\r"]),a.NEWLINE_REGEXP=/\r\n|[\n\r]/g},8132:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getPlatformHeaders=t.isRunningInBrowser=void 0;const r=n(3287);t.isRunningInBrowser=()=>"undefined"!=typeof window&&void 0!==window.document&&"undefined"!=typeof navigator;const o=()=>{const e="undefined"!=typeof Deno&&null!=Deno.build?"deno":"undefined"!=typeof EdgeRuntime?"edge":"[object process]"===Object.prototype.toString.call(void 0!==globalThis.process?globalThis.process:0)?"node":"unknown";if("deno"===e)return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":r.VERSION,"X-Stainless-OS":i(Deno.build.os),"X-Stainless-Arch":s(Deno.build.arch),"X-Stainless-Runtime":"deno","X-Stainless-Runtime-Version":"string"==typeof Deno.version?Deno.version:Deno.version?.deno??"unknown"};if("undefined"!=typeof EdgeRuntime)return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":r.VERSION,"X-Stainless-OS":"Unknown","X-Stainless-Arch":`other:${EdgeRuntime}`,"X-Stainless-Runtime":"edge","X-Stainless-Runtime-Version":globalThis.process.version};if("node"===e)return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":r.VERSION,"X-Stainless-OS":i(globalThis.process.platform??"unknown"),"X-Stainless-Arch":s(globalThis.process.arch??"unknown"),"X-Stainless-Runtime":"node","X-Stainless-Runtime-Version":globalThis.process.version??"unknown"};const t=function(){if("undefined"==typeof navigator||!navigator)return null;const e=[{key:"edge",pattern:/Edge(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/MSIE(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/Trident(?:.*rv\:(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"chrome",pattern:/Chrome(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"firefox",pattern:/Firefox(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"safari",pattern:/(?:Version\W+(\d+)\.(\d+)(?:\.(\d+))?)?(?:\W+Mobile\S*)?\W+Safari/}];for(const{key:t,pattern:n}of e){const e=n.exec(navigator.userAgent);if(e){return{browser:t,version:`${e[1]||0}.${e[2]||0}.${e[3]||0}`}}}return null}();return t?{"X-Stainless-Lang":"js","X-Stainless-Package-Version":r.VERSION,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":`browser:${t.browser}`,"X-Stainless-Runtime-Version":t.version}:{"X-Stainless-Lang":"js","X-Stainless-Package-Version":r.VERSION,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":"unknown","X-Stainless-Runtime-Version":"unknown"}};const s=e=>"x32"===e?"x32":"x86_64"===e||"x64"===e?"x64":"arm"===e?"arm":"aarch64"===e||"arm64"===e?"arm64":e?`other:${e}`:"unknown",i=e=>(e=e.toLowerCase()).includes("ios")?"iOS":"android"===e?"Android":"darwin"===e?"MacOS":"win32"===e?"Windows":"freebsd"===e?"FreeBSD":"openbsd"===e?"OpenBSD":"linux"===e?"Linux":e?`Other:${e}`:"Unknown";let a;t.getPlatformHeaders=()=>a??(a=o())},7698:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.castToError=void 0,t.isAbortError=function(e){return"object"==typeof e&&null!==e&&("name"in e&&"AbortError"===e.name||"message"in e&&String(e.message).includes("FetchRequestCanceledException"))};t.castToError=e=>{if(e instanceof Error)return e;if("object"==typeof e&&null!==e){try{if("[object Error]"===Object.prototype.toString.call(e)){const t=new Error(e.message,e.cause?{cause:e.cause}:{});return e.stack&&(t.stack=e.stack),e.cause&&!t.cause&&(t.cause=e.cause),e.name&&(t.name=e.name),t}}catch{}try{return new Error(JSON.stringify(e))}catch{}}return new Error(e)}},9267:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isEmptyHeaders=t.buildHeaders=void 0;const r=n(7325),o=Symbol("brand.privateNullableHeaders");function*s(e){if(!e)return;if(o in e){const{values:t,nulls:n}=e;yield*t.entries();for(const e of n)yield[e,null];return}let t,n=!1;e instanceof Headers?t=e.entries():(0,r.isReadonlyArray)(e)?t=e:(n=!0,t=Object.entries(e??{}));for(let e of t){const t=e[0];if("string"!=typeof t)throw new TypeError("expected header name to be a string");const o=(0,r.isReadonlyArray)(e[1])?e[1]:[e[1]];let s=!1;for(const e of o)void 0!==e&&(n&&!s&&(s=!0,yield[t,null]),yield[t,e])}}t.buildHeaders=e=>{const t=new Headers,n=new Set;for(const r of e){const e=new Set;for(const[o,i]of s(r)){const r=o.toLowerCase();e.has(r)||(t.delete(o),e.add(r)),null===i?(t.delete(o),n.add(r)):(t.append(o,i),n.delete(r))}}return{[o]:!0,values:t,nulls:n}};t.isEmptyHeaders=e=>{for(const t of s(e))return!1;return!0}},3426:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.defaultParseResponse=async function(e,t){const{response:n,requestLogID:i,retryOfRequestLogID:a,startTime:c}=t,l=await(async()=>{if(t.options.stream)return(0,o.loggerFor)(e).debug("response",n.status,n.url,n.headers,n.body),t.options.__streamClass?t.options.__streamClass.fromSSEResponse(n,t.controller,e):r.Stream.fromSSEResponse(n,t.controller,e);if(204===n.status)return null;if(t.options.__binaryResponse)return n;const i=n.headers.get("content-type"),a=i?.split(";")[0]?.trim();if(a?.includes("application/json")||a?.endsWith("+json")){return s(await n.json(),n)}return await n.text()})();return(0,o.loggerFor)(e).debug(`[${i}] response parsed`,(0,o.formatRequestDetails)({retryOfRequestLogID:a,url:n.url,status:n.status,body:l,durationMs:Date.now()-c})),l},t.addRequestID=s;const r=n(7787),o=n(6273);function s(e,t){return!e||"object"!=typeof e||Array.isArray(e)?e:Object.defineProperty(e,"_request_id",{value:t.headers.get("x-request-id"),enumerable:!1})}},6250:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.RFC3986=t.RFC1738=t.formatters=t.default_formatter=t.default_format=void 0,t.default_format="RFC3986";t.default_formatter=e=>String(e),t.formatters={RFC1738:e=>String(e).replace(/%20/g,"+"),RFC3986:t.default_formatter},t.RFC1738="RFC1738",t.RFC3986="RFC3986"},9198:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.formats=t.stringify=void 0;const r=n(6250),o={formatters:r.formatters,RFC1738:r.RFC1738,RFC3986:r.RFC3986,default:r.default_format};t.formats=o;var s=n(1123);Object.defineProperty(t,"stringify",{enumerable:!0,get:function(){return s.stringify}})},1123:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.stringify=function(e,t={}){let n=e;const c=function(e=l){if(void 0!==e.allowEmptyArrays&&"boolean"!=typeof e.allowEmptyArrays)throw new TypeError("`allowEmptyArrays` option can only be `true` or `false`, when provided");if(void 0!==e.encodeDotInKeys&&"boolean"!=typeof e.encodeDotInKeys)throw new TypeError("`encodeDotInKeys` option can only be `true` or `false`, when provided");if(null!==e.encoder&&void 0!==e.encoder&&"function"!=typeof e.encoder)throw new TypeError("Encoder has to be a function.");const t=e.charset||l.charset;if(void 0!==e.charset&&"utf-8"!==e.charset&&"iso-8859-1"!==e.charset)throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");let n=o.default_format;if(void 0!==e.format){if(!(0,r.has)(o.formatters,e.format))throw new TypeError("Unknown format option provided.");n=e.format}const a=o.formatters[n];let c,d=l.filter;("function"==typeof e.filter||(0,s.isArray)(e.filter))&&(d=e.filter);c=e.arrayFormat&&e.arrayFormat in i?e.arrayFormat:"indices"in e?e.indices?"indices":"repeat":l.arrayFormat;if("commaRoundTrip"in e&&"boolean"!=typeof e.commaRoundTrip)throw new TypeError("`commaRoundTrip` must be a boolean, or absent");const u=void 0===e.allowDots?!0==!!e.encodeDotInKeys||l.allowDots:!!e.allowDots;return{addQueryPrefix:"boolean"==typeof e.addQueryPrefix?e.addQueryPrefix:l.addQueryPrefix,allowDots:u,allowEmptyArrays:"boolean"==typeof e.allowEmptyArrays?!!e.allowEmptyArrays:l.allowEmptyArrays,arrayFormat:c,charset:t,charsetSentinel:"boolean"==typeof e.charsetSentinel?e.charsetSentinel:l.charsetSentinel,commaRoundTrip:!!e.commaRoundTrip,delimiter:void 0===e.delimiter?l.delimiter:e.delimiter,encode:"boolean"==typeof e.encode?e.encode:l.encode,encodeDotInKeys:"boolean"==typeof e.encodeDotInKeys?e.encodeDotInKeys:l.encodeDotInKeys,encoder:"function"==typeof e.encoder?e.encoder:l.encoder,encodeValuesOnly:"boolean"==typeof e.encodeValuesOnly?e.encodeValuesOnly:l.encodeValuesOnly,filter:d,format:n,formatter:a,serializeDate:"function"==typeof e.serializeDate?e.serializeDate:l.serializeDate,skipNulls:"boolean"==typeof e.skipNulls?e.skipNulls:l.skipNulls,sort:"function"==typeof e.sort?e.sort:null,strictNullHandling:"boolean"==typeof e.strictNullHandling?e.strictNullHandling:l.strictNullHandling}}(t);let d,p;"function"==typeof c.filter?(p=c.filter,n=p("",n)):(0,s.isArray)(c.filter)&&(p=c.filter,d=p);const m=[];if("object"!=typeof n||null===n)return"";const h=i[c.arrayFormat],f="comma"===h&&c.commaRoundTrip;d||(d=Object.keys(n));c.sort&&d.sort(c.sort);const g=new WeakMap;for(let e=0;e<d.length;++e){const t=d[e];c.skipNulls&&null===n[t]||a(m,u(n[t],t,h,f,c.allowEmptyArrays,c.strictNullHandling,c.skipNulls,c.encodeDotInKeys,c.encode?c.encoder:null,c.filter,c.sort,c.allowDots,c.serializeDate,c.format,c.formatter,c.encodeValuesOnly,c.charset,g))}const y=m.join(c.delimiter);let v=!0===c.addQueryPrefix?"?":"";c.charsetSentinel&&("iso-8859-1"===c.charset?v+="utf8=%26%2310003%3B&":v+="utf8=%E2%9C%93&");return y.length>0?v+y:""};const r=n(2847),o=n(6250),s=n(7325),i={brackets:e=>String(e)+"[]",comma:"comma",indices:(e,t)=>String(e)+"["+t+"]",repeat:e=>String(e)},a=function(e,t){Array.prototype.push.apply(e,(0,s.isArray)(t)?t:[t])};let c;const l={addQueryPrefix:!1,allowDots:!1,allowEmptyArrays:!1,arrayFormat:"indices",charset:"utf-8",charsetSentinel:!1,delimiter:"&",encode:!0,encodeDotInKeys:!1,encoder:r.encode,encodeValuesOnly:!1,format:o.default_format,formatter:o.default_formatter,indices:!1,serializeDate:e=>(c??(c=Function.prototype.call.bind(Date.prototype.toISOString)))(e),skipNulls:!1,strictNullHandling:!1};const d={};function u(e,t,n,o,i,c,p,m,h,f,g,y,v,b,S,_,w,E){let P=e,C=E,O=0,A=!1;for(;void 0!==(C=C.get(d))&&!A;){const t=C.get(e);if(O+=1,void 0!==t){if(t===O)throw new RangeError("Cyclic object value");A=!0}void 0===C.get(d)&&(O=0)}if("function"==typeof f?P=f(t,P):P instanceof Date?P=v?.(P):"comma"===n&&(0,s.isArray)(P)&&(P=(0,r.maybe_map)(P,function(e){return e instanceof Date?v?.(e):e})),null===P){if(c)return h&&!_?h(t,l.encoder,w,"key",b):t;P=""}if("string"==typeof(x=P)||"number"==typeof x||"boolean"==typeof x||"symbol"==typeof x||"bigint"==typeof x||(0,r.is_buffer)(P)){if(h){const e=_?t:h(t,l.encoder,w,"key",b);return[S?.(e)+"="+S?.(h(P,l.encoder,w,"value",b))]}return[S?.(t)+"="+S?.(String(P))]}var x;const I=[];if(void 0===P)return I;let R;if("comma"===n&&(0,s.isArray)(P))_&&h&&(P=(0,r.maybe_map)(P,h)),R=[{value:P.length>0?P.join(",")||null:void 0}];else if((0,s.isArray)(f))R=f;else{const e=Object.keys(P);R=g?e.sort(g):e}const T=m?String(t).replace(/\./g,"%2E"):String(t),D=o&&(0,s.isArray)(P)&&1===P.length?T+"[]":T;if(i&&(0,s.isArray)(P)&&0===P.length)return D+"[]";for(let t=0;t<R.length;++t){const r=R[t],l="object"==typeof r&&void 0!==r.value?r.value:P[r];if(p&&null===l)continue;const C=y&&m?r.replace(/\./g,"%2E"):r,A=(0,s.isArray)(P)?"function"==typeof n?n(D,C):D:D+(y?"."+C:"["+C+"]");E.set(e,O);const x=new WeakMap;x.set(d,E),a(I,u(l,A,n,o,i,c,p,m,"comma"===n&&_&&(0,s.isArray)(P)?null:h,f,g,y,v,b,S,_,w,x))}return I}},2847:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.encode=t.has=void 0,t.merge=function e(n,r,s={}){if(!r)return n;if("object"!=typeof r){if((0,o.isArray)(n))n.push(r);else{if(!n||"object"!=typeof n)return[n,r];(s&&(s.plainObjects||s.allowPrototypes)||!(0,t.has)(Object.prototype,r))&&(n[r]=!0)}return n}if(!n||"object"!=typeof n)return[n].concat(r);let i=n;(0,o.isArray)(n)&&!(0,o.isArray)(r)&&(i=function(e,t){const n=t&&t.plainObjects?Object.create(null):{};for(let t=0;t<e.length;++t)void 0!==e[t]&&(n[t]=e[t]);return n}(n,s));if((0,o.isArray)(n)&&(0,o.isArray)(r))return r.forEach(function(r,o){if((0,t.has)(n,o)){const t=n[o];t&&"object"==typeof t&&r&&"object"==typeof r?n[o]=e(t,r,s):n.push(r)}else n[o]=r}),n;return Object.keys(r).reduce(function(n,o){const i=r[o];return(0,t.has)(n,o)?n[o]=e(n[o],i,s):n[o]=i,n},i)},t.assign_single_source=function(e,t){return Object.keys(t).reduce(function(e,n){return e[n]=t[n],e},e)},t.decode=function(e,t,n){const r=e.replace(/\+/g," ");if("iso-8859-1"===n)return r.replace(/%[0-9a-f]{2}/gi,unescape);try{return decodeURIComponent(r)}catch(e){return r}},t.compact=function(e){const t=[{obj:{o:e},prop:"o"}],n=[];for(let e=0;e<t.length;++e){const r=t[e],o=r.obj[r.prop],s=Object.keys(o);for(let e=0;e<s.length;++e){const r=s[e],i=o[r];"object"==typeof i&&null!==i&&-1===n.indexOf(i)&&(t.push({obj:o,prop:r}),n.push(i))}}return function(e){for(;e.length>1;){const t=e.pop();if(!t)continue;const n=t.obj[t.prop];if((0,o.isArray)(n)){const e=[];for(let t=0;t<n.length;++t)void 0!==n[t]&&e.push(n[t]);t.obj[t.prop]=e}}}(t),e},t.is_regexp=function(e){return"[object RegExp]"===Object.prototype.toString.call(e)},t.is_buffer=function(e){if(!e||"object"!=typeof e)return!1;return!!(e.constructor&&e.constructor.isBuffer&&e.constructor.isBuffer(e))},t.combine=function(e,t){return[].concat(e,t)},t.maybe_map=function(e,t){if((0,o.isArray)(e)){const n=[];for(let r=0;r<e.length;r+=1)n.push(t(e[r]));return n}return t(e)};const r=n(6250),o=n(7325);t.has=(e,n)=>(t.has=Object.hasOwn??Function.prototype.call.bind(Object.prototype.hasOwnProperty),(0,t.has)(e,n));const s=(()=>{const e=[];for(let t=0;t<256;++t)e.push("%"+((t<16?"0":"")+t.toString(16)).toUpperCase());return e})();const i=1024;t.encode=(e,t,n,o,a)=>{if(0===e.length)return e;let c=e;if("symbol"==typeof e?c=Symbol.prototype.toString.call(e):"string"!=typeof e&&(c=String(e)),"iso-8859-1"===n)return escape(c).replace(/%u[0-9a-f]{4}/gi,function(e){return"%26%23"+parseInt(e.slice(2),16)+"%3B"});let l="";for(let e=0;e<c.length;e+=i){const t=c.length>=i?c.slice(e,e+i):c,n=[];for(let e=0;e<t.length;++e){let o=t.charCodeAt(e);45===o||46===o||95===o||126===o||o>=48&&o<=57||o>=65&&o<=90||o>=97&&o<=122||a===r.RFC1738&&(40===o||41===o)?n[n.length]=t.charAt(e):o<128?n[n.length]=s[o]:o<2048?n[n.length]=s[192|o>>6]+s[128|63&o]:o<55296||o>=57344?n[n.length]=s[224|o>>12]+s[128|o>>6&63]+s[128|63&o]:(e+=1,o=65536+((1023&o)<<10|1023&t.charCodeAt(e)),n[n.length]=s[240|o>>18]+s[128|o>>12&63]+s[128|o>>6&63]+s[128|63&o])}l+=n.join("")}return l}},3347:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.FallbackEncoder=void 0;t.FallbackEncoder=({headers:e,body:t})=>({bodyHeaders:{"content-type":"application/json"},body:JSON.stringify(t)})},7831:(e,t)=>{"use strict";function n(...e){const t=globalThis.ReadableStream;if(void 0===t)throw new Error("`ReadableStream` is not defined as a global; You will need to polyfill it, `globalThis.ReadableStream = ReadableStream`");return new t(...e)}Object.defineProperty(t,"__esModule",{value:!0}),t.getDefaultFetch=function(){if("undefined"!=typeof fetch)return fetch;throw new Error("`fetch` is not defined as a global; Either pass `fetch` to the client, `new OpenAI({ fetch })` or polyfill the global, `globalThis.fetch = fetch`")},t.makeReadableStream=n,t.ReadableStreamFrom=function(e){let t=Symbol.asyncIterator in e?e[Symbol.asyncIterator]():e[Symbol.iterator]();return n({start(){},async pull(e){const{done:n,value:r}=await t.next();n?e.close():e.enqueue(r)},async cancel(){await(t.return?.())}})},t.ReadableStreamToAsyncIterable=function(e){if(e[Symbol.asyncIterator])return e;const t=e.getReader();return{async next(){try{const e=await t.read();return e?.done&&t.releaseLock(),e}catch(e){throw t.releaseLock(),e}},async return(){const e=t.cancel();return t.releaseLock(),await e,{done:!0,value:void 0}},[Symbol.asyncIterator](){return this}}},t.CancelReadableStream=async function(e){if(null===e||"object"!=typeof e)return;if(e[Symbol.asyncIterator])return void await(e[Symbol.asyncIterator]().return?.());const t=e.getReader(),n=t.cancel();t.releaseLock(),await n}},7219:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.toFile=async function(e,t,n){if((0,o.checkFileSupport)(),e=await e,i(e))return e instanceof File?e:(0,r.makeFile)([await e.arrayBuffer()],e.name);if(a(e)){const o=await e.blob();return t||(t=new URL(e.url).pathname.split(/[\\/]/).pop()),(0,r.makeFile)(await c(o),t,n)}const s=await c(e);if(t||(t=(0,r.getName)(e)),!n?.type){const e=s.find(e=>"object"==typeof e&&"type"in e&&e.type);"string"==typeof e&&(n={...n,type:e})}return(0,r.makeFile)(s,t,n)};const r=n(5887),o=n(5887),s=e=>null!=e&&"object"==typeof e&&"number"==typeof e.size&&"string"==typeof e.type&&"function"==typeof e.text&&"function"==typeof e.slice&&"function"==typeof e.arrayBuffer,i=e=>null!=e&&"object"==typeof e&&"string"==typeof e.name&&"number"==typeof e.lastModified&&s(e),a=e=>null!=e&&"object"==typeof e&&"string"==typeof e.url&&"function"==typeof e.blob;async function c(e){let t=[];if("string"==typeof e||ArrayBuffer.isView(e)||e instanceof ArrayBuffer)t.push(e);else if(s(e))t.push(e instanceof Blob?e:await e.arrayBuffer());else{if(!(0,r.isAsyncIterable)(e)){const t=e?.constructor?.name;throw new Error(`Unexpected data type: ${typeof e}${t?`; constructor: ${t}`:""}${function(e){if("object"!=typeof e||null===e)return"";const t=Object.getOwnPropertyNames(e);return`; props: [${t.map(e=>`"${e}"`).join(", ")}]`}(e)}`)}for await(const n of e)t.push(...await c(n))}return t}},2345:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.__setModuleDefault=t.__createBinding=void 0,t.__classPrivateFieldSet=function(e,t,n,r,o){if("m"===r)throw new TypeError("Private method is not writable");if("a"===r&&!o)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!o:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===r?o.call(e,n):o?o.value=n:t.set(e,n),n},t.__classPrivateFieldGet=function(e,t,n,r){if("a"===n&&!r)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?r:"a"===n?r.call(e):r?r.value:t.get(e)},t.__exportStar=function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)},t.__importStar=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var s=o(e),i=0;i<s.length;i++)"default"!==s[i]&&n(t,e,s[i]);return r(t,e),t};var n=Object.create?function(e,t,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(t,n);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,o)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]};t.__createBinding=n;var r=Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t};t.__setModuleDefault=r;var o=function(e){return(o=Object.getOwnPropertyNames||function(e){var t=[];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[t.length]=n);return t})(e)}},5887:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createForm=t.multipartFormRequestOptions=t.maybeMultipartFormRequestOptions=t.isAsyncIterable=t.checkFileSupport=void 0,t.makeFile=o,t.getName=s;const r=n(7831);function o(e,n,r){return(0,t.checkFileSupport)(),new File(e,n??"unknown_file",r)}function s(e){return("object"==typeof e&&null!==e&&("name"in e&&e.name&&String(e.name)||"url"in e&&e.url&&String(e.url)||"filename"in e&&e.filename&&String(e.filename)||"path"in e&&e.path&&String(e.path))||"").split(/[\\/]/).pop()||void 0}t.checkFileSupport=()=>{if("undefined"==typeof File){const{process:e}=globalThis,t="string"==typeof e?.versions?.node&&parseInt(e.versions.node.split("."))<20;throw new Error("`File` is not defined as a global, which is required for file uploads."+(t?" Update to Node 20 LTS or newer, or set `globalThis.File` to `import('node:buffer').File`.":""))}};t.isAsyncIterable=e=>null!=e&&"object"==typeof e&&"function"==typeof e[Symbol.asyncIterator];t.maybeMultipartFormRequestOptions=async(e,n)=>c(e.body)?{...e,body:await(0,t.createForm)(e.body,n)}:e;t.multipartFormRequestOptions=async(e,n)=>({...e,body:await(0,t.createForm)(e.body,n)});const i=new WeakMap;t.createForm=async(e,t)=>{if(!await function(e){const t="function"==typeof e?e:e.fetch,n=i.get(t);if(n)return n;const r=(async()=>{try{const e="Response"in t?t.Response:(await t("data:,")).constructor,n=new FormData;return n.toString()!==await new e(n).text()}catch{return!0}})();return i.set(t,r),r}(t))throw new TypeError("The provided fetch function does not support file uploads with the current global FormData class.");const n=new FormData;return await Promise.all(Object.entries(e||{}).map(([e,t])=>l(n,e,t))),n};const a=e=>e instanceof Blob&&"name"in e,c=e=>{if((e=>"object"==typeof e&&null!==e&&(e instanceof Response||(0,t.isAsyncIterable)(e)||a(e)))(e))return!0;if(Array.isArray(e))return e.some(c);if(e&&"object"==typeof e)for(const t in e)if(c(e[t]))return!0;return!1},l=async(e,n,i)=>{if(void 0!==i){if(null==i)throw new TypeError(`Received null for "${n}"; to pass null in FormData, you must use the string 'null'`);if("string"==typeof i||"number"==typeof i||"boolean"==typeof i)e.append(n,String(i));else if(i instanceof Response)e.append(n,o([await i.blob()],s(i)));else if((0,t.isAsyncIterable)(i))e.append(n,o([await new Response((0,r.ReadableStreamFrom)(i)).blob()],s(i)));else if(a(i))e.append(n,i,s(i));else if(Array.isArray(i))await Promise.all(i.map(t=>l(e,n+"[]",t)));else{if("object"!=typeof i)throw new TypeError(`Invalid value given to form, expected a string, number, boolean, object, Array, File or Blob but got ${i} instead`);await Promise.all(Object.entries(i).map(([t,r])=>l(e,`${n}[${t}]`,r)))}}}},2152:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(2345);r.__exportStar(n(7325),t),r.__exportStar(n(1040),t),r.__exportStar(n(3432),t),r.__exportStar(n(6273),t),r.__exportStar(n(660),t),r.__exportStar(n(5668),t)},1040:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.toFloat32Array=t.fromBase64=t.toBase64=void 0;const r=n(5093),o=n(9948);t.toBase64=e=>{if(!e)return"";if(void 0!==globalThis.Buffer)return globalThis.Buffer.from(e).toString("base64");if("string"==typeof e&&(e=(0,o.encodeUTF8)(e)),"undefined"!=typeof btoa)return btoa(String.fromCharCode.apply(null,e));throw new r.OpenAIError("Cannot generate base64 string; Expected `Buffer` or `btoa` to be defined")};t.fromBase64=e=>{if(void 0!==globalThis.Buffer){const t=globalThis.Buffer.from(e,"base64");return new Uint8Array(t.buffer,t.byteOffset,t.byteLength)}if("undefined"!=typeof atob){const t=atob(e),n=new Uint8Array(t.length);for(let e=0;e<t.length;e++)n[e]=t.charCodeAt(e);return n}throw new r.OpenAIError("Cannot decode base64 string; Expected `Buffer` or `atob` to be defined")};t.toFloat32Array=e=>{if("undefined"!=typeof Buffer){const t=Buffer.from(e,"base64");return Array.from(new Float32Array(t.buffer,t.byteOffset,t.length/Float32Array.BYTES_PER_ELEMENT))}{const t=atob(e),n=t.length,r=new Uint8Array(n);for(let e=0;e<n;e++)r[e]=t.charCodeAt(e);return Array.from(new Float32Array(r.buffer))}}},9948:(e,t)=>{"use strict";let n,r;Object.defineProperty(t,"__esModule",{value:!0}),t.concatBytes=function(e){let t=0;for(const n of e)t+=n.length;const n=new Uint8Array(t);let r=0;for(const t of e)n.set(t,r),r+=t.length;return n},t.encodeUTF8=function(e){let t;return(n??(t=new globalThis.TextEncoder,n=t.encode.bind(t)))(e)},t.decodeUTF8=function(e){let t;return(r??(t=new globalThis.TextDecoder,r=t.decode.bind(t)))(e)}},3432:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.readEnv=void 0;t.readEnv=e=>void 0!==globalThis.process?globalThis.process.env?.[e]?.trim()??void 0:void 0!==globalThis.Deno?globalThis.Deno.env?.get?.(e)?.trim():void 0},6273:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.formatRequestDetails=t.parseLogLevel=void 0,t.loggerFor=l;const r=n(7325),o={off:0,error:200,warn:300,info:400,debug:500};function s(){}function i(e,t,n){return!t||o[e]>o[n]?s:t[e].bind(t)}t.parseLogLevel=(e,t,n)=>{if(e)return(0,r.hasOwn)(o,e)?e:void l(n).warn(`${t} was set to ${JSON.stringify(e)}, expected one of ${JSON.stringify(Object.keys(o))}`)};const a={error:s,warn:s,info:s,debug:s};let c=new WeakMap;function l(e){const t=e.logger,n=e.logLevel??"off";if(!t)return a;const r=c.get(t);if(r&&r[0]===n)return r[1];const o={error:i("error",t,n),warn:i("warn",t,n),info:i("info",t,n),debug:i("debug",t,n)};return c.set(t,[n,o]),o}t.formatRequestDetails=e=>(e.options&&(e.options={...e.options},delete e.options.headers),e.headers&&(e.headers=Object.fromEntries((e.headers instanceof Headers?[...e.headers]:Object.entries(e.headers)).map(([e,t])=>[e,"authorization"===e.toLowerCase()||"cookie"===e.toLowerCase()||"set-cookie"===e.toLowerCase()?"***":t]))),"retryOfRequestLogID"in e&&(e.retryOfRequestLogID&&(e.retryOf=e.retryOfRequestLogID),delete e.retryOfRequestLogID),e)},2704:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.path=t.createPathTagFunction=void 0,t.encodeURIPath=o;const r=n(5093);function o(e){return e.replace(/[^A-Za-z0-9\-._~!$&'()*+,;=:@]+/g,encodeURIComponent)}const s=Object.freeze(Object.create(null));t.createPathTagFunction=(e=o)=>function(t,...n){if(1===t.length)return t[0];let o=!1;const i=[],a=t.reduce((t,r,a)=>{/[?#]/.test(r)&&(o=!0);const c=n[a];let l=(o?encodeURIComponent:e)(""+c);return a!==n.length&&(null==c||"object"==typeof c&&c.toString===Object.getPrototypeOf(Object.getPrototypeOf(c.hasOwnProperty??s)??s)?.toString)&&(l=c+"",i.push({start:t.length+r.length,length:l.length,error:`Value of type ${Object.prototype.toString.call(c).slice(8,-1)} is not a valid path parameter`})),t+r+(a===n.length?"":l)},""),c=a.split(/[?#]/,1)[0],l=/(?<=^|\/)(?:\.|%2e){1,2}(?=\/|$)/gi;let d;for(;null!==(d=l.exec(c));)i.push({start:d.index,length:d[0].length,error:`Value "${d[0]}" can't be safely passed as a path parameter`});if(i.sort((e,t)=>e.start-t.start),i.length>0){let e=0;const t=i.reduce((t,n)=>{const r=" ".repeat(n.start-e),o="^".repeat(n.length);return e=n.start+n.length,t+r+o},"");throw new r.OpenAIError(`Path parameters result in path with invalid segments:\n${i.map(e=>e.error).join("\n")}\n${a}\n${t}`)}return a},t.path=(0,t.createPathTagFunction)(o)},5668:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.sleep=void 0;t.sleep=e=>new Promise(t=>setTimeout(t,e))},660:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.uuid4=void 0;t.uuid4=function(){const{crypto:e}=globalThis;if(e?.randomUUID)return t.uuid4=e.randomUUID.bind(e),e.randomUUID();const n=new Uint8Array(1),r=e?()=>e.getRandomValues(n)[0]:()=>255*Math.random()&255;return"10000000-1000-4000-8000-100000000000".replace(/[018]/g,e=>(+e^r()&15>>+e/4).toString(16))}},7325:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.safeJSON=t.maybeCoerceBoolean=t.maybeCoerceFloat=t.maybeCoerceInteger=t.coerceBoolean=t.coerceFloat=t.coerceInteger=t.validatePositiveInteger=t.ensurePresent=t.isReadonlyArray=t.isArray=t.isAbsoluteURL=void 0,t.maybeObj=function(e){if("object"!=typeof e)return{};return e??{}},t.isEmptyObj=function(e){if(!e)return!0;for(const t in e)return!1;return!0},t.hasOwn=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.isObj=function(e){return null!=e&&"object"==typeof e&&!Array.isArray(e)};const r=n(5093),o=/^[a-z][a-z0-9+.-]*:/i;t.isAbsoluteURL=e=>o.test(e);t.isArray=e=>(t.isArray=Array.isArray,(0,t.isArray)(e)),t.isReadonlyArray=t.isArray;t.ensurePresent=e=>{if(null==e)throw new r.OpenAIError(`Expected a value to be given but received ${e} instead.`);return e};t.validatePositiveInteger=(e,t)=>{if("number"!=typeof t||!Number.isInteger(t))throw new r.OpenAIError(`${e} must be an integer`);if(t<0)throw new r.OpenAIError(`${e} must be a positive integer`);return t};t.coerceInteger=e=>{if("number"==typeof e)return Math.round(e);if("string"==typeof e)return parseInt(e,10);throw new r.OpenAIError(`Could not coerce ${e} (type: ${typeof e}) into a number`)};t.coerceFloat=e=>{if("number"==typeof e)return e;if("string"==typeof e)return parseFloat(e);throw new r.OpenAIError(`Could not coerce ${e} (type: ${typeof e}) into a number`)};t.coerceBoolean=e=>"boolean"==typeof e?e:"string"==typeof e?"true"===e:Boolean(e);t.maybeCoerceInteger=e=>{if(void 0!==e)return(0,t.coerceInteger)(e)};t.maybeCoerceFloat=e=>{if(void 0!==e)return(0,t.coerceFloat)(e)};t.maybeCoerceBoolean=e=>{if(void 0!==e)return(0,t.coerceBoolean)(e)};t.safeJSON=e=>{try{return JSON.parse(e)}catch(e){return}}},2883:(e,t,n)=>{"use strict";var r,o,s,i,a,c,l,d;Object.defineProperty(t,"__esModule",{value:!0}),t.AbstractChatCompletionRunner=void 0;const u=n(2345),p=n(3269),m=n(1368),h=n(1582),f=n(4283),g=n(9802),y=10;class v extends f.EventStream{constructor(){super(...arguments),r.add(this),this._chatCompletions=[],this.messages=[]}_addChatCompletion(e){this._chatCompletions.push(e),this._emit("chatCompletion",e);const t=e.choices[0]?.message;return t&&this._addMessage(t),e}_addMessage(e,t=!0){if("content"in e||(e.content=null),this.messages.push(e),t)if(this._emit("message",e),(0,h.isToolMessage)(e)&&e.content)this._emit("functionToolCallResult",e.content);else if((0,h.isAssistantMessage)(e)&&e.tool_calls)for(const t of e.tool_calls)"function"===t.type&&this._emit("functionToolCall",t.function)}async finalChatCompletion(){await this.done();const e=this._chatCompletions[this._chatCompletions.length-1];if(!e)throw new p.OpenAIError("stream ended without producing a ChatCompletion");return e}async finalContent(){return await this.done(),u.__classPrivateFieldGet(this,r,"m",o).call(this)}async finalMessage(){return await this.done(),u.__classPrivateFieldGet(this,r,"m",s).call(this)}async finalFunctionToolCall(){return await this.done(),u.__classPrivateFieldGet(this,r,"m",i).call(this)}async finalFunctionToolCallResult(){return await this.done(),u.__classPrivateFieldGet(this,r,"m",a).call(this)}async totalUsage(){return await this.done(),u.__classPrivateFieldGet(this,r,"m",c).call(this)}allChatCompletions(){return[...this._chatCompletions]}_emitFinal(){const e=this._chatCompletions[this._chatCompletions.length-1];e&&this._emit("finalChatCompletion",e);const t=u.__classPrivateFieldGet(this,r,"m",s).call(this);t&&this._emit("finalMessage",t);const n=u.__classPrivateFieldGet(this,r,"m",o).call(this);n&&this._emit("finalContent",n);const l=u.__classPrivateFieldGet(this,r,"m",i).call(this);l&&this._emit("finalFunctionToolCall",l);const d=u.__classPrivateFieldGet(this,r,"m",a).call(this);null!=d&&this._emit("finalFunctionToolCallResult",d),this._chatCompletions.some(e=>e.usage)&&this._emit("totalUsage",u.__classPrivateFieldGet(this,r,"m",c).call(this))}async _createChatCompletion(e,t,n){const o=n?.signal;o&&(o.aborted&&this.controller.abort(),o.addEventListener("abort",()=>this.controller.abort())),u.__classPrivateFieldGet(this,r,"m",l).call(this,t);const s=await e.chat.completions.create({...t,stream:!1},{...n,signal:this.controller.signal});return this._connected(),this._addChatCompletion((0,m.parseChatCompletion)(s,t))}async _runChatCompletion(e,t,n){for(const e of t.messages)this._addMessage(e,!1);return await this._createChatCompletion(e,t,n)}async _runTools(e,t,n){const o="tool",{tool_choice:s="auto",stream:i,...a}=t,c="string"!=typeof s&&"function"===s.type&&s?.function?.name,{maxChatCompletions:l=y}=n||{},h=t.tools.map(e=>{if((0,m.isAutoParsableTool)(e)){if(!e.$callback)throw new p.OpenAIError("Tool given to `.runTools()` that does not have an associated function");return{type:"function",function:{function:e.$callback,name:e.function.name,description:e.function.description||"",parameters:e.function.parameters,parse:e.$parseRaw,strict:!0}}}return e}),f={};for(const e of h)"function"===e.type&&(f[e.function.name||e.function.function.name]=e.function);const v="tools"in t?h.map(e=>"function"===e.type?{type:"function",function:{name:e.function.name||e.function.function.name,parameters:e.function.parameters,description:e.function.description,strict:e.function.strict}}:e):void 0;for(const e of t.messages)this._addMessage(e,!1);for(let t=0;t<l;++t){const t=await this._createChatCompletion(e,{...a,tool_choice:s,tools:v,messages:[...this.messages]},n),i=t.choices[0]?.message;if(!i)throw new p.OpenAIError("missing message in ChatCompletion response");if(!i.tool_calls?.length)return;for(const e of i.tool_calls){if("function"!==e.type)continue;const t=e.id,{name:n,arguments:s}=e.function,i=f[n];if(!i){const e=`Invalid tool_call: ${JSON.stringify(n)}. Available options are: ${Object.keys(f).map(e=>JSON.stringify(e)).join(", ")}. Please try again`;this._addMessage({role:o,tool_call_id:t,content:e});continue}if(c&&c!==n){const e=`Invalid tool_call: ${JSON.stringify(n)}. ${JSON.stringify(c)} requested. Please try again`;this._addMessage({role:o,tool_call_id:t,content:e});continue}let a;try{a=(0,g.isRunnableFunctionWithParse)(i)?await i.parse(s):s}catch(e){const n=e instanceof Error?e.message:String(e);this._addMessage({role:o,tool_call_id:t,content:n});continue}const l=await i.function(a,this),p=u.__classPrivateFieldGet(this,r,"m",d).call(this,l);if(this._addMessage({role:o,tool_call_id:t,content:p}),c)return}}}}t.AbstractChatCompletionRunner=v,r=new WeakSet,o=function(){return u.__classPrivateFieldGet(this,r,"m",s).call(this).content??null},s=function(){let e=this.messages.length;for(;e-- >0;){const t=this.messages[e];if((0,h.isAssistantMessage)(t)){return{...t,content:t.content??null,refusal:t.refusal??null}}}throw new p.OpenAIError("stream ended without producing a ChatCompletionMessage with role=assistant")},i=function(){for(let e=this.messages.length-1;e>=0;e--){const t=this.messages[e];if((0,h.isAssistantMessage)(t)&&t?.tool_calls?.length)return t.tool_calls.filter(e=>"function"===e.type).at(-1)?.function}},a=function(){for(let e=this.messages.length-1;e>=0;e--){const t=this.messages[e];if((0,h.isToolMessage)(t)&&null!=t.content&&"string"==typeof t.content&&this.messages.some(e=>"assistant"===e.role&&e.tool_calls?.some(e=>"function"===e.type&&e.id===t.tool_call_id)))return t.content}},c=function(){const e={completion_tokens:0,prompt_tokens:0,total_tokens:0};for(const{usage:t}of this._chatCompletions)t&&(e.completion_tokens+=t.completion_tokens,e.prompt_tokens+=t.prompt_tokens,e.total_tokens+=t.total_tokens);return e},l=function(e){if(null!=e.n&&e.n>1)throw new p.OpenAIError("ChatCompletion convenience helpers only support n=1 at this time. To use n>1, please use chat.completions.create() directly.")},d=function(e){return"string"==typeof e?e:void 0===e?"undefined":JSON.stringify(e)}},723:(e,t,n)=>{"use strict";var r,o,s,i,a,c,l,d,u,p,m,h,f,g,y,v,b,S,_,w,E,P,C;Object.defineProperty(t,"__esModule",{value:!0}),t.AssistantStream=void 0;const O=n(2345),A=n(1835),x=n(3269),I=n(4283),R=n(2152);class T extends I.EventStream{constructor(){super(...arguments),r.add(this),s.set(this,[]),i.set(this,{}),a.set(this,{}),c.set(this,void 0),l.set(this,void 0),d.set(this,void 0),u.set(this,void 0),p.set(this,void 0),m.set(this,void 0),h.set(this,void 0),f.set(this,void 0),g.set(this,void 0)}[(s=new WeakMap,i=new WeakMap,a=new WeakMap,c=new WeakMap,l=new WeakMap,d=new WeakMap,u=new WeakMap,p=new WeakMap,m=new WeakMap,h=new WeakMap,f=new WeakMap,g=new WeakMap,r=new WeakSet,Symbol.asyncIterator)](){const e=[],t=[];let n=!1;return this.on("event",n=>{const r=t.shift();r?r.resolve(n):e.push(n)}),this.on("end",()=>{n=!0;for(const e of t)e.resolve(void 0);t.length=0}),this.on("abort",e=>{n=!0;for(const n of t)n.reject(e);t.length=0}),this.on("error",e=>{n=!0;for(const n of t)n.reject(e);t.length=0}),{next:async()=>{if(!e.length)return n?{value:void 0,done:!0}:new Promise((e,n)=>t.push({resolve:e,reject:n})).then(e=>e?{value:e,done:!1}:{value:void 0,done:!0});return{value:e.shift(),done:!1}},return:async()=>(this.abort(),{value:void 0,done:!0})}}static fromReadableStream(e){const t=new o;return t._run(()=>t._fromReadableStream(e)),t}async _fromReadableStream(e,t){const n=t?.signal;n&&(n.aborted&&this.controller.abort(),n.addEventListener("abort",()=>this.controller.abort())),this._connected();const o=A.Stream.fromReadableStream(e,this.controller);for await(const e of o)O.__classPrivateFieldGet(this,r,"m",y).call(this,e);if(o.controller.signal?.aborted)throw new x.APIUserAbortError;return this._addRun(O.__classPrivateFieldGet(this,r,"m",v).call(this))}toReadableStream(){return new A.Stream(this[Symbol.asyncIterator].bind(this),this.controller).toReadableStream()}static createToolAssistantStream(e,t,n,r){const s=new o;return s._run(()=>s._runToolAssistantStream(e,t,n,{...r,headers:{...r?.headers,"X-Stainless-Helper-Method":"stream"}})),s}async _createToolAssistantStream(e,t,n,o){const s=o?.signal;s&&(s.aborted&&this.controller.abort(),s.addEventListener("abort",()=>this.controller.abort()));const i={...n,stream:!0},a=await e.submitToolOutputs(t,i,{...o,signal:this.controller.signal});this._connected();for await(const e of a)O.__classPrivateFieldGet(this,r,"m",y).call(this,e);if(a.controller.signal?.aborted)throw new x.APIUserAbortError;return this._addRun(O.__classPrivateFieldGet(this,r,"m",v).call(this))}static createThreadAssistantStream(e,t,n){const r=new o;return r._run(()=>r._threadAssistantStream(e,t,{...n,headers:{...n?.headers,"X-Stainless-Helper-Method":"stream"}})),r}static createAssistantStream(e,t,n,r){const s=new o;return s._run(()=>s._runAssistantStream(e,t,n,{...r,headers:{...r?.headers,"X-Stainless-Helper-Method":"stream"}})),s}currentEvent(){return O.__classPrivateFieldGet(this,h,"f")}currentRun(){return O.__classPrivateFieldGet(this,f,"f")}currentMessageSnapshot(){return O.__classPrivateFieldGet(this,c,"f")}currentRunStepSnapshot(){return O.__classPrivateFieldGet(this,g,"f")}async finalRunSteps(){return await this.done(),Object.values(O.__classPrivateFieldGet(this,i,"f"))}async finalMessages(){return await this.done(),Object.values(O.__classPrivateFieldGet(this,a,"f"))}async finalRun(){if(await this.done(),!O.__classPrivateFieldGet(this,l,"f"))throw Error("Final run was not received.");return O.__classPrivateFieldGet(this,l,"f")}async _createThreadAssistantStream(e,t,n){const o=n?.signal;o&&(o.aborted&&this.controller.abort(),o.addEventListener("abort",()=>this.controller.abort()));const s={...t,stream:!0},i=await e.createAndRun(s,{...n,signal:this.controller.signal});this._connected();for await(const e of i)O.__classPrivateFieldGet(this,r,"m",y).call(this,e);if(i.controller.signal?.aborted)throw new x.APIUserAbortError;return this._addRun(O.__classPrivateFieldGet(this,r,"m",v).call(this))}async _createAssistantStream(e,t,n,o){const s=o?.signal;s&&(s.aborted&&this.controller.abort(),s.addEventListener("abort",()=>this.controller.abort()));const i={...n,stream:!0},a=await e.create(t,i,{...o,signal:this.controller.signal});this._connected();for await(const e of a)O.__classPrivateFieldGet(this,r,"m",y).call(this,e);if(a.controller.signal?.aborted)throw new x.APIUserAbortError;return this._addRun(O.__classPrivateFieldGet(this,r,"m",v).call(this))}static accumulateDelta(e,t){for(const[n,r]of Object.entries(t)){if(!e.hasOwnProperty(n)){e[n]=r;continue}let t=e[n];if(null!=t)if("index"!==n&&"type"!==n){if("string"==typeof t&&"string"==typeof r)t+=r;else if("number"==typeof t&&"number"==typeof r)t+=r;else{if(!(0,R.isObj)(t)||!(0,R.isObj)(r)){if(Array.isArray(t)&&Array.isArray(r)){if(t.every(e=>"string"==typeof e||"number"==typeof e)){t.push(...r);continue}for(const e of r){if(!(0,R.isObj)(e))throw new Error(`Expected array delta entry to be an object but got: ${e}`);const n=e.index;if(null==n)throw console.error(e),new Error("Expected array delta entry to have an `index` property");if("number"!=typeof n)throw new Error(`Expected array delta entry \`index\` property to be a number but got ${n}`);const r=t[n];null==r?t.push(e):t[n]=this.accumulateDelta(r,e)}continue}throw Error(`Unhandled record type: ${n}, deltaValue: ${r}, accValue: ${t}`)}t=this.accumulateDelta(t,r)}e[n]=t}else e[n]=r;else e[n]=r}return e}_addRun(e){return e}async _threadAssistantStream(e,t,n){return await this._createThreadAssistantStream(t,e,n)}async _runAssistantStream(e,t,n,r){return await this._createAssistantStream(t,e,n,r)}async _runToolAssistantStream(e,t,n,r){return await this._createToolAssistantStream(t,e,n,r)}}t.AssistantStream=T,o=T,y=function(e){if(!this.ended)switch(O.__classPrivateFieldSet(this,h,e,"f"),O.__classPrivateFieldGet(this,r,"m",_).call(this,e),e.event){case"thread.created":break;case"thread.run.created":case"thread.run.queued":case"thread.run.in_progress":case"thread.run.requires_action":case"thread.run.completed":case"thread.run.incomplete":case"thread.run.failed":case"thread.run.cancelling":case"thread.run.cancelled":case"thread.run.expired":O.__classPrivateFieldGet(this,r,"m",C).call(this,e);break;case"thread.run.step.created":case"thread.run.step.in_progress":case"thread.run.step.delta":case"thread.run.step.completed":case"thread.run.step.failed":case"thread.run.step.cancelled":case"thread.run.step.expired":O.__classPrivateFieldGet(this,r,"m",S).call(this,e);break;case"thread.message.created":case"thread.message.in_progress":case"thread.message.delta":case"thread.message.completed":case"thread.message.incomplete":O.__classPrivateFieldGet(this,r,"m",b).call(this,e);break;case"error":throw new Error("Encountered an error event in event processing - errors should be processed earlier")}},v=function(){if(this.ended)throw new x.OpenAIError("stream has ended, this shouldn't happen");if(!O.__classPrivateFieldGet(this,l,"f"))throw Error("Final run has not been received");return O.__classPrivateFieldGet(this,l,"f")},b=function(e){const[t,n]=O.__classPrivateFieldGet(this,r,"m",E).call(this,e,O.__classPrivateFieldGet(this,c,"f"));O.__classPrivateFieldSet(this,c,t,"f"),O.__classPrivateFieldGet(this,a,"f")[t.id]=t;for(const e of n){const n=t.content[e.index];"text"==n?.type&&this._emit("textCreated",n.text)}switch(e.event){case"thread.message.created":this._emit("messageCreated",e.data);break;case"thread.message.in_progress":break;case"thread.message.delta":if(this._emit("messageDelta",e.data.delta,t),e.data.delta.content)for(const n of e.data.delta.content){if("text"==n.type&&n.text){let e=n.text,r=t.content[n.index];if(!r||"text"!=r.type)throw Error("The snapshot associated with this text delta is not text or missing");this._emit("textDelta",e,r.text)}if(n.index!=O.__classPrivateFieldGet(this,d,"f")){if(O.__classPrivateFieldGet(this,u,"f"))switch(O.__classPrivateFieldGet(this,u,"f").type){case"text":this._emit("textDone",O.__classPrivateFieldGet(this,u,"f").text,O.__classPrivateFieldGet(this,c,"f"));break;case"image_file":this._emit("imageFileDone",O.__classPrivateFieldGet(this,u,"f").image_file,O.__classPrivateFieldGet(this,c,"f"))}O.__classPrivateFieldSet(this,d,n.index,"f")}O.__classPrivateFieldSet(this,u,t.content[n.index],"f")}break;case"thread.message.completed":case"thread.message.incomplete":if(void 0!==O.__classPrivateFieldGet(this,d,"f")){const t=e.data.content[O.__classPrivateFieldGet(this,d,"f")];if(t)switch(t.type){case"image_file":this._emit("imageFileDone",t.image_file,O.__classPrivateFieldGet(this,c,"f"));break;case"text":this._emit("textDone",t.text,O.__classPrivateFieldGet(this,c,"f"))}}O.__classPrivateFieldGet(this,c,"f")&&this._emit("messageDone",e.data),O.__classPrivateFieldSet(this,c,void 0,"f")}},S=function(e){const t=O.__classPrivateFieldGet(this,r,"m",w).call(this,e);switch(O.__classPrivateFieldSet(this,g,t,"f"),e.event){case"thread.run.step.created":this._emit("runStepCreated",e.data);break;case"thread.run.step.delta":const n=e.data.delta;if(n.step_details&&"tool_calls"==n.step_details.type&&n.step_details.tool_calls&&"tool_calls"==t.step_details.type)for(const e of n.step_details.tool_calls)e.index==O.__classPrivateFieldGet(this,p,"f")?this._emit("toolCallDelta",e,t.step_details.tool_calls[e.index]):(O.__classPrivateFieldGet(this,m,"f")&&this._emit("toolCallDone",O.__classPrivateFieldGet(this,m,"f")),O.__classPrivateFieldSet(this,p,e.index,"f"),O.__classPrivateFieldSet(this,m,t.step_details.tool_calls[e.index],"f"),O.__classPrivateFieldGet(this,m,"f")&&this._emit("toolCallCreated",O.__classPrivateFieldGet(this,m,"f")));this._emit("runStepDelta",e.data.delta,t);break;case"thread.run.step.completed":case"thread.run.step.failed":case"thread.run.step.cancelled":case"thread.run.step.expired":O.__classPrivateFieldSet(this,g,void 0,"f");"tool_calls"==e.data.step_details.type&&O.__classPrivateFieldGet(this,m,"f")&&(this._emit("toolCallDone",O.__classPrivateFieldGet(this,m,"f")),O.__classPrivateFieldSet(this,m,void 0,"f")),this._emit("runStepDone",e.data,t)}},_=function(e){O.__classPrivateFieldGet(this,s,"f").push(e),this._emit("event",e)},w=function(e){switch(e.event){case"thread.run.step.created":return O.__classPrivateFieldGet(this,i,"f")[e.data.id]=e.data,e.data;case"thread.run.step.delta":let t=O.__classPrivateFieldGet(this,i,"f")[e.data.id];if(!t)throw Error("Received a RunStepDelta before creation of a snapshot");let n=e.data;if(n.delta){const r=o.accumulateDelta(t,n.delta);O.__classPrivateFieldGet(this,i,"f")[e.data.id]=r}return O.__classPrivateFieldGet(this,i,"f")[e.data.id];case"thread.run.step.completed":case"thread.run.step.failed":case"thread.run.step.cancelled":case"thread.run.step.expired":case"thread.run.step.in_progress":O.__classPrivateFieldGet(this,i,"f")[e.data.id]=e.data}if(O.__classPrivateFieldGet(this,i,"f")[e.data.id])return O.__classPrivateFieldGet(this,i,"f")[e.data.id];throw new Error("No snapshot available")},E=function(e,t){let n=[];switch(e.event){case"thread.message.created":return[e.data,n];case"thread.message.delta":if(!t)throw Error("Received a delta with no existing snapshot (there should be one from message creation)");let o=e.data;if(o.delta.content)for(const e of o.delta.content)if(e.index in t.content){let n=t.content[e.index];t.content[e.index]=O.__classPrivateFieldGet(this,r,"m",P).call(this,e,n)}else t.content[e.index]=e,n.push(e);return[t,n];case"thread.message.in_progress":case"thread.message.completed":case"thread.message.incomplete":if(t)return[t,n];throw Error("Received thread message event with no existing snapshot")}throw Error("Tried to accumulate a non-message event")},P=function(e,t){return o.accumulateDelta(t,e)},C=function(e){switch(O.__classPrivateFieldSet(this,f,e.data,"f"),e.event){case"thread.run.created":case"thread.run.queued":case"thread.run.in_progress":case"thread.run.cancelling":break;case"thread.run.requires_action":case"thread.run.cancelled":case"thread.run.failed":case"thread.run.completed":case"thread.run.expired":case"thread.run.incomplete":O.__classPrivateFieldSet(this,l,e.data,"f"),O.__classPrivateFieldGet(this,m,"f")&&(this._emit("toolCallDone",O.__classPrivateFieldGet(this,m,"f")),O.__classPrivateFieldSet(this,m,void 0,"f"))}}},2509:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ChatCompletionRunner=void 0;const r=n(2883),o=n(1582);class s extends r.AbstractChatCompletionRunner{static runTools(e,t,n){const r=new s,o={...n,headers:{...n?.headers,"X-Stainless-Helper-Method":"runTools"}};return r._run(()=>r._runTools(e,t,o)),r}_addMessage(e,t=!0){super._addMessage(e,t),(0,o.isAssistantMessage)(e)&&e.content&&this._emit("content",e.content)}}t.ChatCompletionRunner=s},3559:(e,t,n)=>{"use strict";var r,o,s,i,a,c,l,d,u,p,m,h;Object.defineProperty(t,"__esModule",{value:!0}),t.ChatCompletionStream=void 0;const f=n(2345),g=n(6107),y=n(3269),v=n(1368),b=n(1835),S=n(2883);class _ extends S.AbstractChatCompletionRunner{constructor(e){super(),r.add(this),o.set(this,void 0),s.set(this,void 0),i.set(this,void 0),f.__classPrivateFieldSet(this,o,e,"f"),f.__classPrivateFieldSet(this,s,[],"f")}get currentChatCompletionSnapshot(){return f.__classPrivateFieldGet(this,i,"f")}static fromReadableStream(e){const t=new _(null);return t._run(()=>t._fromReadableStream(e)),t}static createChatCompletion(e,t,n){const r=new _(t);return r._run(()=>r._runChatCompletion(e,{...t,stream:!0},{...n,headers:{...n?.headers,"X-Stainless-Helper-Method":"stream"}})),r}async _createChatCompletion(e,t,n){super._createChatCompletion;const o=n?.signal;o&&(o.aborted&&this.controller.abort(),o.addEventListener("abort",()=>this.controller.abort())),f.__classPrivateFieldGet(this,r,"m",a).call(this);const s=await e.chat.completions.create({...t,stream:!0},{...n,signal:this.controller.signal});this._connected();for await(const e of s)f.__classPrivateFieldGet(this,r,"m",l).call(this,e);if(s.controller.signal?.aborted)throw new y.APIUserAbortError;return this._addChatCompletion(f.__classPrivateFieldGet(this,r,"m",p).call(this))}async _fromReadableStream(e,t){const n=t?.signal;n&&(n.aborted&&this.controller.abort(),n.addEventListener("abort",()=>this.controller.abort())),f.__classPrivateFieldGet(this,r,"m",a).call(this),this._connected();const o=b.Stream.fromReadableStream(e,this.controller);let s;for await(const e of o)s&&s!==e.id&&this._addChatCompletion(f.__classPrivateFieldGet(this,r,"m",p).call(this)),f.__classPrivateFieldGet(this,r,"m",l).call(this,e),s=e.id;if(o.controller.signal?.aborted)throw new y.APIUserAbortError;return this._addChatCompletion(f.__classPrivateFieldGet(this,r,"m",p).call(this))}[(o=new WeakMap,s=new WeakMap,i=new WeakMap,r=new WeakSet,a=function(){this.ended||f.__classPrivateFieldSet(this,i,void 0,"f")},c=function(e){let t=f.__classPrivateFieldGet(this,s,"f")[e.index];return t||(t={content_done:!1,refusal_done:!1,logprobs_content_done:!1,logprobs_refusal_done:!1,done_tool_calls:new Set,current_tool_call_index:null},f.__classPrivateFieldGet(this,s,"f")[e.index]=t,t)},l=function(e){if(this.ended)return;const t=f.__classPrivateFieldGet(this,r,"m",h).call(this,e);this._emit("chunk",e,t);for(const n of e.choices){const e=t.choices[n.index];null!=n.delta.content&&"assistant"===e.message?.role&&e.message?.content&&(this._emit("content",n.delta.content,e.message.content),this._emit("content.delta",{delta:n.delta.content,snapshot:e.message.content,parsed:e.message.parsed})),null!=n.delta.refusal&&"assistant"===e.message?.role&&e.message?.refusal&&this._emit("refusal.delta",{delta:n.delta.refusal,snapshot:e.message.refusal}),null!=n.logprobs?.content&&"assistant"===e.message?.role&&this._emit("logprobs.content.delta",{content:n.logprobs?.content,snapshot:e.logprobs?.content??[]}),null!=n.logprobs?.refusal&&"assistant"===e.message?.role&&this._emit("logprobs.refusal.delta",{refusal:n.logprobs?.refusal,snapshot:e.logprobs?.refusal??[]});const o=f.__classPrivateFieldGet(this,r,"m",c).call(this,e);e.finish_reason&&(f.__classPrivateFieldGet(this,r,"m",u).call(this,e),null!=o.current_tool_call_index&&f.__classPrivateFieldGet(this,r,"m",d).call(this,e,o.current_tool_call_index));for(const t of n.delta.tool_calls??[])o.current_tool_call_index!==t.index&&(f.__classPrivateFieldGet(this,r,"m",u).call(this,e),null!=o.current_tool_call_index&&f.__classPrivateFieldGet(this,r,"m",d).call(this,e,o.current_tool_call_index)),o.current_tool_call_index=t.index;for(const t of n.delta.tool_calls??[]){const n=e.message.tool_calls?.[t.index];n?.type&&("function"===n?.type?this._emit("tool_calls.function.arguments.delta",{name:n.function?.name,index:t.index,arguments:n.function.arguments,parsed_arguments:n.function.parsed_arguments,arguments_delta:t.function?.arguments??""}):P(n?.type))}}},d=function(e,t){if(f.__classPrivateFieldGet(this,r,"m",c).call(this,e).done_tool_calls.has(t))return;const n=e.message.tool_calls?.[t];if(!n)throw new Error("no tool call snapshot");if(!n.type)throw new Error("tool call snapshot missing `type`");if("function"===n.type){const e=f.__classPrivateFieldGet(this,o,"f")?.tools?.find(e=>(0,v.isChatCompletionFunctionTool)(e)&&e.function.name===n.function.name);this._emit("tool_calls.function.arguments.done",{name:n.function.name,index:t,arguments:n.function.arguments,parsed_arguments:(0,v.isAutoParsableTool)(e)?e.$parseRaw(n.function.arguments):e?.function.strict?JSON.parse(n.function.arguments):null})}else n.type},u=function(e){const t=f.__classPrivateFieldGet(this,r,"m",c).call(this,e);if(e.message.content&&!t.content_done){t.content_done=!0;const n=f.__classPrivateFieldGet(this,r,"m",m).call(this);this._emit("content.done",{content:e.message.content,parsed:n?n.$parseRaw(e.message.content):null})}e.message.refusal&&!t.refusal_done&&(t.refusal_done=!0,this._emit("refusal.done",{refusal:e.message.refusal})),e.logprobs?.content&&!t.logprobs_content_done&&(t.logprobs_content_done=!0,this._emit("logprobs.content.done",{content:e.logprobs.content})),e.logprobs?.refusal&&!t.logprobs_refusal_done&&(t.logprobs_refusal_done=!0,this._emit("logprobs.refusal.done",{refusal:e.logprobs.refusal}))},p=function(){if(this.ended)throw new y.OpenAIError("stream has ended, this shouldn't happen");const e=f.__classPrivateFieldGet(this,i,"f");if(!e)throw new y.OpenAIError("request ended without sending any chunks");return f.__classPrivateFieldSet(this,i,void 0,"f"),f.__classPrivateFieldSet(this,s,[],"f"),function(e,t){const{id:n,choices:r,created:o,model:s,system_fingerprint:i,...a}=e,c={...a,id:n,choices:r.map(({message:t,finish_reason:n,index:r,logprobs:o,...s})=>{if(!n)throw new y.OpenAIError(`missing finish_reason for choice ${r}`);const{content:i=null,function_call:a,tool_calls:c,...l}=t,d=t.role;if(!d)throw new y.OpenAIError(`missing role for choice ${r}`);if(a){const{arguments:e,name:c}=a;if(null==e)throw new y.OpenAIError(`missing function_call.arguments for choice ${r}`);if(!c)throw new y.OpenAIError(`missing function_call.name for choice ${r}`);return{...s,message:{content:i,function_call:{arguments:e,name:c},role:d,refusal:t.refusal??null},finish_reason:n,index:r,logprobs:o}}return c?{...s,index:r,finish_reason:n,logprobs:o,message:{...l,role:d,content:i,refusal:t.refusal??null,tool_calls:c.map((t,n)=>{const{function:o,type:s,id:i,...a}=t,{arguments:c,name:l,...d}=o||{};if(null==i)throw new y.OpenAIError(`missing choices[${r}].tool_calls[${n}].id\n${w(e)}`);if(null==s)throw new y.OpenAIError(`missing choices[${r}].tool_calls[${n}].type\n${w(e)}`);if(null==l)throw new y.OpenAIError(`missing choices[${r}].tool_calls[${n}].function.name\n${w(e)}`);if(null==c)throw new y.OpenAIError(`missing choices[${r}].tool_calls[${n}].function.arguments\n${w(e)}`);return{...a,id:i,type:s,function:{...d,name:l,arguments:c}}})}}:{...s,message:{...l,content:i,role:d,refusal:t.refusal??null},finish_reason:n,index:r,logprobs:o}}),created:o,model:s,object:"chat.completion",...i?{system_fingerprint:i}:{}};return(0,v.maybeParseChatCompletion)(c,t)}(e,f.__classPrivateFieldGet(this,o,"f"))},m=function(){const e=f.__classPrivateFieldGet(this,o,"f")?.response_format;return(0,v.isAutoParsableResponseFormat)(e)?e:null},h=function(e){var t,n,s,a;let c=f.__classPrivateFieldGet(this,i,"f");const{choices:l,...d}=e;c?Object.assign(c,d):c=f.__classPrivateFieldSet(this,i,{...d,choices:[]},"f");for(const{delta:i,finish_reason:l,index:d,logprobs:u=null,...p}of e.choices){let e=c.choices[d];if(e||(e=c.choices[d]={finish_reason:l,index:d,message:{},logprobs:u,...p}),u)if(e.logprobs){const{content:r,refusal:o,...s}=u;E(s),Object.assign(e.logprobs,s),r&&((t=e.logprobs).content??(t.content=[]),e.logprobs.content.push(...r)),o&&((n=e.logprobs).refusal??(n.refusal=[]),e.logprobs.refusal.push(...o))}else e.logprobs=Object.assign({},u);if(l&&(e.finish_reason=l,f.__classPrivateFieldGet(this,o,"f")&&(0,v.hasAutoParseableInput)(f.__classPrivateFieldGet(this,o,"f")))){if("length"===l)throw new y.LengthFinishReasonError;if("content_filter"===l)throw new y.ContentFilterFinishReasonError}if(Object.assign(e,p),!i)continue;const{content:h,refusal:b,function_call:S,role:_,tool_calls:w,...P}=i;if(E(P),Object.assign(e.message,P),b&&(e.message.refusal=(e.message.refusal||"")+b),_&&(e.message.role=_),S&&(e.message.function_call?(S.name&&(e.message.function_call.name=S.name),S.arguments&&((s=e.message.function_call).arguments??(s.arguments=""),e.message.function_call.arguments+=S.arguments)):e.message.function_call=S),h&&(e.message.content=(e.message.content||"")+h,!e.message.refusal&&f.__classPrivateFieldGet(this,r,"m",m).call(this)&&(e.message.parsed=(0,g.partialParse)(e.message.content))),w){e.message.tool_calls||(e.message.tool_calls=[]);for(const{index:t,id:n,type:r,function:s,...i}of w){const c=(a=e.message.tool_calls)[t]??(a[t]={});Object.assign(c,i),n&&(c.id=n),r&&(c.type=r),s&&(c.function??(c.function={name:s.name??"",arguments:""})),s?.name&&(c.function.name=s.name),s?.arguments&&(c.function.arguments+=s.arguments,(0,v.shouldParseToolCall)(f.__classPrivateFieldGet(this,o,"f"),c)&&(c.function.parsed_arguments=(0,g.partialParse)(c.function.arguments)))}}}return c},Symbol.asyncIterator)](){const e=[],t=[];let n=!1;return this.on("chunk",n=>{const r=t.shift();r?r.resolve(n):e.push(n)}),this.on("end",()=>{n=!0;for(const e of t)e.resolve(void 0);t.length=0}),this.on("abort",e=>{n=!0;for(const n of t)n.reject(e);t.length=0}),this.on("error",e=>{n=!0;for(const n of t)n.reject(e);t.length=0}),{next:async()=>{if(!e.length)return n?{value:void 0,done:!0}:new Promise((e,n)=>t.push({resolve:e,reject:n})).then(e=>e?{value:e,done:!1}:{value:void 0,done:!0});return{value:e.shift(),done:!1}},return:async()=>(this.abort(),{value:void 0,done:!0})}}toReadableStream(){return new b.Stream(this[Symbol.asyncIterator].bind(this),this.controller).toReadableStream()}}function w(e){return JSON.stringify(e)}function E(e){}function P(e){}t.ChatCompletionStream=_},997:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ChatCompletionStreamingRunner=void 0;const r=n(3559);class o extends r.ChatCompletionStream{static fromReadableStream(e){const t=new o(null);return t._run(()=>t._fromReadableStream(e)),t}static runTools(e,t,n){const r=new o(t),s={...n,headers:{...n?.headers,"X-Stainless-Helper-Method":"runTools"}};return r._run(()=>r._runTools(e,t,s)),r}}t.ChatCompletionStreamingRunner=o},4283:(e,t,n)=>{"use strict";var r,o,s,i,a,c,l,d,u,p,m,h,f;Object.defineProperty(t,"__esModule",{value:!0}),t.EventStream=void 0;const g=n(2345),y=n(3269);t.EventStream=class{constructor(){r.add(this),this.controller=new AbortController,o.set(this,void 0),s.set(this,()=>{}),i.set(this,()=>{}),a.set(this,void 0),c.set(this,()=>{}),l.set(this,()=>{}),d.set(this,{}),u.set(this,!1),p.set(this,!1),m.set(this,!1),h.set(this,!1),g.__classPrivateFieldSet(this,o,new Promise((e,t)=>{g.__classPrivateFieldSet(this,s,e,"f"),g.__classPrivateFieldSet(this,i,t,"f")}),"f"),g.__classPrivateFieldSet(this,a,new Promise((e,t)=>{g.__classPrivateFieldSet(this,c,e,"f"),g.__classPrivateFieldSet(this,l,t,"f")}),"f"),g.__classPrivateFieldGet(this,o,"f").catch(()=>{}),g.__classPrivateFieldGet(this,a,"f").catch(()=>{})}_run(e){setTimeout(()=>{e().then(()=>{this._emitFinal(),this._emit("end")},g.__classPrivateFieldGet(this,r,"m",f).bind(this))},0)}_connected(){this.ended||(g.__classPrivateFieldGet(this,s,"f").call(this),this._emit("connect"))}get ended(){return g.__classPrivateFieldGet(this,u,"f")}get errored(){return g.__classPrivateFieldGet(this,p,"f")}get aborted(){return g.__classPrivateFieldGet(this,m,"f")}abort(){this.controller.abort()}on(e,t){return(g.__classPrivateFieldGet(this,d,"f")[e]||(g.__classPrivateFieldGet(this,d,"f")[e]=[])).push({listener:t}),this}off(e,t){const n=g.__classPrivateFieldGet(this,d,"f")[e];if(!n)return this;const r=n.findIndex(e=>e.listener===t);return r>=0&&n.splice(r,1),this}once(e,t){return(g.__classPrivateFieldGet(this,d,"f")[e]||(g.__classPrivateFieldGet(this,d,"f")[e]=[])).push({listener:t,once:!0}),this}emitted(e){return new Promise((t,n)=>{g.__classPrivateFieldSet(this,h,!0,"f"),"error"!==e&&this.once("error",n),this.once(e,t)})}async done(){g.__classPrivateFieldSet(this,h,!0,"f"),await g.__classPrivateFieldGet(this,a,"f")}_emit(e,...t){if(g.__classPrivateFieldGet(this,u,"f"))return;"end"===e&&(g.__classPrivateFieldSet(this,u,!0,"f"),g.__classPrivateFieldGet(this,c,"f").call(this));const n=g.__classPrivateFieldGet(this,d,"f")[e];if(n&&(g.__classPrivateFieldGet(this,d,"f")[e]=n.filter(e=>!e.once),n.forEach(({listener:e})=>e(...t))),"abort"===e){const e=t[0];return g.__classPrivateFieldGet(this,h,"f")||n?.length||Promise.reject(e),g.__classPrivateFieldGet(this,i,"f").call(this,e),g.__classPrivateFieldGet(this,l,"f").call(this,e),void this._emit("end")}if("error"===e){const e=t[0];g.__classPrivateFieldGet(this,h,"f")||n?.length||Promise.reject(e),g.__classPrivateFieldGet(this,i,"f").call(this,e),g.__classPrivateFieldGet(this,l,"f").call(this,e),this._emit("end")}}_emitFinal(){}},o=new WeakMap,s=new WeakMap,i=new WeakMap,a=new WeakMap,c=new WeakMap,l=new WeakMap,d=new WeakMap,u=new WeakMap,p=new WeakMap,m=new WeakMap,h=new WeakMap,r=new WeakSet,f=function(e){if(g.__classPrivateFieldSet(this,p,!0,"f"),e instanceof Error&&"AbortError"===e.name&&(e=new y.APIUserAbortError),e instanceof y.APIUserAbortError)return g.__classPrivateFieldSet(this,m,!0,"f"),this._emit("abort",e);if(e instanceof y.OpenAIError)return this._emit("error",e);if(e instanceof Error){const t=new y.OpenAIError(e.message);return t.cause=e,this._emit("error",t)}return this._emit("error",new y.OpenAIError(String(e)))}},3980:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.maybeParseResponse=function(e,t){if(!t||!a(t))return{...e,output_parsed:null,output:e.output.map(e=>"function_call"===e.type?{...e,parsed_arguments:null}:"message"===e.type?{...e,content:e.content.map(e=>({...e,parsed:null}))}:e)};return s(e,t)},t.parseResponse=s,t.hasAutoParseableInput=a,t.makeParseableResponseTool=function(e,{parser:t,callback:n}){const r={...e};return Object.defineProperties(r,{$brand:{value:"auto-parseable-tool",enumerable:!1},$parseRaw:{value:t,enumerable:!1},$callback:{value:n,enumerable:!1}}),r},t.isAutoParsableTool=c,t.shouldParseToolCall=function(e,t){if(!e)return!1;const n=l(e.tools??[],t.name);return c(n)||n?.strict||!1},t.validateInputTools=function(e){for(const t of e??[]){if("function"!==t.type)throw new r.OpenAIError(`Currently only \`function\` tool types support auto-parsing; Received \`${t.type}\``);if(!0!==t.function.strict)throw new r.OpenAIError(`The \`${t.function.name}\` tool is not marked with \`strict: true\`. Only strict function tools can be auto-parsed`)}},t.addOutputText=u;const r=n(3269),o=n(1368);function s(e,t){const n=e.output.map(e=>{if("function_call"===e.type)return{...e,parsed_arguments:d(t,e)};if("message"===e.type){const n=e.content.map(e=>"output_text"===e.type?{...e,parsed:i(t,e.text)}:e);return{...e,content:n}}return e}),r=Object.assign({},e,{output:n});return Object.getOwnPropertyDescriptor(e,"output_text")||u(r),Object.defineProperty(r,"output_parsed",{enumerable:!0,get(){for(const e of r.output)if("message"===e.type)for(const t of e.content)if("output_text"===t.type&&null!==t.parsed)return t.parsed;return null}}),r}function i(e,t){if("json_schema"!==e.text?.format?.type)return null;if("$parseRaw"in e.text?.format){const n=e.text?.format;return n.$parseRaw(t)}return JSON.parse(t)}function a(e){return!!(0,o.isAutoParsableResponseFormat)(e.text?.format)}function c(e){return"auto-parseable-tool"===e?.$brand}function l(e,t){return e.find(e=>"function"===e.type&&e.name===t)}function d(e,t){const n=l(e.tools??[],t.name);return{...t,...t,parsed_arguments:c(n)?n.$parseRaw(t.arguments):n?.strict?JSON.parse(t.arguments):null}}function u(e){const t=[];for(const n of e.output)if("message"===n.type)for(const e of n.content)"output_text"===e.type&&t.push(e.text);e.output_text=t.join("")}},9802:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ParsingToolFunction=void 0,t.isRunnableFunctionWithParse=function(e){return"function"==typeof e.parse};t.ParsingToolFunction=class{constructor(e){this.type="function",this.function=e}}},3831:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.allSettledWithThrow=void 0;t.allSettledWithThrow=async e=>{const t=await Promise.allSettled(e),n=t.filter(e=>"rejected"===e.status);if(n.length){for(const e of n)console.error(e.reason);throw new Error(`${n.length} promise(s) failed - see the above errors`)}const r=[];for(const e of t)"fulfilled"===e.status&&r.push(e.value);return r}},1582:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isToolMessage=t.isAssistantMessage=void 0,t.isPresent=function(e){return null!=e};t.isAssistantMessage=e=>"assistant"===e?.role;t.isToolMessage=e=>"tool"===e?.role},1368:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isChatCompletionFunctionTool=o,t.makeParseableResponseFormat=function(e,t){const n={...e};return Object.defineProperties(n,{$brand:{value:"auto-parseable-response-format",enumerable:!1},$parseRaw:{value:t,enumerable:!1}}),n},t.makeParseableTextFormat=function(e,t){const n={...e};return Object.defineProperties(n,{$brand:{value:"auto-parseable-response-format",enumerable:!1},$parseRaw:{value:t,enumerable:!1}}),n},t.isAutoParsableResponseFormat=s,t.makeParseableTool=function(e,{parser:t,callback:n}){const r={...e};return Object.defineProperties(r,{$brand:{value:"auto-parseable-tool",enumerable:!1},$parseRaw:{value:t,enumerable:!1},$callback:{value:n,enumerable:!1}}),r},t.isAutoParsableTool=i,t.maybeParseChatCompletion=function(e,t){if(!t||!l(t))return{...e,choices:e.choices.map(e=>(d(e.message.tool_calls),{...e,message:{...e.message,parsed:null,...e.message.tool_calls?{tool_calls:e.message.tool_calls}:void 0}}))};return a(e,t)},t.parseChatCompletion=a,t.shouldParseToolCall=function(e,t){if(!e||!("tools"in e)||!e.tools)return!1;const n=e.tools?.find(e=>o(e)&&e.function?.name===t.function.name);return o(n)&&(i(n)||n?.function.strict||!1)},t.hasAutoParseableInput=l,t.assertToolCallsAreChatCompletionFunctionToolCalls=d,t.validateInputTools=function(e){for(const t of e??[]){if("function"!==t.type)throw new r.OpenAIError(`Currently only \`function\` tool types support auto-parsing; Received \`${t.type}\``);if(!0!==t.function.strict)throw new r.OpenAIError(`The \`${t.function.name}\` tool is not marked with \`strict: true\`. Only strict function tools can be auto-parsed`)}};const r=n(3269);function o(e){return void 0!==e&&"function"in e&&void 0!==e.function}function s(e){return"auto-parseable-response-format"===e?.$brand}function i(e){return"auto-parseable-tool"===e?.$brand}function a(e,t){const n=e.choices.map(e=>{if("length"===e.finish_reason)throw new r.LengthFinishReasonError;if("content_filter"===e.finish_reason)throw new r.ContentFilterFinishReasonError;return d(e.message.tool_calls),{...e,message:{...e.message,...e.message.tool_calls?{tool_calls:e.message.tool_calls?.map(e=>function(e,t){const n=e.tools?.find(e=>o(e)&&e.function?.name===t.function.name);return{...t,function:{...t.function,parsed_arguments:i(n)?n.$parseRaw(t.function.arguments):n?.function.strict?JSON.parse(t.function.arguments):null}}}(t,e))??void 0}:void 0,parsed:e.message.content&&!e.message.refusal?c(t,e.message.content):null}}});return{...e,choices:n}}function c(e,t){if("json_schema"!==e.response_format?.type)return null;if("json_schema"===e.response_format?.type){if("$parseRaw"in e.response_format){return e.response_format.$parseRaw(t)}return JSON.parse(t)}return null}function l(e){return!!s(e.response_format)||(e.tools?.some(e=>i(e)||"function"===e.type&&!0===e.function.strict)??!1)}function d(e){for(const t of e||[])if("function"!==t.type)throw new r.OpenAIError(`Currently only \`function\` tool calls are supported; Received \`${t.type}\``)}},9977:(e,t,n)=>{"use strict";var r,o,s,i,a,c,l,d;Object.defineProperty(t,"__esModule",{value:!0}),t.ResponseStream=void 0;const u=n(2345),p=n(3269),m=n(4283),h=n(3980);class f extends m.EventStream{constructor(e){super(),r.add(this),o.set(this,void 0),s.set(this,void 0),i.set(this,void 0),u.__classPrivateFieldSet(this,o,e,"f")}static createResponse(e,t,n){const r=new f(t);return r._run(()=>r._createOrRetrieveResponse(e,t,{...n,headers:{...n?.headers,"X-Stainless-Helper-Method":"stream"}})),r}async _createOrRetrieveResponse(e,t,n){const o=n?.signal;let s;o&&(o.aborted&&this.controller.abort(),o.addEventListener("abort",()=>this.controller.abort())),u.__classPrivateFieldGet(this,r,"m",a).call(this);let i=null;"response_id"in t?(s=await e.responses.retrieve(t.response_id,{stream:!0},{...n,signal:this.controller.signal,stream:!0}),i=t.starting_after??null):s=await e.responses.create({...t,stream:!0},{...n,signal:this.controller.signal}),this._connected();for await(const e of s)u.__classPrivateFieldGet(this,r,"m",c).call(this,e,i);if(s.controller.signal?.aborted)throw new p.APIUserAbortError;return u.__classPrivateFieldGet(this,r,"m",l).call(this)}[(o=new WeakMap,s=new WeakMap,i=new WeakMap,r=new WeakSet,a=function(){this.ended||u.__classPrivateFieldSet(this,s,void 0,"f")},c=function(e,t){if(this.ended)return;const n=(e,n)=>{(null==t||n.sequence_number>t)&&this._emit(e,n)},o=u.__classPrivateFieldGet(this,r,"m",d).call(this,e);switch(n("event",e),e.type){case"response.output_text.delta":{const t=o.output[e.output_index];if(!t)throw new p.OpenAIError(`missing output at index ${e.output_index}`);if("message"===t.type){const r=t.content[e.content_index];if(!r)throw new p.OpenAIError(`missing content at index ${e.content_index}`);if("output_text"!==r.type)throw new p.OpenAIError(`expected content to be 'output_text', got ${r.type}`);n("response.output_text.delta",{...e,snapshot:r.text})}break}case"response.function_call_arguments.delta":{const t=o.output[e.output_index];if(!t)throw new p.OpenAIError(`missing output at index ${e.output_index}`);"function_call"===t.type&&n("response.function_call_arguments.delta",{...e,snapshot:t.arguments});break}default:n(e.type,e)}},l=function(){if(this.ended)throw new p.OpenAIError("stream has ended, this shouldn't happen");const e=u.__classPrivateFieldGet(this,s,"f");if(!e)throw new p.OpenAIError("request ended without sending any events");u.__classPrivateFieldSet(this,s,void 0,"f");const t=function(e,t){return(0,h.maybeParseResponse)(e,t)}(e,u.__classPrivateFieldGet(this,o,"f"));return u.__classPrivateFieldSet(this,i,t,"f"),t},d=function(e){let t=u.__classPrivateFieldGet(this,s,"f");if(!t){if("response.created"!==e.type)throw new p.OpenAIError(`When snapshot hasn't been set yet, expected 'response.created' event, got ${e.type}`);return t=u.__classPrivateFieldSet(this,s,e.response,"f"),t}switch(e.type){case"response.output_item.added":t.output.push(e.item);break;case"response.content_part.added":{const n=t.output[e.output_index];if(!n)throw new p.OpenAIError(`missing output at index ${e.output_index}`);"message"===n.type&&n.content.push(e.part);break}case"response.output_text.delta":{const n=t.output[e.output_index];if(!n)throw new p.OpenAIError(`missing output at index ${e.output_index}`);if("message"===n.type){const t=n.content[e.content_index];if(!t)throw new p.OpenAIError(`missing content at index ${e.content_index}`);if("output_text"!==t.type)throw new p.OpenAIError(`expected content to be 'output_text', got ${t.type}`);t.text+=e.delta}break}case"response.function_call_arguments.delta":{const n=t.output[e.output_index];if(!n)throw new p.OpenAIError(`missing output at index ${e.output_index}`);"function_call"===n.type&&(n.arguments+=e.delta);break}case"response.completed":u.__classPrivateFieldSet(this,s,e.response,"f")}return t},Symbol.asyncIterator)](){const e=[],t=[];let n=!1;return this.on("event",n=>{const r=t.shift();r?r.resolve(n):e.push(n)}),this.on("end",()=>{n=!0;for(const e of t)e.resolve(void 0);t.length=0}),this.on("abort",e=>{n=!0;for(const n of t)n.reject(e);t.length=0}),this.on("error",e=>{n=!0;for(const n of t)n.reject(e);t.length=0}),{next:async()=>{if(!e.length)return n?{value:void 0,done:!0}:new Promise((e,n)=>t.push({resolve:e,reject:n})).then(e=>e?{value:e,done:!1}:{value:void 0,done:!0});return{value:e.shift(),done:!1}},return:async()=>(this.abort(),{value:void 0,done:!0})}}async finalResponse(){await this.done();const e=u.__classPrivateFieldGet(this,i,"f");if(!e)throw new p.OpenAIError("stream ended without producing a ChatCompletion");return e}}t.ResponseStream=f},1257:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Audio=void 0;const r=n(2345),o=n(9487),s=r.__importStar(n(40)),i=n(40),a=r.__importStar(n(4031)),c=n(4031),l=r.__importStar(n(2882)),d=n(2882);class u extends o.APIResource{constructor(){super(...arguments),this.transcriptions=new a.Transcriptions(this._client),this.translations=new l.Translations(this._client),this.speech=new s.Speech(this._client)}}t.Audio=u,u.Transcriptions=c.Transcriptions,u.Translations=d.Translations,u.Speech=i.Speech},40:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Speech=void 0;const r=n(9487),o=n(9267);class s extends r.APIResource{create(e,t){return this._client.post("/audio/speech",{body:e,...t,headers:(0,o.buildHeaders)([{Accept:"application/octet-stream"},t?.headers]),__binaryResponse:!0})}}t.Speech=s},4031:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Transcriptions=void 0;const r=n(9487),o=n(5887);class s extends r.APIResource{create(e,t){return this._client.post("/audio/transcriptions",(0,o.multipartFormRequestOptions)({body:e,...t,stream:e.stream??!1,__metadata:{model:e.model}},this._client))}}t.Transcriptions=s},2882:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Translations=void 0;const r=n(9487),o=n(5887);class s extends r.APIResource{create(e,t){return this._client.post("/audio/translations",(0,o.multipartFormRequestOptions)({body:e,...t,__metadata:{model:e.model}},this._client))}}t.Translations=s},257:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Batches=void 0;const r=n(9487),o=n(2155),s=n(2704);class i extends r.APIResource{create(e,t){return this._client.post("/batches",{body:e,...t})}retrieve(e,t){return this._client.get(s.path`/batches/${e}`,t)}list(e={},t){return this._client.getAPIList("/batches",o.CursorPage,{query:e,...t})}cancel(e,t){return this._client.post(s.path`/batches/${e}/cancel`,t)}}t.Batches=i},1627:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Assistants=void 0;const r=n(9487),o=n(2155),s=n(9267),i=n(2704);class a extends r.APIResource{create(e,t){return this._client.post("/assistants",{body:e,...t,headers:(0,s.buildHeaders)([{"OpenAI-Beta":"assistants=v2"},t?.headers])})}retrieve(e,t){return this._client.get(i.path`/assistants/${e}`,{...t,headers:(0,s.buildHeaders)([{"OpenAI-Beta":"assistants=v2"},t?.headers])})}update(e,t,n){return this._client.post(i.path`/assistants/${e}`,{body:t,...n,headers:(0,s.buildHeaders)([{"OpenAI-Beta":"assistants=v2"},n?.headers])})}list(e={},t){return this._client.getAPIList("/assistants",o.CursorPage,{query:e,...t,headers:(0,s.buildHeaders)([{"OpenAI-Beta":"assistants=v2"},t?.headers])})}delete(e,t){return this._client.delete(i.path`/assistants/${e}`,{...t,headers:(0,s.buildHeaders)([{"OpenAI-Beta":"assistants=v2"},t?.headers])})}}t.Assistants=a},8852:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Beta=void 0;const r=n(2345),o=n(9487),s=r.__importStar(n(1627)),i=n(1627),a=r.__importStar(n(5367)),c=n(5367),l=r.__importStar(n(6847)),d=n(6847);class u extends o.APIResource{constructor(){super(...arguments),this.realtime=new a.Realtime(this._client),this.assistants=new s.Assistants(this._client),this.threads=new l.Threads(this._client)}}t.Beta=u,u.Realtime=c.Realtime,u.Assistants=i.Assistants,u.Threads=d.Threads},5367:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Realtime=void 0;const r=n(2345),o=n(9487),s=r.__importStar(n(1015)),i=n(1015),a=r.__importStar(n(6900)),c=n(6900);class l extends o.APIResource{constructor(){super(...arguments),this.sessions=new s.Sessions(this._client),this.transcriptionSessions=new a.TranscriptionSessions(this._client)}}t.Realtime=l,l.Sessions=i.Sessions,l.TranscriptionSessions=c.TranscriptionSessions},1015:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Sessions=void 0;const r=n(9487),o=n(9267);class s extends r.APIResource{create(e,t){return this._client.post("/realtime/sessions",{body:e,...t,headers:(0,o.buildHeaders)([{"OpenAI-Beta":"assistants=v2"},t?.headers])})}}t.Sessions=s},6900:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TranscriptionSessions=void 0;const r=n(9487),o=n(9267);class s extends r.APIResource{create(e,t){return this._client.post("/realtime/transcription_sessions",{body:e,...t,headers:(0,o.buildHeaders)([{"OpenAI-Beta":"assistants=v2"},t?.headers])})}}t.TranscriptionSessions=s},6648:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Messages=void 0;const r=n(9487),o=n(2155),s=n(9267),i=n(2704);class a extends r.APIResource{create(e,t,n){return this._client.post(i.path`/threads/${e}/messages`,{body:t,...n,headers:(0,s.buildHeaders)([{"OpenAI-Beta":"assistants=v2"},n?.headers])})}retrieve(e,t,n){const{thread_id:r}=t;return this._client.get(i.path`/threads/${r}/messages/${e}`,{...n,headers:(0,s.buildHeaders)([{"OpenAI-Beta":"assistants=v2"},n?.headers])})}update(e,t,n){const{thread_id:r,...o}=t;return this._client.post(i.path`/threads/${r}/messages/${e}`,{body:o,...n,headers:(0,s.buildHeaders)([{"OpenAI-Beta":"assistants=v2"},n?.headers])})}list(e,t={},n){return this._client.getAPIList(i.path`/threads/${e}/messages`,o.CursorPage,{query:t,...n,headers:(0,s.buildHeaders)([{"OpenAI-Beta":"assistants=v2"},n?.headers])})}delete(e,t,n){const{thread_id:r}=t;return this._client.delete(i.path`/threads/${r}/messages/${e}`,{...n,headers:(0,s.buildHeaders)([{"OpenAI-Beta":"assistants=v2"},n?.headers])})}}t.Messages=a},3051:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Runs=void 0;const r=n(2345),o=n(9487),s=r.__importStar(n(9201)),i=n(9201),a=n(2155),c=n(9267),l=n(723),d=n(5668),u=n(2704);class p extends o.APIResource{constructor(){super(...arguments),this.steps=new s.Steps(this._client)}create(e,t,n){const{include:r,...o}=t;return this._client.post(u.path`/threads/${e}/runs`,{query:{include:r},body:o,...n,headers:(0,c.buildHeaders)([{"OpenAI-Beta":"assistants=v2"},n?.headers]),stream:t.stream??!1})}retrieve(e,t,n){const{thread_id:r}=t;return this._client.get(u.path`/threads/${r}/runs/${e}`,{...n,headers:(0,c.buildHeaders)([{"OpenAI-Beta":"assistants=v2"},n?.headers])})}update(e,t,n){const{thread_id:r,...o}=t;return this._client.post(u.path`/threads/${r}/runs/${e}`,{body:o,...n,headers:(0,c.buildHeaders)([{"OpenAI-Beta":"assistants=v2"},n?.headers])})}list(e,t={},n){return this._client.getAPIList(u.path`/threads/${e}/runs`,a.CursorPage,{query:t,...n,headers:(0,c.buildHeaders)([{"OpenAI-Beta":"assistants=v2"},n?.headers])})}cancel(e,t,n){const{thread_id:r}=t;return this._client.post(u.path`/threads/${r}/runs/${e}/cancel`,{...n,headers:(0,c.buildHeaders)([{"OpenAI-Beta":"assistants=v2"},n?.headers])})}async createAndPoll(e,t,n){const r=await this.create(e,t,n);return await this.poll(r.id,{thread_id:e},n)}createAndStream(e,t,n){return l.AssistantStream.createAssistantStream(e,this._client.beta.threads.runs,t,n)}async poll(e,t,n){const r=(0,c.buildHeaders)([n?.headers,{"X-Stainless-Poll-Helper":"true","X-Stainless-Custom-Poll-Interval":n?.pollIntervalMs?.toString()??void 0}]);for(;;){const{data:o,response:s}=await this.retrieve(e,t,{...n,headers:{...n?.headers,...r}}).withResponse();switch(o.status){case"queued":case"in_progress":case"cancelling":let e=5e3;if(n?.pollIntervalMs)e=n.pollIntervalMs;else{const t=s.headers.get("openai-poll-after-ms");if(t){const n=parseInt(t);isNaN(n)||(e=n)}}await(0,d.sleep)(e);break;case"requires_action":case"incomplete":case"cancelled":case"completed":case"failed":case"expired":return o}}}stream(e,t,n){return l.AssistantStream.createAssistantStream(e,this._client.beta.threads.runs,t,n)}submitToolOutputs(e,t,n){const{thread_id:r,...o}=t;return this._client.post(u.path`/threads/${r}/runs/${e}/submit_tool_outputs`,{body:o,...n,headers:(0,c.buildHeaders)([{"OpenAI-Beta":"assistants=v2"},n?.headers]),stream:t.stream??!1})}async submitToolOutputsAndPoll(e,t,n){const r=await this.submitToolOutputs(e,t,n);return await this.poll(r.id,t,n)}submitToolOutputsStream(e,t,n){return l.AssistantStream.createToolAssistantStream(e,this._client.beta.threads.runs,t,n)}}t.Runs=p,p.Steps=i.Steps},9201:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Steps=void 0;const r=n(9487),o=n(2155),s=n(9267),i=n(2704);class a extends r.APIResource{retrieve(e,t,n){const{thread_id:r,run_id:o,...a}=t;return this._client.get(i.path`/threads/${r}/runs/${o}/steps/${e}`,{query:a,...n,headers:(0,s.buildHeaders)([{"OpenAI-Beta":"assistants=v2"},n?.headers])})}list(e,t,n){const{thread_id:r,...a}=t;return this._client.getAPIList(i.path`/threads/${r}/runs/${e}/steps`,o.CursorPage,{query:a,...n,headers:(0,s.buildHeaders)([{"OpenAI-Beta":"assistants=v2"},n?.headers])})}}t.Steps=a},6847:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Threads=void 0;const r=n(2345),o=n(9487),s=r.__importStar(n(6648)),i=n(6648),a=r.__importStar(n(3051)),c=n(3051),l=n(9267),d=n(723),u=n(2704);class p extends o.APIResource{constructor(){super(...arguments),this.runs=new a.Runs(this._client),this.messages=new s.Messages(this._client)}create(e={},t){return this._client.post("/threads",{body:e,...t,headers:(0,l.buildHeaders)([{"OpenAI-Beta":"assistants=v2"},t?.headers])})}retrieve(e,t){return this._client.get(u.path`/threads/${e}`,{...t,headers:(0,l.buildHeaders)([{"OpenAI-Beta":"assistants=v2"},t?.headers])})}update(e,t,n){return this._client.post(u.path`/threads/${e}`,{body:t,...n,headers:(0,l.buildHeaders)([{"OpenAI-Beta":"assistants=v2"},n?.headers])})}delete(e,t){return this._client.delete(u.path`/threads/${e}`,{...t,headers:(0,l.buildHeaders)([{"OpenAI-Beta":"assistants=v2"},t?.headers])})}createAndRun(e,t){return this._client.post("/threads/runs",{body:e,...t,headers:(0,l.buildHeaders)([{"OpenAI-Beta":"assistants=v2"},t?.headers]),stream:e.stream??!1})}async createAndRunPoll(e,t){const n=await this.createAndRun(e,t);return await this.runs.poll(n.id,{thread_id:n.thread_id},t)}createAndRunStream(e,t){return d.AssistantStream.createThreadAssistantStream(e,this._client.beta.threads,t)}}t.Threads=p,p.Runs=c.Runs,p.Messages=i.Messages},3164:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Chat=void 0;const r=n(2345),o=n(9487),s=r.__importStar(n(1963)),i=n(1963);class a extends o.APIResource{constructor(){super(...arguments),this.completions=new s.Completions(this._client)}}t.Chat=a,a.Completions=i.Completions},1963:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ChatCompletionRunner=t.ChatCompletionStream=t.ParsingToolFunction=t.ChatCompletionStreamingRunner=t.Completions=void 0;const r=n(2345),o=n(9487),s=r.__importStar(n(7294)),i=n(7294),a=n(2155),c=n(2704),l=n(2509),d=n(997),u=n(3559),p=n(1368);class m extends o.APIResource{constructor(){super(...arguments),this.messages=new s.Messages(this._client)}create(e,t){return this._client.post("/chat/completions",{body:e,...t,stream:e.stream??!1})}retrieve(e,t){return this._client.get(c.path`/chat/completions/${e}`,t)}update(e,t,n){return this._client.post(c.path`/chat/completions/${e}`,{body:t,...n})}list(e={},t){return this._client.getAPIList("/chat/completions",a.CursorPage,{query:e,...t})}delete(e,t){return this._client.delete(c.path`/chat/completions/${e}`,t)}parse(e,t){return(0,p.validateInputTools)(e.tools),this._client.chat.completions.create(e,{...t,headers:{...t?.headers,"X-Stainless-Helper-Method":"chat.completions.parse"}})._thenUnwrap(t=>(0,p.parseChatCompletion)(t,e))}runTools(e,t){return e.stream?d.ChatCompletionStreamingRunner.runTools(this._client,e,t):l.ChatCompletionRunner.runTools(this._client,e,t)}stream(e,t){return u.ChatCompletionStream.createChatCompletion(this._client,e,t)}}t.Completions=m;var h=n(997);Object.defineProperty(t,"ChatCompletionStreamingRunner",{enumerable:!0,get:function(){return h.ChatCompletionStreamingRunner}});var f=n(9802);Object.defineProperty(t,"ParsingToolFunction",{enumerable:!0,get:function(){return f.ParsingToolFunction}});var g=n(3559);Object.defineProperty(t,"ChatCompletionStream",{enumerable:!0,get:function(){return g.ChatCompletionStream}});var y=n(2509);Object.defineProperty(t,"ChatCompletionRunner",{enumerable:!0,get:function(){return y.ChatCompletionRunner}}),m.Messages=i.Messages},3768:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Messages=t.Completions=void 0;const r=n(2345);var o=n(1963);Object.defineProperty(t,"Completions",{enumerable:!0,get:function(){return o.Completions}}),r.__exportStar(n(1963),t);var s=n(7294);Object.defineProperty(t,"Messages",{enumerable:!0,get:function(){return s.Messages}})},7294:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Messages=void 0;const r=n(9487),o=n(2155),s=n(2704);class i extends r.APIResource{list(e,t={},n){return this._client.getAPIList(s.path`/chat/completions/${e}/messages`,o.CursorPage,{query:t,...n})}}t.Messages=i},9436:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Completions=t.Chat=void 0;var r=n(3164);Object.defineProperty(t,"Chat",{enumerable:!0,get:function(){return r.Chat}});var o=n(3768);Object.defineProperty(t,"Completions",{enumerable:!0,get:function(){return o.Completions}})},4066:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Completions=void 0;const r=n(9487);class o extends r.APIResource{create(e,t){return this._client.post("/completions",{body:e,...t,stream:e.stream??!1})}}t.Completions=o},5764:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Containers=void 0;const r=n(2345),o=n(9487),s=r.__importStar(n(8217)),i=n(8217),a=n(2155),c=n(9267),l=n(2704);class d extends o.APIResource{constructor(){super(...arguments),this.files=new s.Files(this._client)}create(e,t){return this._client.post("/containers",{body:e,...t})}retrieve(e,t){return this._client.get(l.path`/containers/${e}`,t)}list(e={},t){return this._client.getAPIList("/containers",a.CursorPage,{query:e,...t})}delete(e,t){return this._client.delete(l.path`/containers/${e}`,{...t,headers:(0,c.buildHeaders)([{Accept:"*/*"},t?.headers])})}}t.Containers=d,d.Files=i.Files},7479:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Content=void 0;const r=n(9487),o=n(9267),s=n(2704);class i extends r.APIResource{retrieve(e,t,n){const{container_id:r}=t;return this._client.get(s.path`/containers/${r}/files/${e}/content`,{...n,headers:(0,o.buildHeaders)([{Accept:"application/binary"},n?.headers]),__binaryResponse:!0})}}t.Content=i},8217:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Files=void 0;const r=n(2345),o=n(9487),s=r.__importStar(n(7479)),i=n(7479),a=n(2155),c=n(9267),l=n(5887),d=n(2704);class u extends o.APIResource{constructor(){super(...arguments),this.content=new s.Content(this._client)}create(e,t,n){return this._client.post(d.path`/containers/${e}/files`,(0,l.multipartFormRequestOptions)({body:t,...n},this._client))}retrieve(e,t,n){const{container_id:r}=t;return this._client.get(d.path`/containers/${r}/files/${e}`,n)}list(e,t={},n){return this._client.getAPIList(d.path`/containers/${e}/files`,a.CursorPage,{query:t,...n})}delete(e,t,n){const{container_id:r}=t;return this._client.delete(d.path`/containers/${r}/files/${e}`,{...n,headers:(0,c.buildHeaders)([{Accept:"*/*"},n?.headers])})}}t.Files=u,u.Content=i.Content},7435:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Embeddings=void 0;const r=n(9487),o=n(2152);class s extends r.APIResource{create(e,t){const n=!!e.encoding_format;let r=n?e.encoding_format:"base64";n&&(0,o.loggerFor)(this._client).debug("embeddings/user defined encoding_format:",e.encoding_format);const s=this._client.post("/embeddings",{body:{...e,encoding_format:r},...t});return n?s:((0,o.loggerFor)(this._client).debug("embeddings/decoding base64 embeddings from base64"),s._thenUnwrap(e=>(e&&e.data&&e.data.forEach(e=>{const t=e.embedding;e.embedding=(0,o.toFloat32Array)(t)}),e)))}}t.Embeddings=s},4466:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Evals=void 0;const r=n(2345),o=n(9487),s=r.__importStar(n(2908)),i=n(2908),a=n(2155),c=n(2704);class l extends o.APIResource{constructor(){super(...arguments),this.runs=new s.Runs(this._client)}create(e,t){return this._client.post("/evals",{body:e,...t})}retrieve(e,t){return this._client.get(c.path`/evals/${e}`,t)}update(e,t,n){return this._client.post(c.path`/evals/${e}`,{body:t,...n})}list(e={},t){return this._client.getAPIList("/evals",a.CursorPage,{query:e,...t})}delete(e,t){return this._client.delete(c.path`/evals/${e}`,t)}}t.Evals=l,l.Runs=i.Runs},6394:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.OutputItems=void 0;const r=n(9487),o=n(2155),s=n(2704);class i extends r.APIResource{retrieve(e,t,n){const{eval_id:r,run_id:o}=t;return this._client.get(s.path`/evals/${r}/runs/${o}/output_items/${e}`,n)}list(e,t,n){const{eval_id:r,...i}=t;return this._client.getAPIList(s.path`/evals/${r}/runs/${e}/output_items`,o.CursorPage,{query:i,...n})}}t.OutputItems=i},2908:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Runs=void 0;const r=n(2345),o=n(9487),s=r.__importStar(n(6394)),i=n(6394),a=n(2155),c=n(2704);class l extends o.APIResource{constructor(){super(...arguments),this.outputItems=new s.OutputItems(this._client)}create(e,t,n){return this._client.post(c.path`/evals/${e}/runs`,{body:t,...n})}retrieve(e,t,n){const{eval_id:r}=t;return this._client.get(c.path`/evals/${r}/runs/${e}`,n)}list(e,t={},n){return this._client.getAPIList(c.path`/evals/${e}/runs`,a.CursorPage,{query:t,...n})}delete(e,t,n){const{eval_id:r}=t;return this._client.delete(c.path`/evals/${r}/runs/${e}`,n)}cancel(e,t,n){const{eval_id:r}=t;return this._client.post(c.path`/evals/${r}/runs/${e}`,n)}}t.Runs=l,l.OutputItems=i.OutputItems},9230:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Files=void 0;const r=n(9487),o=n(2155),s=n(9267),i=n(5668),a=n(3269),c=n(5887),l=n(2704);class d extends r.APIResource{create(e,t){return this._client.post("/files",(0,c.multipartFormRequestOptions)({body:e,...t},this._client))}retrieve(e,t){return this._client.get(l.path`/files/${e}`,t)}list(e={},t){return this._client.getAPIList("/files",o.CursorPage,{query:e,...t})}delete(e,t){return this._client.delete(l.path`/files/${e}`,t)}content(e,t){return this._client.get(l.path`/files/${e}/content`,{...t,headers:(0,s.buildHeaders)([{Accept:"application/binary"},t?.headers]),__binaryResponse:!0})}async waitForProcessing(e,{pollInterval:t=5e3,maxWait:n=18e5}={}){const r=new Set(["processed","error","deleted"]),o=Date.now();let s=await this.retrieve(e);for(;!s.status||!r.has(s.status);)if(await(0,i.sleep)(t),s=await this.retrieve(e),Date.now()-o>n)throw new a.APIConnectionTimeoutError({message:`Giving up on waiting for file ${e} to finish processing after ${n} milliseconds.`});return s}}t.Files=d},1235:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Alpha=void 0;const r=n(2345),o=n(9487),s=r.__importStar(n(5651)),i=n(5651);class a extends o.APIResource{constructor(){super(...arguments),this.graders=new s.Graders(this._client)}}t.Alpha=a,a.Graders=i.Graders},5651:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Graders=void 0;const r=n(9487);class o extends r.APIResource{run(e,t){return this._client.post("/fine_tuning/alpha/graders/run",{body:e,...t})}validate(e,t){return this._client.post("/fine_tuning/alpha/graders/validate",{body:e,...t})}}t.Graders=o},9995:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Checkpoints=void 0;const r=n(2345),o=n(9487),s=r.__importStar(n(7432)),i=n(7432);class a extends o.APIResource{constructor(){super(...arguments),this.permissions=new s.Permissions(this._client)}}t.Checkpoints=a,a.Permissions=i.Permissions},7432:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Permissions=void 0;const r=n(9487),o=n(2155),s=n(2704);class i extends r.APIResource{create(e,t,n){return this._client.getAPIList(s.path`/fine_tuning/checkpoints/${e}/permissions`,o.Page,{body:t,method:"post",...n})}retrieve(e,t={},n){return this._client.get(s.path`/fine_tuning/checkpoints/${e}/permissions`,{query:t,...n})}delete(e,t,n){const{fine_tuned_model_checkpoint:r}=t;return this._client.delete(s.path`/fine_tuning/checkpoints/${r}/permissions/${e}`,n)}}t.Permissions=i},198:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.FineTuning=void 0;const r=n(2345),o=n(9487),s=r.__importStar(n(838)),i=n(838),a=r.__importStar(n(1235)),c=n(1235),l=r.__importStar(n(9995)),d=n(9995),u=r.__importStar(n(1757)),p=n(1757);class m extends o.APIResource{constructor(){super(...arguments),this.methods=new s.Methods(this._client),this.jobs=new u.Jobs(this._client),this.checkpoints=new l.Checkpoints(this._client),this.alpha=new a.Alpha(this._client)}}t.FineTuning=m,m.Methods=i.Methods,m.Jobs=p.Jobs,m.Checkpoints=d.Checkpoints,m.Alpha=c.Alpha},590:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Checkpoints=void 0;const r=n(9487),o=n(2155),s=n(2704);class i extends r.APIResource{list(e,t={},n){return this._client.getAPIList(s.path`/fine_tuning/jobs/${e}/checkpoints`,o.CursorPage,{query:t,...n})}}t.Checkpoints=i},1757:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Jobs=void 0;const r=n(2345),o=n(9487),s=r.__importStar(n(590)),i=n(590),a=n(2155),c=n(2704);class l extends o.APIResource{constructor(){super(...arguments),this.checkpoints=new s.Checkpoints(this._client)}create(e,t){return this._client.post("/fine_tuning/jobs",{body:e,...t})}retrieve(e,t){return this._client.get(c.path`/fine_tuning/jobs/${e}`,t)}list(e={},t){return this._client.getAPIList("/fine_tuning/jobs",a.CursorPage,{query:e,...t})}cancel(e,t){return this._client.post(c.path`/fine_tuning/jobs/${e}/cancel`,t)}listEvents(e,t={},n){return this._client.getAPIList(c.path`/fine_tuning/jobs/${e}/events`,a.CursorPage,{query:t,...n})}pause(e,t){return this._client.post(c.path`/fine_tuning/jobs/${e}/pause`,t)}resume(e,t){return this._client.post(c.path`/fine_tuning/jobs/${e}/resume`,t)}}t.Jobs=l,l.Checkpoints=i.Checkpoints},838:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Methods=void 0;const r=n(9487);class o extends r.APIResource{}t.Methods=o},7406:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.GraderModels=void 0;const r=n(9487);class o extends r.APIResource{}t.GraderModels=o},7882:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Graders=void 0;const r=n(2345),o=n(9487),s=r.__importStar(n(7406)),i=n(7406);class a extends o.APIResource{constructor(){super(...arguments),this.graderModels=new s.GraderModels(this._client)}}t.Graders=a,a.GraderModels=i.GraderModels},1395:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Images=void 0;const r=n(9487),o=n(5887);class s extends r.APIResource{createVariation(e,t){return this._client.post("/images/variations",(0,o.multipartFormRequestOptions)({body:e,...t},this._client))}edit(e,t){return this._client.post("/images/edits",(0,o.multipartFormRequestOptions)({body:e,...t,stream:e.stream??!1},this._client))}generate(e,t){return this._client.post("/images/generations",{body:e,...t,stream:e.stream??!1})}}t.Images=s},6889:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Webhooks=t.VectorStores=t.Uploads=t.Responses=t.Moderations=t.Models=t.Images=t.Graders=t.FineTuning=t.Files=t.Evals=t.Embeddings=t.Containers=t.Completions=t.Beta=t.Batches=t.Audio=void 0;const r=n(2345);r.__exportStar(n(9436),t),r.__exportStar(n(156),t);var o=n(1257);Object.defineProperty(t,"Audio",{enumerable:!0,get:function(){return o.Audio}});var s=n(257);Object.defineProperty(t,"Batches",{enumerable:!0,get:function(){return s.Batches}});var i=n(8852);Object.defineProperty(t,"Beta",{enumerable:!0,get:function(){return i.Beta}});var a=n(4066);Object.defineProperty(t,"Completions",{enumerable:!0,get:function(){return a.Completions}});var c=n(5764);Object.defineProperty(t,"Containers",{enumerable:!0,get:function(){return c.Containers}});var l=n(7435);Object.defineProperty(t,"Embeddings",{enumerable:!0,get:function(){return l.Embeddings}});var d=n(4466);Object.defineProperty(t,"Evals",{enumerable:!0,get:function(){return d.Evals}});var u=n(9230);Object.defineProperty(t,"Files",{enumerable:!0,get:function(){return u.Files}});var p=n(198);Object.defineProperty(t,"FineTuning",{enumerable:!0,get:function(){return p.FineTuning}});var m=n(7882);Object.defineProperty(t,"Graders",{enumerable:!0,get:function(){return m.Graders}});var h=n(1395);Object.defineProperty(t,"Images",{enumerable:!0,get:function(){return h.Images}});var f=n(2123);Object.defineProperty(t,"Models",{enumerable:!0,get:function(){return f.Models}});var g=n(8328);Object.defineProperty(t,"Moderations",{enumerable:!0,get:function(){return g.Moderations}});var y=n(1470);Object.defineProperty(t,"Responses",{enumerable:!0,get:function(){return y.Responses}});var v=n(9962);Object.defineProperty(t,"Uploads",{enumerable:!0,get:function(){return v.Uploads}});var b=n(9494);Object.defineProperty(t,"VectorStores",{enumerable:!0,get:function(){return b.VectorStores}});var S=n(5143);Object.defineProperty(t,"Webhooks",{enumerable:!0,get:function(){return S.Webhooks}})},2123:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Models=void 0;const r=n(9487),o=n(2155),s=n(2704);class i extends r.APIResource{retrieve(e,t){return this._client.get(s.path`/models/${e}`,t)}list(e){return this._client.getAPIList("/models",o.Page,e)}delete(e,t){return this._client.delete(s.path`/models/${e}`,t)}}t.Models=i},8328:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Moderations=void 0;const r=n(9487);class o extends r.APIResource{create(e,t){return this._client.post("/moderations",{body:e,...t})}}t.Moderations=o},2915:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.InputItems=void 0;const r=n(9487),o=n(2155),s=n(2704);class i extends r.APIResource{list(e,t={},n){return this._client.getAPIList(s.path`/responses/${e}/input_items`,o.CursorPage,{query:t,...n})}}t.InputItems=i},1470:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Responses=void 0;const r=n(2345),o=n(3980),s=n(9977),i=n(9487),a=r.__importStar(n(2915)),c=n(2915),l=n(9267),d=n(2704);class u extends i.APIResource{constructor(){super(...arguments),this.inputItems=new a.InputItems(this._client)}create(e,t){return this._client.post("/responses",{body:e,...t,stream:e.stream??!1})._thenUnwrap(e=>("object"in e&&"response"===e.object&&(0,o.addOutputText)(e),e))}retrieve(e,t={},n){return this._client.get(d.path`/responses/${e}`,{query:t,...n,stream:t?.stream??!1})._thenUnwrap(e=>("object"in e&&"response"===e.object&&(0,o.addOutputText)(e),e))}delete(e,t){return this._client.delete(d.path`/responses/${e}`,{...t,headers:(0,l.buildHeaders)([{Accept:"*/*"},t?.headers])})}parse(e,t){return this._client.responses.create(e,t)._thenUnwrap(t=>(0,o.parseResponse)(t,e))}stream(e,t){return s.ResponseStream.createResponse(this._client,e,t)}cancel(e,t){return this._client.post(d.path`/responses/${e}/cancel`,t)}}t.Responses=u,u.InputItems=c.InputItems},156:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},2066:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Parts=void 0;const r=n(9487),o=n(5887),s=n(2704);class i extends r.APIResource{create(e,t,n){return this._client.post(s.path`/uploads/${e}/parts`,(0,o.multipartFormRequestOptions)({body:t,...n},this._client))}}t.Parts=i},9962:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Uploads=void 0;const r=n(2345),o=n(9487),s=r.__importStar(n(2066)),i=n(2066),a=n(2704);class c extends o.APIResource{constructor(){super(...arguments),this.parts=new s.Parts(this._client)}create(e,t){return this._client.post("/uploads",{body:e,...t})}cancel(e,t){return this._client.post(a.path`/uploads/${e}/cancel`,t)}complete(e,t,n){return this._client.post(a.path`/uploads/${e}/complete`,{body:t,...n})}}t.Uploads=c,c.Parts=i.Parts},9527:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.FileBatches=void 0;const r=n(9487),o=n(2155),s=n(9267),i=n(5668),a=n(3831),c=n(2704);class l extends r.APIResource{create(e,t,n){return this._client.post(c.path`/vector_stores/${e}/file_batches`,{body:t,...n,headers:(0,s.buildHeaders)([{"OpenAI-Beta":"assistants=v2"},n?.headers])})}retrieve(e,t,n){const{vector_store_id:r}=t;return this._client.get(c.path`/vector_stores/${r}/file_batches/${e}`,{...n,headers:(0,s.buildHeaders)([{"OpenAI-Beta":"assistants=v2"},n?.headers])})}cancel(e,t,n){const{vector_store_id:r}=t;return this._client.post(c.path`/vector_stores/${r}/file_batches/${e}/cancel`,{...n,headers:(0,s.buildHeaders)([{"OpenAI-Beta":"assistants=v2"},n?.headers])})}async createAndPoll(e,t,n){const r=await this.create(e,t);return await this.poll(e,r.id,n)}listFiles(e,t,n){const{vector_store_id:r,...i}=t;return this._client.getAPIList(c.path`/vector_stores/${r}/file_batches/${e}/files`,o.CursorPage,{query:i,...n,headers:(0,s.buildHeaders)([{"OpenAI-Beta":"assistants=v2"},n?.headers])})}async poll(e,t,n){const r=(0,s.buildHeaders)([n?.headers,{"X-Stainless-Poll-Helper":"true","X-Stainless-Custom-Poll-Interval":n?.pollIntervalMs?.toString()??void 0}]);for(;;){const{data:o,response:s}=await this.retrieve(t,{vector_store_id:e},{...n,headers:r}).withResponse();switch(o.status){case"in_progress":let e=5e3;if(n?.pollIntervalMs)e=n.pollIntervalMs;else{const t=s.headers.get("openai-poll-after-ms");if(t){const n=parseInt(t);isNaN(n)||(e=n)}}await(0,i.sleep)(e);break;case"failed":case"cancelled":case"completed":return o}}}async uploadAndPoll(e,{files:t,fileIds:n=[]},r){if(null==t||0==t.length)throw new Error("No `files` provided to process. If you've already uploaded files you should use `.createAndPoll()` instead");const o=r?.maxConcurrency??5,s=Math.min(o,t.length),i=this._client,c=t.values(),l=[...n];const d=Array(s).fill(c).map(async function(e){for(let t of e){const e=await i.files.create({file:t,purpose:"assistants"},r);l.push(e.id)}});return await(0,a.allSettledWithThrow)(d),await this.createAndPoll(e,{file_ids:l})}}t.FileBatches=l},49:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Files=void 0;const r=n(9487),o=n(2155),s=n(9267),i=n(2152),a=n(2704);class c extends r.APIResource{create(e,t,n){return this._client.post(a.path`/vector_stores/${e}/files`,{body:t,...n,headers:(0,s.buildHeaders)([{"OpenAI-Beta":"assistants=v2"},n?.headers])})}retrieve(e,t,n){const{vector_store_id:r}=t;return this._client.get(a.path`/vector_stores/${r}/files/${e}`,{...n,headers:(0,s.buildHeaders)([{"OpenAI-Beta":"assistants=v2"},n?.headers])})}update(e,t,n){const{vector_store_id:r,...o}=t;return this._client.post(a.path`/vector_stores/${r}/files/${e}`,{body:o,...n,headers:(0,s.buildHeaders)([{"OpenAI-Beta":"assistants=v2"},n?.headers])})}list(e,t={},n){return this._client.getAPIList(a.path`/vector_stores/${e}/files`,o.CursorPage,{query:t,...n,headers:(0,s.buildHeaders)([{"OpenAI-Beta":"assistants=v2"},n?.headers])})}delete(e,t,n){const{vector_store_id:r}=t;return this._client.delete(a.path`/vector_stores/${r}/files/${e}`,{...n,headers:(0,s.buildHeaders)([{"OpenAI-Beta":"assistants=v2"},n?.headers])})}async createAndPoll(e,t,n){const r=await this.create(e,t,n);return await this.poll(e,r.id,n)}async poll(e,t,n){const r=(0,s.buildHeaders)([n?.headers,{"X-Stainless-Poll-Helper":"true","X-Stainless-Custom-Poll-Interval":n?.pollIntervalMs?.toString()??void 0}]);for(;;){const o=await this.retrieve(t,{vector_store_id:e},{...n,headers:r}).withResponse(),s=o.data;switch(s.status){case"in_progress":let e=5e3;if(n?.pollIntervalMs)e=n.pollIntervalMs;else{const t=o.response.headers.get("openai-poll-after-ms");if(t){const n=parseInt(t);isNaN(n)||(e=n)}}await(0,i.sleep)(e);break;case"failed":case"completed":return s}}}async upload(e,t,n){const r=await this._client.files.create({file:t,purpose:"assistants"},n);return this.create(e,{file_id:r.id},n)}async uploadAndPoll(e,t,n){const r=await this.upload(e,t,n);return await this.poll(e,r.id,n)}content(e,t,n){const{vector_store_id:r}=t;return this._client.getAPIList(a.path`/vector_stores/${r}/files/${e}/content`,o.Page,{...n,headers:(0,s.buildHeaders)([{"OpenAI-Beta":"assistants=v2"},n?.headers])})}}t.Files=c},9494:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.VectorStores=void 0;const r=n(2345),o=n(9487),s=r.__importStar(n(9527)),i=n(9527),a=r.__importStar(n(49)),c=n(49),l=n(2155),d=n(9267),u=n(2704);class p extends o.APIResource{constructor(){super(...arguments),this.files=new a.Files(this._client),this.fileBatches=new s.FileBatches(this._client)}create(e,t){return this._client.post("/vector_stores",{body:e,...t,headers:(0,d.buildHeaders)([{"OpenAI-Beta":"assistants=v2"},t?.headers])})}retrieve(e,t){return this._client.get(u.path`/vector_stores/${e}`,{...t,headers:(0,d.buildHeaders)([{"OpenAI-Beta":"assistants=v2"},t?.headers])})}update(e,t,n){return this._client.post(u.path`/vector_stores/${e}`,{body:t,...n,headers:(0,d.buildHeaders)([{"OpenAI-Beta":"assistants=v2"},n?.headers])})}list(e={},t){return this._client.getAPIList("/vector_stores",l.CursorPage,{query:e,...t,headers:(0,d.buildHeaders)([{"OpenAI-Beta":"assistants=v2"},t?.headers])})}delete(e,t){return this._client.delete(u.path`/vector_stores/${e}`,{...t,headers:(0,d.buildHeaders)([{"OpenAI-Beta":"assistants=v2"},t?.headers])})}search(e,t,n){return this._client.getAPIList(u.path`/vector_stores/${e}/search`,l.Page,{body:t,method:"post",...n,headers:(0,d.buildHeaders)([{"OpenAI-Beta":"assistants=v2"},n?.headers])})}}t.VectorStores=p,p.Files=c.Files,p.FileBatches=i.FileBatches},5143:(e,t,n)=>{"use strict";var r,o,s;Object.defineProperty(t,"__esModule",{value:!0}),t.Webhooks=void 0;const i=n(2345),a=n(3269),c=n(9487),l=n(9267);class d extends c.APIResource{constructor(){super(...arguments),r.add(this)}async unwrap(e,t,n=this._client.webhookSecret,r=300){return await this.verifySignature(e,t,n,r),JSON.parse(e)}async verifySignature(e,t,n=this._client.webhookSecret,c=300){if("undefined"==typeof crypto||"function"!=typeof crypto.subtle.importKey||"function"!=typeof crypto.subtle.verify)throw new Error("Webhook signature verification is only supported when the `crypto` global is defined");i.__classPrivateFieldGet(this,r,"m",o).call(this,n);const d=(0,l.buildHeaders)([t]).values,u=i.__classPrivateFieldGet(this,r,"m",s).call(this,d,"webhook-signature"),p=i.__classPrivateFieldGet(this,r,"m",s).call(this,d,"webhook-timestamp"),m=i.__classPrivateFieldGet(this,r,"m",s).call(this,d,"webhook-id"),h=parseInt(p,10);if(isNaN(h))throw new a.InvalidWebhookSignatureError("Invalid webhook timestamp format");const f=Math.floor(Date.now()/1e3);if(f-h>c)throw new a.InvalidWebhookSignatureError("Webhook timestamp is too old");if(h>f+c)throw new a.InvalidWebhookSignatureError("Webhook timestamp is too new");const g=u.split(" ").map(e=>e.startsWith("v1,")?e.substring(3):e),y=n.startsWith("whsec_")?Buffer.from(n.replace("whsec_",""),"base64"):Buffer.from(n,"utf-8"),v=m?`${m}.${p}.${e}`:`${p}.${e}`,b=await crypto.subtle.importKey("raw",y,{name:"HMAC",hash:"SHA-256"},!1,["verify"]);for(const e of g)try{const t=Buffer.from(e,"base64");if(await crypto.subtle.verify("HMAC",b,t,(new TextEncoder).encode(v)))return}catch{continue}throw new a.InvalidWebhookSignatureError("The given webhook signature does not match the expected signature")}}t.Webhooks=d,r=new WeakSet,o=function(e){if("string"!=typeof e||0===e.length)throw new Error("The webhook secret must either be set using the env var, OPENAI_WEBHOOK_SECRET, on the client class, OpenAI({ webhookSecret: '123' }), or passed to this function")},s=function(e,t){if(!e)throw new Error("Headers are required");const n=e.get(t);if(null==n)throw new Error(`Missing required header: ${t}`);return n}},1835:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});n(2345).__exportStar(n(7787),t)},3287:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.VERSION=void 0,t.VERSION="5.12.2"},591:e=>{(()=>{"use strict";var t={d:(e,n)=>{for(var r in n)t.o(n,r)&&!t.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:n[r]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r:e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}},n={};t.r(n),t.d(n,{XMLBuilder:()=>me,XMLParser:()=>se,XMLValidator:()=>ye});const r=":A-Za-z_\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD",o=new RegExp("^["+r+"]["+r+"\\-.\\d\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$");function s(e,t){const n=[];let r=t.exec(e);for(;r;){const o=[];o.startIndex=t.lastIndex-r[0].length;const s=r.length;for(let e=0;e<s;e++)o.push(r[e]);n.push(o),r=t.exec(e)}return n}const i=function(e){return!(null==o.exec(e))},a={allowBooleanAttributes:!1,unpairedTags:[]};function c(e,t){t=Object.assign({},a,t);const n=[];let r=!1,o=!1;"\ufeff"===e[0]&&(e=e.substr(1));for(let s=0;s<e.length;s++)if("<"===e[s]&&"?"===e[s+1]){if(s+=2,s=d(e,s),s.err)return s}else{if("<"!==e[s]){if(l(e[s]))continue;return v("InvalidChar","char '"+e[s]+"' is not expected.",S(e,s))}{let a=s;if(s++,"!"===e[s]){s=u(e,s);continue}{let c=!1;"/"===e[s]&&(c=!0,s++);let p="";for(;s<e.length&&">"!==e[s]&&" "!==e[s]&&"\t"!==e[s]&&"\n"!==e[s]&&"\r"!==e[s];s++)p+=e[s];if(p=p.trim(),"/"===p[p.length-1]&&(p=p.substring(0,p.length-1),s--),!i(p)){let t;return t=0===p.trim().length?"Invalid space after '<'.":"Tag '"+p+"' is an invalid name.",v("InvalidTag",t,S(e,s))}const m=h(e,s);if(!1===m)return v("InvalidAttr","Attributes for '"+p+"' have open quote.",S(e,s));let f=m.value;if(s=m.index,"/"===f[f.length-1]){const n=s-f.length;f=f.substring(0,f.length-1);const o=g(f,t);if(!0!==o)return v(o.err.code,o.err.msg,S(e,n+o.err.line));r=!0}else if(c){if(!m.tagClosed)return v("InvalidTag","Closing tag '"+p+"' doesn't have proper closing.",S(e,s));if(f.trim().length>0)return v("InvalidTag","Closing tag '"+p+"' can't have attributes or invalid starting.",S(e,a));if(0===n.length)return v("InvalidTag","Closing tag '"+p+"' has not been opened.",S(e,a));{const t=n.pop();if(p!==t.tagName){let n=S(e,t.tagStartPos);return v("InvalidTag","Expected closing tag '"+t.tagName+"' (opened in line "+n.line+", col "+n.col+") instead of closing tag '"+p+"'.",S(e,a))}0==n.length&&(o=!0)}}else{const i=g(f,t);if(!0!==i)return v(i.err.code,i.err.msg,S(e,s-f.length+i.err.line));if(!0===o)return v("InvalidXml","Multiple possible root nodes found.",S(e,s));-1!==t.unpairedTags.indexOf(p)||n.push({tagName:p,tagStartPos:a}),r=!0}for(s++;s<e.length;s++)if("<"===e[s]){if("!"===e[s+1]){s++,s=u(e,s);continue}if("?"!==e[s+1])break;if(s=d(e,++s),s.err)return s}else if("&"===e[s]){const t=y(e,s);if(-1==t)return v("InvalidChar","char '&' is not expected.",S(e,s));s=t}else if(!0===o&&!l(e[s]))return v("InvalidXml","Extra text at the end",S(e,s));"<"===e[s]&&s--}}}return r?1==n.length?v("InvalidTag","Unclosed tag '"+n[0].tagName+"'.",S(e,n[0].tagStartPos)):!(n.length>0)||v("InvalidXml","Invalid '"+JSON.stringify(n.map(e=>e.tagName),null,4).replace(/\r?\n/g,"")+"' found.",{line:1,col:1}):v("InvalidXml","Start tag expected.",1)}function l(e){return" "===e||"\t"===e||"\n"===e||"\r"===e}function d(e,t){const n=t;for(;t<e.length;t++)if("?"!=e[t]&&" "!=e[t]);else{const r=e.substr(n,t-n);if(t>5&&"xml"===r)return v("InvalidXml","XML declaration allowed only at the start of the document.",S(e,t));if("?"==e[t]&&">"==e[t+1]){t++;break}}return t}function u(e,t){if(e.length>t+5&&"-"===e[t+1]&&"-"===e[t+2]){for(t+=3;t<e.length;t++)if("-"===e[t]&&"-"===e[t+1]&&">"===e[t+2]){t+=2;break}}else if(e.length>t+8&&"D"===e[t+1]&&"O"===e[t+2]&&"C"===e[t+3]&&"T"===e[t+4]&&"Y"===e[t+5]&&"P"===e[t+6]&&"E"===e[t+7]){let n=1;for(t+=8;t<e.length;t++)if("<"===e[t])n++;else if(">"===e[t]&&(n--,0===n))break}else if(e.length>t+9&&"["===e[t+1]&&"C"===e[t+2]&&"D"===e[t+3]&&"A"===e[t+4]&&"T"===e[t+5]&&"A"===e[t+6]&&"["===e[t+7])for(t+=8;t<e.length;t++)if("]"===e[t]&&"]"===e[t+1]&&">"===e[t+2]){t+=2;break}return t}const p='"',m="'";function h(e,t){let n="",r="",o=!1;for(;t<e.length;t++){if(e[t]===p||e[t]===m)""===r?r=e[t]:r!==e[t]||(r="");else if(">"===e[t]&&""===r){o=!0;break}n+=e[t]}return""===r&&{value:n,index:t,tagClosed:o}}const f=new RegExp("(\\s*)([^\\s=]+)(\\s*=)?(\\s*(['\"])(([\\s\\S])*?)\\5)?","g");function g(e,t){const n=s(e,f),r={};for(let e=0;e<n.length;e++){if(0===n[e][1].length)return v("InvalidAttr","Attribute '"+n[e][2]+"' has no space in starting.",_(n[e]));if(void 0!==n[e][3]&&void 0===n[e][4])return v("InvalidAttr","Attribute '"+n[e][2]+"' is without value.",_(n[e]));if(void 0===n[e][3]&&!t.allowBooleanAttributes)return v("InvalidAttr","boolean attribute '"+n[e][2]+"' is not allowed.",_(n[e]));const o=n[e][2];if(!b(o))return v("InvalidAttr","Attribute '"+o+"' is an invalid name.",_(n[e]));if(r.hasOwnProperty(o))return v("InvalidAttr","Attribute '"+o+"' is repeated.",_(n[e]));r[o]=1}return!0}function y(e,t){if(";"===e[++t])return-1;if("#"===e[t])return function(e,t){let n=/\d/;for("x"===e[t]&&(t++,n=/[\da-fA-F]/);t<e.length;t++){if(";"===e[t])return t;if(!e[t].match(n))break}return-1}(e,++t);let n=0;for(;t<e.length;t++,n++)if(!(e[t].match(/\w/)&&n<20)){if(";"===e[t])break;return-1}return t}function v(e,t,n){return{err:{code:e,msg:t,line:n.line||n,col:n.col}}}function b(e){return i(e)}function S(e,t){const n=e.substring(0,t).split(/\r?\n/);return{line:n.length,col:n[n.length-1].length+1}}function _(e){return e.startIndex+e[1].length}const w={preserveOrder:!1,attributeNamePrefix:"@_",attributesGroupName:!1,textNodeName:"#text",ignoreAttributes:!0,removeNSPrefix:!1,allowBooleanAttributes:!1,parseTagValue:!0,parseAttributeValue:!1,trimValues:!0,cdataPropName:!1,numberParseOptions:{hex:!0,leadingZeros:!0,eNotation:!0},tagValueProcessor:function(e,t){return t},attributeValueProcessor:function(e,t){return t},stopNodes:[],alwaysCreateTextNode:!1,isArray:()=>!1,commentPropName:!1,unpairedTags:[],processEntities:!0,htmlEntities:!1,ignoreDeclaration:!1,ignorePiTags:!1,transformTagName:!1,transformAttributeName:!1,updateTag:function(e,t,n){return e},captureMetaData:!1};let E;E="function"!=typeof Symbol?"@@xmlMetadata":Symbol("XML Node Metadata");class P{constructor(e){this.tagname=e,this.child=[],this[":@"]={}}add(e,t){"__proto__"===e&&(e="#__proto__"),this.child.push({[e]:t})}addChild(e,t){"__proto__"===e.tagname&&(e.tagname="#__proto__"),e[":@"]&&Object.keys(e[":@"]).length>0?this.child.push({[e.tagname]:e.child,":@":e[":@"]}):this.child.push({[e.tagname]:e.child}),void 0!==t&&(this.child[this.child.length-1][E]={startIndex:t})}static getMetaDataSymbol(){return E}}function C(e,t){const n={};if("O"!==e[t+3]||"C"!==e[t+4]||"T"!==e[t+5]||"Y"!==e[t+6]||"P"!==e[t+7]||"E"!==e[t+8])throw new Error("Invalid Tag instead of DOCTYPE");{t+=9;let r=1,o=!1,s=!1,i="";for(;t<e.length;t++)if("<"!==e[t]||s)if(">"===e[t]){if(s?"-"===e[t-1]&&"-"===e[t-2]&&(s=!1,r--):r--,0===r)break}else"["===e[t]?o=!0:i+=e[t];else{if(o&&T(e,"!ENTITY",t)){let r,o;t+=7,[r,o,t]=A(e,t+1),-1===o.indexOf("&")&&(n[r]={regx:RegExp(`&${r};`,"g"),val:o})}else if(o&&T(e,"!ELEMENT",t)){t+=8;const{index:n}=R(e,t+1);t=n}else if(o&&T(e,"!ATTLIST",t))t+=8;else if(o&&T(e,"!NOTATION",t)){t+=9;const{index:n}=x(e,t+1);t=n}else{if(!T(e,"!--",t))throw new Error("Invalid DOCTYPE");s=!0}r++,i=""}if(0!==r)throw new Error("Unclosed DOCTYPE")}return{entities:n,i:t}}const O=(e,t)=>{for(;t<e.length&&/\s/.test(e[t]);)t++;return t};function A(e,t){t=O(e,t);let n="";for(;t<e.length&&!/\s/.test(e[t])&&'"'!==e[t]&&"'"!==e[t];)n+=e[t],t++;if(D(n),t=O(e,t),"SYSTEM"===e.substring(t,t+6).toUpperCase())throw new Error("External entities are not supported");if("%"===e[t])throw new Error("Parameter entities are not supported");let r="";return[t,r]=I(e,t,"entity"),[n,r,--t]}function x(e,t){t=O(e,t);let n="";for(;t<e.length&&!/\s/.test(e[t]);)n+=e[t],t++;D(n),t=O(e,t);const r=e.substring(t,t+6).toUpperCase();if("SYSTEM"!==r&&"PUBLIC"!==r)throw new Error(`Expected SYSTEM or PUBLIC, found "${r}"`);t+=r.length,t=O(e,t);let o=null,s=null;if("PUBLIC"===r)[t,o]=I(e,t,"publicIdentifier"),'"'!==e[t=O(e,t)]&&"'"!==e[t]||([t,s]=I(e,t,"systemIdentifier"));else if("SYSTEM"===r&&([t,s]=I(e,t,"systemIdentifier"),!s))throw new Error("Missing mandatory system identifier for SYSTEM notation");return{notationName:n,publicIdentifier:o,systemIdentifier:s,index:--t}}function I(e,t,n){let r="";const o=e[t];if('"'!==o&&"'"!==o)throw new Error(`Expected quoted string, found "${o}"`);for(t++;t<e.length&&e[t]!==o;)r+=e[t],t++;if(e[t]!==o)throw new Error(`Unterminated ${n} value`);return[++t,r]}function R(e,t){t=O(e,t);let n="";for(;t<e.length&&!/\s/.test(e[t]);)n+=e[t],t++;if(!D(n))throw new Error(`Invalid element name: "${n}"`);let r="";if("E"===e[t=O(e,t)]&&T(e,"MPTY",t))t+=4;else if("A"===e[t]&&T(e,"NY",t))t+=2;else{if("("!==e[t])throw new Error(`Invalid Element Expression, found "${e[t]}"`);for(t++;t<e.length&&")"!==e[t];)r+=e[t],t++;if(")"!==e[t])throw new Error("Unterminated content model")}return{elementName:n,contentModel:r.trim(),index:t}}function T(e,t,n){for(let r=0;r<t.length;r++)if(t[r]!==e[n+r+1])return!1;return!0}function D(e){if(i(e))return e;throw new Error(`Invalid entity name ${e}`)}const k=/^[-+]?0x[a-fA-F0-9]+$/,N=/^([\-\+])?(0*)([0-9]*(\.[0-9]*)?)$/,j={hex:!0,leadingZeros:!0,decimalPoint:".",eNotation:!0},M=/^([-+])?(0*)(\d*(\.\d*)?[eE][-\+]?\d+)$/;function L(e){return"function"==typeof e?e:Array.isArray(e)?t=>{for(const n of e){if("string"==typeof n&&t===n)return!0;if(n instanceof RegExp&&n.test(t))return!0}}:()=>!1}class F{constructor(e){this.options=e,this.currentNode=null,this.tagsNodeStack=[],this.docTypeEntities={},this.lastEntities={apos:{regex:/&(apos|#39|#x27);/g,val:"'"},gt:{regex:/&(gt|#62|#x3E);/g,val:">"},lt:{regex:/&(lt|#60|#x3C);/g,val:"<"},quot:{regex:/&(quot|#34|#x22);/g,val:'"'}},this.ampEntity={regex:/&(amp|#38|#x26);/g,val:"&"},this.htmlEntities={space:{regex:/&(nbsp|#160);/g,val:" "},cent:{regex:/&(cent|#162);/g,val:"¢"},pound:{regex:/&(pound|#163);/g,val:"£"},yen:{regex:/&(yen|#165);/g,val:"¥"},euro:{regex:/&(euro|#8364);/g,val:"€"},copyright:{regex:/&(copy|#169);/g,val:"©"},reg:{regex:/&(reg|#174);/g,val:"®"},inr:{regex:/&(inr|#8377);/g,val:"₹"},num_dec:{regex:/&#([0-9]{1,7});/g,val:(e,t)=>String.fromCodePoint(Number.parseInt(t,10))},num_hex:{regex:/&#x([0-9a-fA-F]{1,6});/g,val:(e,t)=>String.fromCodePoint(Number.parseInt(t,16))}},this.addExternalEntities=$,this.parseXml=z,this.parseTextData=U,this.resolveNameSpace=B,this.buildAttributesMap=H,this.isItStopNode=J,this.replaceEntitiesValue=W,this.readStopNodeData=Y,this.saveTextToParentTag=V,this.addChild=q,this.ignoreAttributesFn=L(this.options.ignoreAttributes)}}function $(e){const t=Object.keys(e);for(let n=0;n<t.length;n++){const r=t[n];this.lastEntities[r]={regex:new RegExp("&"+r+";","g"),val:e[r]}}}function U(e,t,n,r,o,s,i){if(void 0!==e&&(this.options.trimValues&&!r&&(e=e.trim()),e.length>0)){i||(e=this.replaceEntitiesValue(e));const r=this.options.tagValueProcessor(t,e,n,o,s);return null==r?e:typeof r!=typeof e||r!==e?r:this.options.trimValues||e.trim()===e?Q(e,this.options.parseTagValue,this.options.numberParseOptions):e}}function B(e){if(this.options.removeNSPrefix){const t=e.split(":"),n="/"===e.charAt(0)?"/":"";if("xmlns"===t[0])return"";2===t.length&&(e=n+t[1])}return e}const G=new RegExp("([^\\s=]+)\\s*(=\\s*(['\"])([\\s\\S]*?)\\3)?","gm");function H(e,t,n){if(!0!==this.options.ignoreAttributes&&"string"==typeof e){const n=s(e,G),r=n.length,o={};for(let e=0;e<r;e++){const r=this.resolveNameSpace(n[e][1]);if(this.ignoreAttributesFn(r,t))continue;let s=n[e][4],i=this.options.attributeNamePrefix+r;if(r.length)if(this.options.transformAttributeName&&(i=this.options.transformAttributeName(i)),"__proto__"===i&&(i="#__proto__"),void 0!==s){this.options.trimValues&&(s=s.trim()),s=this.replaceEntitiesValue(s);const e=this.options.attributeValueProcessor(r,s,t);o[i]=null==e?s:typeof e!=typeof s||e!==s?e:Q(s,this.options.parseAttributeValue,this.options.numberParseOptions)}else this.options.allowBooleanAttributes&&(o[i]=!0)}if(!Object.keys(o).length)return;if(this.options.attributesGroupName){const e={};return e[this.options.attributesGroupName]=o,e}return o}}const z=function(e){e=e.replace(/\r\n?/g,"\n");const t=new P("!xml");let n=t,r="",o="";for(let s=0;s<e.length;s++)if("<"===e[s])if("/"===e[s+1]){const t=K(e,">",s,"Closing Tag is not closed.");let i=e.substring(s+2,t).trim();if(this.options.removeNSPrefix){const e=i.indexOf(":");-1!==e&&(i=i.substr(e+1))}this.options.transformTagName&&(i=this.options.transformTagName(i)),n&&(r=this.saveTextToParentTag(r,n,o));const a=o.substring(o.lastIndexOf(".")+1);if(i&&-1!==this.options.unpairedTags.indexOf(i))throw new Error(`Unpaired tag can not be used as closing tag: </${i}>`);let c=0;a&&-1!==this.options.unpairedTags.indexOf(a)?(c=o.lastIndexOf(".",o.lastIndexOf(".")-1),this.tagsNodeStack.pop()):c=o.lastIndexOf("."),o=o.substring(0,c),n=this.tagsNodeStack.pop(),r="",s=t}else if("?"===e[s+1]){let t=X(e,s,!1,"?>");if(!t)throw new Error("Pi Tag is not closed.");if(r=this.saveTextToParentTag(r,n,o),this.options.ignoreDeclaration&&"?xml"===t.tagName||this.options.ignorePiTags);else{const e=new P(t.tagName);e.add(this.options.textNodeName,""),t.tagName!==t.tagExp&&t.attrExpPresent&&(e[":@"]=this.buildAttributesMap(t.tagExp,o,t.tagName)),this.addChild(n,e,o,s)}s=t.closeIndex+1}else if("!--"===e.substr(s+1,3)){const t=K(e,"--\x3e",s+4,"Comment is not closed.");if(this.options.commentPropName){const i=e.substring(s+4,t-2);r=this.saveTextToParentTag(r,n,o),n.add(this.options.commentPropName,[{[this.options.textNodeName]:i}])}s=t}else if("!D"===e.substr(s+1,2)){const t=C(e,s);this.docTypeEntities=t.entities,s=t.i}else if("!["===e.substr(s+1,2)){const t=K(e,"]]>",s,"CDATA is not closed.")-2,i=e.substring(s+9,t);r=this.saveTextToParentTag(r,n,o);let a=this.parseTextData(i,n.tagname,o,!0,!1,!0,!0);null==a&&(a=""),this.options.cdataPropName?n.add(this.options.cdataPropName,[{[this.options.textNodeName]:i}]):n.add(this.options.textNodeName,a),s=t+2}else{let i=X(e,s,this.options.removeNSPrefix),a=i.tagName;const c=i.rawTagName;let l=i.tagExp,d=i.attrExpPresent,u=i.closeIndex;this.options.transformTagName&&(a=this.options.transformTagName(a)),n&&r&&"!xml"!==n.tagname&&(r=this.saveTextToParentTag(r,n,o,!1));const p=n;p&&-1!==this.options.unpairedTags.indexOf(p.tagname)&&(n=this.tagsNodeStack.pop(),o=o.substring(0,o.lastIndexOf("."))),a!==t.tagname&&(o+=o?"."+a:a);const m=s;if(this.isItStopNode(this.options.stopNodes,o,a)){let t="";if(l.length>0&&l.lastIndexOf("/")===l.length-1)"/"===a[a.length-1]?(a=a.substr(0,a.length-1),o=o.substr(0,o.length-1),l=a):l=l.substr(0,l.length-1),s=i.closeIndex;else if(-1!==this.options.unpairedTags.indexOf(a))s=i.closeIndex;else{const n=this.readStopNodeData(e,c,u+1);if(!n)throw new Error(`Unexpected end of ${c}`);s=n.i,t=n.tagContent}const r=new P(a);a!==l&&d&&(r[":@"]=this.buildAttributesMap(l,o,a)),t&&(t=this.parseTextData(t,a,o,!0,d,!0,!0)),o=o.substr(0,o.lastIndexOf(".")),r.add(this.options.textNodeName,t),this.addChild(n,r,o,m)}else{if(l.length>0&&l.lastIndexOf("/")===l.length-1){"/"===a[a.length-1]?(a=a.substr(0,a.length-1),o=o.substr(0,o.length-1),l=a):l=l.substr(0,l.length-1),this.options.transformTagName&&(a=this.options.transformTagName(a));const e=new P(a);a!==l&&d&&(e[":@"]=this.buildAttributesMap(l,o,a)),this.addChild(n,e,o,m),o=o.substr(0,o.lastIndexOf("."))}else{const e=new P(a);this.tagsNodeStack.push(n),a!==l&&d&&(e[":@"]=this.buildAttributesMap(l,o,a)),this.addChild(n,e,o,m),n=e}r="",s=u}}else r+=e[s];return t.child};function q(e,t,n,r){this.options.captureMetaData||(r=void 0);const o=this.options.updateTag(t.tagname,n,t[":@"]);!1===o||("string"==typeof o?(t.tagname=o,e.addChild(t,r)):e.addChild(t,r))}const W=function(e){if(this.options.processEntities){for(let t in this.docTypeEntities){const n=this.docTypeEntities[t];e=e.replace(n.regx,n.val)}for(let t in this.lastEntities){const n=this.lastEntities[t];e=e.replace(n.regex,n.val)}if(this.options.htmlEntities)for(let t in this.htmlEntities){const n=this.htmlEntities[t];e=e.replace(n.regex,n.val)}e=e.replace(this.ampEntity.regex,this.ampEntity.val)}return e};function V(e,t,n,r){return e&&(void 0===r&&(r=0===t.child.length),void 0!==(e=this.parseTextData(e,t.tagname,n,!1,!!t[":@"]&&0!==Object.keys(t[":@"]).length,r))&&""!==e&&t.add(this.options.textNodeName,e),e=""),e}function J(e,t,n){const r="*."+n;for(const n in e){const o=e[n];if(r===o||t===o)return!0}return!1}function K(e,t,n,r){const o=e.indexOf(t,n);if(-1===o)throw new Error(r);return o+t.length-1}function X(e,t,n,r=">"){const o=function(e,t,n=">"){let r,o="";for(let s=t;s<e.length;s++){let t=e[s];if(r)t===r&&(r="");else if('"'===t||"'"===t)r=t;else if(t===n[0]){if(!n[1])return{data:o,index:s};if(e[s+1]===n[1])return{data:o,index:s}}else"\t"===t&&(t=" ");o+=t}}(e,t+1,r);if(!o)return;let s=o.data;const i=o.index,a=s.search(/\s/);let c=s,l=!0;-1!==a&&(c=s.substring(0,a),s=s.substring(a+1).trimStart());const d=c;if(n){const e=c.indexOf(":");-1!==e&&(c=c.substr(e+1),l=c!==o.data.substr(e+1))}return{tagName:c,tagExp:s,closeIndex:i,attrExpPresent:l,rawTagName:d}}function Y(e,t,n){const r=n;let o=1;for(;n<e.length;n++)if("<"===e[n])if("/"===e[n+1]){const s=K(e,">",n,`${t} is not closed`);if(e.substring(n+2,s).trim()===t&&(o--,0===o))return{tagContent:e.substring(r,n),i:s};n=s}else if("?"===e[n+1])n=K(e,"?>",n+1,"StopNode is not closed.");else if("!--"===e.substr(n+1,3))n=K(e,"--\x3e",n+3,"StopNode is not closed.");else if("!["===e.substr(n+1,2))n=K(e,"]]>",n,"StopNode is not closed.")-2;else{const r=X(e,n,">");r&&((r&&r.tagName)===t&&"/"!==r.tagExp[r.tagExp.length-1]&&o++,n=r.closeIndex)}}function Q(e,t,n){if(t&&"string"==typeof e){const t=e.trim();return"true"===t||"false"!==t&&function(e,t={}){if(t=Object.assign({},j,t),!e||"string"!=typeof e)return e;let n=e.trim();if(void 0!==t.skipLike&&t.skipLike.test(n))return e;if("0"===e)return 0;if(t.hex&&k.test(n))return function(e){if(parseInt)return parseInt(e,16);if(Number.parseInt)return Number.parseInt(e,16);if(window&&window.parseInt)return window.parseInt(e,16);throw new Error("parseInt, Number.parseInt, window.parseInt are not supported")}(n);if(-1!==n.search(/.+[eE].+/))return function(e,t,n){if(!n.eNotation)return e;const r=t.match(M);if(r){let o=r[1]||"";const s=-1===r[3].indexOf("e")?"E":"e",i=r[2],a=o?e[i.length+1]===s:e[i.length]===s;return i.length>1&&a?e:1!==i.length||!r[3].startsWith(`.${s}`)&&r[3][0]!==s?n.leadingZeros&&!a?(t=(r[1]||"")+r[3],Number(t)):e:Number(t)}return e}(e,n,t);{const o=N.exec(n);if(o){const s=o[1]||"",i=o[2];let a=(r=o[3])&&-1!==r.indexOf(".")?("."===(r=r.replace(/0+$/,""))?r="0":"."===r[0]?r="0"+r:"."===r[r.length-1]&&(r=r.substring(0,r.length-1)),r):r;const c=s?"."===e[i.length+1]:"."===e[i.length];if(!t.leadingZeros&&(i.length>1||1===i.length&&!c))return e;{const r=Number(n),o=String(r);if(0===r||-0===r)return r;if(-1!==o.search(/[eE]/))return t.eNotation?r:e;if(-1!==n.indexOf("."))return"0"===o||o===a||o===`${s}${a}`?r:e;let c=i?a:n;return i?c===o||s+c===o?r:e:c===o||c===s+o?r:e}}return e}var r}(e,n)}return void 0!==e?e:""}const Z=P.getMetaDataSymbol();function ee(e,t){return te(e,t)}function te(e,t,n){let r;const o={};for(let s=0;s<e.length;s++){const i=e[s],a=ne(i);let c="";if(c=void 0===n?a:n+"."+a,a===t.textNodeName)void 0===r?r=i[a]:r+=""+i[a];else{if(void 0===a)continue;if(i[a]){let e=te(i[a],t,c);const n=oe(e,t);void 0!==i[Z]&&(e[Z]=i[Z]),i[":@"]?re(e,i[":@"],c,t):1!==Object.keys(e).length||void 0===e[t.textNodeName]||t.alwaysCreateTextNode?0===Object.keys(e).length&&(t.alwaysCreateTextNode?e[t.textNodeName]="":e=""):e=e[t.textNodeName],void 0!==o[a]&&o.hasOwnProperty(a)?(Array.isArray(o[a])||(o[a]=[o[a]]),o[a].push(e)):t.isArray(a,c,n)?o[a]=[e]:o[a]=e}}}return"string"==typeof r?r.length>0&&(o[t.textNodeName]=r):void 0!==r&&(o[t.textNodeName]=r),o}function ne(e){const t=Object.keys(e);for(let e=0;e<t.length;e++){const n=t[e];if(":@"!==n)return n}}function re(e,t,n,r){if(t){const o=Object.keys(t),s=o.length;for(let i=0;i<s;i++){const s=o[i];r.isArray(s,n+"."+s,!0,!0)?e[s]=[t[s]]:e[s]=t[s]}}}function oe(e,t){const{textNodeName:n}=t,r=Object.keys(e).length;return 0===r||!(1!==r||!e[n]&&"boolean"!=typeof e[n]&&0!==e[n])}class se{constructor(e){this.externalEntities={},this.options=function(e){return Object.assign({},w,e)}(e)}parse(e,t){if("string"==typeof e);else{if(!e.toString)throw new Error("XML data is accepted in String or Bytes[] form.");e=e.toString()}if(t){!0===t&&(t={});const n=c(e,t);if(!0!==n)throw Error(`${n.err.msg}:${n.err.line}:${n.err.col}`)}const n=new F(this.options);n.addExternalEntities(this.externalEntities);const r=n.parseXml(e);return this.options.preserveOrder||void 0===r?r:ee(r,this.options)}addEntity(e,t){if(-1!==t.indexOf("&"))throw new Error("Entity value can't have '&'");if(-1!==e.indexOf("&")||-1!==e.indexOf(";"))throw new Error("An entity must be set without '&' and ';'. Eg. use '#xD' for '&#xD;'");if("&"===t)throw new Error("An entity with value '&' is not permitted");this.externalEntities[e]=t}static getMetaDataSymbol(){return P.getMetaDataSymbol()}}function ie(e,t){let n="";return t.format&&t.indentBy.length>0&&(n="\n"),ae(e,t,"",n)}function ae(e,t,n,r){let o="",s=!1;for(let i=0;i<e.length;i++){const a=e[i],c=ce(a);if(void 0===c)continue;let l="";if(l=0===n.length?c:`${n}.${c}`,c===t.textNodeName){let e=a[c];de(l,t)||(e=t.tagValueProcessor(c,e),e=ue(e,t)),s&&(o+=r),o+=e,s=!1;continue}if(c===t.cdataPropName){s&&(o+=r),o+=`<![CDATA[${a[c][0][t.textNodeName]}]]>`,s=!1;continue}if(c===t.commentPropName){o+=r+`\x3c!--${a[c][0][t.textNodeName]}--\x3e`,s=!0;continue}if("?"===c[0]){const e=le(a[":@"],t),n="?xml"===c?"":r;let i=a[c][0][t.textNodeName];i=0!==i.length?" "+i:"",o+=n+`<${c}${i}${e}?>`,s=!0;continue}let d=r;""!==d&&(d+=t.indentBy);const u=r+`<${c}${le(a[":@"],t)}`,p=ae(a[c],t,l,d);-1!==t.unpairedTags.indexOf(c)?t.suppressUnpairedNode?o+=u+">":o+=u+"/>":p&&0!==p.length||!t.suppressEmptyNode?p&&p.endsWith(">")?o+=u+`>${p}${r}</${c}>`:(o+=u+">",p&&""!==r&&(p.includes("/>")||p.includes("</"))?o+=r+t.indentBy+p+r:o+=p,o+=`</${c}>`):o+=u+"/>",s=!0}return o}function ce(e){const t=Object.keys(e);for(let n=0;n<t.length;n++){const r=t[n];if(e.hasOwnProperty(r)&&":@"!==r)return r}}function le(e,t){let n="";if(e&&!t.ignoreAttributes)for(let r in e){if(!e.hasOwnProperty(r))continue;let o=t.attributeValueProcessor(r,e[r]);o=ue(o,t),!0===o&&t.suppressBooleanAttributes?n+=` ${r.substr(t.attributeNamePrefix.length)}`:n+=` ${r.substr(t.attributeNamePrefix.length)}="${o}"`}return n}function de(e,t){let n=(e=e.substr(0,e.length-t.textNodeName.length-1)).substr(e.lastIndexOf(".")+1);for(let r in t.stopNodes)if(t.stopNodes[r]===e||t.stopNodes[r]==="*."+n)return!0;return!1}function ue(e,t){if(e&&e.length>0&&t.processEntities)for(let n=0;n<t.entities.length;n++){const r=t.entities[n];e=e.replace(r.regex,r.val)}return e}const pe={attributeNamePrefix:"@_",attributesGroupName:!1,textNodeName:"#text",ignoreAttributes:!0,cdataPropName:!1,format:!1,indentBy:"  ",suppressEmptyNode:!1,suppressUnpairedNode:!0,suppressBooleanAttributes:!0,tagValueProcessor:function(e,t){return t},attributeValueProcessor:function(e,t){return t},preserveOrder:!1,commentPropName:!1,unpairedTags:[],entities:[{regex:new RegExp("&","g"),val:"&amp;"},{regex:new RegExp(">","g"),val:"&gt;"},{regex:new RegExp("<","g"),val:"&lt;"},{regex:new RegExp("'","g"),val:"&apos;"},{regex:new RegExp('"',"g"),val:"&quot;"}],processEntities:!0,stopNodes:[],oneListGroup:!1};function me(e){this.options=Object.assign({},pe,e),!0===this.options.ignoreAttributes||this.options.attributesGroupName?this.isAttribute=function(){return!1}:(this.ignoreAttributesFn=L(this.options.ignoreAttributes),this.attrPrefixLen=this.options.attributeNamePrefix.length,this.isAttribute=ge),this.processTextOrObjNode=he,this.options.format?(this.indentate=fe,this.tagEndChar=">\n",this.newLine="\n"):(this.indentate=function(){return""},this.tagEndChar=">",this.newLine="")}function he(e,t,n,r){const o=this.j2x(e,n+1,r.concat(t));return void 0!==e[this.options.textNodeName]&&1===Object.keys(e).length?this.buildTextValNode(e[this.options.textNodeName],t,o.attrStr,n):this.buildObjectNode(o.val,t,o.attrStr,n)}function fe(e){return this.options.indentBy.repeat(e)}function ge(e){return!(!e.startsWith(this.options.attributeNamePrefix)||e===this.options.textNodeName)&&e.substr(this.attrPrefixLen)}me.prototype.build=function(e){return this.options.preserveOrder?ie(e,this.options):(Array.isArray(e)&&this.options.arrayNodeName&&this.options.arrayNodeName.length>1&&(e={[this.options.arrayNodeName]:e}),this.j2x(e,0,[]).val)},me.prototype.j2x=function(e,t,n){let r="",o="";const s=n.join(".");for(let i in e)if(Object.prototype.hasOwnProperty.call(e,i))if(void 0===e[i])this.isAttribute(i)&&(o+="");else if(null===e[i])this.isAttribute(i)||i===this.options.cdataPropName?o+="":"?"===i[0]?o+=this.indentate(t)+"<"+i+"?"+this.tagEndChar:o+=this.indentate(t)+"<"+i+"/"+this.tagEndChar;else if(e[i]instanceof Date)o+=this.buildTextValNode(e[i],i,"",t);else if("object"!=typeof e[i]){const n=this.isAttribute(i);if(n&&!this.ignoreAttributesFn(n,s))r+=this.buildAttrPairStr(n,""+e[i]);else if(!n)if(i===this.options.textNodeName){let t=this.options.tagValueProcessor(i,""+e[i]);o+=this.replaceEntitiesValue(t)}else o+=this.buildTextValNode(e[i],i,"",t)}else if(Array.isArray(e[i])){const r=e[i].length;let s="",a="";for(let c=0;c<r;c++){const r=e[i][c];if(void 0===r);else if(null===r)"?"===i[0]?o+=this.indentate(t)+"<"+i+"?"+this.tagEndChar:o+=this.indentate(t)+"<"+i+"/"+this.tagEndChar;else if("object"==typeof r)if(this.options.oneListGroup){const e=this.j2x(r,t+1,n.concat(i));s+=e.val,this.options.attributesGroupName&&r.hasOwnProperty(this.options.attributesGroupName)&&(a+=e.attrStr)}else s+=this.processTextOrObjNode(r,i,t,n);else if(this.options.oneListGroup){let e=this.options.tagValueProcessor(i,r);e=this.replaceEntitiesValue(e),s+=e}else s+=this.buildTextValNode(r,i,"",t)}this.options.oneListGroup&&(s=this.buildObjectNode(s,i,a,t)),o+=s}else if(this.options.attributesGroupName&&i===this.options.attributesGroupName){const t=Object.keys(e[i]),n=t.length;for(let o=0;o<n;o++)r+=this.buildAttrPairStr(t[o],""+e[i][t[o]])}else o+=this.processTextOrObjNode(e[i],i,t,n);return{attrStr:r,val:o}},me.prototype.buildAttrPairStr=function(e,t){return t=this.options.attributeValueProcessor(e,""+t),t=this.replaceEntitiesValue(t),this.options.suppressBooleanAttributes&&"true"===t?" "+e:" "+e+'="'+t+'"'},me.prototype.buildObjectNode=function(e,t,n,r){if(""===e)return"?"===t[0]?this.indentate(r)+"<"+t+n+"?"+this.tagEndChar:this.indentate(r)+"<"+t+n+this.closeTag(t)+this.tagEndChar;{let o="</"+t+this.tagEndChar,s="";return"?"===t[0]&&(s="?",o=""),!n&&""!==n||-1!==e.indexOf("<")?!1!==this.options.commentPropName&&t===this.options.commentPropName&&0===s.length?this.indentate(r)+`\x3c!--${e}--\x3e`+this.newLine:this.indentate(r)+"<"+t+n+s+this.tagEndChar+e+this.indentate(r)+o:this.indentate(r)+"<"+t+n+s+">"+e+o}},me.prototype.closeTag=function(e){let t="";return-1!==this.options.unpairedTags.indexOf(e)?this.options.suppressUnpairedNode||(t="/"):t=this.options.suppressEmptyNode?"/":`></${e}`,t},me.prototype.buildTextValNode=function(e,t,n,r){if(!1!==this.options.cdataPropName&&t===this.options.cdataPropName)return this.indentate(r)+`<![CDATA[${e}]]>`+this.newLine;if(!1!==this.options.commentPropName&&t===this.options.commentPropName)return this.indentate(r)+`\x3c!--${e}--\x3e`+this.newLine;if("?"===t[0])return this.indentate(r)+"<"+t+n+"?"+this.tagEndChar;{let o=this.options.tagValueProcessor(t,e);return o=this.replaceEntitiesValue(o),""===o?this.indentate(r)+"<"+t+n+this.closeTag(t)+this.tagEndChar:this.indentate(r)+"<"+t+n+">"+o+"</"+t+this.tagEndChar}},me.prototype.replaceEntitiesValue=function(e){if(e&&e.length>0&&this.options.processEntities)for(let t=0;t<this.options.entities.length;t++){const n=this.options.entities[t];e=e.replace(n.regex,n.val)}return e};const ye={validate:c};e.exports=n})()},9960:e=>{"use strict";e.exports=JSON.parse('{"name":"@aws-sdk/client-bedrock-runtime","description":"AWS SDK for JavaScript Bedrock Runtime Client for Node.js, Browser and React Native","version":"3.864.0","scripts":{"build":"concurrently \'yarn:build:cjs\' \'yarn:build:es\' \'yarn:build:types\'","build:cjs":"node ../../scripts/compilation/inline client-bedrock-runtime","build:es":"tsc -p tsconfig.es.json","build:include:deps":"lerna run --scope $npm_package_name --include-dependencies build","build:types":"tsc -p tsconfig.types.json","build:types:downlevel":"downlevel-dts dist-types dist-types/ts3.4","clean":"rimraf ./dist-* && rimraf *.tsbuildinfo","extract:docs":"api-extractor run --local","generate:client":"node ../../scripts/generate-clients/single-service --solo bedrock-runtime"},"main":"./dist-cjs/index.js","types":"./dist-types/index.d.ts","module":"./dist-es/index.js","sideEffects":false,"dependencies":{"@aws-crypto/sha256-browser":"5.2.0","@aws-crypto/sha256-js":"5.2.0","@aws-sdk/core":"3.864.0","@aws-sdk/credential-provider-node":"3.864.0","@aws-sdk/eventstream-handler-node":"3.862.0","@aws-sdk/middleware-eventstream":"3.862.0","@aws-sdk/middleware-host-header":"3.862.0","@aws-sdk/middleware-logger":"3.862.0","@aws-sdk/middleware-recursion-detection":"3.862.0","@aws-sdk/middleware-user-agent":"3.864.0","@aws-sdk/middleware-websocket":"3.862.0","@aws-sdk/region-config-resolver":"3.862.0","@aws-sdk/token-providers":"3.864.0","@aws-sdk/types":"3.862.0","@aws-sdk/util-endpoints":"3.862.0","@aws-sdk/util-user-agent-browser":"3.862.0","@aws-sdk/util-user-agent-node":"3.864.0","@smithy/config-resolver":"^4.1.5","@smithy/core":"^3.8.0","@smithy/eventstream-serde-browser":"^4.0.5","@smithy/eventstream-serde-config-resolver":"^4.1.3","@smithy/eventstream-serde-node":"^4.0.5","@smithy/fetch-http-handler":"^5.1.1","@smithy/hash-node":"^4.0.5","@smithy/invalid-dependency":"^4.0.5","@smithy/middleware-content-length":"^4.0.5","@smithy/middleware-endpoint":"^4.1.18","@smithy/middleware-retry":"^4.1.19","@smithy/middleware-serde":"^4.0.9","@smithy/middleware-stack":"^4.0.5","@smithy/node-config-provider":"^4.1.4","@smithy/node-http-handler":"^4.1.1","@smithy/protocol-http":"^5.1.3","@smithy/smithy-client":"^4.4.10","@smithy/types":"^4.3.2","@smithy/url-parser":"^4.0.5","@smithy/util-base64":"^4.0.0","@smithy/util-body-length-browser":"^4.0.0","@smithy/util-body-length-node":"^4.0.0","@smithy/util-defaults-mode-browser":"^4.0.26","@smithy/util-defaults-mode-node":"^4.0.26","@smithy/util-endpoints":"^3.0.7","@smithy/util-middleware":"^4.0.5","@smithy/util-retry":"^4.0.7","@smithy/util-stream":"^4.2.4","@smithy/util-utf8":"^4.0.0","@types/uuid":"^9.0.1","tslib":"^2.6.2","uuid":"^9.0.1"},"devDependencies":{"@tsconfig/node18":"18.2.4","@types/node":"^18.19.69","concurrently":"7.0.0","downlevel-dts":"0.10.1","rimraf":"3.0.2","typescript":"~5.8.3"},"engines":{"node":">=18.0.0"},"typesVersions":{"<4.0":{"dist-types/*":["dist-types/ts3.4/*"]}},"files":["dist-*/**"],"author":{"name":"AWS SDK for JavaScript Team","url":"https://aws.amazon.com/javascript/"},"license":"Apache-2.0","browser":{"./dist-es/runtimeConfig":"./dist-es/runtimeConfig.browser"},"react-native":{"./dist-es/runtimeConfig":"./dist-es/runtimeConfig.native"},"homepage":"https://github.com/aws/aws-sdk-js-v3/tree/main/clients/client-bedrock-runtime","repository":{"type":"git","url":"https://github.com/aws/aws-sdk-js-v3.git","directory":"clients/client-bedrock-runtime"}}')},7611:e=>{"use strict";e.exports=JSON.parse('{"name":"@aws-sdk/client-cloudwatch-logs","description":"AWS SDK for JavaScript Cloudwatch Logs Client for Node.js, Browser and React Native","version":"3.864.0","scripts":{"build":"concurrently \'yarn:build:cjs\' \'yarn:build:es\' \'yarn:build:types\'","build:cjs":"node ../../scripts/compilation/inline client-cloudwatch-logs","build:es":"tsc -p tsconfig.es.json","build:include:deps":"lerna run --scope $npm_package_name --include-dependencies build","build:types":"tsc -p tsconfig.types.json","build:types:downlevel":"downlevel-dts dist-types dist-types/ts3.4","clean":"rimraf ./dist-* && rimraf *.tsbuildinfo","extract:docs":"api-extractor run --local","generate:client":"node ../../scripts/generate-clients/single-service --solo cloudwatch-logs"},"main":"./dist-cjs/index.js","types":"./dist-types/index.d.ts","module":"./dist-es/index.js","sideEffects":false,"dependencies":{"@aws-crypto/sha256-browser":"5.2.0","@aws-crypto/sha256-js":"5.2.0","@aws-sdk/core":"3.864.0","@aws-sdk/credential-provider-node":"3.864.0","@aws-sdk/middleware-host-header":"3.862.0","@aws-sdk/middleware-logger":"3.862.0","@aws-sdk/middleware-recursion-detection":"3.862.0","@aws-sdk/middleware-user-agent":"3.864.0","@aws-sdk/region-config-resolver":"3.862.0","@aws-sdk/types":"3.862.0","@aws-sdk/util-endpoints":"3.862.0","@aws-sdk/util-user-agent-browser":"3.862.0","@aws-sdk/util-user-agent-node":"3.864.0","@smithy/config-resolver":"^4.1.5","@smithy/core":"^3.8.0","@smithy/eventstream-serde-browser":"^4.0.5","@smithy/eventstream-serde-config-resolver":"^4.1.3","@smithy/eventstream-serde-node":"^4.0.5","@smithy/fetch-http-handler":"^5.1.1","@smithy/hash-node":"^4.0.5","@smithy/invalid-dependency":"^4.0.5","@smithy/middleware-content-length":"^4.0.5","@smithy/middleware-endpoint":"^4.1.18","@smithy/middleware-retry":"^4.1.19","@smithy/middleware-serde":"^4.0.9","@smithy/middleware-stack":"^4.0.5","@smithy/node-config-provider":"^4.1.4","@smithy/node-http-handler":"^4.1.1","@smithy/protocol-http":"^5.1.3","@smithy/smithy-client":"^4.4.10","@smithy/types":"^4.3.2","@smithy/url-parser":"^4.0.5","@smithy/util-base64":"^4.0.0","@smithy/util-body-length-browser":"^4.0.0","@smithy/util-body-length-node":"^4.0.0","@smithy/util-defaults-mode-browser":"^4.0.26","@smithy/util-defaults-mode-node":"^4.0.26","@smithy/util-endpoints":"^3.0.7","@smithy/util-middleware":"^4.0.5","@smithy/util-retry":"^4.0.7","@smithy/util-utf8":"^4.0.0","@types/uuid":"^9.0.1","tslib":"^2.6.2","uuid":"^9.0.1"},"devDependencies":{"@tsconfig/node18":"18.2.4","@types/node":"^18.19.69","concurrently":"7.0.0","downlevel-dts":"0.10.1","rimraf":"3.0.2","typescript":"~5.8.3"},"engines":{"node":">=18.0.0"},"typesVersions":{"<4.0":{"dist-types/*":["dist-types/ts3.4/*"]}},"files":["dist-*/**"],"author":{"name":"AWS SDK for JavaScript Team","url":"https://aws.amazon.com/javascript/"},"license":"Apache-2.0","browser":{"./dist-es/runtimeConfig":"./dist-es/runtimeConfig.browser"},"react-native":{"./dist-es/runtimeConfig":"./dist-es/runtimeConfig.native"},"homepage":"https://github.com/aws/aws-sdk-js-v3/tree/main/clients/client-cloudwatch-logs","repository":{"type":"git","url":"https://github.com/aws/aws-sdk-js-v3.git","directory":"clients/client-cloudwatch-logs"}}')},5188:e=>{"use strict";e.exports=JSON.parse('{"name":"@aws-sdk/client-sso","description":"AWS SDK for JavaScript Sso Client for Node.js, Browser and React Native","version":"3.864.0","scripts":{"build":"concurrently \'yarn:build:cjs\' \'yarn:build:es\' \'yarn:build:types\'","build:cjs":"node ../../scripts/compilation/inline client-sso","build:es":"tsc -p tsconfig.es.json","build:include:deps":"lerna run --scope $npm_package_name --include-dependencies build","build:types":"tsc -p tsconfig.types.json","build:types:downlevel":"downlevel-dts dist-types dist-types/ts3.4","clean":"rimraf ./dist-* && rimraf *.tsbuildinfo","extract:docs":"api-extractor run --local","generate:client":"node ../../scripts/generate-clients/single-service --solo sso"},"main":"./dist-cjs/index.js","types":"./dist-types/index.d.ts","module":"./dist-es/index.js","sideEffects":false,"dependencies":{"@aws-crypto/sha256-browser":"5.2.0","@aws-crypto/sha256-js":"5.2.0","@aws-sdk/core":"3.864.0","@aws-sdk/middleware-host-header":"3.862.0","@aws-sdk/middleware-logger":"3.862.0","@aws-sdk/middleware-recursion-detection":"3.862.0","@aws-sdk/middleware-user-agent":"3.864.0","@aws-sdk/region-config-resolver":"3.862.0","@aws-sdk/types":"3.862.0","@aws-sdk/util-endpoints":"3.862.0","@aws-sdk/util-user-agent-browser":"3.862.0","@aws-sdk/util-user-agent-node":"3.864.0","@smithy/config-resolver":"^4.1.5","@smithy/core":"^3.8.0","@smithy/fetch-http-handler":"^5.1.1","@smithy/hash-node":"^4.0.5","@smithy/invalid-dependency":"^4.0.5","@smithy/middleware-content-length":"^4.0.5","@smithy/middleware-endpoint":"^4.1.18","@smithy/middleware-retry":"^4.1.19","@smithy/middleware-serde":"^4.0.9","@smithy/middleware-stack":"^4.0.5","@smithy/node-config-provider":"^4.1.4","@smithy/node-http-handler":"^4.1.1","@smithy/protocol-http":"^5.1.3","@smithy/smithy-client":"^4.4.10","@smithy/types":"^4.3.2","@smithy/url-parser":"^4.0.5","@smithy/util-base64":"^4.0.0","@smithy/util-body-length-browser":"^4.0.0","@smithy/util-body-length-node":"^4.0.0","@smithy/util-defaults-mode-browser":"^4.0.26","@smithy/util-defaults-mode-node":"^4.0.26","@smithy/util-endpoints":"^3.0.7","@smithy/util-middleware":"^4.0.5","@smithy/util-retry":"^4.0.7","@smithy/util-utf8":"^4.0.0","tslib":"^2.6.2"},"devDependencies":{"@tsconfig/node18":"18.2.4","@types/node":"^18.19.69","concurrently":"7.0.0","downlevel-dts":"0.10.1","rimraf":"3.0.2","typescript":"~5.8.3"},"engines":{"node":">=18.0.0"},"typesVersions":{"<4.0":{"dist-types/*":["dist-types/ts3.4/*"]}},"files":["dist-*/**"],"author":{"name":"AWS SDK for JavaScript Team","url":"https://aws.amazon.com/javascript/"},"license":"Apache-2.0","browser":{"./dist-es/runtimeConfig":"./dist-es/runtimeConfig.browser"},"react-native":{"./dist-es/runtimeConfig":"./dist-es/runtimeConfig.native"},"homepage":"https://github.com/aws/aws-sdk-js-v3/tree/main/clients/client-sso","repository":{"type":"git","url":"https://github.com/aws/aws-sdk-js-v3.git","directory":"clients/client-sso"}}')},4959:e=>{"use strict";e.exports=JSON.parse('{"name":"@aws-sdk/client-sts","description":"AWS SDK for JavaScript Sts Client for Node.js, Browser and React Native","version":"3.864.0","scripts":{"build":"concurrently \'yarn:build:cjs\' \'yarn:build:es\' \'yarn:build:types\'","build:cjs":"node ../../scripts/compilation/inline client-sts","build:es":"tsc -p tsconfig.es.json","build:include:deps":"lerna run --scope $npm_package_name --include-dependencies build","build:types":"rimraf ./dist-types tsconfig.types.tsbuildinfo && tsc -p tsconfig.types.json","build:types:downlevel":"downlevel-dts dist-types dist-types/ts3.4","clean":"rimraf ./dist-* && rimraf *.tsbuildinfo","extract:docs":"api-extractor run --local","generate:client":"node ../../scripts/generate-clients/single-service --solo sts","test":"yarn g:vitest run","test:watch":"yarn g:vitest watch"},"main":"./dist-cjs/index.js","types":"./dist-types/index.d.ts","module":"./dist-es/index.js","sideEffects":false,"dependencies":{"@aws-crypto/sha256-browser":"5.2.0","@aws-crypto/sha256-js":"5.2.0","@aws-sdk/core":"3.864.0","@aws-sdk/credential-provider-node":"3.864.0","@aws-sdk/middleware-host-header":"3.862.0","@aws-sdk/middleware-logger":"3.862.0","@aws-sdk/middleware-recursion-detection":"3.862.0","@aws-sdk/middleware-user-agent":"3.864.0","@aws-sdk/region-config-resolver":"3.862.0","@aws-sdk/types":"3.862.0","@aws-sdk/util-endpoints":"3.862.0","@aws-sdk/util-user-agent-browser":"3.862.0","@aws-sdk/util-user-agent-node":"3.864.0","@smithy/config-resolver":"^4.1.5","@smithy/core":"^3.8.0","@smithy/fetch-http-handler":"^5.1.1","@smithy/hash-node":"^4.0.5","@smithy/invalid-dependency":"^4.0.5","@smithy/middleware-content-length":"^4.0.5","@smithy/middleware-endpoint":"^4.1.18","@smithy/middleware-retry":"^4.1.19","@smithy/middleware-serde":"^4.0.9","@smithy/middleware-stack":"^4.0.5","@smithy/node-config-provider":"^4.1.4","@smithy/node-http-handler":"^4.1.1","@smithy/protocol-http":"^5.1.3","@smithy/smithy-client":"^4.4.10","@smithy/types":"^4.3.2","@smithy/url-parser":"^4.0.5","@smithy/util-base64":"^4.0.0","@smithy/util-body-length-browser":"^4.0.0","@smithy/util-body-length-node":"^4.0.0","@smithy/util-defaults-mode-browser":"^4.0.26","@smithy/util-defaults-mode-node":"^4.0.26","@smithy/util-endpoints":"^3.0.7","@smithy/util-middleware":"^4.0.5","@smithy/util-retry":"^4.0.7","@smithy/util-utf8":"^4.0.0","tslib":"^2.6.2"},"devDependencies":{"@tsconfig/node18":"18.2.4","@types/node":"^18.19.69","concurrently":"7.0.0","downlevel-dts":"0.10.1","rimraf":"3.0.2","typescript":"~5.8.3"},"engines":{"node":">=18.0.0"},"typesVersions":{"<4.0":{"dist-types/*":["dist-types/ts3.4/*"]}},"files":["dist-*/**"],"author":{"name":"AWS SDK for JavaScript Team","url":"https://aws.amazon.com/javascript/"},"license":"Apache-2.0","browser":{"./dist-es/runtimeConfig":"./dist-es/runtimeConfig.browser"},"react-native":{"./dist-es/runtimeConfig":"./dist-es/runtimeConfig.native"},"homepage":"https://github.com/aws/aws-sdk-js-v3/tree/main/clients/client-sts","repository":{"type":"git","url":"https://github.com/aws/aws-sdk-js-v3.git","directory":"clients/client-sts"}}')},9955:e=>{"use strict";e.exports=JSON.parse('{"name":"@aws-sdk/nested-clients","version":"3.864.0","description":"Nested clients for AWS SDK packages.","main":"./dist-cjs/index.js","module":"./dist-es/index.js","types":"./dist-types/index.d.ts","scripts":{"build":"yarn lint && concurrently \'yarn:build:cjs\' \'yarn:build:es\' \'yarn:build:types\'","build:cjs":"node ../../scripts/compilation/inline nested-clients","build:es":"tsc -p tsconfig.es.json","build:include:deps":"lerna run --scope $npm_package_name --include-dependencies build","build:types":"tsc -p tsconfig.types.json","build:types:downlevel":"downlevel-dts dist-types dist-types/ts3.4","clean":"rimraf ./dist-* && rimraf *.tsbuildinfo","lint":"node ../../scripts/validation/submodules-linter.js --pkg nested-clients","test":"yarn g:vitest run","test:watch":"yarn g:vitest watch"},"engines":{"node":">=18.0.0"},"author":{"name":"AWS SDK for JavaScript Team","url":"https://aws.amazon.com/javascript/"},"license":"Apache-2.0","dependencies":{"@aws-crypto/sha256-browser":"5.2.0","@aws-crypto/sha256-js":"5.2.0","@aws-sdk/core":"3.864.0","@aws-sdk/middleware-host-header":"3.862.0","@aws-sdk/middleware-logger":"3.862.0","@aws-sdk/middleware-recursion-detection":"3.862.0","@aws-sdk/middleware-user-agent":"3.864.0","@aws-sdk/region-config-resolver":"3.862.0","@aws-sdk/types":"3.862.0","@aws-sdk/util-endpoints":"3.862.0","@aws-sdk/util-user-agent-browser":"3.862.0","@aws-sdk/util-user-agent-node":"3.864.0","@smithy/config-resolver":"^4.1.5","@smithy/core":"^3.8.0","@smithy/fetch-http-handler":"^5.1.1","@smithy/hash-node":"^4.0.5","@smithy/invalid-dependency":"^4.0.5","@smithy/middleware-content-length":"^4.0.5","@smithy/middleware-endpoint":"^4.1.18","@smithy/middleware-retry":"^4.1.19","@smithy/middleware-serde":"^4.0.9","@smithy/middleware-stack":"^4.0.5","@smithy/node-config-provider":"^4.1.4","@smithy/node-http-handler":"^4.1.1","@smithy/protocol-http":"^5.1.3","@smithy/smithy-client":"^4.4.10","@smithy/types":"^4.3.2","@smithy/url-parser":"^4.0.5","@smithy/util-base64":"^4.0.0","@smithy/util-body-length-browser":"^4.0.0","@smithy/util-body-length-node":"^4.0.0","@smithy/util-defaults-mode-browser":"^4.0.26","@smithy/util-defaults-mode-node":"^4.0.26","@smithy/util-endpoints":"^3.0.7","@smithy/util-middleware":"^4.0.5","@smithy/util-retry":"^4.0.7","@smithy/util-utf8":"^4.0.0","tslib":"^2.6.2"},"devDependencies":{"concurrently":"7.0.0","downlevel-dts":"0.10.1","rimraf":"3.0.2","typescript":"~5.8.3"},"typesVersions":{"<4.0":{"dist-types/*":["dist-types/ts3.4/*"]}},"files":["./sso-oidc.d.ts","./sso-oidc.js","./sts.d.ts","./sts.js","dist-*/**"],"browser":{"./dist-es/submodules/sso-oidc/runtimeConfig":"./dist-es/submodules/sso-oidc/runtimeConfig.browser","./dist-es/submodules/sts/runtimeConfig":"./dist-es/submodules/sts/runtimeConfig.browser"},"react-native":{},"homepage":"https://github.com/aws/aws-sdk-js-v3/tree/main/packages/nested-clients","repository":{"type":"git","url":"https://github.com/aws/aws-sdk-js-v3.git","directory":"packages/nested-clients"},"exports":{"./sso-oidc":{"types":"./dist-types/submodules/sso-oidc/index.d.ts","module":"./dist-es/submodules/sso-oidc/index.js","node":"./dist-cjs/submodules/sso-oidc/index.js","import":"./dist-es/submodules/sso-oidc/index.js","require":"./dist-cjs/submodules/sso-oidc/index.js"},"./sts":{"types":"./dist-types/submodules/sts/index.d.ts","module":"./dist-es/submodules/sts/index.js","node":"./dist-cjs/submodules/sts/index.js","import":"./dist-es/submodules/sts/index.js","require":"./dist-cjs/submodules/sts/index.js"}}}')}},t={};function n(r){var o=t[r];if(void 0!==o)return o.exports;var s=t[r]={exports:{}},i=!0;try{e[r].call(s.exports,s,s.exports,n),i=!1}finally{i&&delete t[r]}return s.exports}void 0!==n&&(n.ab=__dirname+"/");var r=n(9407);module.exports=r})();